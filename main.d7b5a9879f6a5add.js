var HR=Object.defineProperty,$R=Object.defineProperties,jR=Object.getOwnPropertyDescriptors,$A=Object.getOwnPropertySymbols,GR=Object.prototype.hasOwnProperty,WR=Object.prototype.propertyIsEnumerable,jA=(Ve,fe,x)=>fe in Ve?HR(Ve,fe,{enumerable:!0,configurable:!0,writable:!0,value:x}):Ve[fe]=x,at=(Ve,fe)=>{for(var x in fe||(fe={}))GR.call(fe,x)&&jA(Ve,x,fe[x]);if($A)for(var x of $A(fe))WR.call(fe,x)&&jA(Ve,x,fe[x]);return Ve},zi=(Ve,fe)=>$R(Ve,jR(fe));(self.webpackChunkSpace_Bang=self.webpackChunkSpace_Bang||[]).push([[179],{7905:(Ve,fe,x)=>{"use strict";x.d(fe,{hO:()=>Re,xv:()=>le,Dh:()=>re,GT:()=>he,cc:()=>we,on:()=>$,pX:()=>ie});var s=x(3668),K=x(7892),O=x(7233);Ve=x.hmd(Ve);const ae=["ngOnDestroy"],ie=(Y,se,be,ge={})=>new Proxy(Y,{get:(Be,Te)=>be.runOutsideAngular(()=>{var Le;if(Y[Te])return(null===(Le=null==ge?void 0:ge.spy)||void 0===Le?void 0:Le.get)&&ge.spy.get(Te,Y[Te]),Y[Te];if(ae.indexOf(Te)>-1)return()=>{};const He=se.toPromise().then(Xe=>{const ee=Xe&&Xe[Te];return"function"==typeof ee?ee.bind(Xe):ee&&ee.then?ee.then(ue=>be.run(()=>ue)):be.run(()=>ee)});return new Proxy(()=>{},{get:(Xe,ee)=>He[ee],apply:(Xe,ee,ue)=>He.then(pe=>{var me;const Se=pe&&pe(...ue);return(null===(me=null==ge?void 0:ge.spy)||void 0===me?void 0:me.apply)&&ge.spy.apply(Te,ue,Se),Se})})})}),he=(Y,se)=>{se.forEach(be=>{Object.getOwnPropertyNames(be.prototype||be).forEach(ge=>{Object.defineProperty(Y.prototype,ge,Object.getOwnPropertyDescriptor(be.prototype||be,ge))})})};class ne{constructor(se){return se}}const re=new s.OlP("angularfire2.app.options"),le=new s.OlP("angularfire2.app.name");function $(Y,se,be){const Be="object"==typeof be&&be||{};Be.name=Be.name||"string"==typeof be&&be||"[DEFAULT]";const Le=K.Z.apps.filter(He=>He&&He.name===Be.name)[0]||se.runOutsideAngular(()=>K.Z.initializeApp(Y,Be));try{JSON.stringify(Y)!==JSON.stringify(Le.options)&&H("error",`${Le.name} Firebase App already initialized with different options${Ve.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(He){}return new ne(Le)}const H=(Y,...se)=>{(0,s.X6Q)()&&"undefined"!=typeof console&&console[Y](...se)},Q={provide:ne,useFactory:$,deps:[re,s.R0b,[new s.FiY,le]]};let Re=(()=>{class Y{constructor(be){K.Z.registerVersion("angularfire",O.q4.full,"core"),K.Z.registerVersion("angularfire",O.q4.full,"app-compat"),K.Z.registerVersion("angular",s.q4F.full,be.toString())}static initializeApp(be,ge){return{ngModule:Y,providers:[{provide:re,useValue:be},{provide:le,useValue:ge}]}}}return Y.\u0275fac=function(be){return new(be||Y)(s.LFG(s.Lbi))},Y.\u0275mod=s.oAB({type:Y}),Y.\u0275inj=s.cJS({providers:[Q]}),Y})();function we(Y,se,be,ge,Be){const[,Te,Le]=globalThis.\u0275AngularfireInstanceCache.find(He=>He[0]===Y)||[];if(Te)return function(Y,se){try{return Y.toString()===se.toString()}catch(be){return Y===se}}(Be,Le)||(oe("error",`${se} was already initialized on the ${be} Firebase App with different settings.${Me?" You may need to reload as Firebase is not HMR aware.":""}`),oe("warn",{is:Be,was:Le})),Te;{const He=ge();return globalThis.\u0275AngularfireInstanceCache.push([Y,He,Be]),He}}const Me=!!Ve.hot,oe=(Y,...se)=>{(0,s.X6Q)()&&"undefined"!=typeof console&&console[Y](...se)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},7233:(Ve,fe,x)=>{"use strict";x.d(fe,{q4:()=>Zu,iC:()=>kr,HU:()=>$l,vb:()=>Bd,JM:()=>Yu});var s=x(3668),K=x(7713),O=x(8239),ae=x(1572),ie=x(4213),he=x(1177),ne=x(3855),re=x(4995);const le="@firebase/installations",$="0.5.4",Q=`w:${$}`,Re="FIS_v2",se=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function be(D){return D instanceof ie.ZR&&D.code.includes("request-failed")}function ge({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Be(D){return{token:D.token,requestStatus:2,expiresIn:pe(D.expiresIn),creationTime:Date.now()}}function Te(D,E){return Le.apply(this,arguments)}function Le(){return(Le=(0,O.Z)(function*(D,E){const L=(yield E.json()).error;return se.create("request-failed",{requestName:D,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function He({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function Xe(D,{refreshToken:E}){const M=He(D);return M.append("Authorization",function(D){return`${Re} ${D}`}(E)),M}function ee(D){return ue.apply(this,arguments)}function ue(){return(ue=(0,O.Z)(function*(D){const E=yield D();return E.status>=500&&E.status<600?D():E})).apply(this,arguments)}function pe(D){return Number(D.replace("s","000"))}function Se(D,E){return de.apply(this,arguments)}function de(){return(de=(0,O.Z)(function*(D,{fid:E}){const M=ge(D),z={method:"POST",headers:He(D),body:JSON.stringify({fid:E,authVersion:Re,appId:D.appId,sdkVersion:Q})},De=yield ee(()=>fetch(M,z));if(De.ok){const Ge=yield De.json();return{fid:Ge.fid||E,registrationStatus:2,refreshToken:Ge.refreshToken,authToken:Be(Ge.authToken)}}throw yield Te("Create Installation",De)})).apply(this,arguments)}function dt(D){return new Promise(E=>{setTimeout(E,D)})}const Dn=/^[cdef][\w-]{21}$/;function ot(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const M=function(D){return function(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Dn.test(M)?M:""}catch(D){return""}}function Yt(D){return`${D.appName}!${D.appId}`}const ri=new Map;function hi(D,E){const M=Yt(D);gn(M,E),function(D,E){const M=(!It&&"BroadcastChannel"in self&&(It=new BroadcastChannel("[Firebase] FID Change"),It.onmessage=D=>{gn(D.data.key,D.data.fid)}),It);M&&M.postMessage({key:D,fid:E}),0===ri.size&&It&&(It.close(),It=null)}(M,E)}function gn(D,E){const M=ri.get(D);if(M)for(const L of M)L(E)}let It=null;const Ee="firebase-installations-store";let Un=null;function Rn(){return Un||(Un=(0,re.openDb)("firebase-installations-database",1,D=>{0===D.oldVersion&&D.createObjectStore(Ee)})),Un}function tt(D,E){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,O.Z)(function*(D,E){const M=Yt(D),Z=(yield Rn()).transaction(Ee,"readwrite"),z=Z.objectStore(Ee),De=yield z.get(M);return yield z.put(E,M),yield Z.complete,(!De||De.fid!==E.fid)&&hi(D,E.fid),E})).apply(this,arguments)}function Yi(D){return fi.apply(this,arguments)}function fi(){return(fi=(0,O.Z)(function*(D){const E=Yt(D),L=(yield Rn()).transaction(Ee,"readwrite");yield L.objectStore(Ee).delete(E),yield L.complete})).apply(this,arguments)}function Ke(D,E){return nt.apply(this,arguments)}function nt(){return(nt=(0,O.Z)(function*(D,E){const M=Yt(D),Z=(yield Rn()).transaction(Ee,"readwrite"),z=Z.objectStore(Ee),De=yield z.get(M),Ge=E(De);return void 0===Ge?yield z.delete(M):yield z.put(Ge,M),yield Z.complete,Ge&&(!De||De.fid!==Ge.fid)&&hi(D,Ge.fid),Ge})).apply(this,arguments)}function yt(D){return vt.apply(this,arguments)}function vt(){return(vt=(0,O.Z)(function*(D){let E;const M=yield Ke(D,L=>{const Z=pi(L),z=kt(D,Z);return E=z.registrationPromise,z.installationEntry});return""===M.fid?{installationEntry:yield E}:{installationEntry:M,registrationPromise:E}})).apply(this,arguments)}function pi(D){return lt(D||{fid:ot(),registrationStatus:0})}function kt(D,E){if(0===E.registrationStatus){if(!navigator.onLine)return{installationEntry:E,registrationPromise:Promise.reject(se.create("app-offline"))};const M={fid:E.fid,registrationStatus:1,registrationTime:Date.now()},L=function(D,E){return Qe.apply(this,arguments)}(D,M);return{installationEntry:M,registrationPromise:L}}return 1===E.registrationStatus?{installationEntry:E,registrationPromise:Aa(D)}:{installationEntry:E}}function Qe(){return(Qe=(0,O.Z)(function*(D,E){try{return tt(D,yield Se(D,E))}catch(M){throw be(M)&&409===M.customData.serverCode?yield Yi(D):yield tt(D,{fid:E.fid,registrationStatus:0}),M}})).apply(this,arguments)}function Aa(D){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,O.Z)(function*(D){let E=yield Ot(D);for(;1===E.registrationStatus;)yield dt(100),E=yield Ot(D);if(0===E.registrationStatus){const{installationEntry:M,registrationPromise:L}=yield yt(D);return L||M}return E})).apply(this,arguments)}function Ot(D){return Ke(D,E=>{if(!E)throw se.create("installation-not-found");return lt(E)})}function lt(D){return function(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Dl(D,E){return G.apply(this,arguments)}function G(){return(G=(0,O.Z)(function*({appConfig:D,platformLoggerProvider:E},M){const L=B(D,M),Z=Xe(D,M),z=E.getImmediate({optional:!0});z&&Z.append("x-firebase-client",z.getPlatformInfoString());const Ge={method:"POST",headers:Z,body:JSON.stringify({installation:{sdkVersion:Q}})},Fe=yield ee(()=>fetch(L,Ge));if(Fe.ok)return Be(yield Fe.json());throw yield Te("Generate Auth Token",Fe)})).apply(this,arguments)}function B(D,{fid:E}){return`${ge(D)}/${E}/authTokens:generate`}function W(D){return ye.apply(this,arguments)}function ye(){return(ye=(0,O.Z)(function*(D,E=!1){let M;const L=yield Ke(D.appConfig,z=>{if(!fn(z))throw se.create("not-registered");const De=z.authToken;if(!E&&Ii(De))return z;if(1===De.requestStatus)return M=te(D,E),z;{if(!navigator.onLine)throw se.create("app-offline");const Ge=Yn(z);return M=Pt(D,Ge),Ge}});return M?yield M:L.authToken})).apply(this,arguments)}function te(D,E){return $e.apply(this,arguments)}function $e(){return($e=(0,O.Z)(function*(D,E){let M=yield et(D.appConfig);for(;1===M.authToken.requestStatus;)yield dt(100),M=yield et(D.appConfig);const L=M.authToken;return 0===L.requestStatus?W(D,E):L})).apply(this,arguments)}function et(D){return Ke(D,E=>{if(!fn(E))throw se.create("not-registered");return function(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(E.authToken)?Object.assign(Object.assign({},E),{authToken:{requestStatus:0}}):E})}function Pt(D,E){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,O.Z)(function*(D,E){try{const M=yield Dl(D,E),L=Object.assign(Object.assign({},E),{authToken:M});return yield tt(D.appConfig,L),M}catch(M){if(!be(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const L=Object.assign(Object.assign({},E),{authToken:{requestStatus:0}});yield tt(D.appConfig,L)}else yield Yi(D.appConfig);throw M}})).apply(this,arguments)}function fn(D){return void 0!==D&&2===D.registrationStatus}function Ii(D){return 2===D.requestStatus&&!function(D){const E=Date.now();return E<D.creationTime||D.creationTime+D.expiresIn<E+36e5}(D)}function Yn(D){const E={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:E})}function Go(){return(Go=(0,O.Z)(function*(D){const E=D,{installationEntry:M,registrationPromise:L}=yield yt(E.appConfig);return L?L.catch(console.error):W(E).catch(console.error),M.fid})).apply(this,arguments)}function po(){return(po=(0,O.Z)(function*(D,E=!1){const M=D;return yield El(M.appConfig),(yield W(M,E)).token})).apply(this,arguments)}function El(D){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,O.Z)(function*(D){const{registrationPromise:E}=yield yt(D);E&&(yield E)})).apply(this,arguments)}function Ji(D){return se.create("missing-app-config-values",{valueName:D})}const kn="installations";(0,ae._registerComponent)(new he.wA(kn,D=>{const E=D.getProvider("app").getImmediate(),M=function(D){if(!D||!D.options)throw Ji("App Configuration");if(!D.name)throw Ji("App Name");const E=["projectId","apiKey","appId"];for(const M of E)if(!D.options[M])throw Ji(M);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(E);return{app:E,appConfig:M,platformLoggerProvider:(0,ae._getProvider)(E,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ae._registerComponent)(new he.wA("installations-internal",D=>{const E=D.getProvider("app").getImmediate(),M=(0,ae._getProvider)(E,kn).getImmediate();return{getId:()=>function(D){return Go.apply(this,arguments)}(M),getToken:Z=>function(D){return po.apply(this,arguments)}(M,Z)}},"PRIVATE")),(0,ae.registerVersion)(le,$),(0,ae.registerVersion)(le,$,"esm2017");const it="@firebase/remote-config",Vt=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Qi{constructor(E,M,L,Z){this.client=E,this.storage=M,this.storageCache=L,this.logger=Z}isCachedDataFresh(E,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-M,Z=L<=E;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${E}. Is cache hit: ${Z}.`),Z}fetch(E){var M=this;return(0,O.Z)(function*(){const[L,Z]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(Z&&M.isCachedDataFresh(E.cacheMaxAgeMillis,L))return Z;E.eTag=Z&&Z.eTag;const z=yield M.client.fetch(E),De=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===z.status&&De.push(M.storage.setLastSuccessfulFetchResponse(z)),yield Promise.all(De),z})()}}function of(D=navigator){return D.languages&&D.languages[0]||D.language}class Xi{constructor(E,M,L,Z,z,De){this.firebaseInstallations=E,this.sdkVersion=M,this.namespace=L,this.projectId=Z,this.apiKey=z,this.appId=De}fetch(E){var M=this;return(0,O.Z)(function*(){const[L,Z]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),De=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Ge={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":E.eTag||"*"},Fe={sdk_version:M.sdkVersion,app_instance_id:L,app_instance_id_token:Z,app_id:M.appId,language_code:of()},wt={method:"POST",headers:Ge,body:JSON.stringify(Fe)},Bt=fetch(De,wt),bi=new Promise((vr,xr)=>{E.signal.addEventListener(()=>{const Ro=new Error("The operation was aborted.");Ro.name="AbortError",xr(Ro)})});let wi;try{yield Promise.race([Bt,bi]),wi=yield Bt}catch(vr){let xr="fetch-client-network";throw"AbortError"===vr.name&&(xr="fetch-timeout"),Vt.create(xr,{originalErrorMessage:vr.message})}let an=wi.status;const Qn=wi.headers.get("ETag")||void 0;let Mo,Mi;if(200===wi.status){let vr;try{vr=yield wi.json()}catch(xr){throw Vt.create("fetch-client-parse",{originalErrorMessage:xr.message})}Mo=vr.entries,Mi=vr.state}if("INSTANCE_STATE_UNSPECIFIED"===Mi?an=500:"NO_CHANGE"===Mi?an=304:("NO_TEMPLATE"===Mi||"EMPTY_CONFIG"===Mi)&&(Mo={}),304!==an&&200!==an)throw Vt.create("fetch-status",{httpStatus:an});return{status:an,eTag:Qn,config:Mo}})()}}class Mu{constructor(E,M){this.client=E,this.storage=M}fetch(E){var M=this;return(0,O.Z)(function*(){const L=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(E,L)})()}attemptFetch(E,{throttleEndTimeMillis:M,backoffCount:L}){var Z=this;return(0,O.Z)(function*(){yield function(D,E){return new Promise((M,L)=>{const Z=Math.max(E-Date.now(),0),z=setTimeout(M,Z);D.addEventListener(()=>{clearTimeout(z),L(Vt.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}(E.signal,M);try{const z=yield Z.client.fetch(E);return yield Z.storage.deleteThrottleMetadata(),z}catch(z){if(!function(D){if(!(D instanceof ie.ZR&&D.customData))return!1;const E=Number(D.customData.httpStatus);return 429===E||500===E||503===E||504===E}(z))throw z;const De={throttleEndTimeMillis:Date.now()+(0,ie.$s)(L),backoffCount:L+1};return yield Z.storage.setThrottleMetadata(De),Z.attemptFetch(E,De)}})()}}class sf{constructor(E,M,L,Z,z){this.app=E,this._client=M,this._storageCache=L,this._storage=Z,this._logger=z,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ds(D,E){const M=D.target.error||void 0;return Vt.create(E,{originalErrorMessage:M&&M.message})}const zo="app_namespace_store";class af{constructor(E,M,L,Z=function(){return new Promise((D,E)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=L=>{E(Ds(L,"storage-open"))},M.onsuccess=L=>{D(L.target.result)},M.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(zo,{keyPath:"compositeKey"})}}catch(M){E(Vt.create("storage-open",{originalErrorMessage:M}))}})}()){this.appId=E,this.appName=M,this.namespace=L,this.openDbPromise=Z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(E){return this.set("last_fetch_status",E)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(E){return this.set("last_successful_fetch_timestamp_millis",E)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(E){return this.set("last_successful_fetch_response",E)}getActiveConfig(){return this.get("active_config")}setActiveConfig(E){return this.set("active_config",E)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(E){return this.set("active_config_etag",E)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(E){return this.set("throttle_metadata",E)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(E){var M=this;return(0,O.Z)(function*(){const L=yield M.openDbPromise;return new Promise((Z,z)=>{const Ge=L.transaction([zo],"readonly").objectStore(zo),Fe=M.createCompositeKey(E);try{const wt=Ge.get(Fe);wt.onerror=Bt=>{z(Ds(Bt,"storage-get"))},wt.onsuccess=Bt=>{const bi=Bt.target.result;Z(bi?bi.value:void 0)}}catch(wt){z(Vt.create("storage-get",{originalErrorMessage:wt&&wt.message}))}})})()}set(E,M){var L=this;return(0,O.Z)(function*(){const Z=yield L.openDbPromise;return new Promise((z,De)=>{const Fe=Z.transaction([zo],"readwrite").objectStore(zo),wt=L.createCompositeKey(E);try{const Bt=Fe.put({compositeKey:wt,value:M});Bt.onerror=bi=>{De(Ds(bi,"storage-set"))},Bt.onsuccess=()=>{z()}}catch(Bt){De(Vt.create("storage-set",{originalErrorMessage:Bt&&Bt.message}))}})})()}delete(E){var M=this;return(0,O.Z)(function*(){const L=yield M.openDbPromise;return new Promise((Z,z)=>{const Ge=L.transaction([zo],"readwrite").objectStore(zo),Fe=M.createCompositeKey(E);try{const wt=Ge.delete(Fe);wt.onerror=Bt=>{z(Ds(Bt,"storage-delete"))},wt.onsuccess=()=>{Z()}}catch(wt){z(Vt.create("storage-delete",{originalErrorMessage:wt&&wt.message}))}})})()}createCompositeKey(E){return[this.appId,this.appName,this.namespace,E].join()}}class Ou{constructor(E){this.storage=E}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var E=this;return(0,O.Z)(function*(){const M=E.storage.getLastFetchStatus(),L=E.storage.getLastSuccessfulFetchTimestampMillis(),Z=E.storage.getActiveConfig(),z=yield M;z&&(E.lastFetchStatus=z);const De=yield L;De&&(E.lastSuccessfulFetchTimestampMillis=De);const Ge=yield Z;Ge&&(E.activeConfig=Ge)})()}setLastFetchStatus(E){return this.lastFetchStatus=E,this.storage.setLastFetchStatus(E)}setLastSuccessfulFetchTimestampMillis(E){return this.lastSuccessfulFetchTimestampMillis=E,this.storage.setLastSuccessfulFetchTimestampMillis(E)}setActiveConfig(E){return this.activeConfig=E,this.storage.setActiveConfig(E)}}function Es(){return Al.apply(this,arguments)}function Al(){return(Al=(0,O.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch(D){return!1}})).apply(this,arguments)}(0,ae._registerComponent)(new he.wA("remote-config",function(E,{instanceIdentifier:M}){const L=E.getProvider("app").getImmediate(),Z=E.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Vt.create("registration-window");if(!(0,ie.hl)())throw Vt.create("indexed-db-unavailable");const{projectId:z,apiKey:De,appId:Ge}=L.options;if(!z)throw Vt.create("registration-project-id");if(!De)throw Vt.create("registration-api-key");if(!Ge)throw Vt.create("registration-app-id");const Fe=new af(Ge,L.name,M=M||"firebase"),wt=new Ou(Fe),Bt=new ne.Yd(it);Bt.logLevel=ne.in.ERROR;const bi=new Xi(Z,ae.SDK_VERSION,M,z,De,Ge),wi=new Mu(bi,Fe),an=new Qi(wi,Fe,wt,Bt),Qn=new sf(L,an,wt,Fe,Bt);return function(D){const E=(0,ie.m9)(D);E._initializePromise||(E._initializePromise=E._storageCache.loadFromStorage().then(()=>{E._isInitializationComplete=!0}))}(Qn),Qn},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(it,"0.3.3"),(0,ae.registerVersion)(it,"0.3.3","esm2017");const Pu="/firebase-messaging-sw.js",Cd="/firebase-cloud-messaging-push-scope",hr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Gr="google.c.a.c_id",Zo="google.c.a.c_l",Wr="google.c.a.ts",ai="google.c.a.e";var Jn=(()=>{return(D=Jn||(Jn={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Jn;var D})();function Ir(D){const E=new Uint8Array(D);return btoa(String.fromCharCode(...E)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ts(D){const M=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(M),Z=new Uint8Array(L.length);for(let z=0;z<L.length;++z)Z[z]=L.charCodeAt(z);return Z}const Nl="fcm_token_details_db",Lu="fcm_token_object_Store";function Ml(D){return ka.apply(this,arguments)}function ka(){return ka=(0,O.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(z=>z.name).includes(Nl))return null;let E=null;return(yield(0,re.openDb)(Nl,5,function(){var L=(0,O.Z)(function*(Z){var z;if(Z.oldVersion<2||!Z.objectStoreNames.contains(Lu))return;const De=Z.transaction.objectStore(Lu),Ge=yield De.index("fcmSenderId").get(D);if(yield De.clear(),Ge)if(2===Z.oldVersion){const Fe=Ge;if(!Fe.auth||!Fe.p256dh||!Fe.endpoint)return;E={token:Fe.fcmToken,createTime:null!==(z=Fe.createTime)&&void 0!==z?z:Date.now(),subscriptionOptions:{auth:Fe.auth,p256dh:Fe.p256dh,endpoint:Fe.endpoint,swScope:Fe.swScope,vapidKey:"string"==typeof Fe.vapidKey?Fe.vapidKey:Ir(Fe.vapidKey)}}}else if(3===Z.oldVersion){const Fe=Ge;E={token:Fe.fcmToken,createTime:Fe.createTime,subscriptionOptions:{auth:Ir(Fe.auth),p256dh:Ir(Fe.p256dh),endpoint:Fe.endpoint,swScope:Fe.swScope,vapidKey:Ir(Fe.vapidKey)}}}else if(4===Z.oldVersion){const Fe=Ge;E={token:Fe.fcmToken,createTime:Fe.createTime,subscriptionOptions:{auth:Ir(Fe.auth),p256dh:Ir(Fe.p256dh),endpoint:Fe.endpoint,swScope:Fe.swScope,vapidKey:Ir(Fe.vapidKey)}}}});return function(Z){return L.apply(this,arguments)}}())).close(),yield(0,re.deleteDb)(Nl),yield(0,re.deleteDb)("fcm_vapid_details_db"),yield(0,re.deleteDb)("undefined"),Dd(E)?E:null}),ka.apply(this,arguments)}function Dd(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:E}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof E.auth&&E.auth.length>0&&"string"==typeof E.p256dh&&E.p256dh.length>0&&"string"==typeof E.endpoint&&E.endpoint.length>0&&"string"==typeof E.swScope&&E.swScope.length>0&&"string"==typeof E.vapidKey&&E.vapidKey.length>0}const Ht="firebase-messaging-store";let Rl=null;function _o(){return Rl||(Rl=(0,re.openDb)("firebase-messaging-database",1,D=>{0===D.oldVersion&&D.createObjectStore(Ht)})),Rl}function En(D){return yo.apply(this,arguments)}function yo(){return(yo=(0,O.Z)(function*(D){const E=vo(D),L=yield(yield _o()).transaction(Ht).objectStore(Ht).get(E);if(L)return L;{const Z=yield Ml(D.appConfig.senderId);if(Z)return yield _i(D,Z),Z}})).apply(this,arguments)}function _i(D,E){return er.apply(this,arguments)}function er(){return(er=(0,O.Z)(function*(D,E){const M=vo(D),Z=(yield _o()).transaction(Ht,"readwrite");return yield Z.objectStore(Ht).put(E,M),yield Z.complete,E})).apply(this,arguments)}function Tn(D){return xa.apply(this,arguments)}function xa(){return(xa=(0,O.Z)(function*(D){const E=vo(D),L=(yield _o()).transaction(Ht,"readwrite");yield L.objectStore(Ht).delete(E),yield L.complete})).apply(this,arguments)}function vo({appConfig:D}){return D.appId}const Ft=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ar(D,E){return As.apply(this,arguments)}function As(){return(As=(0,O.Z)(function*(D,E){const M=yield Oa(D),L=Yo(E),Z={method:"POST",headers:M,body:JSON.stringify(L)};let z;try{z=yield(yield fetch(ze(D.appConfig),Z)).json()}catch(De){throw Ft.create("token-subscribe-failed",{errorInfo:De})}if(z.error)throw Ft.create("token-subscribe-failed",{errorInfo:z.error.message});if(!z.token)throw Ft.create("token-subscribe-no-token");return z.token})).apply(this,arguments)}function wo(D,E){return yi.apply(this,arguments)}function yi(){return(yi=(0,O.Z)(function*(D,E){const M=yield Oa(D),L=Yo(E.subscriptionOptions),Z={method:"PATCH",headers:M,body:JSON.stringify(L)};let z;try{z=yield(yield fetch(`${ze(D.appConfig)}/${E.token}`,Z)).json()}catch(De){throw Ft.create("token-update-failed",{errorInfo:De})}if(z.error)throw Ft.create("token-update-failed",{errorInfo:z.error.message});if(!z.token)throw Ft.create("token-update-no-token");return z.token})).apply(this,arguments)}function Ss(D,E){return zr.apply(this,arguments)}function zr(){return(zr=(0,O.Z)(function*(D,E){const L={method:"DELETE",headers:yield Oa(D)};try{const z=yield(yield fetch(`${ze(D.appConfig)}/${E}`,L)).json();if(z.error)throw Ft.create("token-unsubscribe-failed",{errorInfo:z.error.message})}catch(Z){throw Ft.create("token-unsubscribe-failed",{errorInfo:Z})}})).apply(this,arguments)}function ze({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Oa(D){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,O.Z)(function*({appConfig:D,installations:E}){const M=yield E.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function Yo({p256dh:D,auth:E,endpoint:M,vapidKey:L}){const Z={web:{endpoint:M,auth:E,p256dh:D}};return L!==hr&&(Z.web.applicationPubKey=L),Z}const Ms=6048e5;function Pa(D){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,O.Z)(function*(D){const E=yield Zr(D.swRegistration,D.vapidKey),M={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:E.endpoint,auth:Ir(E.getKey("auth")),p256dh:Ir(E.getKey("p256dh"))},L=yield En(D.firebaseDependencies);if(L){if(La(L.subscriptionOptions,M))return Date.now()>=L.createTime+Ms?bt(D,{token:L.token,createTime:Date.now(),subscriptionOptions:M}):L.token;try{yield Ss(D.firebaseDependencies,L.token)}catch(Z){console.warn(Z)}return rn(D.firebaseDependencies,M)}return rn(D.firebaseDependencies,M)})).apply(this,arguments)}function Bu(D){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,O.Z)(function*(D){const E=yield En(D.firebaseDependencies);E&&(yield Ss(D.firebaseDependencies,E.token),yield Tn(D.firebaseDependencies));const M=yield D.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function bt(D,E){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,O.Z)(function*(D,E){try{const M=yield wo(D.firebaseDependencies,E),L=Object.assign(Object.assign({},E),{token:M,createTime:Date.now()});return yield _i(D.firebaseDependencies,L),M}catch(M){throw yield Bu(D),M}})).apply(this,arguments)}function rn(D,E){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,O.Z)(function*(D,E){const L={token:yield Ar(D,E),createTime:Date.now(),subscriptionOptions:E};return yield _i(D,L),L.token})).apply(this,arguments)}function Zr(D,E){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,O.Z)(function*(D,E){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ts(E)})})).apply(this,arguments)}function La(D,E){return E.vapidKey===D.vapidKey&&E.endpoint===D.endpoint&&E.auth===D.auth&&E.p256dh===D.p256dh}function Co(D){const E={from:D.from,collapseKey:D.collapse_key,messageId:D.fcm_message_id};return function(D,E){if(!E.notification)return;D.notification={};const M=E.notification.title;M&&(D.notification.title=M);const L=E.notification.body;L&&(D.notification.body=L);const Z=E.notification.image;Z&&(D.notification.image=Z)}(E,D),function(D,E){!E.data||(D.data=E.data)}(E,D),function(D,E){if(!E.fcmOptions)return;D.fcmOptions={};const M=E.fcmOptions.link;M&&(D.fcmOptions.link=M);const L=E.fcmOptions.analytics_label;L&&(D.fcmOptions.analyticsLabel=L)}(E,D),E}function Do(D){return"object"==typeof D&&!!D&&Gr in D}function Hn(D,E){const M=[];for(let L=0;L<D.length;L++)M.push(D.charAt(L)),L<E.length&&M.push(E.charAt(L));return M.join("")}function xs(D){return Ft.create("missing-app-config-values",{valueName:D})}Hn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Hn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Yr{constructor(E,M,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Z=function(D){if(!D||!D.options)throw xs("App Configuration Object");if(!D.name)throw xs("App Name");const E=["projectId","apiKey","appId","messagingSenderId"],{options:M}=D;for(const L of E)if(!M[L])throw xs(L);return{appName:D.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(E);this.firebaseDependencies={app:E,appConfig:Z,installations:M,analyticsProvider:L}}_delete(){return Promise.resolve()}}function fr(D){return Os.apply(this,arguments)}function Os(){return(Os=(0,O.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Pu,{scope:Cd}),D.swRegistration.update().catch(()=>{})}catch(E){throw Ft.create("failed-service-worker-registration",{browserErrorMessage:E.message})}})).apply(this,arguments)}function Ps(D,E){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,O.Z)(function*(D,E){if(!E&&!D.swRegistration&&(yield fr(D)),E||!D.swRegistration){if(!(E instanceof ServiceWorkerRegistration))throw Ft.create("invalid-sw-registration");D.swRegistration=E}})).apply(this,arguments)}function Ba(D,E){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,O.Z)(function*(D,E){E?D.vapidKey=E:D.vapidKey||(D.vapidKey=hr)})).apply(this,arguments)}function Va(){return(Va=(0,O.Z)(function*(D,E){if(!navigator)throw Ft.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ft.create("permission-blocked");return yield Ba(D,null==E?void 0:E.vapidKey),yield Ps(D,null==E?void 0:E.serviceWorkerRegistration),Pa(D)})).apply(this,arguments)}function Bs(D,E,M){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,O.Z)(function*(D,E,M){const L=Ua(E);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:M[Gr],message_name:M[Zo],message_time:M[Wr],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ua(D){switch(D){case Jn.NOTIFICATION_CLICKED:return"notification_open";case Jn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Vs(){return(Vs=(0,O.Z)(function*(D,E){const M=E.data;if(!M.isFirebaseMessaging)return;D.onMessageHandler&&M.messageType===Jn.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Co(M)):D.onMessageHandler.next(Co(M)));const L=M.data;Do(L)&&"1"===L[ai]&&(yield Bs(D,M.messageType,L))})).apply(this,arguments)}const Ol="@firebase/messaging";function Pl(){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,O.Z)(function*(){return"undefined"!=typeof window&&(0,ie.hl)()&&(yield(0,ie.eu)())&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ae._registerComponent)(new he.wA("messaging",D=>{const E=new Yr(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function(D,E){return Vs.apply(this,arguments)}(E,M)),E},"PUBLIC")),(0,ae._registerComponent)(new he.wA("messaging-internal",D=>{const E=D.getProvider("messaging").getImmediate();return{getToken:L=>function(D,E){return Va.apply(this,arguments)}(E,L)}},"PRIVATE")),(0,ae.registerVersion)(Ol,"0.9.4"),(0,ae.registerVersion)(Ol,"0.9.4","esm2017");const Jr="analytics",$a="firebase_id",Fl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ju="https://www.googletagmanager.com/gtag/js",en=new ne.Yd("@firebase/analytics");function Gs(D){return Promise.all(D.map(E=>E.catch(M=>M)))}function df(D,E){const M=document.createElement("script");M.src=`${ju}?l=${D}&id=${E}`,M.async=!0,document.head.appendChild(M)}function Jo(D,E,M,L,Z,z){return ja.apply(this,arguments)}function ja(){return(ja=(0,O.Z)(function*(D,E,M,L,Z,z){const De=L[Z];try{if(De)yield E[De];else{const Fe=(yield Gs(M)).find(wt=>wt.measurementId===Z);Fe&&(yield E[Fe.appId])}}catch(Ge){en.error(Ge)}D("config",Z,z)})).apply(this,arguments)}function Eo(D,E,M,L,Z){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,O.Z)(function*(D,E,M,L,Z){try{let z=[];if(Z&&Z.send_to){let De=Z.send_to;Array.isArray(De)||(De=[De]);const Ge=yield Gs(M);for(const Fe of De){const wt=Ge.find(bi=>bi.measurementId===Fe),Bt=wt&&E[wt.appId];if(!Bt){z=[];break}z.push(Bt)}}0===z.length&&(z=Object.values(E)),yield Promise.all(z),D("event",L,Z||{})}catch(z){en.error(z)}})).apply(this,arguments)}function yn(){const D=window.document.getElementsByTagName("script");for(const E of Object.values(D))if(E.src&&E.src.includes(ju))return E;return null}const je=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ko=new class{constructor(E={},M=1e3){this.throttleMetadata=E,this.intervalMillis=M}getThrottleMetadata(E){return this.throttleMetadata[E]}setThrottleMetadata(E,M){this.throttleMetadata[E]=M}deleteThrottleMetadata(E){delete this.throttleMetadata[E]}};function hf(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Ws(D){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,O.Z)(function*(D){var E;const{appId:M,apiKey:L}=D,Z={method:"GET",headers:hf(L)},z=Fl.replace("{app-id}",M),De=yield fetch(z,Z);if(200!==De.status&&304!==De.status){let Ge="";try{const Fe=yield De.json();(null===(E=Fe.error)||void 0===E?void 0:E.message)&&(Ge=Fe.error.message)}catch(Fe){}throw je.create("config-fetch-failed",{httpStatus:De.status,responseMessage:Ge})}return De.json()})).apply(this,arguments)}function To(D){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,O.Z)(function*(D,E=Ko,M){const{appId:L,apiKey:Z,measurementId:z}=D.options;if(!L)throw je.create("no-app-id");if(!Z){if(z)return{measurementId:z,appId:L};throw je.create("no-api-key")}const De=E.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ge=new Io;return setTimeout((0,O.Z)(function*(){Ge.abort()}),void 0!==M?M:6e4),pr({appId:L,apiKey:Z,measurementId:z},De,Ge,E)})).apply(this,arguments)}function pr(D,E,M){return rt.apply(this,arguments)}function rt(){return(rt=(0,O.Z)(function*(D,{throttleEndTimeMillis:E,backoffCount:M},L,Z=Ko){const{appId:z,measurementId:De}=D;try{yield Nd(L,E)}catch(Ge){if(De)return en.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${De} provided in the "measurementId" field in the local Firebase config. [${Ge.message}]`),{appId:z,measurementId:De};throw Ge}try{const Ge=yield Ws(D);return Z.deleteThrottleMetadata(z),Ge}catch(Ge){if(!Md(Ge)){if(Z.deleteThrottleMetadata(z),De)return en.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${De} provided in the "measurementId" field in the local Firebase config. [${Ge.message}]`),{appId:z,measurementId:De};throw Ge}const Fe=503===Number(Ge.customData.httpStatus)?(0,ie.$s)(M,Z.intervalMillis,30):(0,ie.$s)(M,Z.intervalMillis),wt={throttleEndTimeMillis:Date.now()+Fe,backoffCount:M+1};return Z.setThrottleMetadata(z,wt),en.debug(`Calling attemptFetch again in ${Fe} millis`),pr(D,wt,L,Z)}})).apply(this,arguments)}function Nd(D,E){return new Promise((M,L)=>{const Z=Math.max(E-Date.now(),0),z=setTimeout(M,Z);D.addEventListener(()=>{clearTimeout(z),L(je.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}function Md(D){if(!(D instanceof ie.ZR&&D.customData))return!1;const E=Number(D.customData.httpStatus);return 429===E||500===E||503===E||504===E}class Io{constructor(){this.listeners=[]}addEventListener(E){this.listeners.push(E)}abort(){this.listeners.forEach(E=>E())}}function Qo(){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,O.Z)(function*(){if(!(0,ie.hl)())return en.warn(je.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(D){return en.warn(je.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function nr(){return(nr=(0,O.Z)(function*(D,E,M,L,Z,z,De){var Ge;const Fe=To(D);Fe.then(an=>{M[an.measurementId]=an.appId,D.options.measurementId&&an.measurementId!==D.options.measurementId&&en.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${an.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(an=>en.error(an)),E.push(Fe);const wt=Qo().then(an=>{if(an)return L.getId()}),[Bt,bi]=yield Promise.all([Fe,wt]);yn()||df(z,Bt.measurementId),Z("js",new Date);const wi=null!==(Ge=null==De?void 0:De.config)&&void 0!==Ge?Ge:{};return wi.origin="firebase",wi.update=!0,null!=bi&&(wi[$a]=bi),Z("config",Bt.measurementId,wi),Bt.measurementId})).apply(this,arguments)}class Gu{constructor(E){this.app=E}_delete(){return delete ir[this.app.options.appId],Promise.resolve()}}let ir={},Ll=[];const Xo={};let Zs,sn,Ao="dataLayer",Qr=!1;function $n(D,E,M){!function(){const D=[];if((0,ie.ru)()&&D.push("This is a browser extension environment."),(0,ie.zI)()||D.push("Cookies are not available."),D.length>0){const E=D.map((L,Z)=>`(${Z+1}) ${L}`).join(" "),M=je.create("invalid-analytics-context",{errorInfo:E});en.warn(M.message)}}();const L=D.options.appId;if(!L)throw je.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw je.create("no-api-key");en.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ir[L])throw je.create("already-exists",{id:L});if(!Qr){!function(D){let E=[];Array.isArray(window[D])?E=window[D]:window[D]=E}(Ao);const{wrappedGtag:z,gtagCore:De}=function(D,E,M,L,Z){let z=function(...De){window[L].push(arguments)};return window[Z]&&"function"==typeof window[Z]&&(z=window[Z]),window[Z]=function(D,E,M,L){function z(){return(z=(0,O.Z)(function*(De,Ge,Fe){try{"event"===De?yield Eo(D,E,M,Ge,Fe):"config"===De?yield Jo(D,E,M,L,Ge,Fe):D("set",Ge)}catch(wt){en.error(wt)}})).apply(this,arguments)}return function(De,Ge,Fe){return z.apply(this,arguments)}}(z,D,E,M),{gtagCore:z,wrappedGtag:window[Z]}}(ir,Ll,Xo,Ao,"gtag");sn=z,Zs=De,Qr=!0}return ir[L]=function(D,E,M,L,Z,z,De){return nr.apply(this,arguments)}(D,Ll,Xo,E,Zs,Ao,M),new Gu(D)}function Za(){return(Za=(0,O.Z)(function*(D,E,M,L,Z){if(Z&&Z.global)D("event",M,L);else{const z=yield E;D("event",M,Object.assign(Object.assign({},L),{send_to:z}))}})).apply(this,arguments)}function Zt(){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,O.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch(D){return!1}})).apply(this,arguments)}const Wu="@firebase/analytics";(0,ae._registerComponent)(new he.wA(Jr,(E,{options:M})=>$n(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,ae._registerComponent)(new he.wA("analytics-internal",function(E){try{const M=E.getProvider(Jr).getImmediate();return{logEvent:(L,Z,z)=>function(D,E,M,L){D=(0,ie.m9)(D),function(D,E,M,L,Z){return Za.apply(this,arguments)}(sn,ir[D.app.options.appId],E,M,L).catch(Z=>en.error(Z))}(M,L,Z,z)}}catch(M){throw je.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,ae.registerVersion)(Wu,"0.7.4"),(0,ae.registerVersion)(Wu,"0.7.4","esm2017");var pn=x(2869),qs=x(8843);const Od=new class extends qs.v{}(class extends pn.o{constructor(E,M){super(E,M),this.scheduler=E,this.work=M}schedule(E,M=0){return M>0?super.schedule(E,M):(this.delay=M,this.state=E,this.scheduler.flush(this),this)}execute(E,M){return M>0||this.closed?super.execute(E,M):this._execute(E,M)}requestAsyncId(E,M,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(E,M,L):E.flush(this)}});var mr=x(2210),Bl=x(7384),es=x(5222),ts=x(4763);const Zu=new s.GfV("7.2.0"),Vl="__angularfire_symbol__analyticsIsSupported",Ul="__angularfire_symbol__remoteConfigIsSupported",li="__angularfire_symbol__messagingIsSupported";function Yu(D,E,M){if(E){if(1===E.length)return E[0];const z=E.filter(De=>De.app===M);if(1===z.length)return z[0]}return M.container.getProvider(D).getImmediate({optional:!0})}globalThis[Vl]||(globalThis[Vl]=Zt().then(D=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=D)),globalThis[li]||(globalThis[li]=Pl().then(D=>globalThis.__angularfire_symbol__messagingIsSupportedValue=D)),globalThis[Ul]||(globalThis[Ul]=Es().then(D=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=D));const Bd=(D,E)=>{const M=E?[E]:(0,K.C6)(),L=[];return M.forEach(Z=>{Z.container.getProvider(D).instances.forEach(De=>{L.includes(De)||L.push(De)})}),L};function ui(){}class Hl{constructor(E,M=Od){this.zone=E,this.delegate=M}now(){return this.delegate.now()}schedule(E,M,L){const Z=this.zone;return this.delegate.schedule(function(De){Z.runGuarded(()=>{E.apply(this,[De])})},M,L)}}class qa{constructor(E){this.zone=E,this.task=null}call(E,M){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ui,{},ui,ui)),M.pipe((0,Bl.b)({next:L,complete:L,error:L})).subscribe(E).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let $l=(()=>{class D{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Hl(Zone.current)),this.insideAngular=M.run(()=>new Hl(Zone.current,mr.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(M){return new(M||D)(s.LFG(s.R0b))},D.\u0275prov=s.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function yr(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function kr(D){return yr(),function(D){return function(M){return(M=M.lift(new qa(D.ngZone))).pipe((0,es.R)(D.outsideAngular),(0,ts.Q)(D.insideAngular))}}(yr())(D)}},4213:(Ve,fe,x)=>{"use strict";x.d(fe,{BH:()=>Re,LL:()=>de,ZR:()=>Se,gQ:()=>Ee,zI:()=>ue,hu:()=>K,g5:()=>O,US:()=>he,tV:()=>le,h$:()=>ne,$s:()=>Ot,r3:()=>qt,Sg:()=>we,ne:()=>Un,p$:()=>$,vZ:()=>It,ZB:()=>H,gK:()=>Ke,pd:()=>ur,m9:()=>Dl,z$:()=>ke,GJ:()=>hi,jU:()=>Y,ru:()=>se,xb:()=>gn,w1:()=>Be,hl:()=>Xe,uI:()=>Me,UG:()=>oe,Yr:()=>Le,b$:()=>be,w9:()=>ri,cI:()=>Dn,UI:()=>ki,xO:()=>jo,zd:()=>Zi,DV:()=>$o,ug:()=>kt,dS:()=>pi,Pz:()=>ut,Dv:()=>fi,Wj:()=>yt,lb:()=>vt,eu:()=>ee});const K=function(G,B){if(!G)throw O(B)},O=function(G){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+G)},ae=function(G){const B=[];let W=0;for(let ye=0;ye<G.length;ye++){let te=G.charCodeAt(ye);te<128?B[W++]=te:te<2048?(B[W++]=te>>6|192,B[W++]=63&te|128):55296==(64512&te)&&ye+1<G.length&&56320==(64512&G.charCodeAt(ye+1))?(te=65536+((1023&te)<<10)+(1023&G.charCodeAt(++ye)),B[W++]=te>>18|240,B[W++]=te>>12&63|128,B[W++]=te>>6&63|128,B[W++]=63&te|128):(B[W++]=te>>12|224,B[W++]=te>>6&63|128,B[W++]=63&te|128)}return B},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,B){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,ye=[];for(let te=0;te<G.length;te+=3){const $e=G[te],et=te+1<G.length,Pt=et?G[te+1]:0,Zn=te+2<G.length,fn=Zn?G[te+2]:0;let Yn=(15&Pt)<<2|fn>>6,fo=63&fn;Zn||(fo=64,et||(Yn=64)),ye.push(W[$e>>2],W[(3&$e)<<4|Pt>>4],W[Yn],W[fo])}return ye.join("")},encodeString(G,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(G):this.encodeByteArray(ae(G),B)},decodeString(G,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(G):function(G){const B=[];let W=0,ye=0;for(;W<G.length;){const te=G[W++];if(te<128)B[ye++]=String.fromCharCode(te);else if(te>191&&te<224){const $e=G[W++];B[ye++]=String.fromCharCode((31&te)<<6|63&$e)}else if(te>239&&te<365){const Zn=((7&te)<<18|(63&G[W++])<<12|(63&G[W++])<<6|63&G[W++])-65536;B[ye++]=String.fromCharCode(55296+(Zn>>10)),B[ye++]=String.fromCharCode(56320+(1023&Zn))}else{const $e=G[W++],et=G[W++];B[ye++]=String.fromCharCode((15&te)<<12|(63&$e)<<6|63&et)}}return B.join("")}(this.decodeStringToByteArray(G,B))},decodeStringToByteArray(G,B){this.init_();const W=B?this.charToByteMapWebSafe_:this.charToByteMap_,ye=[];for(let te=0;te<G.length;){const $e=W[G.charAt(te++)],Pt=te<G.length?W[G.charAt(te)]:0;++te;const fn=te<G.length?W[G.charAt(te)]:64;++te;const Dt=te<G.length?W[G.charAt(te)]:64;if(++te,null==$e||null==Pt||null==fn||null==Dt)throw Error();ye.push($e<<2|Pt>>4),64!==fn&&(ye.push(Pt<<4&240|fn>>2),64!==Dt&&ye.push(fn<<6&192|Dt))}return ye},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},ne=function(G){const B=ae(G);return he.encodeByteArray(B,!0)},re=function(G){return ne(G).replace(/\./g,"")},le=function(G){try{return he.decodeString(G,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function $(G){return H(void 0,G)}function H(G,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return B}for(const W in B)!B.hasOwnProperty(W)||!Q(W)||(G[W]=H(G[W],B[W]));return G}function Q(G){return"__proto__"!==G}class Re{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,W)=>{this.resolve=B,this.reject=W})}wrapCallback(B){return(W,ye)=>{W?this.reject(W):this.resolve(ye),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(W):B(W,ye))}}}function we(G,B){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ye=B||"demo-project",te=G.iat||0,$e=G.sub||G.user_id;if(!$e)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const et=Object.assign({iss:`https://securetoken.google.com/${ye}`,aud:ye,iat:te,exp:te+3600,auth_time:te,sub:$e,user_id:$e,firebase:{sign_in_provider:"custom",identities:{}}},G);return[re(JSON.stringify({alg:"none",type:"JWT"})),re(JSON.stringify(et)),""].join(".")}function ke(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Me(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function oe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(G){return!1}}function Y(){return"object"==typeof self&&self.self===self}function se(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function be(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Be(){const G=ke();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Le(){return!1}function Xe(){return"object"==typeof indexedDB}function ee(){return new Promise((G,B)=>{try{let W=!0;const ye="validate-browser-context-for-indexeddb-analytics-module",te=self.indexedDB.open(ye);te.onsuccess=()=>{te.result.close(),W||self.indexedDB.deleteDatabase(ye),G(!0)},te.onupgradeneeded=()=>{W=!1},te.onerror=()=>{var $e;B((null===($e=te.error)||void 0===$e?void 0:$e.message)||"")}}catch(W){B(W)}})}function ue(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Se extends Error{constructor(B,W,ye){super(W),this.code=B,this.customData=ye,this.name="FirebaseError",Object.setPrototypeOf(this,Se.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,de.prototype.create)}}class de{constructor(B,W,ye){this.service=B,this.serviceName=W,this.errors=ye}create(B,...W){const ye=W[0]||{},te=`${this.service}/${B}`,$e=this.errors[B],et=$e?function(G,B){return G.replace(Rt,(W,ye)=>{const te=B[ye];return null!=te?String(te):`<${ye}?>`})}($e,ye):"Error";return new Se(te,`${this.serviceName}: ${et} (${te}).`,ye)}}const Rt=/\{\$([^}]+)}/g;function Dn(G){return JSON.parse(G)}function ut(G){return JSON.stringify(G)}const ot=function(G){let B={},W={},ye={},te="";try{const $e=G.split(".");B=Dn(le($e[0])||""),W=Dn(le($e[1])||""),te=$e[2],ye=W.d||{},delete W.d}catch($e){}return{header:B,claims:W,data:ye,signature:te}},ri=function(G){const W=ot(G).claims;return!!W&&"object"==typeof W&&W.hasOwnProperty("iat")},hi=function(G){const B=ot(G).claims;return"object"==typeof B&&!0===B.admin};function qt(G,B){return Object.prototype.hasOwnProperty.call(G,B)}function $o(G,B){if(Object.prototype.hasOwnProperty.call(G,B))return G[B]}function gn(G){for(const B in G)if(Object.prototype.hasOwnProperty.call(G,B))return!1;return!0}function ki(G,B,W){const ye={};for(const te in G)Object.prototype.hasOwnProperty.call(G,te)&&(ye[te]=B.call(W,G[te],te,G));return ye}function It(G,B){if(G===B)return!0;const W=Object.keys(G),ye=Object.keys(B);for(const te of W){if(!ye.includes(te))return!1;const $e=G[te],et=B[te];if(hn($e)&&hn(et)){if(!It($e,et))return!1}else if($e!==et)return!1}for(const te of ye)if(!W.includes(te))return!1;return!0}function hn(G){return null!==G&&"object"==typeof G}function jo(G){const B=[];for(const[W,ye]of Object.entries(G))Array.isArray(ye)?ye.forEach(te=>{B.push(encodeURIComponent(W)+"="+encodeURIComponent(te))}):B.push(encodeURIComponent(W)+"="+encodeURIComponent(ye));return B.length?"&"+B.join("&"):""}function Zi(G){const B={};return G.replace(/^\?/,"").split("&").forEach(ye=>{if(ye){const[te,$e]=ye.split("=");B[decodeURIComponent(te)]=decodeURIComponent($e)}}),B}function ur(G){const B=G.indexOf("?");if(!B)return"";const W=G.indexOf("#",B);return G.substring(B,W>0?W:void 0)}class Ee{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let B=1;B<this.blockSize;++B)this.pad_[B]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(B,W){W||(W=0);const ye=this.W_;if("string"==typeof B)for(let Dt=0;Dt<16;Dt++)ye[Dt]=B.charCodeAt(W)<<24|B.charCodeAt(W+1)<<16|B.charCodeAt(W+2)<<8|B.charCodeAt(W+3),W+=4;else for(let Dt=0;Dt<16;Dt++)ye[Dt]=B[W]<<24|B[W+1]<<16|B[W+2]<<8|B[W+3],W+=4;for(let Dt=16;Dt<80;Dt++){const Yn=ye[Dt-3]^ye[Dt-8]^ye[Dt-14]^ye[Dt-16];ye[Dt]=4294967295&(Yn<<1|Yn>>>31)}let fn,Ii,te=this.chain_[0],$e=this.chain_[1],et=this.chain_[2],Pt=this.chain_[3],Zn=this.chain_[4];for(let Dt=0;Dt<80;Dt++){Dt<40?Dt<20?(fn=Pt^$e&(et^Pt),Ii=1518500249):(fn=$e^et^Pt,Ii=1859775393):Dt<60?(fn=$e&et|Pt&($e|et),Ii=2400959708):(fn=$e^et^Pt,Ii=3395469782);const Yn=(te<<5|te>>>27)+fn+Zn+Ii+ye[Dt]&4294967295;Zn=Pt,Pt=et,et=4294967295&($e<<30|$e>>>2),$e=te,te=Yn}this.chain_[0]=this.chain_[0]+te&4294967295,this.chain_[1]=this.chain_[1]+$e&4294967295,this.chain_[2]=this.chain_[2]+et&4294967295,this.chain_[3]=this.chain_[3]+Pt&4294967295,this.chain_[4]=this.chain_[4]+Zn&4294967295}update(B,W){if(null==B)return;void 0===W&&(W=B.length);const ye=W-this.blockSize;let te=0;const $e=this.buf_;let et=this.inbuf_;for(;te<W;){if(0===et)for(;te<=ye;)this.compress_(B,te),te+=this.blockSize;if("string"==typeof B){for(;te<W;)if($e[et]=B.charCodeAt(te),++et,++te,et===this.blockSize){this.compress_($e),et=0;break}}else for(;te<W;)if($e[et]=B[te],++et,++te,et===this.blockSize){this.compress_($e),et=0;break}}this.inbuf_=et,this.total_+=W}digest(){const B=[];let W=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let te=this.blockSize-1;te>=56;te--)this.buf_[te]=255&W,W/=256;this.compress_(this.buf_);let ye=0;for(let te=0;te<5;te++)for(let $e=24;$e>=0;$e-=8)B[ye]=this.chain_[te]>>$e&255,++ye;return B}}function Un(G,B){const W=new Rn(G,B);return W.subscribe.bind(W)}class Rn{constructor(B,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{B(this)}).catch(ye=>{this.error(ye)})}next(B){this.forEachObserver(W=>{W.next(B)})}error(B){this.forEachObserver(W=>{W.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,W,ye){let te;if(void 0===B&&void 0===W&&void 0===ye)throw new Error("Missing Observer.");te=function(G,B){if("object"!=typeof G||null===G)return!1;for(const W of["next","error","complete"])if(W in G&&"function"==typeof G[W])return!0;return!1}(B)?B:{next:B,error:W,complete:ye},void 0===te.next&&(te.next=Yi),void 0===te.error&&(te.error=Yi),void 0===te.complete&&(te.complete=Yi);const $e=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?te.error(this.finalError):te.complete()}catch(et){}}),this.observers.push(te),$e}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,B)}sendOne(B,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{W(this.observers[B])}catch(ye){"undefined"!=typeof console&&console.error&&console.error(ye)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yi(){}const fi=function(G,B,W,ye){let te;if(ye<B?te="at least "+B:ye>W&&(te=0===W?"none":"no more than "+W),te)throw new Error(G+" failed: Was called with "+ye+(1===ye?" argument.":" arguments.")+" Expects "+te+".")};function Ke(G,B){return`${G} failed: ${B} argument `}function yt(G,B,W,ye){if((!ye||W)&&"function"!=typeof W)throw new Error(Ke(G,B)+"must be a valid function.")}function vt(G,B,W,ye){if((!ye||W)&&("object"!=typeof W||null===W))throw new Error(Ke(G,B)+"must be a valid context object.")}const pi=function(G){const B=[];let W=0;for(let ye=0;ye<G.length;ye++){let te=G.charCodeAt(ye);if(te>=55296&&te<=56319){const $e=te-55296;ye++,K(ye<G.length,"Surrogate pair missing trail surrogate."),te=65536+($e<<10)+(G.charCodeAt(ye)-56320)}te<128?B[W++]=te:te<2048?(B[W++]=te>>6|192,B[W++]=63&te|128):te<65536?(B[W++]=te>>12|224,B[W++]=te>>6&63|128,B[W++]=63&te|128):(B[W++]=te>>18|240,B[W++]=te>>12&63|128,B[W++]=te>>6&63|128,B[W++]=63&te|128)}return B},kt=function(G){let B=0;for(let W=0;W<G.length;W++){const ye=G.charCodeAt(W);ye<128?B++:ye<2048?B+=2:ye>=55296&&ye<=56319?(B+=4,W++):B+=3}return B};function Ot(G,B=1e3,W=2){const ye=B*Math.pow(W,G),te=Math.round(.5*ye*(Math.random()-.5)*2);return Math.min(144e5,ye+te)}function Dl(G){return G&&G._delegate?G._delegate:G}},7713:(Ve,fe,x)=>{"use strict";x.d(fe,{Mq:()=>s.getApp,C6:()=>s.getApps});var s=x(1572);(0,s.registerVersion)("firebase","9.6.1","app")},7892:(Ve,fe,x)=>{"use strict";x.d(fe,{Z:()=>s.Z});var s=x(6293);s.Z.registerVersion("firebase","9.6.1","app-compat")},9766:(Ve,fe,x)=>{"use strict";x.r(fe);var s=x(8239),K=x(6293),O=x(4213),ae=x(1572);function re(m,h){var f={};for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&h.indexOf(v)<0&&(f[v]=m[v]);if(null!=m&&"function"==typeof Object.getOwnPropertySymbols){var T=0;for(v=Object.getOwnPropertySymbols(m);T<v.length;T++)h.indexOf(v[T])<0&&Object.prototype.propertyIsEnumerable.call(m,v[T])&&(f[v[T]]=m[v[T]])}return f}var Se=x(3855),de=x(1177);const ri=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},hi=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},qt=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),gn=new Se.Yd("@firebase/auth");function ki(m,...h){gn.logLevel<=Se.in.ERROR&&gn.error(`Auth (${ae.SDK_VERSION}): ${m}`,...h)}function It(m,...h){throw ur(m,...h)}function hn(m,...h){return ur(m,...h)}function jo(m,h,f){const v=Object.assign(Object.assign({},hi()),{[h]:f});return new O.LL("auth","Firebase",v).create(h,{appName:m.name})}function Zi(m,h,f){if(!(h instanceof f))throw f.name!==h.constructor.name&&It(m,"argument-error"),jo(m,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ur(m,...h){if("string"!=typeof m){const f=h[0],v=[...h.slice(1)];return v[0]&&(v[0].appName=m.name),m._errorFactory.create(f,...v)}return qt.create(m,...h)}function Ee(m,h,...f){if(!m)throw ur(h,...f)}function Un(m){const h="INTERNAL ASSERTION FAILED: "+m;throw ki(h),new Error(h)}function Rn(m,h){m||Un(h)}const tt=new Map;function Mt(m){Rn(m instanceof Function,"Expected a class definition");let h=tt.get(m);return h?(Rn(h instanceof m,"Instance stored in cache mismatched with class"),h):(h=new m,tt.set(m,h),h)}function Ke(){var m;return"undefined"!=typeof self&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function nt(){return"http:"===yt()||"https:"===yt()}function yt(){var m;return"undefined"!=typeof self&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class kt{constructor(h,f){this.shortDelay=h,this.longDelay=f,Rn(f>h,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(nt()||(0,O.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ue(m,h){Rn(m.emulator,"Emulator should always be set here");const{url:f}=m.emulator;return h?`${f}${h.startsWith("/")?h.slice(1):h}`:f}class Qe{static initialize(h,f,v){this.fetchImpl=h,f&&(this.headersImpl=f),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Un("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Un("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Un("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Aa={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ur=new kt(3e4,6e4);function Ot(m,h){return m.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:m.tenantId}):h}function lt(m,h,f,v){return gi.apply(this,arguments)}function gi(){return(gi=(0,s.Z)(function*(m,h,f,v,T={}){return Dl(m,T,(0,s.Z)(function*(){let S={},U={};v&&("GET"===h?U=v:S={body:JSON.stringify(v)});const X=(0,O.xO)(Object.assign({key:m.config.apiKey},U)).slice(1),Ae=yield m._getAdditionalHeaders();return Ae["Content-Type"]="application/json",m.languageCode&&(Ae["X-Firebase-Locale"]=m.languageCode),Qe.fetch()(ye(m,m.config.apiHost,f,X),Object.assign({method:h,headers:Ae,referrerPolicy:"no-referrer"},S))}))})).apply(this,arguments)}function Dl(m,h,f){return G.apply(this,arguments)}function G(){return(G=(0,s.Z)(function*(m,h,f){m._canInitEmulator=!1;const v=Object.assign(Object.assign({},Aa),h);try{const T=new te(m),S=yield Promise.race([f(),T.promise]);T.clearNetworkTimeout();const U=yield S.json();if("needConfirmation"in U)throw $e(m,"account-exists-with-different-credential",U);if(S.ok&&!("errorMessage"in U))return U;{const X=S.ok?U.errorMessage:U.error.message,[Ae,Ie]=X.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ae)throw $e(m,"credential-already-in-use",U);if("EMAIL_EXISTS"===Ae)throw $e(m,"email-already-in-use",U);const Ze=v[Ae]||Ae.toLowerCase().replace(/[_\s]+/g,"-");if(Ie)throw jo(m,Ze,Ie);It(m,Ze)}}catch(T){if(T instanceof O.ZR)throw T;It(m,"network-request-failed")}})).apply(this,arguments)}function B(m,h,f,v){return W.apply(this,arguments)}function W(){return(W=(0,s.Z)(function*(m,h,f,v,T={}){const S=yield lt(m,h,f,v,T);return"mfaPendingCredential"in S&&It(m,"multi-factor-auth-required",{_serverResponse:S}),S})).apply(this,arguments)}function ye(m,h,f,v){const T=`${h}${f}?${v}`;return m.config.emulator?Ue(m.config,T):`${m.config.apiScheme}://${T}`}class te{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((f,v)=>{this.timer=setTimeout(()=>v(hn(this.auth,"timeout")),Ur.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $e(m,h,f){const v={appName:m.name};f.email&&(v.email=f.email),f.phoneNumber&&(v.phoneNumber=f.phoneNumber);const T=hn(m,h,v);return T.customData._tokenResponse=f,T}function Pt(){return(Pt=(0,s.Z)(function*(m,h){return lt(m,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Zn(m,h){return fn.apply(this,arguments)}function fn(){return(fn=(0,s.Z)(function*(m,h){return lt(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ii(m,h){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,s.Z)(function*(m,h){return lt(m,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Yn(m){if(m)try{const h=new Date(Number(m));if(!isNaN(h.getTime()))return h.toUTCString()}catch(h){}}function Go(){return(Go=(0,s.Z)(function*(m,h=!1){const f=(0,O.m9)(m),v=yield f.getIdToken(h),T=po(v);Ee(T&&T.exp&&T.auth_time&&T.iat,f.auth,"internal-error");const S="object"==typeof T.firebase?T.firebase:void 0,U=null==S?void 0:S.sign_in_provider;return{claims:T,token:v,authTime:Yn(Sa(T.auth_time)),issuedAtTime:Yn(Sa(T.iat)),expirationTime:Yn(Sa(T.exp)),signInProvider:U||null,signInSecondFactor:(null==S?void 0:S.sign_in_second_factor)||null}})).apply(this,arguments)}function Sa(m){return 1e3*Number(m)}function po(m){const[h,f,v]=m.split(".");if(void 0===h||void 0===f||void 0===v)return ki("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,O.tV)(f);return T?JSON.parse(T):(ki("Failed to decode base64 JWT payload"),null)}catch(T){return ki("Caught error parsing JWT payload as JSON",T),null}}function Jt(m,h){return qi.apply(this,arguments)}function qi(){return(qi=(0,s.Z)(function*(m,h,f=!1){if(f)return h;try{return yield h}catch(v){throw v instanceof O.ZR&&xi(v)&&m.auth.currentUser===m&&(yield m.auth.signOut()),v}})).apply(this,arguments)}function xi({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}class qn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var f;if(h){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const T=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(h=!1){var f=this;if(!this.isRunning)return;const v=this.getInterval(h);this.timerId=setTimeout((0,s.Z)(function*(){yield f.iteration()}),v)}iteration(){var h=this;return(0,s.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f.code&&h.schedule(!0))}h.schedule()})()}}class Oi{constructor(h,f){this.createdAt=h,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yn(this.lastLoginAt),this.creationTime=Yn(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function xe(m){return ht.apply(this,arguments)}function ht(){return(ht=(0,s.Z)(function*(m){var h;const f=m.auth,v=yield m.getIdToken(),T=yield Jt(m,Ii(f,{idToken:v}));Ee(null==T?void 0:T.users.length,f,"internal-error");const S=T.users[0];m._notifyReloadListener(S);const U=(null===(h=S.providerUserInfo)||void 0===h?void 0:h.length)?kn(S.providerUserInfo):[],X=Ji(m.providerData,U),Ze=!!m.isAnonymous&&!(m.email&&S.passwordHash||(null==X?void 0:X.length)),Ye={uid:S.localId,displayName:S.displayName||null,photoURL:S.photoUrl||null,email:S.email||null,emailVerified:S.emailVerified||!1,phoneNumber:S.phoneNumber||null,tenantId:S.tenantId||null,providerData:X,metadata:new Oi(S.createdAt,S.lastLoginAt),isAnonymous:Ze};Object.assign(m,Ye)})).apply(this,arguments)}function oi(){return(oi=(0,s.Z)(function*(m){const h=(0,O.m9)(m);yield xe(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Ji(m,h){return[...m.filter(v=>!h.some(T=>T.providerId===v.providerId)),...h]}function kn(m){return m.map(h=>{var{providerId:f}=h,v=re(h,["providerId"]);return{providerId:f,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function ln(){return(ln=(0,s.Z)(function*(m,h){const f=yield Dl(m,{},(0,s.Z)(function*(){const v=(0,O.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:T,apiKey:S}=m.config,U=ye(m,T,"/v1/token",`key=${S}`),X=yield m._getAdditionalHeaders();return X["Content-Type"]="application/x-www-form-urlencoded",Qe.fetch()(U,{method:"POST",headers:X,body:v})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class Ki{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Ee(h.idToken,"internal-error"),Ee(void 0!==h.idToken,"internal-error"),Ee(void 0!==h.refreshToken,"internal-error");const f="expiresIn"in h&&void 0!==h.expiresIn?Number(h.expiresIn):function(m){const h=po(m);return Ee(h,"internal-error"),Ee(void 0!==h.exp,"internal-error"),Ee(void 0!==h.iat,"internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,f)}getToken(h,f=!1){var v=this;return(0,s.Z)(function*(){return Ee(!v.accessToken||v.refreshToken,h,"user-token-expired"),f||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(h,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,f){var v=this;return(0,s.Z)(function*(){const{accessToken:T,refreshToken:S,expiresIn:U}=yield function(m,h){return ln.apply(this,arguments)}(h,f);v.updateTokensAndExpiration(T,S,Number(U))})()}updateTokensAndExpiration(h,f,v){this.refreshToken=f||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(h,f){const{refreshToken:v,accessToken:T,expirationTime:S}=f,U=new Ki;return v&&(Ee("string"==typeof v,"internal-error",{appName:h}),U.refreshToken=v),T&&(Ee("string"==typeof T,"internal-error",{appName:h}),U.accessToken=T),S&&(Ee("number"==typeof S,"internal-error",{appName:h}),U.expirationTime=S),U}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Ki,this.toJSON())}_performRefresh(){return Un("not implemented")}}function Ai(m,h){Ee("string"==typeof m||void 0===m,"internal-error",{appName:h})}class it{constructor(h){var{uid:f,auth:v,stsTokenManager:T}=h,S=re(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new qn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=v,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=S.displayName||null,this.email=S.email||null,this.emailVerified=S.emailVerified||!1,this.phoneNumber=S.phoneNumber||null,this.photoURL=S.photoURL||null,this.isAnonymous=S.isAnonymous||!1,this.tenantId=S.tenantId||null,this.metadata=new Oi(S.createdAt||void 0,S.lastLoginAt||void 0)}getIdToken(h){var f=this;return(0,s.Z)(function*(){const v=yield Jt(f,f.stsTokenManager.getToken(f.auth,h));return Ee(v,f.auth,"internal-error"),f.accessToken!==v&&(f.accessToken=v,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),v})()}getIdTokenResult(h){return function(m){return Go.apply(this,arguments)}(this,h)}reload(){return function(m){return oi.apply(this,arguments)}(this)}_assign(h){this!==h&&(Ee(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(f=>Object.assign({},f)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new it(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,f=!1){var v=this;return(0,s.Z)(function*(){let T=!1;h.idToken&&h.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(h),T=!0),f&&(yield xe(v)),yield v.auth._persistUserIfCurrent(v),T&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var h=this;return(0,s.Z)(function*(){const f=yield h.getIdToken();return yield Jt(h,function(m,h){return Pt.apply(this,arguments)}(h.auth,{idToken:f})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,f){var v,T,S,U,X,Ae,Ie,Ze;const Ye=null!==(v=f.displayName)&&void 0!==v?v:void 0,At=null!==(T=f.email)&&void 0!==T?T:void 0,cn=null!==(S=f.phoneNumber)&&void 0!==S?S:void 0,io=null!==(U=f.photoURL)&&void 0!==U?U:void 0,ro=null!==(X=f.tenantId)&&void 0!==X?X:void 0,fc=null!==(Ae=f._redirectEventId)&&void 0!==Ae?Ae:void 0,pc=null!==(Ie=f.createdAt)&&void 0!==Ie?Ie:void 0,Nf=null!==(Ze=f.lastLoginAt)&&void 0!==Ze?Ze:void 0,{uid:ul,emailVerified:Mf,isAnonymous:gc,providerData:mc,stsTokenManager:ch}=f;Ee(ul&&ch,h,"internal-error");const dh=Ki.fromJSON(this.name,ch);Ee("string"==typeof ul,h,"internal-error"),Ai(Ye,h.name),Ai(At,h.name),Ee("boolean"==typeof Mf,h,"internal-error"),Ee("boolean"==typeof gc,h,"internal-error"),Ai(cn,h.name),Ai(io,h.name),Ai(ro,h.name),Ai(fc,h.name),Ai(pc,h.name),Ai(Nf,h.name);const cl=new it({uid:ul,auth:h,email:At,emailVerified:Mf,displayName:Ye,isAnonymous:gc,photoURL:io,phoneNumber:cn,tenantId:ro,stsTokenManager:dh,createdAt:pc,lastLoginAt:Nf});return mc&&Array.isArray(mc)&&(cl.providerData=mc.map(_c=>Object.assign({},_c))),fc&&(cl._redirectEventId=fc),cl}static _fromIdTokenResponse(h,f,v=!1){return(0,s.Z)(function*(){const T=new Ki;T.updateFromServerResponse(f);const S=new it({uid:f.localId,auth:h,stsTokenManager:T,isAnonymous:v});return yield xe(S),S})()}}const Pi=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(f,v){var T=this;return(0,s.Z)(function*(){T.storage[f]=v})()}_get(f){var v=this;return(0,s.Z)(function*(){const T=v.storage[f];return void 0===T?null:T})()}_remove(f){var v=this;return(0,s.Z)(function*(){delete v.storage[f]})()}_addListener(f,v){}_removeListener(f,v){}}return m.type="NONE",m})();function Si(m,h,f){return`firebase:${m}:${h}:${f}`}class Fi{constructor(h,f,v){this.persistence=h,this.auth=f,this.userKey=v;const{config:T,name:S}=this.auth;this.fullUserKey=Si(this.userKey,T.apiKey,S),this.fullPersistenceKey=Si("persistence",T.apiKey,S),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,s.Z)(function*(){const f=yield h.persistence._get(h.fullUserKey);return f?it._fromJSON(h.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var f=this;return(0,s.Z)(function*(){if(f.persistence===h)return;const v=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=h,v?f.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,f,v="authUser"){return(0,s.Z)(function*(){if(!f.length)return new Fi(Mt(Pi),h,v);const T=(yield Promise.all(f.map(function(){var Ie=(0,s.Z)(function*(Ze){if(yield Ze._isAvailable())return Ze});return function(Ze){return Ie.apply(this,arguments)}}()))).filter(Ie=>Ie);let S=T[0]||Mt(Pi);const U=Si(v,h.config.apiKey,h.name);let X=null;for(const Ie of f)try{const Ze=yield Ie._get(U);if(Ze){const Ye=it._fromJSON(h,Ze);Ie!==S&&(X=Ye),S=Ie;break}}catch(Ze){}const Ae=T.filter(Ie=>Ie._shouldAllowMigration);return S._shouldAllowMigration&&Ae.length?(S=Ae[0],X&&(yield S._set(U,X.toJSON())),yield Promise.all(f.map(function(){var Ie=(0,s.Z)(function*(Ze){if(Ze!==S)try{yield Ze._remove(U)}catch(Ye){}});return function(Ze){return Ie.apply(this,arguments)}}())),new Fi(S,h,v)):new Fi(S,h,v)})()}}function Vt(m){const h=m.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Ut(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(bs(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(si(h))return"Blackberry";if(Cs(h))return"Webos";if(Hr(h))return"Safari";if((h.includes("chrome/")||Li(h))&&!h.includes("edge/"))return"Chrome";if(ws(h))return"Android";{const v=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==v?void 0:v.length))return v[1]}return"Other"}function bs(m=(0,O.z$)()){return/firefox\//i.test(m)}function Hr(m=(0,O.z$)()){const h=m.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Li(m=(0,O.z$)()){return/crios\//i.test(m)}function Ut(m=(0,O.z$)()){return/iemobile/i.test(m)}function ws(m=(0,O.z$)()){return/android/i.test(m)}function si(m=(0,O.z$)()){return/blackberry/i.test(m)}function Cs(m=(0,O.z$)()){return/webos/i.test(m)}function $r(m=(0,O.z$)()){return/iphone|ipad|ipod/i.test(m)}function _n(m=(0,O.z$)()){return $r(m)||ws(m)||Cs(m)||si(m)||/windows phone/i.test(m)||Ut(m)}function cr(m,h=[]){let f;switch(m){case"Browser":f=Vt((0,O.z$)());break;case"Worker":f=`${Vt((0,O.z$)())}-${m}`;break;default:f=m}const v=h.length?h.join(","):"FirebaseCore-web";return`${f}/JsCore/${ae.SDK_VERSION}/${v}`}class dr{constructor(h,f){this.app=h,this.config=f,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tr(this),this.idTokenSubscription=new Tr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=f.sdkClientVersion}_initializeWithPersistence(h,f){var v=this;return f&&(this._popupRedirectResolver=Mt(f)),this._initializationPromise=this.queue((0,s.Z)(function*(){var T,S;if(!v._deleted&&(v.persistenceManager=yield Fi.create(v,h),!v._deleted)){if(null===(T=v._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch(U){}yield v.initializeCurrentUser(f),v.lastNotifiedUid=(null===(S=v.currentUser)||void 0===S?void 0:S.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,s.Z)(function*(){if(h._deleted)return;const f=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||f){if(h.currentUser&&f&&h.currentUser.uid===f.uid)return h._currentUser._assign(f),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(f)}})()}initializeCurrentUser(h){var f=this;return(0,s.Z)(function*(){var v;let T=yield f.assertedPersistence.getCurrentUser();if(h&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const S=null===(v=f.redirectUser)||void 0===v?void 0:v._redirectEventId,U=null==T?void 0:T._redirectEventId,X=yield f.tryRedirectSignIn(h);(!S||S===U)&&(null==X?void 0:X.user)&&(T=X.user)}return T?T._redirectEventId?(Ee(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===T._redirectEventId?f.directlySetCurrentUser(T):f.reloadAndSetCurrentUserOrClear(T)):f.reloadAndSetCurrentUserOrClear(T):f.directlySetCurrentUser(null)})()}tryRedirectSignIn(h){var f=this;return(0,s.Z)(function*(){let v=null;try{v=yield f._popupRedirectResolver._completeRedirectFn(f,h,!0)}catch(T){yield f._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(h){var f=this;return(0,s.Z)(function*(){try{yield xe(h)}catch(v){if("auth/network-request-failed"!==v.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var h=this;return(0,s.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var f=this;return(0,s.Z)(function*(){const v=h?(0,O.m9)(h):null;return v&&Ee(v.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(v&&v._clone(f))})()}_updateCurrentUser(h){var f=this;return(0,s.Z)(function*(){if(!f._deleted)return h&&Ee(f.tenantId===h.tenantId,f,"tenant-id-mismatch"),f.queue((0,s.Z)(function*(){yield f.directlySetCurrentUser(h),f.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,s.Z)(function*(){return(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null)})()}setPersistence(h){var f=this;return this.queue((0,s.Z)(function*(){yield f.assertedPersistence.setPersistence(Mt(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new O.LL("auth","Firebase",h())}onAuthStateChanged(h,f,v){return this.registerStateListener(this.authStateSubscription,h,f,v)}onIdTokenChanged(h,f,v){return this.registerStateListener(this.idTokenSubscription,h,f,v)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,f){var v=this;return(0,s.Z)(function*(){const T=yield v.getOrInitRedirectPersistenceManager(f);return null===h?T.removeCurrentUser():T.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var f=this;return(0,s.Z)(function*(){if(!f.redirectPersistenceManager){const v=h&&Mt(h)||f._popupRedirectResolver;Ee(v,f,"argument-error"),f.redirectPersistenceManager=yield Fi.create(f,[Mt(v._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(h){var f=this;return(0,s.Z)(function*(){var v,T;return f._isInitialized&&(yield f.queue((0,s.Z)(function*(){}))),(null===(v=f._currentUser)||void 0===v?void 0:v._redirectEventId)===h?f._currentUser:(null===(T=f.redirectUser)||void 0===T?void 0:T._redirectEventId)===h?f.redirectUser:null})()}_persistUserIfCurrent(h){var f=this;return(0,s.Z)(function*(){if(h===f.currentUser)return f.queue((0,s.Z)(function*(){return f.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(f=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,f,v,T){if(this._deleted)return()=>{};const S="function"==typeof f?f:f.next.bind(f),U=this._isInitialized?Promise.resolve():this._initializationPromise;return Ee(U,this,"internal-error"),U.then(()=>S(this.currentUser)),"function"==typeof f?h.addObserver(f,v,T):h.addObserver(f)}directlySetCurrentUser(h){var f=this;return(0,s.Z)(function*(){f.currentUser&&f.currentUser!==h&&(f._currentUser._stopProactiveRefresh(),h&&f.isProactiveRefreshEnabled&&h._startProactiveRefresh()),f.currentUser=h,h?yield f.assertedPersistence.setCurrentUser(h):yield f.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=cr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,s.Z)(function*(){const f={"X-Client-Version":h.clientVersion};return h.app.options.appId&&(f["X-Firebase-gmpid"]=h.app.options.appId),f})()}}function Fn(m){return(0,O.m9)(m)}class Tr{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,O.ne)(f=>this.observer=f)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Bi(m){const h=m.indexOf(":");return h<0?"":m.substr(0,h+1)}function of(m){if(!m)return null;const h=Number(m);return isNaN(h)?null:h}class Wo{constructor(h,f){this.providerId=h,this.signInMethod=f}toJSON(){return Un("not implemented")}_getIdTokenResponse(h){return Un("not implemented")}_linkToIdToken(h,f){return Un("not implemented")}_getReauthenticationResolver(h){return Un("not implemented")}}function vd(m,h){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,s.Z)(function*(m,h){return lt(m,"POST","/v1/accounts:resetPassword",Ot(m,h))})).apply(this,arguments)}function bd(m,h){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,s.Z)(function*(m,h){return lt(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function sf(m,h){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,s.Z)(function*(m,h){return lt(m,"POST","/v1/accounts:update",Ot(m,h))})).apply(this,arguments)}function ku(){return(ku=(0,s.Z)(function*(m,h){return B(m,"POST","/v1/accounts:signInWithPassword",Ot(m,h))})).apply(this,arguments)}function Il(m,h){return xu.apply(this,arguments)}function xu(){return(xu=(0,s.Z)(function*(m,h){return lt(m,"POST","/v1/accounts:sendOobCode",Ot(m,h))})).apply(this,arguments)}function af(m,h){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,s.Z)(function*(m,h){return Il(m,h)})).apply(this,arguments)}function lf(m,h){return wd.apply(this,arguments)}function wd(){return(wd=(0,s.Z)(function*(m,h){return Il(m,h)})).apply(this,arguments)}function Ra(m,h){return Es.apply(this,arguments)}function Es(){return(Es=(0,s.Z)(function*(m,h){return Il(m,h)})).apply(this,arguments)}function Al(m,h){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,s.Z)(function*(m,h){return Il(m,h)})).apply(this,arguments)}function hr(){return(hr=(0,s.Z)(function*(m,h){return B(m,"POST","/v1/accounts:signInWithEmailLink",Ot(m,h))})).apply(this,arguments)}function Gr(){return(Gr=(0,s.Z)(function*(m,h){return B(m,"POST","/v1/accounts:signInWithEmailLink",Ot(m,h))})).apply(this,arguments)}class Zo extends Wo{constructor(h,f,v,T=null){super("password",v),this._email=h,this._password=f,this._tenantId=T}static _fromEmailAndPassword(h,f){return new Zo(h,f,"password")}static _fromEmailAndCode(h,f,v=null){return new Zo(h,f,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h;if((null==f?void 0:f.email)&&(null==f?void 0:f.password)){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(h){var f=this;return(0,s.Z)(function*(){switch(f.signInMethod){case"password":return function(m,h){return ku.apply(this,arguments)}(h,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function(m,h){return hr.apply(this,arguments)}(h,{email:f._email,oobCode:f._password});default:It(h,"internal-error")}})()}_linkToIdToken(h,f){var v=this;return(0,s.Z)(function*(){switch(v.signInMethod){case"password":return bd(h,{idToken:f,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function(m,h){return Gr.apply(this,arguments)}(h,{idToken:f,email:v._email,oobCode:v._password});default:It(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Wr(m,h){return ai.apply(this,arguments)}function ai(){return(ai=(0,s.Z)(function*(m,h){return B(m,"POST","/v1/accounts:signInWithIdp",Ot(m,h))})).apply(this,arguments)}class Jn extends Wo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const f=new Jn(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(f.idToken=h.idToken),h.accessToken&&(f.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(f.nonce=h.nonce),h.pendingToken&&(f.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(f.accessToken=h.oauthToken,f.secret=h.oauthTokenSecret):It("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:T}=f,S=re(f,["providerId","signInMethod"]);if(!v||!T)return null;const U=new Jn(v,T);return U.idToken=S.idToken||void 0,U.accessToken=S.accessToken||void 0,U.secret=S.secret,U.nonce=S.nonce,U.pendingToken=S.pendingToken||null,U}_getIdTokenResponse(h){return Wr(h,this.buildRequest())}_linkToIdToken(h,f){const v=this.buildRequest();return v.idToken=f,Wr(h,v)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,Wr(h,f)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),h.postBody=(0,O.xO)(f)}return h}}function Ir(m,h){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,s.Z)(function*(m,h){return lt(m,"POST","/v1/accounts:sendVerificationCode",Ot(m,h))})).apply(this,arguments)}function mi(){return(mi=(0,s.Z)(function*(m,h){return B(m,"POST","/v1/accounts:signInWithPhoneNumber",Ot(m,h))})).apply(this,arguments)}function Ml(){return(Ml=(0,s.Z)(function*(m,h){const f=yield B(m,"POST","/v1/accounts:signInWithPhoneNumber",Ot(m,h));if(f.temporaryProof)throw $e(m,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const ka={USER_NOT_FOUND:"user-not-found"};function Is(){return(Is=(0,s.Z)(function*(m,h){return B(m,"POST","/v1/accounts:signInWithPhoneNumber",Ot(m,Object.assign(Object.assign({},h),{operation:"REAUTH"})),ka)})).apply(this,arguments)}class mo extends Wo{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,f){return new mo({verificationId:h,verificationCode:f})}static _fromTokenResponse(h,f){return new mo({phoneNumber:h,temporaryProof:f})}_getIdTokenResponse(h){return function(m,h){return mi.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,f){return function(m,h){return Ml.apply(this,arguments)}(h,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function(m,h){return Is.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:f,verificationId:v,verificationCode:T}=this.params;return h&&f?{temporaryProof:h,phoneNumber:f}:{sessionInfo:v,code:T}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:f,verificationCode:v,phoneNumber:T,temporaryProof:S}=h;return v||f||T||S?new mo({verificationId:f,verificationCode:v,phoneNumber:T,temporaryProof:S}):null}}class _o{constructor(h){var f,v,T,S,U,X;const Ae=(0,O.zd)((0,O.pd)(h)),Ie=null!==(f=Ae.apiKey)&&void 0!==f?f:null,Ze=null!==(v=Ae.oobCode)&&void 0!==v?v:null,Ye=function(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Ae.mode)&&void 0!==T?T:null);Ee(Ie&&Ze&&Ye,"argument-error"),this.apiKey=Ie,this.operation=Ye,this.code=Ze,this.continueUrl=null!==(S=Ae.continueUrl)&&void 0!==S?S:null,this.languageCode=null!==(U=Ae.languageCode)&&void 0!==U?U:null,this.tenantId=null!==(X=Ae.tenantId)&&void 0!==X?X:null}static parseLink(h){const f=function(m){const h=(0,O.zd)((0,O.pd)(m)).link,f=h?(0,O.zd)((0,O.pd)(h)).deep_link_id:null,v=(0,O.zd)((0,O.pd)(m)).deep_link_id;return(v?(0,O.zd)((0,O.pd)(v)).link:null)||v||f||h||m}(h);try{return new _o(f)}catch(v){return null}}}let yo=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(f,v){return Zo._fromEmailAndPassword(f,v)}static credentialWithLink(f,v){const T=_o.parseLink(v);return Ee(T,"argument-error"),Zo._fromEmailAndCode(f,T.code,T.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class _i{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class er extends _i{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Tn extends er{static credentialFromJSON(h){const f="string"==typeof h?JSON.parse(h):h;return Ee("providerId"in f&&"signInMethod"in f,"argument-error"),Jn._fromParams(f)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return Ee(h.idToken||h.accessToken,"argument-error"),Jn._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Tn.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Tn.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:f,oauthAccessToken:v,oauthTokenSecret:T,pendingToken:S,nonce:U,providerId:X}=h;if(!v&&!T&&!f&&!S||!X)return null;try{return new Tn(X)._credential({idToken:f,accessToken:v,nonce:U,pendingToken:S})}catch(Ae){return null}}}let xa=(()=>{class m extends er{constructor(){super("facebook.com")}static credential(f){return Jn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch(v){return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),vo=(()=>{class m extends er{constructor(){super("google.com"),this.addScope("profile")}static credential(f,v){return Jn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:v})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:v,oauthAccessToken:T}=f;if(!v&&!T)return null;try{return m.credential(v,T)}catch(S){return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),bo=(()=>{class m extends er{constructor(){super("github.com")}static credential(f){return Jn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch(v){return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class Ar extends Wo{constructor(h,f){super(h,h),this.pendingToken=f}_getIdTokenResponse(h){return Wr(h,this.buildRequest())}_linkToIdToken(h,f){const v=this.buildRequest();return v.idToken=f,Wr(h,v)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,Wr(h,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:T,pendingToken:S}=f;return v&&T&&S&&v===T?new Ar(v,S):null}static _create(h,f){return new Ar(h,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class wo extends _i{constructor(h){Ee(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return wo.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return wo.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const f=Ar.fromJSON(h);return Ee(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:f,providerId:v}=h;if(!f||!v)return null;try{return Ar._create(v,f)}catch(T){return null}}}let yi=(()=>{class m extends er{constructor(){super("twitter.com")}static credential(f,v){return Jn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:v})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:v,oauthTokenSecret:T}=f;if(!v||!T)return null;try{return m.credential(v,T)}catch(S){return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function Ss(m,h){return zr.apply(this,arguments)}function zr(){return(zr=(0,s.Z)(function*(m,h){return B(m,"POST","/v1/accounts:signUp",Ot(m,h))})).apply(this,arguments)}class ze{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,f,v,T=!1){return(0,s.Z)(function*(){const S=yield it._fromIdTokenResponse(h,v,T),U=Oa(v);return new ze({user:S,providerId:U,_tokenResponse:v,operationType:f})})()}static _forOperation(h,f,v){return(0,s.Z)(function*(){yield h._updateTokensIfNecessary(v,!0);const T=Oa(v);return new ze({user:h,providerId:T,_tokenResponse:v,operationType:f})})()}}function Oa(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function Yo(){return(Yo=(0,s.Z)(function*(m){var h;const f=Fn(m);if(yield f._initializationPromise,null===(h=f.currentUser)||void 0===h?void 0:h.isAnonymous)return new ze({user:f.currentUser,providerId:null,operationType:"signIn"});const v=yield Ss(f,{returnSecureToken:!0}),T=yield ze._fromIdTokenResponse(f,"signIn",v,!0);return yield f._updateCurrentUser(T.user),T})).apply(this,arguments)}class Ms extends O.ZR{constructor(h,f,v,T){var S;super(f.code,f.message),this.operationType=v,this.user=T,Object.setPrototypeOf(this,Ms.prototype),this.customData={appName:h.name,tenantId:null!==(S=h.tenantId)&&void 0!==S?S:void 0,_serverResponse:f.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(h,f,v,T){return new Ms(h,f,v,T)}}function Pa(m,h,f,v){return("reauthenticate"===h?f._getReauthenticationResolver(m):f._getIdTokenResponse(m)).catch(S=>{throw"auth/multi-factor-auth-required"===S.code?Ms._fromErrorAndOperation(m,S,h,v):S})}function Fa(m){return new Set(m.map(({providerId:h})=>h).filter(h=>!!h))}function Ce(){return(Ce=(0,s.Z)(function*(m,h){const f=(0,O.m9)(m);yield rn(!0,f,h);const{providerUserInfo:v}=yield Zn(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[h]}),T=Fa(v||[]);return f.providerData=f.providerData.filter(S=>T.has(S.providerId)),T.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function bt(m,h){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,s.Z)(function*(m,h,f=!1){const v=yield Jt(m,h._linkToIdToken(m.auth,yield m.getIdToken()),f);return ze._forOperation(m,"link",v)})).apply(this,arguments)}function rn(m,h,f){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,s.Z)(function*(m,h,f){yield xe(h);const T=!1===m?"provider-already-linked":"no-such-provider";Ee(Fa(h.providerData).has(f)===m,h.auth,T)})).apply(this,arguments)}function Zr(m,h){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,s.Z)(function*(m,h,f=!1){const{auth:v}=m,T="reauthenticate";try{const S=yield Jt(m,Pa(v,T,h,m),f);Ee(S.idToken,v,"internal-error");const U=po(S.idToken);Ee(U,v,"internal-error");const{sub:X}=U;return Ee(m.uid===X,v,"user-mismatch"),ze._forOperation(m,T,S)}catch(S){throw"auth/user-not-found"===(null==S?void 0:S.code)&&It(v,"user-mismatch"),S}})).apply(this,arguments)}function La(m,h){return Co.apply(this,arguments)}function Co(){return(Co=(0,s.Z)(function*(m,h,f=!1){const v="signIn",T=yield Pa(m,v,h),S=yield ze._fromIdTokenResponse(m,v,T);return f||(yield m._updateCurrentUser(S.user)),S})).apply(this,arguments)}function kl(m,h){return xl.apply(this,arguments)}function xl(){return(xl=(0,s.Z)(function*(m,h){return La(Fn(m),h)})).apply(this,arguments)}function ks(m,h){return Do.apply(this,arguments)}function Do(){return(Do=(0,s.Z)(function*(m,h){const f=(0,O.m9)(m);return yield rn(!1,f,h.providerId),bt(f,h)})).apply(this,arguments)}function Hn(m,h){return tr.apply(this,arguments)}function tr(){return(tr=(0,s.Z)(function*(m,h){return Zr((0,O.m9)(m),h)})).apply(this,arguments)}function xs(m,h){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,s.Z)(function*(m,h){return B(m,"POST","/v1/accounts:signInWithCustomToken",Ot(m,h))})).apply(this,arguments)}function Os(){return(Os=(0,s.Z)(function*(m,h){const f=Fn(m),v=yield xs(f,{token:h,returnSecureToken:!0}),T=yield ze._fromIdTokenResponse(f,"signIn",v);return yield f._updateCurrentUser(T.user),T})).apply(this,arguments)}class Ps{constructor(h,f){this.factorId=h,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(h,f){return"phoneInfo"in f?Fs._fromServerResponse(h,f):It(h,"internal-error")}}class Fs extends Ps{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,f){return new Fs(f)}}function Ba(m,h,f){var v;Ee((null===(v=f.url)||void 0===v?void 0:v.length)>0,m,"invalid-continue-uri"),Ee(void 0===f.dynamicLinkDomain||f.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),h.continueUrl=f.url,h.dynamicLinkDomain=f.dynamicLinkDomain,h.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(Ee(f.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),h.iOSBundleId=f.iOS.bundleId),f.android&&(Ee(f.android.packageName.length>0,m,"missing-android-pkg-name"),h.androidInstallApp=f.android.installApp,h.androidMinimumVersionCode=f.android.minimumVersion,h.androidPackageName=f.android.packageName)}function qo(){return(qo=(0,s.Z)(function*(m,h,f){const v=(0,O.m9)(m),T={requestType:"PASSWORD_RESET",email:h};f&&Ba(v,T,f),yield lf(v,T)})).apply(this,arguments)}function Bs(){return(Bs=(0,s.Z)(function*(m,h,f){yield vd((0,O.m9)(m),{oobCode:h,newPassword:f})})).apply(this,arguments)}function Ua(){return(Ua=(0,s.Z)(function*(m,h){yield sf((0,O.m9)(m),{oobCode:h})})).apply(this,arguments)}function Ha(m,h){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,s.Z)(function*(m,h){const f=(0,O.m9)(m),v=yield vd(f,{oobCode:h}),T=v.requestType;switch(Ee(T,f,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ee(v.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ee(v.mfaInfo,f,"internal-error");default:Ee(v.email,f,"internal-error")}let S=null;return v.mfaInfo&&(S=Ps._fromServerResponse(Fn(f),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:S},operation:T}})).apply(this,arguments)}function Us(){return(Us=(0,s.Z)(function*(m,h){const{data:f}=yield Ha((0,O.m9)(m),h);return f.email})).apply(this,arguments)}function Hs(){return(Hs=(0,s.Z)(function*(m,h,f){const v=Fn(m),T=yield Ss(v,{returnSecureToken:!0,email:h,password:f}),S=yield ze._fromIdTokenResponse(v,"signIn",T);return yield v._updateCurrentUser(S.user),S})).apply(this,arguments)}function Kt(){return(Kt=(0,s.Z)(function*(m,h,f){const v=(0,O.m9)(m),T={requestType:"EMAIL_SIGNIN",email:h};Ee(f.handleCodeInApp,v,"argument-error"),f&&Ba(v,T,f),yield Ra(v,T)})).apply(this,arguments)}function $s(){return($s=(0,s.Z)(function*(m,h,f){const v=(0,O.m9)(m),T=yo.credentialWithLink(h,f||Ke());return Ee(T._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),kl(v,T)})).apply(this,arguments)}function Ed(m,h){return Td.apply(this,arguments)}function Td(){return(Td=(0,s.Z)(function*(m,h){return lt(m,"POST","/v1/accounts:createAuthUri",Ot(m,h))})).apply(this,arguments)}function Id(){return(Id=(0,s.Z)(function*(m,h){const v={identifier:h,continueUri:nt()?Ke():"http://localhost"},{signinMethods:T}=yield Ed((0,O.m9)(m),v);return T||[]})).apply(this,arguments)}function Jr(){return(Jr=(0,s.Z)(function*(m,h){const f=(0,O.m9)(m),T={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};h&&Ba(f.auth,T,h);const{email:S}=yield af(f.auth,T);S!==m.email&&(yield m.reload())})).apply(this,arguments)}function js(){return(js=(0,s.Z)(function*(m,h,f){const v=(0,O.m9)(m),S={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:h};f&&Ba(v.auth,S,f);const{email:U}=yield Al(v.auth,S);U!==m.email&&(yield m.reload())})).apply(this,arguments)}function $u(m,h){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,s.Z)(function*(m,h){return lt(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function en(){return(en=(0,s.Z)(function*(m,{displayName:h,photoURL:f}){if(void 0===h&&void 0===f)return;const v=(0,O.m9)(m),S={idToken:yield v.getIdToken(),displayName:h,photoUrl:f,returnSecureToken:!0},U=yield Jt(v,$u(v.auth,S));v.displayName=U.displayName||null,v.photoURL=U.photoUrl||null;const X=v.providerData.find(({providerId:Ae})=>"password"===Ae);X&&(X.displayName=v.displayName,X.photoURL=v.photoURL),yield v._updateTokensIfNecessary(U)})).apply(this,arguments)}function Ad(m,h,f){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,s.Z)(function*(m,h,f){const{auth:v}=m,S={idToken:yield m.getIdToken(),returnSecureToken:!0};h&&(S.email=h),f&&(S.password=f);const U=yield Jt(m,bd(v,S));yield m._updateTokensIfNecessary(U,!0)})).apply(this,arguments)}class Eo{constructor(h,f,v={}){this.isNewUser=h,this.providerId=f,this.profile=v}}class Ga extends Eo{constructor(h,f,v,T){super(h,f,v),this.username=T}}class Sd extends Eo{constructor(h,f){super(h,"facebook.com",f)}}class Qp extends Ga{constructor(h,f){super(h,"github.com",f,"string"==typeof(null==f?void 0:f.login)?null==f?void 0:f.login:null)}}class yn extends Eo{constructor(h,f){super(h,"google.com",f)}}class Nr extends Ga{constructor(h,f,v){super(h,"twitter.com",f,v)}}function je(m){const{user:h,_tokenResponse:f}=m;return h.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function(m){var h,f;if(!m)return null;const{providerId:v}=m,T=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},S=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!v&&(null==m?void 0:m.idToken)){const U=null===(f=null===(h=po(m.idToken))||void 0===h?void 0:h.firebase)||void 0===f?void 0:f.sign_in_provider;if(U)return new Eo(S,"anonymous"!==U&&"custom"!==U?U:null)}if(!v)return null;switch(v){case"facebook.com":return new Sd(S,T);case"github.com":return new Qp(S,T);case"google.com":return new yn(S,T);case"twitter.com":return new Nr(S,T,m.screenName||null);case"custom":case"anonymous":return new Eo(S,null);default:return new Eo(S,v,T)}}(f)}class Kr{constructor(h,f){this.type=h,this.credential=f}static _fromIdtoken(h){return new Kr("enroll",h)}static _fromMfaPendingCredential(h){return new Kr("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var f,v;if(null==h?void 0:h.multiFactorSession){if(null===(f=h.multiFactorSession)||void 0===f?void 0:f.pendingCredential)return Kr._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null===(v=h.multiFactorSession)||void 0===v?void 0:v.idToken)return Kr._fromIdtoken(h.multiFactorSession.idToken)}return null}}class pr{constructor(h,f,v){this.session=h,this.hints=f,this.signInResolver=v}static _fromError(h,f){const v=Fn(h),T=f.customData._serverResponse,S=(T.mfaInfo||[]).map(X=>Ps._fromServerResponse(v,X));Ee(T.mfaPendingCredential,v,"internal-error");const U=Kr._fromMfaPendingCredential(T.mfaPendingCredential);return new pr(U,S,function(){var X=(0,s.Z)(function*(Ae){const Ie=yield Ae._process(v,U);delete T.mfaInfo,delete T.mfaPendingCredential;const Ze=Object.assign(Object.assign({},T),{idToken:Ie.idToken,refreshToken:Ie.refreshToken});switch(f.operationType){case"signIn":const Ye=yield ze._fromIdTokenResponse(v,f.operationType,Ze);return yield v._updateCurrentUser(Ye.user),Ye;case"reauthenticate":return Ee(f.user,v,"internal-error"),ze._forOperation(f.user,f.operationType,Ze);default:It(v,"internal-error")}});return function(Ae){return X.apply(this,arguments)}}())}resolveSignIn(h){var f=this;return(0,s.Z)(function*(){return f.signInResolver(h)})()}}function Nd(m,h){return lt(m,"POST","/v2/accounts/mfaEnrollment:start",Ot(m,h))}class Qo{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(v=>Ps._fromServerResponse(h.auth,v)))})}static _fromUser(h){return new Qo(h)}getSession(){var h=this;return(0,s.Z)(function*(){return Kr._fromIdtoken(yield h.user.getIdToken())})()}enroll(h,f){var v=this;return(0,s.Z)(function*(){const T=h,S=yield v.getSession(),U=yield Jt(v.user,T._process(v.user.auth,S,f));return yield v.user._updateTokensIfNecessary(U),v.user.reload()})()}unenroll(h){var f=this;return(0,s.Z)(function*(){const v="string"==typeof h?h:h.uid,T=yield f.user.getIdToken(),S=yield Jt(f.user,function(m,h){return lt(m,"POST","/v2/accounts/mfaEnrollment:withdraw",Ot(m,h))}(f.user.auth,{idToken:T,mfaEnrollmentId:v}));f.enrolledFactors=f.enrolledFactors.filter(({uid:U})=>U!==v),yield f.user._updateTokensIfNecessary(S);try{yield f.user.reload()}catch(U){if("auth/user-token-expired"!==U.code)throw U}})()}}const Qt=new WeakMap,nr="__sak";class Gu{constructor(h,f){this.storageRetriever=h,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(nr,"1"),this.storage.removeItem(nr),Promise.resolve(!0)):Promise.resolve(!1)}catch(h){return Promise.resolve(!1)}}_set(h,f){return this.storage.setItem(h,JSON.stringify(f)),Promise.resolve()}_get(h){const f=this.storage.getItem(h);return Promise.resolve(f?JSON.parse(f):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const zs=(()=>{class m extends Gu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,v)=>this.onStorageEvent(f,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const m=(0,O.z$)();return Hr(m)||$r(m)}()&&function(){try{return!(!window||window===window.top)}catch(m){return!1}}(),this.fallbackToPolling=_n(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const v of Object.keys(this.listeners)){const T=this.storage.getItem(v),S=this.localCache[v];T!==S&&f(v,S,T)}}onStorageEvent(f,v=!1){if(!f.key)return void this.forAllChangedKeys((X,Ae,Ie)=>{this.notifyListeners(X,Ie)});const T=f.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const X=this.storage.getItem(T);if(f.newValue!==X)null!==f.newValue?this.storage.setItem(T,f.newValue):this.storage.removeItem(T);else if(this.localCache[T]===f.newValue&&!v)return}const S=()=>{const X=this.storage.getItem(T);!v&&this.localCache[T]===X||this.notifyListeners(T,X)},U=this.storage.getItem(T);(0,O.w1)()&&10===document.documentMode&&U!==f.newValue&&f.newValue!==f.oldValue?setTimeout(S,10):S()}notifyListeners(f,v){this.localCache[f]=v;const T=this.listeners[f];if(T)for(const S of Array.from(T))S(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,v,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:v,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(v)}_removeListener(f,v){this.listeners[f]&&(this.listeners[f].delete(v),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,v){var T=()=>super._set,S=this;return(0,s.Z)(function*(){yield T().call(S,f,v),S.localCache[f]=JSON.stringify(v)})()}_get(f){var v=()=>super._get,T=this;return(0,s.Z)(function*(){const S=yield v().call(T,f);return T.localCache[f]=JSON.stringify(S),S})()}_remove(f){var v=()=>super._remove,T=this;return(0,s.Z)(function*(){yield v().call(T,f),delete T.localCache[f]})()}}return m.type="LOCAL",m})(),sn=(()=>{class m extends Gu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,v){}_removeListener(f,v){}}return m.type="SESSION",m})();let So=(()=>{class m{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const v=this.receivers.find(S=>S.isListeningto(f));if(v)return v;const T=new m(f);return this.receivers.push(T),T}isListeningto(f){return this.eventTarget===f}handleEvent(f){var v=this;return(0,s.Z)(function*(){const T=f,{eventId:S,eventType:U,data:X}=T.data,Ae=v.handlersMap[U];if(!(null==Ae?void 0:Ae.size))return;T.ports[0].postMessage({status:"ack",eventId:S,eventType:U});const Ie=Array.from(Ae).map(function(){var Ye=(0,s.Z)(function*(At){return At(T.origin,X)});return function(At){return Ye.apply(this,arguments)}}()),Ze=yield function(m){return Promise.all(m.map(function(){var h=(0,s.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(v){return{fulfilled:!1,reason:v}}});return function(f){return h.apply(this,arguments)}}()))}(Ie);T.ports[0].postMessage({status:"done",eventId:S,eventType:U,response:Ze})})()}_subscribe(f,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(v)}_unsubscribe(f,v){this.handlersMap[f]&&v&&this.handlersMap[f].delete(v),(!v||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function No(m="",h=10){let f="";for(let v=0;v<h;v++)f+=Math.floor(10*Math.random());return m+f}class $n{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,f,v=50){var T=this;return(0,s.Z)(function*(){const S="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!S)throw new Error("connection_unavailable");let U,X;return new Promise((Ae,Ie)=>{const Ze=No("",20);S.port1.start();const Ye=setTimeout(()=>{Ie(new Error("unsupported_event"))},v);X={messageChannel:S,onMessage(At){const cn=At;if(cn.data.eventId===Ze)switch(cn.data.status){case"ack":clearTimeout(Ye),U=setTimeout(()=>{Ie(new Error("timeout"))},3e3);break;case"done":clearTimeout(U),Ae(cn.data.response);break;default:clearTimeout(Ye),clearTimeout(U),Ie(new Error("invalid_response"))}}},T.handlers.add(X),S.port1.addEventListener("message",X.onMessage),T.target.postMessage({eventType:h,eventId:Ze,data:f},[S.port2])}).finally(()=>{X&&T.removeMessageHandler(X)})})()}}function tn(){return window}function un(){return void 0!==tn().WorkerGlobalScope&&"function"==typeof tn().importScripts}function rr(){return(rr=(0,s.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(m){return null}})).apply(this,arguments)}const $t="firebaseLocalStorageDb",Lt="firebaseLocalStorage",eo="fbase_key";class Rr{constructor(h){this.request=h}toPromise(){return new Promise((h,f)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function Zt(m,h){return m.transaction([Lt],h?"readwrite":"readonly").objectStore(Lt)}function Rd(){const m=indexedDB.open($t,1);return new Promise((h,f)=>{m.addEventListener("error",()=>{f(m.error)}),m.addEventListener("upgradeneeded",()=>{const v=m.result;try{v.createObjectStore(Lt,{keyPath:eo})}catch(T){f(T)}}),m.addEventListener("success",(0,s.Z)(function*(){const v=m.result;v.objectStoreNames.contains(Lt)?h(v):(v.close(),yield function(){const m=indexedDB.deleteDatabase($t);return new Rr(m).toPromise()}(),h(yield Rd()))}))})}function kd(m,h,f){return xd.apply(this,arguments)}function xd(){return(xd=(0,s.Z)(function*(m,h,f){const v=Zt(m,!0).put({[eo]:h,value:f});return new Rr(v).toPromise()})).apply(this,arguments)}function Ln(){return(Ln=(0,s.Z)(function*(m,h){const f=Zt(m,!1).get(h),v=yield new Rr(f).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function Wu(m,h){const f=Zt(m,!0).delete(h);return new Rr(f).toPromise()}const to=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,s.Z)(function*(){return f.db||(f.db=yield Rd()),f.db})()}_withRetries(f){var v=this;return(0,s.Z)(function*(){let T=0;for(;;)try{const S=yield v._openDb();return yield f(S)}catch(S){if(T++>3)throw S;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,s.Z)(function*(){return un()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,s.Z)(function*(){f.receiver=So._getInstance(un()?self:null),f.receiver._subscribe("keyChanged",function(){var v=(0,s.Z)(function*(T,S){return{keyProcessed:(yield f._poll()).includes(S.key)}});return function(T,S){return v.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var v=(0,s.Z)(function*(T,S){return["keyChanged"]});return function(T,S){return v.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,s.Z)(function*(){var v,T;if(f.activeServiceWorker=yield function(){return rr.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new $n(f.activeServiceWorker);const S=yield f.sender._send("ping",{},800);!S||(null===(v=S[0])||void 0===v?void 0:v.fulfilled)&&(null===(T=S[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var v=this;return(0,s.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function(){var m;return(null===(m=null==navigator?void 0:navigator.serviceWorker)||void 0===m?void 0:m.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:f},v.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const f=yield Rd();return yield kd(f,nr,"1"),yield Wu(f,nr),!0}catch(f){}return!1})()}_withPendingWrite(f){var v=this;return(0,s.Z)(function*(){v.pendingWrites++;try{yield f()}finally{v.pendingWrites--}})()}_set(f,v){var T=this;return(0,s.Z)(function*(){return T._withPendingWrite((0,s.Z)(function*(){return yield T._withRetries(S=>kd(S,f,v)),T.localCache[f]=v,T.notifyServiceWorker(f)}))})()}_get(f){var v=this;return(0,s.Z)(function*(){const T=yield v._withRetries(S=>function(m,h){return Ln.apply(this,arguments)}(S,f));return v.localCache[f]=T,T})()}_remove(f){var v=this;return(0,s.Z)(function*(){return v._withPendingWrite((0,s.Z)(function*(){return yield v._withRetries(T=>Wu(T,f)),delete v.localCache[f],v.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,s.Z)(function*(){const v=yield f._withRetries(U=>{const X=Zt(U,!1).getAll();return new Rr(X).toPromise()});if(!v)return[];if(0!==f.pendingWrites)return[];const T=[],S=new Set;for(const{fbase_key:U,value:X}of v)S.add(U),JSON.stringify(f.localCache[U])!==JSON.stringify(X)&&(f.notifyListeners(U,X),T.push(U));for(const U of Object.keys(f.localCache))f.localCache[U]&&!S.has(U)&&(f.notifyListeners(U,null),T.push(U));return T})()}notifyListeners(f,v){this.localCache[f]=v;const T=this.listeners[f];if(T)for(const S of Array.from(T))S(v)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(v)}_removeListener(f,v){this.listeners[f]&&(this.listeners[f].delete(v),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})();function qs(m,h){return lt(m,"POST","/v2/accounts/mfaSignIn:start",Ot(m,h))}function Ni(){return(Ni=(0,s.Z)(function*(m){return(yield lt(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Bl(m){return new Promise((h,f)=>{const v=document.createElement("script");v.setAttribute("src",m),v.onload=h,v.onerror=T=>{const S=hn("internal-error");S.customData=T,f(S)},v.type="text/javascript",v.charset="UTF-8",function(){var m,h;return null!==(h=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==h?h:document}().appendChild(v)})}function es(m){return`__${m}${Math.floor(1e6*Math.random())}`}const Js=1e12;class Vl{constructor(h){this.auth=h,this.counter=Js,this._widgets=new Map}render(h,f){const v=this.counter;return this._widgets.set(v,new Pd(h,this.auth.name,f||{})),this.counter++,v}reset(h){var f;const v=h||Js;null===(f=this._widgets.get(v))||void 0===f||f.delete(),this._widgets.delete(v)}getResponse(h){var f;return(null===(f=this._widgets.get(h||Js))||void 0===f?void 0:f.getResponse())||""}execute(h){var f=this;return(0,s.Z)(function*(){var v;return null===(v=f._widgets.get(h||Js))||void 0===v||v.execute(),""})()}}class Pd{constructor(h,f,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof h?document.getElementById(h):h;Ee(T,"argument-error",{appName:f}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(m){const h=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<50;v++)h.push(f.charAt(Math.floor(Math.random()*f.length)));return h.join("")}();const{callback:h,"expired-callback":f}=this.params;if(h)try{h(this.responseToken)}catch(v){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch(v){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ct=es("rcb"),li=new kt(3e4,6e4);class ns{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!tn().grecaptcha}load(h,f=""){return Ee((m=f).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m),h,"argument-error"),this.shouldResolveImmediately(f)?Promise.resolve(tn().grecaptcha):new Promise((v,T)=>{const S=tn().setTimeout(()=>{T(hn(h,"network-request-failed"))},li.get());tn()[ct]=()=>{tn().clearTimeout(S),delete tn()[ct];const X=tn().grecaptcha;if(!X)return void T(hn(h,"internal-error"));const Ae=X.render;X.render=(Ie,Ze)=>{const Ye=Ae(Ie,Ze);return this.counter++,Ye},this.hostLanguage=f,v(X)},Bl(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:ct,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(S),T(hn(h,"internal-error"))})});var m}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){return!!tn().grecaptcha&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ld{load(h){return(0,s.Z)(function*(){return new Vl(h)})()}clearedOneInstance(){}}const Yu="recaptcha",Bd={theme:"light",type:"image"};class ui{constructor(h,f=Object.assign({},Bd),v){this.parameters=f,this.type=Yu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Fn(v),this.isInvisible="invisible"===this.parameters.size,Ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof h?document.getElementById(h):h;Ee(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ld:new ns,this.validateStartingState()}verify(){var h=this;return(0,s.Z)(function*(){h.assertNotDestroyed();const f=yield h.render(),v=h.getAssertedRecaptcha();return v.getResponse(f)||new Promise(S=>{const U=X=>{!X||(h.tokenChangeListeners.delete(U),S(X))};h.tokenChangeListeners.add(U),h.isInvisible&&v.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){Ee(!this.parameters.sitekey,this.auth,"argument-error"),Ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return f=>{if(this.tokenChangeListeners.forEach(v=>v(f)),"function"==typeof h)h(f);else if("string"==typeof h){const v=tn()[h];"function"==typeof v&&v(f)}}}assertNotDestroyed(){Ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,s.Z)(function*(){if(yield h.init(),!h.widgetId){let f=h.container;if(!h.isInvisible){const v=document.createElement("div");f.appendChild(v),f=v}h.widgetId=h.getAssertedRecaptcha().render(f,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,s.Z)(function*(){Ee(nt()&&!un(),h.auth,"internal-error"),yield function(){let m=null;return new Promise(h=>{"complete"!==document.readyState?(m=()=>h(),window.addEventListener("load",m)):h()}).catch(h=>{throw m&&window.removeEventListener("load",m),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const f=yield function(m){return Ni.apply(this,arguments)}(h.auth);Ee(f,h.auth,"internal-error"),h.parameters.sitekey=f})()}getAssertedRecaptcha(){return Ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class qa{constructor(h,f){this.verificationId=h,this.onConfirmation=f}confirm(h){const f=mo._fromVerification(this.verificationId,h);return this.onConfirmation(f)}}function yr(){return(yr=(0,s.Z)(function*(m,h,f){const v=Fn(m),T=yield kr(v,h,(0,O.m9)(f));return new qa(T,S=>kl(v,S))})).apply(this,arguments)}function jn(){return(jn=(0,s.Z)(function*(m,h,f){const v=(0,O.m9)(m);yield rn(!1,v,"phone");const T=yield kr(v.auth,h,(0,O.m9)(f));return new qa(T,S=>ks(v,S))})).apply(this,arguments)}function Ka(){return(Ka=(0,s.Z)(function*(m,h,f){const v=(0,O.m9)(m),T=yield kr(v.auth,h,(0,O.m9)(f));return new qa(T,S=>Hn(v,S))})).apply(this,arguments)}function kr(m,h,f){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,s.Z)(function*(m,h,f){var v;const T=yield f.verify();try{let S;if(Ee("string"==typeof T,m,"argument-error"),Ee(f.type===Yu,m,"argument-error"),S="string"==typeof h?{phoneNumber:h}:h,"session"in S){const U=S.session;if("phoneNumber"in S)return Ee("enroll"===U.type,m,"internal-error"),(yield Nd(m,{idToken:U.credential,phoneEnrollmentInfo:{phoneNumber:S.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{Ee("signin"===U.type,m,"internal-error");const X=(null===(v=S.multiFactorHint)||void 0===v?void 0:v.uid)||S.multiFactorUid;return Ee(X,m,"missing-multi-factor-info"),(yield qs(m,{mfaPendingCredential:U.credential,mfaEnrollmentId:X,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:U}=yield Ir(m,{phoneNumber:S.phoneNumber,recaptchaToken:T});return U}}finally{f._reset()}})).apply(this,arguments)}function jl(){return(jl=(0,s.Z)(function*(m,h){yield bt((0,O.m9)(m),h)})).apply(this,arguments)}let D=(()=>{class m{constructor(f){this.providerId=m.PROVIDER_ID,this.auth=Fn(f)}verifyPhoneNumber(f,v){return kr(this.auth,f,(0,O.m9)(v))}static credential(f,v){return mo._fromVerification(f,v)}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:v,temporaryProof:T}=f;return v&&T?mo._fromTokenResponse(v,T):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function E(m,h){return h?Mt(h):(Ee(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class M extends Wo{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Wr(h,this._buildIdpRequest())}_linkToIdToken(h,f){return Wr(h,this._buildIdpRequest(f))}_getReauthenticationResolver(h){return Wr(h,this._buildIdpRequest())}_buildIdpRequest(h){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(f.idToken=h),f}}function L(m){return La(m.auth,new M(m),m.bypassAuthState)}function Z(m){const{auth:h,user:f}=m;return Ee(f,h,"internal-error"),Zr(f,new M(m),m.bypassAuthState)}function z(m){return De.apply(this,arguments)}function De(){return(De=(0,s.Z)(function*(m){const{auth:h,user:f}=m;return Ee(f,h,"internal-error"),bt(f,new M(m),m.bypassAuthState)})).apply(this,arguments)}class Ge{constructor(h,f,v,T,S=!1){this.auth=h,this.resolver=v,this.user=T,this.bypassAuthState=S,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var h=this;return new Promise(function(){var f=(0,s.Z)(function*(v,T){h.pendingPromise={resolve:v,reject:T};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(S){h.reject(S)}});return function(v,T){return f.apply(this,arguments)}}())}onAuthEvent(h){var f=this;return(0,s.Z)(function*(){const{urlResponse:v,sessionId:T,postBody:S,tenantId:U,error:X,type:Ae}=h;if(X)return void f.reject(X);const Ie={auth:f.auth,requestUri:v,sessionId:T,tenantId:U||void 0,postBody:S||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(Ae)(Ie))}catch(Ze){f.reject(Ze)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return L;case"linkViaPopup":case"linkViaRedirect":return z;case"reauthViaPopup":case"reauthViaRedirect":return Z;default:It(this.auth,"internal-error")}}resolve(h){Rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Fe=new kt(2e3,1e4);function Bt(){return(Bt=(0,s.Z)(function*(m,h,f){const v=Fn(m);Zi(m,h,_i);const T=E(v,f);return new Mo(v,"signInViaPopup",h,T).executeNotNull()})).apply(this,arguments)}function wi(){return(wi=(0,s.Z)(function*(m,h,f){const v=(0,O.m9)(m);Zi(v.auth,h,_i);const T=E(v.auth,f);return new Mo(v.auth,"reauthViaPopup",h,T,v).executeNotNull()})).apply(this,arguments)}function Qn(){return(Qn=(0,s.Z)(function*(m,h,f){const v=(0,O.m9)(m);Zi(v.auth,h,_i);const T=E(v.auth,f);return new Mo(v.auth,"linkViaPopup",h,T,v).executeNotNull()})).apply(this,arguments)}let Mo=(()=>{class m extends Ge{constructor(f,v,T,S,U){super(f,v,S,U),this.provider=T,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var f=this;return(0,s.Z)(function*(){const v=yield f.execute();return Ee(v,f.auth,"internal-error"),v})()}onExecution(){var f=this;return(0,s.Z)(function*(){Rn(1===f.filter.length,"Popup operations only handle one event");const v=No();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],v),f.authWindow.associatedEvent=v,f.resolver._originValidation(f.auth).catch(T=>{f.reject(T)}),f.resolver._isIframeWebStorageSupported(f.auth,T=>{T||f.reject(hn(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const f=()=>{var v,T;this.pollId=(null===(T=null===(v=this.authWindow)||void 0===v?void 0:v.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(hn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,Fe.get())};f()}}return m.currentPopupAction=null,m})();const vr=new Map;class xr extends Ge{constructor(h,f,v=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,v),this.eventId=null}execute(){var h=()=>super.execute,f=this;return(0,s.Z)(function*(){let v=vr.get(f.auth._key());if(!v){try{const S=(yield function(m,h){return Ks.apply(this,arguments)}(f.resolver,f.auth))?yield h().call(f):null;v=()=>Promise.resolve(S)}catch(T){v=()=>Promise.reject(T)}vr.set(f.auth._key(),v)}return f.bypassAuthState||vr.set(f.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(h){var f=()=>super.onAuthEvent,v=this;return(0,s.Z)(function*(){if("signInViaRedirect"===h.type)return f().call(v,h);if("unknown"!==h.type){if(h.eventId){const T=yield v.auth._redirectUserForId(h.eventId);if(T)return v.user=T,f().call(v,h);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function Ks(){return(Ks=(0,s.Z)(function*(m,h){const f=ko(h),v=Qs(m);if(!(yield v._isAvailable()))return!1;const T="true"===(yield v._get(f));return yield v._remove(f),T})).apply(this,arguments)}function Gl(m,h){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,s.Z)(function*(m,h){return Qs(m)._set(ko(h),"true")})).apply(this,arguments)}function Qs(m){return Mt(m._redirectPersistence)}function ko(m){return Si("pendingRedirect",m.config.apiKey,m.name)}function qu(){return(qu=(0,s.Z)(function*(m,h,f){const v=Fn(m);Zi(m,h,_i);const T=E(v,f);return yield Gl(T,v),T._openRedirect(v,h,"signInViaRedirect")})).apply(this,arguments)}function Ju(){return(Ju=(0,s.Z)(function*(m,h,f){const v=(0,O.m9)(m);Zi(v.auth,h,_i);const T=E(v.auth,f);yield Gl(T,v.auth);const S=yield Xa(v);return T._openRedirect(v.auth,h,"reauthViaRedirect",S)})).apply(this,arguments)}function Vi(){return(Vi=(0,s.Z)(function*(m,h,f){const v=(0,O.m9)(m);Zi(v.auth,h,_i);const T=E(v.auth,f);yield rn(!1,v,h.providerId),yield Gl(T,v.auth);const S=yield Xa(v);return T._openRedirect(v.auth,h,"linkViaRedirect",S)})).apply(this,arguments)}function xo(){return(xo=(0,s.Z)(function*(m,h){return yield Fn(m)._initializationPromise,Wl(m,h,!1)})).apply(this,arguments)}function Wl(m,h){return jd.apply(this,arguments)}function jd(){return(jd=(0,s.Z)(function*(m,h,f=!1){const v=Fn(m),T=E(v,h),U=yield new xr(v,T,f).execute();return U&&!f&&(delete U.user._redirectEventId,yield v._persistUserIfCurrent(U.user),yield v._setRedirectUser(null,h)),U})).apply(this,arguments)}function Xa(m){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,s.Z)(function*(m){const h=No(`${m.uid}:::`);return m._redirectEventId=h,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),h})).apply(this,arguments)}class el{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let f=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(h,v)&&(f=!0,this.sendToConsumer(h,v),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zl(m);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=h,f=!0)),f}sendToConsumer(h,f){var v;if(h.error&&!zl(h)){const T=(null===(v=h.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";f.onError(hn(this.auth,T))}else f.onAuthEvent(h)}isEventForConsumer(h,f){const v=null===f.eventId||!!h.eventId&&h.eventId===f.eventId;return f.filter.includes(h.type)&&v}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ku(h))}saveEventToCache(h){this.cachedEventUids.add(Ku(h)),this.lastProcessedEventTime=Date.now()}}function Ku(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(h=>h).join("-")}function zl({type:m,error:h}){return"unknown"===m&&"auth/no-auth-event"===(null==h?void 0:h.code)}function Qu(m){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,s.Z)(function*(m,h={}){return lt(m,"GET","/v1/projects",h)})).apply(this,arguments)}const ng=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yl=/^https?/;function Or(){return(Or=(0,s.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:h}=yield Qu(m);for(const f of h)try{if(tl(f))return}catch(v){}It(m,"unauthorized-domain")})).apply(this,arguments)}function tl(m){const h=Ke(),{protocol:f,hostname:v}=new URL(h);if(m.startsWith("chrome-extension://")){const U=new URL(m);return""===U.hostname&&""===v?"chrome-extension:"===f&&m.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===f&&U.hostname===v}if(!Yl.test(f))return!1;if(ng.test(m))return v===m;const T=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(v)}const ql=new kt(3e4,6e4);function nl(){const m=tn().___jsl;if(null==m?void 0:m.H)for(const h of Object.keys(m.H))if(m.H[h].r=m.H[h].r||[],m.H[h].L=m.H[h].L||[],m.H[h].r=[...m.H[h].L],m.CP)for(let f=0;f<m.CP.length;f++)m.CP[f]=null}let Jl=null;function pf(m){return Jl=Jl||function(m){return new Promise((h,f)=>{var v,T,S;function U(){nl(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{nl(),f(hn(m,"network-request-failed"))},timeout:ql.get()})}if(null===(T=null===(v=tn().gapi)||void 0===v?void 0:v.iframes)||void 0===T?void 0:T.Iframe)h(gapi.iframes.getContext());else{if(!(null===(S=tn().gapi)||void 0===S?void 0:S.load)){const X=es("iframefcb");return tn()[X]=()=>{gapi.load?U():f(hn(m,"network-request-failed"))},Bl(`https://apis.google.com/js/api.js?onload=${X}`).catch(Ae=>f(Ae))}U()}}).catch(h=>{throw Jl=null,h})}(m),Jl}const rg=new kt(5e3,15e3),sg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ag=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gf(m){const h=m.config;Ee(h.authDomain,m,"auth-domain-config-required");const f=h.emulator?Ue(h,"emulator/auth/iframe"):`https://${m.config.authDomain}/__/auth/iframe`,v={apiKey:h.apiKey,appName:m.name,v:ae.SDK_VERSION},T=ag.get(m.config.apiHost);T&&(v.eid=T);const S=m._getFrameworks();return S.length&&(v.fw=S.join(",")),`${f}?${(0,O.xO)(v).slice(1)}`}function Zd(){return Zd=(0,s.Z)(function*(m){const h=yield pf(m),f=tn().gapi;return Ee(f,m,"internal-error"),h.open({where:document.body,url:gf(m),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sg,dontclear:!0},v=>new Promise(function(){var T=(0,s.Z)(function*(S,U){yield v.restyle({setHideOnLeave:!1});const X=hn(m,"network-request-failed"),Ae=tn().setTimeout(()=>{U(X)},rg.get());function Ie(){tn().clearTimeout(Ae),S(v)}v.ping(Ie).then(Ie,()=>{U(X)})});return function(S,U){return T.apply(this,arguments)}}()))}),Zd.apply(this,arguments)}const ea={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Yd{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(h){}}}function Fr(m,h,f,v,T,S){Ee(m.config.authDomain,m,"auth-domain-config-required"),Ee(m.config.apiKey,m,"invalid-api-key");const U={apiKey:m.config.apiKey,appName:m.name,authType:f,redirectUrl:v,v:ae.SDK_VERSION,eventId:T};if(h instanceof _i){h.setDefaultLanguage(m.languageCode),U.providerId=h.providerId||"",(0,O.xb)(h.getCustomParameters())||(U.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Ae,Ie]of Object.entries(S||{}))U[Ae]=Ie}if(h instanceof er){const Ae=h.getScopes().filter(Ie=>""!==Ie);Ae.length>0&&(U.scopes=Ae.join(","))}m.tenantId&&(U.tid=m.tenantId);const X=U;for(const Ae of Object.keys(X))void 0===X[Ae]&&delete X[Ae];return`${function({config:m}){return m.emulator?Ue(m,"emulator/auth/handler"):`https://${m.authDomain}/__/auth/handler`}(m)}?${(0,O.xO)(X).slice(1)}`}const Kl="webStorageSupport";class na extends class{constructor(h){this.factorId=h}_process(h,f,v){switch(f.type){case"enroll":return this._finalizeEnroll(h,f.credential,v);case"signin":return this._finalizeSignIn(h,f.credential);default:return Un("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new na(h)}_finalizeEnroll(h,f,v){return function(m,h){return lt(m,"POST","/v2/accounts/mfaEnrollment:finalize",Ot(m,h))}(h,{idToken:f,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,f){return function(m,h){return lt(m,"POST","/v2/accounts/mfaSignIn:finalize",Ot(m,h))}(h,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ug=(()=>{class m{constructor(){}static assertion(f){return na._fromCredential(f)}}return m.FACTOR_ID="phone",m})();var m,ol="@firebase/auth";class bf{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var f=this;return(0,s.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const f=this.auth.onIdTokenChanged(v=>{var T;h((null===(T=v)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,f),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const f=this.internalListeners.get(h);!f||(this.internalListeners.delete(h),f(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ia(){return window}function tc(){return tc=(0,s.Z)(function*(m,h,f){var v;const{BuildInfo:T}=ia();Rn(h.sessionId,"AuthEvent did not contain a session ID");const S=yield hg(h.sessionId),U={};return $r()?U.ibi=T.packageName:ws()?U.apn=T.packageName:It(m,"operation-not-supported-in-this-environment"),T.displayName&&(U.appDisplayName=T.displayName),U.sessionId=S,Fr(m,f,h.type,void 0,null!==(v=h.eventId)&&void 0!==v?v:void 0,U)}),tc.apply(this,arguments)}function os(){return os=(0,s.Z)(function*(m){const{BuildInfo:h}=ia(),f={};$r()?f.iosBundleId=h.packageName:ws()?f.androidPackageName=h.packageName:It(m,"operation-not-supported-in-this-environment"),yield Qu(m,f)}),os.apply(this,arguments)}function Kd(){return Kd=(0,s.Z)(function*(m,h,f){const{cordova:v}=ia();let T=()=>{};try{yield new Promise((S,U)=>{let X=null;function Ae(){var Ye;S();const At=null===(Ye=v.plugins.browsertab)||void 0===Ye?void 0:Ye.close;"function"==typeof At&&At(),"function"==typeof(null==f?void 0:f.close)&&f.close()}function Ie(){X||(X=window.setTimeout(()=>{U(hn(m,"redirect-cancelled-by-user"))},2e3))}function Ze(){"visible"===(null==document?void 0:document.visibilityState)&&Ie()}h.addPassiveListener(Ae),document.addEventListener("resume",Ie,!1),ws()&&document.addEventListener("visibilitychange",Ze,!1),T=()=>{h.removePassiveListener(Ae),document.removeEventListener("resume",Ie,!1),document.removeEventListener("visibilitychange",Ze,!1),X&&window.clearTimeout(X)}})}finally{T()}}),Kd.apply(this,arguments)}function hg(m){return Xl.apply(this,arguments)}function Xl(){return Xl=(0,s.Z)(function*(m){const h=fg(m),f=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(f)).map(T=>T.toString(16).padStart(2,"0")).join("")}),Xl.apply(this,arguments)}function fg(m){if(Rn(/[0-9a-zA-Z]+/.test(m),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(m);const h=new ArrayBuffer(m.length),f=new Uint8Array(h);for(let v=0;v<m.length;v++)f[v]=m.charCodeAt(v);return f}m="Browser",(0,ae._registerComponent)(new de.wA("auth",(h,{options:f})=>{const v=h.getProvider("app").getImmediate(),{apiKey:T,authDomain:S}=v.options;return(U=>{Ee(T&&!T.includes(":"),"invalid-api-key",{appName:U.name}),Ee(!(null==S?void 0:S.includes(":")),"argument-error",{appName:U.name});const X={apiKey:T,authDomain:S,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cr(m)},Ae=new dr(U,X);return function(m,h){const f=(null==h?void 0:h.persistence)||[],v=(Array.isArray(f)?f:[f]).map(Mt);(null==h?void 0:h.errorMap)&&m._updateErrorMap(h.errorMap),m._initializeWithPersistence(v,null==h?void 0:h.popupRedirectResolver)}(Ae,f),Ae})(v)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,f,v)=>{h.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new de.wA("auth-internal",h=>{const f=Fn(h.getProvider("auth").getImmediate());return new bf(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(ol,"0.19.4",void 0),(0,ae.registerVersion)(ol,"0.19.4","esm2017");class Gn extends el{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(h)),super.onEvent(h)}initialized(){var h=this;return(0,s.Z)(function*(){yield h.initPromise})()}}function oc(m){return Xn.apply(this,arguments)}function Xn(){return Xn=(0,s.Z)(function*(m){const h=yield Xd()._get(eh(m));return h&&(yield Xd()._remove(eh(m))),h}),Xn.apply(this,arguments)}function Qd(){const m=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<20;f++){const v=Math.floor(Math.random()*h.length);m.push(h.charAt(v))}return m.join("")}function Xd(){return Mt(zs)}function eh(m){return Si("authEvent",m.config.apiKey,m.name)}function al(m){if(!(null==m?void 0:m.includes("?")))return{};const[h,...f]=m.split("?");return(0,O.zd)(f.join("?"))}function nu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:hn("no-auth-event")}}function oa(){var m;return(null===(m=null==self?void 0:self.location)||void 0===m?void 0:m.protocol)||null}function Df(m=(0,O.z$)()){return!("file:"!==oa()&&"ionic:"!==oa()||!m.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ef(){try{const m=self.localStorage,h=No();if(m)return m.setItem(h,"1"),m.removeItem(h),!function(m=(0,O.z$)()){return(0,O.w1)()&&11===(null==document?void 0:document.documentMode)||function(m=(0,O.z$)()){return/Edge\/\d+/.test(m)}(m)}()||(0,O.hl)()}catch(m){return nh()&&(0,O.hl)()}return!1}function nh(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ih(){return("http:"===oa()||"https:"===oa()||(0,O.ru)()||Df())&&!((0,O.b$)()||(0,O.UG)())&&Ef()&&!nh()}function lc(){return Df()&&"undefined"!=typeof document}function rh(){return rh=(0,s.Z)(function*(){return!!lc()&&new Promise(m=>{const h=setTimeout(()=>{m(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),m(!0)})})}),rh.apply(this,arguments)}const or={LOCAL:"local",NONE:"none",SESSION:"session"},ru=Ee,oh="persistence";function If(m){return uc.apply(this,arguments)}function uc(){return uc=(0,s.Z)(function*(m){yield m._initializationPromise;const h=wr(),f=Si(oh,m.config.apiKey,m.name);(null==h?void 0:h.sessionStorage)&&h.sessionStorage.setItem(f,m._getPersistence())}),uc.apply(this,arguments)}function wr(){return"undefined"!=typeof window?window:null}const Dg=Ee;class aa{constructor(){this.browserResolver=Mt(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sn,this._completeRedirectFn=Wl}_openPopup(h,f,v,T){var S=this;return(0,s.Z)(function*(){var U;Rn(null===(U=S.eventManagers[h._key()])||void 0===U?void 0:U.manager,"_initialize() not called before _openPopup()");const X=Fr(h,f,v,Ke(),T);return function(m,h,f,v=500,T=600){const S=Math.max((window.screen.availHeight-T)/2,0).toString(),U=Math.max((window.screen.availWidth-v)/2,0).toString();let X="";const Ae=Object.assign(Object.assign({},ea),{width:v.toString(),height:T.toString(),top:S,left:U}),Ie=(0,O.z$)().toLowerCase();f&&(X=Li(Ie)?"_blank":f),bs(Ie)&&(h=h||"http://localhost",Ae.scrollbars="yes");const Ze=Object.entries(Ae).reduce((At,[cn,io])=>`${At}${cn}=${io},`,"");if(function(m=(0,O.z$)()){var h;return $r(m)&&!!(null===(h=window.navigator)||void 0===h?void 0:h.standalone)}(Ie)&&"_self"!==X)return function(m,h){const f=document.createElement("a");f.href=m,f.target=h;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(v)}(h||"",X),new Yd(null);const Ye=window.open(h||"",X,Ze);Ee(Ye,m,"popup-blocked");try{Ye.focus()}catch(At){}return new Yd(Ye)}(h,X,No())})()}_openRedirect(h,f,v,T){var S=this;return(0,s.Z)(function*(){return yield S._originValidation(h),m=Fr(h,f,v,Ke(),T),tn().location.href=m,new Promise(()=>{});var m})()}_initialize(h){const f=h._key();if(this.eventManagers[f]){const{manager:T,promise:S}=this.eventManagers[f];return T?Promise.resolve(T):(Rn(S,"If manager is not set, promise should be"),S)}const v=this.initAndGetManager(h);return this.eventManagers[f]={promise:v},v.catch(()=>{delete this.eventManagers[f]}),v}initAndGetManager(h){var f=this;return(0,s.Z)(function*(){const v=yield function(m){return Zd.apply(this,arguments)}(h),T=new el(h);return v.register("authEvent",S=>(Ee(null==S?void 0:S.authEvent,h,"invalid-auth-event"),{status:T.onEvent(S.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[h._key()]={manager:T},f.iframes[h._key()]=v,T})()}_isIframeWebStorageSupported(h,f){this.iframes[h._key()].send(Kl,{type:Kl},T=>{var S;const U=null===(S=null==T?void 0:T[0])||void 0===S?void 0:S[Kl];void 0!==U&&f(!!U),It(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const f=h._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function(m){return Or.apply(this,arguments)}(h)),this.originValidationPromises[f]}get _shouldInitProactively(){return _n()||Hr()||$r()}}),this.cordovaResolver=Mt(class{constructor(){this._redirectPersistence=sn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Wl}_initialize(h){var f=this;return(0,s.Z)(function*(){const v=h._key();let T=f.eventManagers.get(v);return T||(T=new Gn(h),f.eventManagers.set(v,T),f.attachCallbackListeners(h,T)),T})()}_openPopup(h){It(h,"operation-not-supported-in-this-environment")}_openRedirect(h,f,v,T){var S=this;return(0,s.Z)(function*(){!function(m){var h,f,v,T,S,U,X,Ae,Ie,Ze;const Ye=ia();Ee("function"==typeof(null===(h=null==Ye?void 0:Ye.universalLinks)||void 0===h?void 0:h.subscribe),m,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ee(void 0!==(null===(f=null==Ye?void 0:Ye.BuildInfo)||void 0===f?void 0:f.packageName),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ee("function"==typeof(null===(S=null===(T=null===(v=null==Ye?void 0:Ye.cordova)||void 0===v?void 0:v.plugins)||void 0===T?void 0:T.browsertab)||void 0===S?void 0:S.openUrl),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ee("function"==typeof(null===(Ae=null===(X=null===(U=null==Ye?void 0:Ye.cordova)||void 0===U?void 0:U.plugins)||void 0===X?void 0:X.browsertab)||void 0===Ae?void 0:Ae.isAvailable),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ee("function"==typeof(null===(Ze=null===(Ie=null==Ye?void 0:Ye.cordova)||void 0===Ie?void 0:Ie.InAppBrowser)||void 0===Ze?void 0:Ze.open),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const U=yield S._initialize(h);yield U.initialized(),U.resetRedirect(),vr.clear(),yield S._originValidation(h);const X=function(m,h,f=null){return{type:h,eventId:f,urlResponse:null,sessionId:Qd(),postBody:null,tenantId:m.tenantId,error:hn(m,"no-auth-event")}}(h,v,T);yield function(m,h){return Xd()._set(eh(m),h)}(h,X);const Ae=yield function(m,h,f){return tc.apply(this,arguments)}(h,X,f),Ie=yield function(m){const{cordova:h}=ia();return new Promise(f=>{h.plugins.browsertab.isAvailable(v=>{let T=null;v?h.plugins.browsertab.openUrl(m):T=h.InAppBrowser.open(m,function(m=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}()?"_blank":"_system","location=yes"),f(T)})})}(Ae);return function(m,h,f){return Kd.apply(this,arguments)}(h,U,Ie)})()}_isIframeWebStorageSupported(h,f){throw new Error("Method not implemented.")}_originValidation(h){const f=h._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function(m){return os.apply(this,arguments)}(h)),this.originValidationPromises[f]}attachCallbackListeners(h,f){const{universalLinks:v,handleOpenURL:T,BuildInfo:S}=ia(),U=setTimeout((0,s.Z)(function*(){yield oc(h),f.onEvent(nu())}),500),X=function(){var Ze=(0,s.Z)(function*(Ye){clearTimeout(U);const At=yield oc(h);let cn=null;At&&(null==Ye?void 0:Ye.url)&&(cn=function(m,h){var f,v;const T=function(m){const h=al(m),f=h.link?decodeURIComponent(h.link):void 0,v=al(f).link,T=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return al(T).link||T||v||f||m}(h);if(T.includes("/__/auth/callback")){const S=al(T),U=S.firebaseError?function(m){try{return JSON.parse(m)}catch(h){return null}}(decodeURIComponent(S.firebaseError)):null,X=null===(v=null===(f=null==U?void 0:U.code)||void 0===f?void 0:f.split("auth/"))||void 0===v?void 0:v[1],Ae=X?hn(X):null;return Ae?{type:m.type,eventId:m.eventId,tenantId:m.tenantId,error:Ae,urlResponse:null,sessionId:null,postBody:null}:{type:m.type,eventId:m.eventId,tenantId:m.tenantId,sessionId:m.sessionId,urlResponse:T,postBody:null}}return null}(At,Ye.url)),f.onEvent(cn||nu())});return function(At){return Ze.apply(this,arguments)}}();void 0!==v&&"function"==typeof v.subscribe&&v.subscribe(null,X);const Ae=T,Ie=`${S.packageName.toLowerCase()}://`;ia().handleOpenURL=function(){var Ze=(0,s.Z)(function*(Ye){if(Ye.toLowerCase().startsWith(Ie)&&X({url:Ye}),"function"==typeof Ae)try{Ae(Ye)}catch(At){console.error(At)}});return function(Ye){return Ze.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=sn,this._completeRedirectFn=Wl}_initialize(h){var f=this;return(0,s.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,f,v,T){var S=this;return(0,s.Z)(function*(){return yield S.selectUnderlyingResolver(),S.assertedUnderlyingResolver._openPopup(h,f,v,T)})()}_openRedirect(h,f,v,T){var S=this;return(0,s.Z)(function*(){return yield S.selectUnderlyingResolver(),S.assertedUnderlyingResolver._openRedirect(h,f,v,T)})()}_isIframeWebStorageSupported(h,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,f)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return lc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Dg(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,s.Z)(function*(){if(h.underlyingResolver)return;const f=yield function(){return rh.apply(this,arguments)}();h.underlyingResolver=f?h.cordovaResolver:h.browserResolver})()}}function sh(m){return m.unwrap()}function no(m){return ll(m)}function ll(m){const{_tokenResponse:h}=m instanceof O.ZR?m.customData:m;if(!h)return null;if(!(m instanceof O.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return D.credentialFromResult(m);const f=h.providerId;if(!f||"password"===f)return null;let v;switch(f){case"google.com":v=vo;break;case"facebook.com":v=xa;break;case"github.com":v=bo;break;case"twitter.com":v=yi;break;default:const{oauthIdToken:T,oauthAccessToken:S,oauthTokenSecret:U,pendingToken:X,nonce:Ae}=h;return S||U||T||X?X?f.startsWith("saml.")?Ar._create(f,X):Jn._fromParams({providerId:f,signInMethod:f,pendingToken:X,idToken:T,accessToken:S}):new Tn(f).credential({idToken:T,accessToken:S,rawNonce:Ae}):null}return m instanceof O.ZR?v.credentialFromError(m):v.credentialFromResult(m)}function Ui(m,h){return h.catch(f=>{throw f instanceof O.ZR&&function(m,h){var f;const v=null===(f=h.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===h.code)h.resolver=new dc(m,function(m,h){var f;const v=(0,O.m9)(m),T=h;return Ee(h.customData.operationType,v,"argument-error"),Ee(null===(f=T.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,v,"argument-error"),pr._fromError(v,T)}(m,h));else if(v){const T=ll(h),S=h;T&&(S.credential=T,S.tenantId=v.tenantId||void 0,S.email=v.email||void 0,S.phoneNumber=v.phoneNumber||void 0)}}(m,f),f}).then(f=>{const T=f.user;return{operationType:f.operationType,credential:no(f),additionalUserInfo:je(f),user:Lr.getOrCreate(T)}})}function cc(m,h){return la.apply(this,arguments)}function la(){return la=(0,s.Z)(function*(m,h){const f=yield h;return{verificationId:f.verificationId,confirm:v=>Ui(m,f.confirm(v))}}),la.apply(this,arguments)}class dc{constructor(h,f){this.resolver=f,this.auth=function(m){return m.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return Ui(sh(this.auth),this.resolver.resolveSignIn(h))}}class Lr{constructor(h){this._delegate=h,this.multiFactor=function(m){const h=(0,O.m9)(m);return Qt.has(h)||Qt.set(h,Qo._fromUser(h)),Qt.get(h)}(h)}static getOrCreate(h){return Lr.USER_MAP.has(h)||Lr.USER_MAP.set(h,new Lr(h)),Lr.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var f=this;return(0,s.Z)(function*(){return Ui(f.auth,ks(f._delegate,h))})()}linkWithPhoneNumber(h,f){var v=this;return(0,s.Z)(function*(){return cc(v.auth,function(m,h,f){return jn.apply(this,arguments)}(v._delegate,h,f))})()}linkWithPopup(h){var f=this;return(0,s.Z)(function*(){return Ui(f.auth,function(m,h,f){return Qn.apply(this,arguments)}(f._delegate,h,aa))})()}linkWithRedirect(h){var f=this;return(0,s.Z)(function*(){return yield If(Fn(f.auth)),function(m,h,f){return function(m,h,f){return Vi.apply(this,arguments)}(m,h,f)}(f._delegate,h,aa)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var f=this;return(0,s.Z)(function*(){return Ui(f.auth,Hn(f._delegate,h))})()}reauthenticateWithPhoneNumber(h,f){return cc(this.auth,function(m,h,f){return Ka.apply(this,arguments)}(this._delegate,h,f))}reauthenticateWithPopup(h){return Ui(this.auth,function(m,h,f){return wi.apply(this,arguments)}(this._delegate,h,aa))}reauthenticateWithRedirect(h){var f=this;return(0,s.Z)(function*(){return yield If(Fn(f.auth)),function(m,h,f){return function(m,h,f){return Ju.apply(this,arguments)}(m,h,f)}(f._delegate,h,aa)})()}sendEmailVerification(h){return function(m,h){return Jr.apply(this,arguments)}(this._delegate,h)}unlink(h){var f=this;return(0,s.Z)(function*(){return yield function(m,h){return Ce.apply(this,arguments)}(f._delegate,h),f})()}updateEmail(h){return function(m,h){return Ad((0,O.m9)(m),h,null)}(this._delegate,h)}updatePassword(h){return function(m,h){return Ad((0,O.m9)(m),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function(m,h){return jl.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function(m,h){return en.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,f){return function(m,h,f){return js.apply(this,arguments)}(this._delegate,h,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Lr.USER_MAP=new WeakMap;const ua=Ee;let hc=(()=>{class m{constructor(f,v){if(this.app=f,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=f.options;ua(T,"invalid-api-key",{appName:f.name});let S=[Pi];if("undefined"!=typeof window){S=function(m,h){const f=wr();if(!(null==f?void 0:f.sessionStorage))return[];const v=Si(oh,m,h);switch(f.sessionStorage.getItem(v)){case or.NONE:return[Pi];case or.LOCAL:return[to,sn];case or.SESSION:return[sn];default:return[]}}(T,f.name);for(const X of[to,zs,sn])S.includes(X)||S.push(X)}ua(T,"invalid-api-key",{appName:f.name});const U="undefined"!=typeof window?aa:void 0;this._delegate=v.initialize({options:{persistence:S,popupRedirectResolver:U}}),this._delegate._updateErrorMap(ri),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Lr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,v){!function(m,h,f){const v=Fn(m);Ee(v._canInitEmulator,v,"emulator-config-failed"),Ee(/^https?:\/\//.test(h),v,"invalid-emulator-scheme");const T=!!(null==f?void 0:f.disableWarnings),S=Bi(h),{host:U,port:X}=function(m){const h=Bi(m),f=/(\/\/)?([^?#/]+)/.exec(m.substr(h.length));if(!f)return{host:"",port:null};const v=f[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(v);if(T){const S=T[1];return{host:S,port:of(v.substr(S.length+1))}}{const[S,U]=v.split(":");return{host:S,port:of(U)}}}(h);v.config.emulator={url:`${S}//${U}${null===X?"":`:${X}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:U,port:X,protocol:S.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function(){function m(){const h=document.createElement("p"),f=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}(this._delegate,f,v)}applyActionCode(f){return function(m,h){return Ua.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return Ha(this._delegate,f)}confirmPasswordReset(f,v){return function(m,h,f){return Bs.apply(this,arguments)}(this._delegate,f,v)}createUserWithEmailAndPassword(f,v){var T=this;return(0,s.Z)(function*(){return Ui(T._delegate,function(m,h,f){return Hs.apply(this,arguments)}(T._delegate,f,v))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function(m,h){return Id.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function(m,h){const f=_o.parseLink(h);return"EMAIL_SIGNIN"===(null==f?void 0:f.operation)}(0,f)}getRedirectResult(){var f=this;return(0,s.Z)(function*(){ua(ih(),f._delegate,"operation-not-supported-in-this-environment");const v=yield function(m,h){return xo.apply(this,arguments)}(f._delegate,aa);return v?Ui(f._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function(m,h){Fn(m)._logFramework(h)}(this._delegate,f)}onAuthStateChanged(f,v,T){const{next:S,error:U,complete:X}=lh(f,v,T);return this._delegate.onAuthStateChanged(S,U,X)}onIdTokenChanged(f,v,T){const{next:S,error:U,complete:X}=lh(f,v,T);return this._delegate.onIdTokenChanged(S,U,X)}sendSignInLinkToEmail(f,v){return function(m,h,f){return Kt.apply(this,arguments)}(this._delegate,f,v)}sendPasswordResetEmail(f,v){return function(m,h,f){return qo.apply(this,arguments)}(this._delegate,f,v||void 0)}setPersistence(f){var v=this;return(0,s.Z)(function*(){let T;switch(function(m,h){ru(Object.values(or).includes(h),m,"invalid-persistence-type"),(0,O.b$)()?ru(h!==or.SESSION,m,"unsupported-persistence-type"):(0,O.UG)()?ru(h===or.NONE,m,"unsupported-persistence-type"):nh()?ru(h===or.NONE||h===or.LOCAL&&(0,O.hl)(),m,"unsupported-persistence-type"):ru(h===or.NONE||Ef(),m,"unsupported-persistence-type")}(v._delegate,f),f){case or.SESSION:T=sn;break;case or.LOCAL:T=(yield Mt(to)._isAvailable())?to:zs;break;case or.NONE:T=Pi;break;default:return It("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return Ui(this._delegate,function(m){return Yo.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return Ui(this._delegate,kl(this._delegate,f))}signInWithCustomToken(f){return Ui(this._delegate,function(m,h){return Os.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,v){return Ui(this._delegate,function(m,h,f){return kl((0,O.m9)(m),yo.credential(h,f))}(this._delegate,f,v))}signInWithEmailLink(f,v){return Ui(this._delegate,function(m,h,f){return $s.apply(this,arguments)}(this._delegate,f,v))}signInWithPhoneNumber(f,v){return cc(this._delegate,function(m,h,f){return yr.apply(this,arguments)}(this._delegate,f,v))}signInWithPopup(f){var v=this;return(0,s.Z)(function*(){return ua(ih(),v._delegate,"operation-not-supported-in-this-environment"),Ui(v._delegate,function(m,h,f){return Bt.apply(this,arguments)}(v._delegate,f,aa))})()}signInWithRedirect(f){var v=this;return(0,s.Z)(function*(){return ua(ih(),v._delegate,"operation-not-supported-in-this-environment"),yield If(v._delegate),function(m,h,f){return function(m,h,f){return qu.apply(this,arguments)}(m,h,f)}(v._delegate,f,aa)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function(m,h){return Us.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return m.Persistence=or,m})();function lh(m,h,f){let v=m;"function"!=typeof m&&({next:v,error:h,complete:f}=m);const T=v;return{next:U=>T(U&&Lr.getOrCreate(U)),error:h,complete:f}}class Af{constructor(){this.providerId="phone",this._delegate=new D(sh(K.Z.auth()))}static credential(h,f){return D.credential(h,f)}verifyPhoneNumber(h,f){return this._delegate.verifyPhoneNumber(h,f)}unwrap(){return this._delegate}}Af.PHONE_SIGN_IN_METHOD=D.PHONE_SIGN_IN_METHOD,Af.PROVIDER_ID=D.PROVIDER_ID;const ca=Ee;class uh{constructor(h,f,v=K.Z.app()){var T;ca(null===(T=v.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new ui(h,f,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(m){m.INTERNAL.registerComponent(new de.wA("auth-compat",h=>{const f=h.getProvider("app-compat").getImmediate(),v=h.getProvider("auth");return new hc(f,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:yo,FacebookAuthProvider:xa,GithubAuthProvider:bo,GoogleAuthProvider:vo,OAuthProvider:Tn,SAMLAuthProvider:wo,PhoneAuthProvider:Af,PhoneMultiFactorGenerator:ug,RecaptchaVerifier:uh,TwitterAuthProvider:yi,Auth:hc,AuthCredential:Wo,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),m.registerVersion("@firebase/auth-compat","0.2.4")}(K.Z)},4995:function(Ve,fe){!function(x){"use strict";function s(oe){return Array.prototype.slice.call(oe)}function K(oe){return new Promise(function(Y,se){oe.onsuccess=function(){Y(oe.result)},oe.onerror=function(){se(oe.error)}})}function O(oe,Y,se){var be,ge=new Promise(function(Be,Te){K(be=oe[Y].apply(oe,se)).then(Be,Te)});return ge.request=be,ge}function ae(oe,Y,se){var be=O(oe,Y,se);return be.then(function(ge){if(ge)return new $(ge,be.request)})}function ie(oe,Y,se){se.forEach(function(be){Object.defineProperty(oe.prototype,be,{get:function(){return this[Y][be]},set:function(ge){this[Y][be]=ge}})})}function he(oe,Y,se,be){be.forEach(function(ge){ge in se.prototype&&(oe.prototype[ge]=function(){return O(this[Y],ge,arguments)})})}function ne(oe,Y,se,be){be.forEach(function(ge){ge in se.prototype&&(oe.prototype[ge]=function(){return this[Y][ge].apply(this[Y],arguments)})})}function re(oe,Y,se,be){be.forEach(function(ge){ge in se.prototype&&(oe.prototype[ge]=function(){return ae(this[Y],ge,arguments)})})}function le(oe){this._index=oe}function $(oe,Y){this._cursor=oe,this._request=Y}function H(oe){this._store=oe}function Q(oe){this._tx=oe,this.complete=new Promise(function(Y,se){oe.oncomplete=function(){Y()},oe.onerror=function(){se(oe.error)},oe.onabort=function(){se(oe.error)}})}function Re(oe,Y,se){this._db=oe,this.oldVersion=Y,this.transaction=new Q(se)}function we(oe){this._db=oe}ie(le,"_index",["name","keyPath","multiEntry","unique"]),he(le,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),re(le,"_index",IDBIndex,["openCursor","openKeyCursor"]),ie($,"_cursor",["direction","key","primaryKey","value"]),he($,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(oe){oe in IDBCursor.prototype&&($.prototype[oe]=function(){var Y=this,se=arguments;return Promise.resolve().then(function(){return Y._cursor[oe].apply(Y._cursor,se),K(Y._request).then(function(be){if(be)return new $(be,Y._request)})})})}),H.prototype.createIndex=function(){return new le(this._store.createIndex.apply(this._store,arguments))},H.prototype.index=function(){return new le(this._store.index.apply(this._store,arguments))},ie(H,"_store",["name","keyPath","indexNames","autoIncrement"]),he(H,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),re(H,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ne(H,"_store",IDBObjectStore,["deleteIndex"]),Q.prototype.objectStore=function(){return new H(this._tx.objectStore.apply(this._tx,arguments))},ie(Q,"_tx",["objectStoreNames","mode"]),ne(Q,"_tx",IDBTransaction,["abort"]),Re.prototype.createObjectStore=function(){return new H(this._db.createObjectStore.apply(this._db,arguments))},ie(Re,"_db",["name","version","objectStoreNames"]),ne(Re,"_db",IDBDatabase,["deleteObjectStore","close"]),we.prototype.transaction=function(){return new Q(this._db.transaction.apply(this._db,arguments))},ie(we,"_db",["name","version","objectStoreNames"]),ne(we,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(oe){[H,le].forEach(function(Y){oe in Y.prototype&&(Y.prototype[oe.replace("open","iterate")]=function(){var se=s(arguments),be=se[se.length-1],ge=this._store||this._index,Be=ge[oe].apply(ge,se.slice(0,-1));Be.onsuccess=function(){be(Be.result)}})})}),[le,H].forEach(function(oe){oe.prototype.getAll||(oe.prototype.getAll=function(Y,se){var be=this,ge=[];return new Promise(function(Be){be.iterateCursor(Y,function(Te){Te?(ge.push(Te.value),void 0===se||ge.length!=se?Te.continue():Be(ge)):Be(ge)})})})}),x.openDb=function(oe,Y,se){var be=O(indexedDB,"open",[oe,Y]),ge=be.request;return ge&&(ge.onupgradeneeded=function(Be){se&&se(new Re(ge.result,Be.oldVersion,ge.transaction))}),be.then(function(Be){return new we(Be)})},x.deleteDb=function(oe){return O(indexedDB,"deleteDatabase",[oe])},Object.defineProperty(x,"__esModule",{value:!0})}(fe)},8305:(Ve,fe,x)=>{"use strict";x.d(fe,{y:()=>$});var s=x(584),K=x(7908),O=x(4816),ae=x(4623);var ne=x(5367),re=x(5044),le=x(8706);let $=(()=>{class we{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const oe=new we;return oe.source=this,oe.operator=Me,oe}subscribe(Me,oe,Y){const se=function(we){return we&&we instanceof s.Lv||function(we){return we&&(0,re.m)(we.next)&&(0,re.m)(we.error)&&(0,re.m)(we.complete)}(we)&&(0,K.Nn)(we)}(Me)?Me:new s.Hp(Me,oe,Y);return(0,le.x)(()=>{const{operator:be,source:ge}=this;se.add(be?be.call(se,ge):ge?this._subscribe(se):this._trySubscribe(se))}),se}_trySubscribe(Me){try{return this._subscribe(Me)}catch(oe){Me.error(oe)}}forEach(Me,oe){return new(oe=H(oe))((Y,se)=>{let be;be=this.subscribe(ge=>{try{Me(ge)}catch(Be){se(Be),null==be||be.unsubscribe()}},se,Y)})}_subscribe(Me){var oe;return null===(oe=this.source)||void 0===oe?void 0:oe.subscribe(Me)}[O.L](){return this}pipe(...Me){return function(we){return 0===we.length?ae.y:1===we.length?we[0]:function(Me){return we.reduce((oe,Y)=>Y(oe),Me)}}(Me)(this)}toPromise(Me){return new(Me=H(Me))((oe,Y)=>{let se;this.subscribe(be=>se=be,be=>Y(be),()=>oe(se))})}}return we.create=ke=>new we(ke),we})();function H(we){var ke;return null!==(ke=null!=we?we:ne.v.Promise)&&void 0!==ke?ke:Promise}},273:(Ve,fe,x)=>{"use strict";x.d(fe,{x:()=>ne});var s=x(8305),K=x(7908);const ae=(0,x(4893).d)(le=>function(){le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=x(3980),he=x(8706);let ne=(()=>{class le extends s.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const Q=new re(this,this);return Q.operator=H,Q}_throwIfClosed(){if(this.closed)throw new ae}next(H){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const Q=this.observers.slice();for(const Re of Q)Re.next(H)}})}error(H){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:Q}=this;for(;Q.length;)Q.shift().error(H)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:Q,isStopped:Re,observers:we}=this;return Q||Re?K.Lc:(we.push(H),new K.w0(()=>(0,ie.P)(we,H)))}_checkFinalizedStatuses(H){const{hasError:Q,thrownError:Re,isStopped:we}=this;Q?H.error(Re):we&&H.complete()}asObservable(){const H=new s.y;return H.source=this,H}}return le.create=($,H)=>new re($,H),le})();class re extends ne{constructor($,H){super(),this.destination=$,this.source=H}next($){var H,Q;null===(Q=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===Q||Q.call(H,$)}error($){var H,Q;null===(Q=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===Q||Q.call(H,$)}complete(){var $,H;null===(H=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===H||H.call($)}_subscribe($){var H,Q;return null!==(Q=null===(H=this.source)||void 0===H?void 0:H.subscribe($))&&void 0!==Q?Q:K.Lc}}},584:(Ve,fe,x)=>{"use strict";x.d(fe,{Hp:()=>Re,Lv:()=>Q});var s=x(5044),K=x(7908),O=x(5367),ae=x(5160),ie=x(6921);const he=le("C",void 0,void 0);function le(Y,se,be){return{kind:Y,value:se,error:be}}var $=x(2496),H=x(8706);class Q extends K.w0{constructor(se){super(),this.isStopped=!1,se?(this.destination=se,(0,K.Nn)(se)&&se.add(this)):this.destination=oe}static create(se,be,ge){return new Re(se,be,ge)}next(se){this.isStopped?Me(le("N",se,void 0),this):this._next(se)}error(se){this.isStopped?Me(le("E",void 0,se),this):(this.isStopped=!0,this._error(se))}complete(){this.isStopped?Me(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(se){this.destination.next(se)}_error(se){try{this.destination.error(se)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Re extends Q{constructor(se,be,ge){let Be;if(super(),(0,s.m)(se))Be=se;else if(se){let Te;({next:Be,error:be,complete:ge}=se),this&&O.v.useDeprecatedNextContext?(Te=Object.create(se),Te.unsubscribe=()=>this.unsubscribe()):Te=se,Be=null==Be?void 0:Be.bind(Te),be=null==be?void 0:be.bind(Te),ge=null==ge?void 0:ge.bind(Te)}this.destination={next:Be?we(Be):ie.Z,error:we(null!=be?be:ke),complete:ge?we(ge):ie.Z}}}function we(Y,se){return(...be)=>{try{Y(...be)}catch(ge){O.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(ge):(0,ae.h)(ge)}}}function ke(Y){throw Y}function Me(Y,se){const{onStoppedNotification:be}=O.v;be&&$.z.setTimeout(()=>be(Y,se))}const oe={closed:!0,next:ie.Z,error:ke,complete:ie.Z}},7908:(Ve,fe,x)=>{"use strict";x.d(fe,{Lc:()=>he,w0:()=>ie,Nn:()=>ne});var s=x(5044);const O=(0,x(4893).d)(le=>function(H){le(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((Q,Re)=>`${Re+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var ae=x(3980);class ie{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const we of H)we.remove(this);else H.remove(this);const{initialTeardown:Q}=this;if((0,s.m)(Q))try{Q()}catch(we){$=we instanceof O?we.errors:[we]}const{_teardowns:Re}=this;if(Re){this._teardowns=null;for(const we of Re)try{re(we)}catch(ke){$=null!=$?$:[],ke instanceof O?$=[...$,...ke.errors]:$.push(ke)}}if($)throw new O($)}}add($){var H;if($&&$!==this)if(this.closed)re($);else{if($ instanceof ie){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._teardowns=null!==(H=this._teardowns)&&void 0!==H?H:[]).push($)}}_hasParent($){const{_parentage:H}=this;return H===$||Array.isArray(H)&&H.includes($)}_addParent($){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push($),H):H?[H,$]:$}_removeParent($){const{_parentage:H}=this;H===$?this._parentage=null:Array.isArray(H)&&(0,ae.P)(H,$)}remove($){const{_teardowns:H}=this;H&&(0,ae.P)(H,$),$ instanceof ie&&$._removeParent(this)}}ie.EMPTY=(()=>{const le=new ie;return le.closed=!0,le})();const he=ie.EMPTY;function ne(le){return le instanceof ie||le&&"closed"in le&&(0,s.m)(le.remove)&&(0,s.m)(le.add)&&(0,s.m)(le.unsubscribe)}function re(le){(0,s.m)(le)?le():le.unsubscribe()}},5367:(Ve,fe,x)=>{"use strict";x.d(fe,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5583:(Ve,fe,x)=>{"use strict";x.d(fe,{E:()=>K});const K=new(x(8305).y)(ie=>ie.complete())},5947:(Ve,fe,x)=>{"use strict";x.d(fe,{D:()=>Be});var s=x(9985),K=x(4763),O=x(5222),he=x(8305),re=x(5497),le=x(5044),$=x(8395);function Q(Te,Le){if(!Te)throw new Error("Iterable cannot be null");return new he.y(He=>{(0,$.f)(He,Le,()=>{const Xe=Te[Symbol.asyncIterator]();(0,$.f)(He,Le,()=>{Xe.next().then(ee=>{ee.done?He.complete():He.next(ee.value)})},0,!0)})})}var Re=x(1073),we=x(2442),ke=x(1537),Me=x(2317),oe=x(9908),Y=x(3754),se=x(7751);function Be(Te,Le){return Le?function(Te,Le){if(null!=Te){if((0,Re.c)(Te))return function(Te,Le){return(0,s.Xf)(Te).pipe((0,O.R)(Le),(0,K.Q)(Le))}(Te,Le);if((0,ke.z)(Te))return function(Te,Le){return new he.y(He=>{let Xe=0;return Le.schedule(function(){Xe===Te.length?He.complete():(He.next(Te[Xe++]),He.closed||this.schedule())})})}(Te,Le);if((0,we.t)(Te))return function(Te,Le){return(0,s.Xf)(Te).pipe((0,O.R)(Le),(0,K.Q)(Le))}(Te,Le);if((0,oe.D)(Te))return Q(Te,Le);if((0,Me.T)(Te))return function(Te,Le){return new he.y(He=>{let Xe;return(0,$.f)(He,Le,()=>{Xe=Te[re.h](),(0,$.f)(He,Le,()=>{let ee,ue;try{({value:ee,done:ue}=Xe.next())}catch(pe){return void He.error(pe)}ue?He.complete():He.next(ee)},0,!0)}),()=>(0,le.m)(null==Xe?void 0:Xe.return)&&Xe.return()})}(Te,Le);if((0,se.L)(Te))return function(Te,Le){return Q((0,se.Q)(Te),Le)}(Te,Le)}throw(0,Y.z)(Te)}(Te,Le):(0,s.Xf)(Te)}},9985:(Ve,fe,x)=>{"use strict";x.d(fe,{Xf:()=>Re});var s=x(9162),K=x(1537),O=x(2442),ae=x(8305),ie=x(1073),he=x(9908),ne=x(3754),re=x(2317),le=x(7751),$=x(5044),H=x(5160),Q=x(4816);function Re(ge){if(ge instanceof ae.y)return ge;if(null!=ge){if((0,ie.c)(ge))return function(ge){return new ae.y(Be=>{const Te=ge[Q.L]();if((0,$.m)(Te.subscribe))return Te.subscribe(Be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ge);if((0,K.z)(ge))return function(ge){return new ae.y(Be=>{for(let Te=0;Te<ge.length&&!Be.closed;Te++)Be.next(ge[Te]);Be.complete()})}(ge);if((0,O.t)(ge))return function(ge){return new ae.y(Be=>{ge.then(Te=>{Be.closed||(Be.next(Te),Be.complete())},Te=>Be.error(Te)).then(null,H.h)})}(ge);if((0,he.D)(ge))return Y(ge);if((0,re.T)(ge))return function(ge){return new ae.y(Be=>{for(const Te of ge)if(Be.next(Te),Be.closed)return;Be.complete()})}(ge);if((0,le.L)(ge))return function(ge){return Y((0,le.Q)(ge))}(ge)}throw(0,ne.z)(ge)}function Y(ge){return new ae.y(Be=>{(function(ge,Be){var Te,Le,He,Xe;return(0,s.mG)(this,void 0,void 0,function*(){try{for(Te=(0,s.KL)(ge);!(Le=yield Te.next()).done;)if(Be.next(Le.value),Be.closed)return}catch(ee){He={error:ee}}finally{try{Le&&!Le.done&&(Xe=Te.return)&&(yield Xe.call(Te))}finally{if(He)throw He.error}}Be.complete()})})(ge,Be).catch(Te=>Be.error(Te))})}},3719:(Ve,fe,x)=>{"use strict";x.d(fe,{T:()=>he});var s=x(5373),K=x(9985),O=x(5583),ae=x(7613),ie=x(5947);function he(...ne){const re=(0,ae.yG)(ne),le=(0,ae._6)(ne,1/0),$=ne;return $.length?1===$.length?(0,K.Xf)($[0]):(0,s.J)(le)((0,ie.D)($,re)):O.E}},8889:(Ve,fe,x)=>{"use strict";x.d(fe,{Q:()=>K});var s=x(584);class K extends s.Lv{constructor(ae,ie,he,ne,re){super(ae),this.onFinalize=re,this._next=ie?function(le){try{ie(le)}catch($){ae.error($)}}:super._next,this._error=ne?function(le){try{ne(le)}catch($){ae.error($)}finally{this.unsubscribe()}}:super._error,this._complete=he?function(){try{he()}catch(le){ae.error(le)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;const{closed:ie}=this;super.unsubscribe(),!ie&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}},4753:(Ve,fe,x)=>{"use strict";x.d(fe,{U:()=>O});var s=x(9947),K=x(8889);function O(ae,ie){return(0,s.e)((he,ne)=>{let re=0;he.subscribe(new K.Q(ne,le=>{ne.next(ae.call(ie,le,re++))}))})}},5373:(Ve,fe,x)=>{"use strict";x.d(fe,{J:()=>O});var s=x(5724),K=x(4623);function O(ae=1/0){return(0,s.z)(K.y,ae)}},5724:(Ve,fe,x)=>{"use strict";x.d(fe,{z:()=>re});var s=x(4753),K=x(9985),O=x(9947),ie=(x(8395),x(8889)),ne=x(5044);function re(le,$,H=1/0){return(0,ne.m)($)?re((Q,Re)=>(0,s.U)((we,ke)=>$(Q,we,Re,ke))((0,K.Xf)(le(Q,Re))),H):("number"==typeof $&&(H=$),(0,O.e)((Q,Re)=>function(le,$,H,Q,Re,we,ke,Me){const oe=[];let Y=0,se=0,be=!1;const ge=()=>{be&&!oe.length&&!Y&&$.complete()},Be=Le=>Y<Q?Te(Le):oe.push(Le),Te=Le=>{Y++;let He=!1;(0,K.Xf)(H(Le,se++)).subscribe(new ie.Q($,Xe=>{$.next(Xe)},()=>{He=!0},void 0,()=>{if(He)try{for(Y--;oe.length&&Y<Q;){const Xe=oe.shift();Te(Xe)}ge()}catch(Xe){$.error(Xe)}}))};return le.subscribe(new ie.Q($,Be,()=>{be=!0,ge()})),()=>{}}(Q,Re,le,H)))}},4763:(Ve,fe,x)=>{"use strict";x.d(fe,{Q:()=>ae});var s=x(8395),K=x(9947),O=x(8889);function ae(ie,he=0){return(0,K.e)((ne,re)=>{ne.subscribe(new O.Q(re,le=>(0,s.f)(re,ie,()=>re.next(le),he),()=>(0,s.f)(re,ie,()=>re.complete(),he),le=>(0,s.f)(re,ie,()=>re.error(le),he)))})}},3174:(Ve,fe,x)=>{"use strict";x.d(fe,{B:()=>he});var s=x(5947),K=x(9468),O=x(273),ae=x(584),ie=x(9947);function he(re={}){const{connector:le=(()=>new O.x),resetOnError:$=!0,resetOnComplete:H=!0,resetOnRefCountZero:Q=!0}=re;return Re=>{let we=null,ke=null,Me=null,oe=0,Y=!1,se=!1;const be=()=>{null==ke||ke.unsubscribe(),ke=null},ge=()=>{be(),we=Me=null,Y=se=!1},Be=()=>{const Te=we;ge(),null==Te||Te.unsubscribe()};return(0,ie.e)((Te,Le)=>{oe++,!se&&!Y&&be();const He=Me=null!=Me?Me:le();Le.add(()=>{oe--,0===oe&&!se&&!Y&&(ke=ne(Be,Q))}),He.subscribe(Le),we||(we=new ae.Hp({next:Xe=>He.next(Xe),error:Xe=>{se=!0,be(),ke=ne(ge,$,Xe),He.error(Xe)},complete:()=>{Y=!0,be(),ke=ne(ge,H),He.complete()}}),(0,s.D)(Te).subscribe(we))})(Re)}}function ne(re,le,...$){return!0===le?(re(),null):!1===le?null:le(...$).pipe((0,K.q)(1)).subscribe(()=>re())}},5222:(Ve,fe,x)=>{"use strict";x.d(fe,{R:()=>K});var s=x(9947);function K(O,ae=0){return(0,s.e)((ie,he)=>{he.add(O.schedule(()=>ie.subscribe(he),ae))})}},9468:(Ve,fe,x)=>{"use strict";x.d(fe,{q:()=>ae});var s=x(5583),K=x(9947),O=x(8889);function ae(ie){return ie<=0?()=>s.E:(0,K.e)((he,ne)=>{let re=0;he.subscribe(new O.Q(ne,le=>{++re<=ie&&(ne.next(le),ie<=re&&ne.complete())}))})}},7384:(Ve,fe,x)=>{"use strict";x.d(fe,{b:()=>ie});var s=x(5044),K=x(9947),O=x(8889),ae=x(4623);function ie(he,ne,re){const le=(0,s.m)(he)||ne||re?{next:he,error:ne,complete:re}:he;return le?(0,K.e)(($,H)=>{var Q;null===(Q=le.subscribe)||void 0===Q||Q.call(le);let Re=!0;$.subscribe(new O.Q(H,we=>{var ke;null===(ke=le.next)||void 0===ke||ke.call(le,we),H.next(we)},()=>{var we;Re=!1,null===(we=le.complete)||void 0===we||we.call(le),H.complete()},we=>{var ke;Re=!1,null===(ke=le.error)||void 0===ke||ke.call(le,we),H.error(we)},()=>{var we,ke;Re&&(null===(we=le.unsubscribe)||void 0===we||we.call(le)),null===(ke=le.finalize)||void 0===ke||ke.call(le)}))}):ae.y}},2869:(Ve,fe,x)=>{"use strict";x.d(fe,{o:()=>ie});var s=x(7908);class K extends s.w0{constructor(ne,re){super()}schedule(ne,re=0){return this}}const O={setInterval(...he){const{delegate:ne}=O;return((null==ne?void 0:ne.setInterval)||setInterval)(...he)},clearInterval(he){const{delegate:ne}=O;return((null==ne?void 0:ne.clearInterval)||clearInterval)(he)},delegate:void 0};var ae=x(3980);class ie extends K{constructor(ne,re){super(ne,re),this.scheduler=ne,this.work=re,this.pending=!1}schedule(ne,re=0){if(this.closed)return this;this.state=ne;const le=this.id,$=this.scheduler;return null!=le&&(this.id=this.recycleAsyncId($,le,re)),this.pending=!0,this.delay=re,this.id=this.id||this.requestAsyncId($,this.id,re),this}requestAsyncId(ne,re,le=0){return O.setInterval(ne.flush.bind(ne,this),le)}recycleAsyncId(ne,re,le=0){if(null!=le&&this.delay===le&&!1===this.pending)return re;O.clearInterval(re)}execute(ne,re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(ne,re);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,re){let $,le=!1;try{this.work(ne)}catch(H){le=!0,$=H||new Error("Scheduled action threw falsy error")}if(le)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:ne,scheduler:re}=this,{actions:le}=re;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(le,this),null!=ne&&(this.id=this.recycleAsyncId(re,ne,null)),this.delay=null,super.unsubscribe()}}}},8843:(Ve,fe,x)=>{"use strict";x.d(fe,{v:()=>O});var s=x(1733);class K{constructor(ie,he=K.now){this.schedulerActionCtor=ie,this.now=he}schedule(ie,he=0,ne){return new this.schedulerActionCtor(this,ie).schedule(ne,he)}}K.now=s.l.now;class O extends K{constructor(ie,he=K.now){super(ie,he),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ie){const{actions:he}=this;if(this._active)return void he.push(ie);let ne;this._active=!0;do{if(ne=ie.execute(ie.state,ie.delay))break}while(ie=he.shift());if(this._active=!1,ne){for(;ie=he.shift();)ie.unsubscribe();throw ne}}}},2210:(Ve,fe,x)=>{"use strict";x.d(fe,{z:()=>O,P:()=>ae});var s=x(2869);const O=new(x(8843).v)(s.o),ae=O},1733:(Ve,fe,x)=>{"use strict";x.d(fe,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},2496:(Ve,fe,x)=>{"use strict";x.d(fe,{z:()=>s});const s={setTimeout(...K){const{delegate:O}=s;return((null==O?void 0:O.setTimeout)||setTimeout)(...K)},clearTimeout(K){const{delegate:O}=s;return((null==O?void 0:O.clearTimeout)||clearTimeout)(K)},delegate:void 0}},5497:(Ve,fe,x)=>{"use strict";x.d(fe,{h:()=>K});const K="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},4816:(Ve,fe,x)=>{"use strict";x.d(fe,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},7613:(Ve,fe,x)=>{"use strict";x.d(fe,{jO:()=>ae,yG:()=>ie,_6:()=>he});var s=x(5044),K=x(7398);function O(ne){return ne[ne.length-1]}function ae(ne){return(0,s.m)(O(ne))?ne.pop():void 0}function ie(ne){return(0,K.K)(O(ne))?ne.pop():void 0}function he(ne,re){return"number"==typeof O(ne)?ne.pop():re}},3980:(Ve,fe,x)=>{"use strict";function s(K,O){if(K){const ae=K.indexOf(O);0<=ae&&K.splice(ae,1)}}x.d(fe,{P:()=>s})},4893:(Ve,fe,x)=>{"use strict";function s(K){const ae=K(ie=>{Error.call(ie),ie.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}x.d(fe,{d:()=>s})},8706:(Ve,fe,x)=>{"use strict";x.d(fe,{x:()=>O,O:()=>ae});var s=x(5367);let K=null;function O(ie){if(s.v.useDeprecatedSynchronousErrorHandling){const he=!K;if(he&&(K={errorThrown:!1,error:null}),ie(),he){const{errorThrown:ne,error:re}=K;if(K=null,ne)throw re}}else ie()}function ae(ie){s.v.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=ie)}},8395:(Ve,fe,x)=>{"use strict";function s(K,O,ae,ie=0,he=!1){const ne=O.schedule(function(){ae(),he?K.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(K.add(ne),!he)return ne}x.d(fe,{f:()=>s})},4623:(Ve,fe,x)=>{"use strict";function s(K){return K}x.d(fe,{y:()=>s})},1537:(Ve,fe,x)=>{"use strict";x.d(fe,{z:()=>s});const s=K=>K&&"number"==typeof K.length&&"function"!=typeof K},9908:(Ve,fe,x)=>{"use strict";x.d(fe,{D:()=>K});var s=x(5044);function K(O){return Symbol.asyncIterator&&(0,s.m)(null==O?void 0:O[Symbol.asyncIterator])}},5044:(Ve,fe,x)=>{"use strict";function s(K){return"function"==typeof K}x.d(fe,{m:()=>s})},1073:(Ve,fe,x)=>{"use strict";x.d(fe,{c:()=>O});var s=x(4816),K=x(5044);function O(ae){return(0,K.m)(ae[s.L])}},2317:(Ve,fe,x)=>{"use strict";x.d(fe,{T:()=>O});var s=x(5497),K=x(5044);function O(ae){return(0,K.m)(null==ae?void 0:ae[s.h])}},2442:(Ve,fe,x)=>{"use strict";x.d(fe,{t:()=>K});var s=x(5044);function K(O){return(0,s.m)(null==O?void 0:O.then)}},7751:(Ve,fe,x)=>{"use strict";x.d(fe,{Q:()=>O,L:()=>ae});var s=x(9162),K=x(5044);function O(ie){return(0,s.FC)(this,arguments,function*(){const ne=ie.getReader();try{for(;;){const{value:re,done:le}=yield(0,s.qq)(ne.read());if(le)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(re)}}finally{ne.releaseLock()}})}function ae(ie){return(0,K.m)(null==ie?void 0:ie.getReader)}},7398:(Ve,fe,x)=>{"use strict";x.d(fe,{K:()=>K});var s=x(5044);function K(O){return O&&(0,s.m)(O.schedule)}},9947:(Ve,fe,x)=>{"use strict";x.d(fe,{A:()=>K,e:()=>O});var s=x(5044);function K(ae){return(0,s.m)(null==ae?void 0:ae.lift)}function O(ae){return ie=>{if(K(ie))return ie.lift(function(he){try{return ae(he,this)}catch(ne){this.error(ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},6921:(Ve,fe,x)=>{"use strict";function s(){}x.d(fe,{Z:()=>s})},5160:(Ve,fe,x)=>{"use strict";x.d(fe,{h:()=>O});var s=x(5367),K=x(2496);function O(ae){K.z.setTimeout(()=>{const{onUnhandledError:ie}=s.v;if(!ie)throw ae;ie(ae)})}},3754:(Ve,fe,x)=>{"use strict";function s(K){return new TypeError(`You provided ${null!==K&&"object"==typeof K?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(fe,{z:()=>s})},8506:(Ve,fe,x)=>{"use strict";var s=x(3668);let K=null;function O(){return K}const ne=new s.OlP("DocumentToken");let re=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Yz7({token:t,factory:function(){return(0,s.LFG)(H)},providedIn:"platform"}),t})();const $=new s.OlP("Location Initialized");let H=(()=>{class t extends re{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(e){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,a){Q()?this._history.pushState(e,i,a):this.location.hash=a}replaceState(e,i,a){Q()?this._history.replaceState(e,i,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(ne))},t.\u0275prov=s.Yz7({token:t,factory:function(){return new H((0,s.LFG)(ne))},providedIn:"platform"}),t})();function Q(){return!!window.history.pushState}function we(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function ke(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function Me(t){return t&&"?"!==t[0]?"?"+t:t}let oe=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Yz7({token:t,factory:function(){return function(t){const n=(0,s.LFG)(ne).location;return new be((0,s.LFG)(re),n&&n.origin||"")}()},providedIn:"root"}),t})();const se=new s.OlP("appBaseHref");let be=(()=>{class t extends oe{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return we(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Me(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${i}${a}`:i}pushState(e,i,a,u){const p=this.prepareExternalUrl(a+Me(u));this._platformLocation.pushState(e,i,p)}replaceState(e,i,a,u){const p=this.prepareExternalUrl(a+Me(u));this._platformLocation.replaceState(e,i,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,a;null==(a=(i=this._platformLocation).historyGo)||a.call(i,e)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(re),s.LFG(se,8))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})(),ge=(()=>{class t extends oe{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=we(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,a,u){let p=this.prepareExternalUrl(a+Me(u));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(e,i,p)}replaceState(e,i,a,u){let p=this.prepareExternalUrl(a+Me(u));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,a;null==(a=(i=this._platformLocation).historyGo)||a.call(i,e)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(re),s.LFG(se,8))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})(),Be=(()=>{class t{constructor(e,i){this._subject=new s.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const a=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=ke(He(a)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Me(i))}normalize(e){return t.stripTrailingSlash(function(t,n){return t&&n.startsWith(t)?n.substring(t.length):n}(this._baseHref,He(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",a=null){this._platformStrategy.pushState(a,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Me(i)),a)}replaceState(e,i="",a=null){this._platformStrategy.replaceState(a,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Me(i)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,a;null==(a=(i=this._platformStrategy).historyGo)||a.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(a=>a(e,i))}subscribe(e,i,a){return this._subject.subscribe({next:e,error:i,complete:a})}}return t.normalizeQueryParams=Me,t.joinWithSlash=we,t.stripTrailingSlash=ke,t.\u0275fac=function(e){return new(e||t)(s.LFG(oe),s.LFG(re))},t.\u0275prov=s.Yz7({token:t,factory:function(){return new Be((0,s.LFG)(oe),(0,s.LFG)(re))},providedIn:"root"}),t})();function He(t){return t.replace(/\/index.html$/,"")}var ue=(()=>((ue=ue||{})[ue.Zero=0]="Zero",ue[ue.One=1]="One",ue[ue.Two=2]="Two",ue[ue.Few=3]="Few",ue[ue.Many=4]="Many",ue[ue.Other=5]="Other",ue))();const ur=s.kL8;class Si{}let Vt=(()=>{class t extends Si{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(ur(i||this.locale)(e)){case ue.Zero:return"zero";case ue.One:return"one";case ue.Two:return"two";case ue.Few:return"few";case ue.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(s.soG))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})(),mn=(()=>{class t{constructor(e,i){this._viewContainer=e,this._context=new Ma,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){jr("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){jr("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.s_b),s.Y36(s.Rgc))},t.\u0275dir=s.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Ma{constructor(){this.$implicit=null,this.ngIf=null}}function jr(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,s.AaK)(n)}'.`)}let ai=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({providers:[{provide:Si,useClass:Vt}]}),t})();let Dd=(()=>{class t{}return t.\u0275prov=(0,s.Yz7)({token:t,providedIn:"root",factory:()=>new Is((0,s.LFG)(ne),window)}),t})();class Is{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let a=i.currentNode;for(;a;){const u=a.shadowRoot;if(u){const p=u.getElementById(n)||u.querySelector(`[name="${n}"]`);if(p)return p}a=i.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),i=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(i-u[0],a-u[1])}attemptFocus(n){return n.focus(),this.document.activeElement===n}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=mo(this.window.history)||mo(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function mo(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class yo extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new yo,K||(K=t)}onAndCancel(n,e,i){return n.addEventListener(e,i,!1),()=>{n.removeEventListener(e,i,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=(_i=_i||document.querySelector("base"),_i?_i.getAttribute("href"):null);return null==e?null:function(t){Tn=Tn||document.createElement("a"),Tn.setAttribute("href",t);const n=Tn.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){_i=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const i=e.indexOf("="),[a,u]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(a.trim()===n)return decodeURIComponent(u)}return null}(document.cookie,n)}}let Tn,_i=null;const vo=new s.OlP("TRANSITION_ID"),Ft=[{provide:s.ip1,useFactory:function(t,n,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=O(),a=n.querySelectorAll(`style[ng-transition="${t}"]`);for(let u=0;u<a.length;u++)i.remove(a[u])})}},deps:[vo,ne,s.zs3],multi:!0}];class Ar{static init(){(0,s.VLi)(new Ar)}addToWindow(n){s.dqk.getAngularTestability=(i,a=!0)=>{const u=n.findTestabilityInTree(i,a);if(null==u)throw new Error("Could not find testability for element.");return u},s.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const a=s.dqk.getAllAngularTestabilities();let u=a.length,p=!1;const y=function(w){p=p||w,u--,0==u&&i(p)};a.forEach(function(w){w.whenStable(y)})})}findTestabilityInTree(n,e,i){if(null==e)return null;const a=n.getTestability(e);return null!=a?a:i?O().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null}}let As=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})();const wo=new s.OlP("EventManagerPlugins");let yi=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,a){return this._findPluginFor(i).addEventListener(e,i,a)}addGlobalEventListener(e,i,a){return this._findPluginFor(i).addGlobalEventListener(e,i,a)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const a=this._plugins;for(let u=0;u<a.length;u++){const p=a[u];if(p.supports(e))return this._eventNameToPlugin.set(e,p),p}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(wo),s.LFG(s.R0b))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})();class Ss{constructor(n){this._doc=n}addGlobalEventListener(n,e,i){const a=O().getGlobalEventTarget(this._doc,n);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,i)}}let zr=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),i.add(a))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})(),ze=(()=>{class t extends zr{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,a){e.forEach(u=>{const p=this._doc.createElement("style");p.textContent=u,a.push(i.appendChild(p))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Oa),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,a)=>{this._addStylesToHost(e,a,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Oa))}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(ne))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})();function Oa(t){O().remove(t)}const Ns={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Yo=/%COMP%/g;function Sr(t,n,e){for(let i=0;i<n.length;i++){let a=n[i];Array.isArray(a)?Sr(t,a,e):(a=a.replace(Yo,t),e.push(a))}return e}function rn(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&(n.preventDefault(),n.returnValue=!1)}}let Zr=(()=>{class t{constructor(e,i,a){this.eventManager=e,this.sharedStylesHost=i,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new Kn(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let a=this.rendererByCompId.get(i.id);return a||(a=new kl(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,a)),a.applyToHost(e),a}case 1:case s.ifc.ShadowDom:return new xl(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const a=Sr(i.id,i.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(yi),s.LFG(ze),s.LFG(s.AFp))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})();class Kn{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(Ns[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){n.appendChild(e)}insertBefore(n,e,i){n&&n.insertBefore(e,i)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let i="string"==typeof n?document.querySelector(n):n;if(!i)throw new Error(`The selector "${n}" did not match any elements`);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,a){if(a){e=a+":"+e;const u=Ns[a];u?n.setAttributeNS(u,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){const a=Ns[i];a?n.removeAttributeNS(a,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,a){a&(s.JOm.DashCase|s.JOm.Important)?n.style.setProperty(e,i,a&s.JOm.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&s.JOm.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n[e]=i}setValue(n,e){n.nodeValue=e}listen(n,e,i){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,rn(i)):this.eventManager.addEventListener(n,e,rn(i))}}class kl extends Kn{constructor(n,e,i,a){super(n),this.component=i;const u=Sr(a+"-"+i.id,i.styles,[]);e.addStyles(u),this.contentAttr="_ngcontent-%COMP%".replace(Yo,a+"-"+i.id),this.hostAttr="_nghost-%COMP%".replace(Yo,a+"-"+i.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,e){const i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}}class xl extends Kn{constructor(n,e,i,a){super(n),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Sr(a.id,a.styles,[]);for(let p=0;p<u.length;p++){const y=document.createElement("style");y.textContent=u[p],this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let ks=(()=>{class t extends Ss{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,a){return e.addEventListener(i,a,!1),()=>this.removeEventListener(e,i,a)}removeEventListener(e,i,a){return e.removeEventListener(i,a)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(ne))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})();const Do=["alt","control","meta","shift"],tr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xs={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Yr={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let fr=(()=>{class t extends Ss{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,i,a){const u=t.parseEventName(i),p=t.eventCallback(u.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(e,u.domEventName,p))}static parseEventName(e){const i=e.toLowerCase().split("."),a=i.shift();if(0===i.length||"keydown"!==a&&"keyup"!==a)return null;const u=t._normalizeKey(i.pop());let p="";if(Do.forEach(w=>{const I=i.indexOf(w);I>-1&&(i.splice(I,1),p+=w+".")}),p+=u,0!=i.length||0===u.length)return null;const y={};return y.domEventName=a,y.fullKey=p,y}static getEventFullKey(e){let i="",a=function(t){let n=t.key;if(null==n){if(n=t.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===t.location&&xs.hasOwnProperty(n)&&(n=xs[n]))}return tr[n]||n}(e);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Do.forEach(u=>{u!=a&&Yr[u](e)&&(i+=u+".")}),i+=a,i}static eventCallback(e,i,a){return u=>{t.getEventFullKey(u)===e&&a.runGuarded(()=>i(u))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(ne))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})();const qo=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:"browser"},{provide:s.g9A,useValue:function(){yo.makeCurrent(),Ar.init()},multi:!0},{provide:ne,useFactory:function(){return(0,s.RDi)(document),document},deps:[]}]),Va=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function(){return new s.qLn},deps:[]},{provide:wo,useClass:ks,multi:!0,deps:[ne,s.R0b,s.Lbi]},{provide:wo,useClass:fr,multi:!0,deps:[ne]},{provide:Zr,useClass:Zr,deps:[yi,ze,s.AFp]},{provide:s.FYo,useExisting:Zr},{provide:zr,useExisting:ze},{provide:ze,useClass:ze,deps:[ne]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b]},{provide:yi,useClass:yi,deps:[wo,s.R0b]},{provide:class{},useClass:As,deps:[]}];let Bs=(()=>{class t{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:s.AFp,useValue:e.appId},{provide:vo,useExisting:s.AFp},Ft]}}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(t,12))},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({providers:Va,imports:[ai,s.hGG]}),t})();"undefined"!=typeof window&&window;let Eo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Yz7({token:t,factory:function(e){let i=null;return i=e?new(e||t):s.LFG(Sd),i},providedIn:"root"}),t})(),Sd=(()=>{class t extends Eo{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case s.q3G.NONE:return i;case s.q3G.HTML:return(0,s.qzn)(i,"HTML")?(0,s.z3N)(i):(0,s.EiD)(this._doc,String(i)).toString();case s.q3G.STYLE:return(0,s.qzn)(i,"Style")?(0,s.z3N)(i):i;case s.q3G.SCRIPT:if((0,s.qzn)(i,"Script"))return(0,s.z3N)(i);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.yhl)(i),(0,s.qzn)(i,"URL")?(0,s.z3N)(i):(0,s.mCW)(String(i));case s.q3G.RESOURCE_URL:if((0,s.qzn)(i,"ResourceURL"))return(0,s.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(ne))},t.\u0275prov=s.Yz7({token:t,factory:function(e){let i=null;return i=e?new e:function(t){return new Sd(t.get(ne))}(s.LFG(s.zs3)),i},providedIn:"root"}),t})();var yn=x(5947),Nr=x(7613);function je(...t){const n=(0,Nr.yG)(t);return(0,yn.D)(t,n)}var zt=x(273);class xn extends zt.x{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:i}=this;if(n)throw e;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}}var On=x(8305);const{isArray:Ko}=Array,{getPrototypeOf:hf,prototype:Ws,keys:Wa}=Object;function To(t){if(1===t.length){const n=t[0];if(Ko(n))return{args:n,keys:null};if(function(t){return t&&"object"==typeof t&&hf(t)===Ws}(n)){const e=Wa(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}var pr=x(4623),rt=x(4753);const{isArray:Nd}=Array;function Io(t){return(0,rt.U)(n=>function(t,n){return Nd(n)?t(...n):t(n)}(t,n))}function Qo(t,n){return t.reduce((e,i,a)=>(e[i]=n[a],e),{})}var Qt=x(8889),za=x(8395);function ir(t,n,e){t?(0,za.f)(e,t,n):n()}const Xo=(0,x(4893).d)(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});var Ao=x(5373);function Zs(...t){return(0,Ao.J)(1)((0,yn.D)(t,(0,Nr.yG)(t)))}var sn=x(9985);function Qr(t){return new On.y(n=>{(0,sn.Xf)(t()).subscribe(n)})}var So=x(5583),No=x(7908),$n=x(9947);function tn(){return(0,$n.e)((t,n)=>{let e=null;t._refCount++;const i=new Qt.Q(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const a=t._connection,u=e;e=null,a&&(!u||a===u)&&a.unsubscribe(),n.unsubscribe()});t.subscribe(i),i.closed||(e=t.connect())})}class Za extends On.y{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,$n.A)(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,null==n||n.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new No.w0;const e=this.getSubject();n.add(this.source.subscribe(new Qt.Q(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=No.w0.EMPTY)}return n}refCount(){return tn()(this)}}function un(t,n){return(0,$n.e)((e,i)=>{let a=null,u=0,p=!1;const y=()=>p&&!a&&i.complete();e.subscribe(new Qt.Q(i,w=>{null==a||a.unsubscribe();let I=0;const k=u++;(0,sn.Xf)(t(w,k)).subscribe(a=new Qt.Q(i,R=>i.next(n?n(w,R,k,I++):R),()=>{a=null,y()}))},()=>{p=!0,y()}))})}var vn=x(9468);function Xr(t,n,e,i,a){return(u,p)=>{let y=e,w=n,I=0;u.subscribe(new Qt.Q(p,k=>{const R=I++;w=y?t(w,k,R):(y=!0,k),i&&p.next(w)},a&&(()=>{y&&p.next(w),p.complete()})))}}function Mr(t,n){return(0,$n.e)(Xr(t,n,arguments.length>=2,!0))}function $t(t,n){return(0,$n.e)((e,i)=>{let a=0;e.subscribe(new Qt.Q(i,u=>t.call(n,u,a++)&&i.next(u)))})}function gr(t){return(0,$n.e)((n,e)=>{let u,i=null,a=!1;i=n.subscribe(new Qt.Q(e,void 0,void 0,p=>{u=(0,sn.Xf)(t(p,gr(t)(n))),i?(i.unsubscribe(),i=null,u.subscribe(e)):a=!0})),a&&(i.unsubscribe(),i=null,u.subscribe(e))})}var Lt=x(5724),eo=x(5044);function Rr(t,n){return(0,eo.m)(n)?(0,Lt.z)(t,n,1):(0,Lt.z)(t,1)}function Zt(t){return t<=0?()=>So.E:(0,$n.e)((n,e)=>{let i=[];n.subscribe(new Qt.Q(e,a=>{i.push(a),t<i.length&&i.shift()},()=>{for(const a of i)e.next(a);e.complete()},void 0,()=>{i=null}))})}function Ya(t=Rd){return(0,$n.e)((n,e)=>{let i=!1;n.subscribe(new Qt.Q(e,a=>{i=!0,e.next(a)},()=>i?e.complete():e.error(t())))})}function Rd(){return new Xo}function kd(t){return(0,$n.e)((n,e)=>{let i=!1;n.subscribe(new Qt.Q(e,a=>{i=!0,e.next(a)},()=>{i||e.next(t),e.complete()}))})}function Ys(t,n){const e=arguments.length>=2;return i=>i.pipe(t?$t((a,u)=>t(a,u,i)):pr.y,(0,vn.q)(1),e?kd(n):Ya(()=>new Xo))}var Ln=x(7384);class vi{constructor(n,e){this.id=n,this.url=e}}class zu extends vi{constructor(n,e,i="imperative",a=null){super(n,e),this.navigationTrigger=i,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class pn extends vi{constructor(n,e,i){super(n,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class to extends vi{constructor(n,e,i){super(n,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qs extends vi{constructor(n,e,i){super(n,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ff extends vi{constructor(n,e,i,a){super(n,e),this.urlAfterRedirects=i,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Od extends vi{constructor(n,e,i,a){super(n,e),this.urlAfterRedirects=i,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ni extends vi{constructor(n,e,i,a,u){super(n,e),this.urlAfterRedirects=i,this.state=a,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class mr extends vi{constructor(n,e,i,a){super(n,e),this.urlAfterRedirects=i,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bl extends vi{constructor(n,e,i,a){super(n,e),this.urlAfterRedirects=i,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class es{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ts{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Zu{constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Js{constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vl{constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pd{constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ul{constructor(n,e,i){this.routerEvent=n,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ct="primary";class li{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function _r(t){return new li(t)}const ns="ngNavigationCancelingError";function Fd(t){const n=Error("NavigationCancelingError: "+t);return n[ns]=!0,n}function Yu(t,n,e){const i=e.path.split("/");if(i.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||i.length<t.length))return null;const a={};for(let u=0;u<i.length;u++){const p=i[u],y=t[u];if(p.startsWith(":"))a[p.substring(1)]=y;else if(p!==y.path)return null}return{consumed:t.slice(0,i.length),posParams:a}}function ui(t,n){const e=t?Object.keys(t):void 0,i=n?Object.keys(n):void 0;if(!e||!i||e.length!=i.length)return!1;let a;for(let u=0;u<e.length;u++)if(a=e[u],!Hl(t[a],n[a]))return!1;return!0}function Hl(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),i=[...n].sort();return e.every((a,u)=>i[u]===a)}return t===n}function qa(t){return Array.prototype.concat.apply([],t)}function $l(t){return t.length>0?t[t.length-1]:null}function In(t,n){for(const e in t)t.hasOwnProperty(e)&&n(t[e],e)}function jn(t){return(0,s.CqO)(t)?t:(0,s.QGY)(t)?(0,yn.D)(Promise.resolve(t)):je(t)}const Ka={exact:function jl(t,n,e){if(!Fe(t.segments,n.segments)||!L(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!t.children[i]||!jl(t.children[i],n.children[i],e))return!1;return!0},subset:E},kr={exact:function(t,n){return ui(t,n)},subset:function(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>Hl(t[e],n[e]))},ignored:()=>!0};function Qa(t,n,e){return Ka[e.paths](t.root,n.root,e.matrixParams)&&kr[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function E(t,n,e){return M(t,n,n.segments,e)}function M(t,n,e,i){if(t.segments.length>e.length){const a=t.segments.slice(0,e.length);return!(!Fe(a,e)||n.hasChildren()||!L(a,e,i))}if(t.segments.length===e.length){if(!Fe(t.segments,e)||!L(t.segments,e,i))return!1;for(const a in n.children)if(!t.children[a]||!E(t.children[a],n.children[a],i))return!1;return!0}{const a=e.slice(0,t.segments.length),u=e.slice(t.segments.length);return!!(Fe(t.segments,a)&&L(t.segments,a,i)&&t.children[ct])&&M(t.children[ct],n,u,i)}}function L(t,n,e){return n.every((i,a)=>kr[e](t[a].parameters,i.parameters))}class Z{constructor(n,e,i){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_r(this.queryParams)),this._queryParamMap}toString(){return wi.serialize(this)}}class z{constructor(n,e){this.segments=n,this.children=e,this.parent=null,In(e,(i,a)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return an(this)}}class De{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=_r(this.parameters)),this._parameterMap}toString(){return Gl(this)}}function Fe(t,n){return t.length===n.length&&t.every((e,i)=>e.path===n[i].path)}class Bt{}class bi{parse(n){const e=new fy(n);return new Z(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${Qn(n.root,!0)}`,i=function(t){const n=Object.keys(t).map(e=>{const i=t[e];return Array.isArray(i)?i.map(a=>`${Mi(e)}=${Mi(a)}`).join("&"):`${Mi(e)}=${Mi(i)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);var t;return`${e}${i}${"string"==typeof n.fragment?`#${t=n.fragment,encodeURI(t)}`:""}`}}const wi=new bi;function an(t){return t.segments.map(n=>Gl(n)).join("/")}function Qn(t,n){if(!t.hasChildren())return an(t);if(n){const e=t.children[ct]?Qn(t.children[ct],!1):"",i=[];return In(t.children,(a,u)=>{u!==ct&&i.push(`${u}:${Qn(a,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function(t,n){let e=[];return In(t.children,(i,a)=>{a===ct&&(e=e.concat(n(i,a)))}),In(t.children,(i,a)=>{a!==ct&&(e=e.concat(n(i,a)))}),e}(t,(i,a)=>a===ct?[Qn(t.children[ct],!1)]:[`${a}:${Qn(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ct]?`${an(t)}/${e[0]}`:`${an(t)}/(${e.join("//")})`}}function Mo(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mi(t){return Mo(t).replace(/%3B/gi,";")}function xr(t){return Mo(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ro(t){return decodeURIComponent(t)}function Ks(t){return Ro(t.replace(/\+/g,"%20"))}function Gl(t){return`${xr(t.path)}${function(t){return Object.keys(t).map(n=>`;${xr(n)}=${xr(t[n])}`).join("")}(t.parameters)}`}const Qs=/^[^\/()?;=#]+/;function ko(t){const n=t.match(Qs);return n?n[0]:""}const eg=/^[^=?&#]+/,qu=/^[^&#]+/;class fy{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new z([],{}):new z([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[ct]=new z(n,e)),i}parseSegment(){const n=ko(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new De(Ro(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=ko(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=ko(this.remaining);a&&(i=a,this.capture(i))}n[Ro(e)]=Ro(i)}parseQueryParam(n){const e=function(t){const n=t.match(eg);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const p=function(t){const n=t.match(qu);return n?n[0]:""}(this.remaining);p&&(i=p,this.capture(i))}const a=Ks(e),u=Ks(i);if(n.hasOwnProperty(a)){let p=n[a];Array.isArray(p)||(p=[p],n[a]=p),p.push(u)}else n[a]=u}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=ko(this.remaining),a=this.remaining[i.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let u;i.indexOf(":")>-1?(u=i.substr(0,i.indexOf(":")),this.capture(u),this.capture(":")):n&&(u=ct);const p=this.parseChildren();e[u]=1===Object.keys(p).length?p[ct]:new z([],p),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class Ju{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=Hd(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){const e=Hd(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=$d(n,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==n)}pathFromRoot(n){return $d(n,this._root).map(e=>e.value)}}function Hd(t,n){if(t===n.value)return n;for(const e of n.children){const i=Hd(t,e);if(i)return i}return null}function $d(t,n){if(t===n.value)return[n];for(const e of n.children){const i=$d(t,e);if(i.length)return i.unshift(n),i}return[]}class Vi{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function is(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class xo extends Ju{constructor(n,e){super(n),this.snapshot=e,zl(this,n)}toString(){return this.snapshot.toString()}}function Wl(t,n){const e=function(t,n){const p=new el([],{},{},"",{},ct,n,null,t.root,-1,{});return new Ku("",new Vi(p,[]))}(t,n),i=new xn([new De("",{})]),a=new xn({}),u=new xn({}),p=new xn({}),y=new xn(""),w=new Xa(i,a,p,y,u,ct,n,e.root);return w.snapshot=e.root,new xo(new Vi(w,[]),e)}class Xa{constructor(n,e,i,a,u,p,y,w){this.url=n,this.params=e,this.queryParams=i,this.fragment=a,this.data=u,this.outlet=p,this.component=y,this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,rt.U)(n=>_r(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,rt.U)(n=>_r(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Xs(t,n="emptyOnly"){const e=t.pathFromRoot;let i=0;if("always"!==n)for(i=e.length-1;i>=1;){const a=e[i],u=e[i-1];if(a.routeConfig&&""===a.routeConfig.path)i--;else{if(u.component)break;i--}}return function(t){return t.reduce((n,e)=>({params:at(at({},n.params),e.params),data:at(at({},n.data),e.data),resolve:at(at({},n.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class el{constructor(n,e,i,a,u,p,y,w,I,k,R){this.url=n,this.params=e,this.queryParams=i,this.fragment=a,this.data=u,this.outlet=p,this.component=y,this.routeConfig=w,this._urlSegment=I,this._lastPathIndex=k,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_r(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_r(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ku extends Ju{constructor(n,e){super(e),this.url=n,zl(this,e)}toString(){return rs(this._root)}}function zl(t,n){n.value._routerState=t,n.children.forEach(e=>zl(t,e))}function rs(t){const n=t.children.length>0?` { ${t.children.map(rs).join(", ")} } `:"";return`${t.value}${n}`}function Qu(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,ui(n.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),n.fragment!==e.fragment&&t.fragment.next(e.fragment),ui(n.params,e.params)||t.params.next(e.params),function(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!ui(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.url.next(e.url),ui(n.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Zl(t,n){const e=ui(t.params,n.params)&&function(t,n){return Fe(t,n)&&t.every((e,i)=>ui(e.parameters,n[i].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||Zl(t.parent,n.parent))}function Yl(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=n.value;const a=function(t,n,e){return n.children.map(i=>{for(const a of e.children)if(t.shouldReuseRoute(i.value,a.value.snapshot))return Yl(t,i,a);return Yl(t,i)})}(t,n,e);return new Vi(i,a)}{if(t.shouldAttach(n.value)){const u=t.retrieve(n.value);if(null!==u){const p=u.route;return p.value._futureSnapshot=n.value,p.children=n.children.map(y=>Yl(t,y)),p}}const i=function(t){return new Xa(new xn(t.url),new xn(t.params),new xn(t.queryParams),new xn(t.fragment),new xn(t.data),t.outlet,t.component,t)}(n.value),a=n.children.map(u=>Yl(t,u));return new Vi(i,a)}}function ql(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function nl(t){return"object"==typeof t&&null!=t&&t.outlets}function Wd(t,n,e,i,a){let u={};return i&&In(i,(p,y)=>{u[y]=Array.isArray(p)?p.map(w=>`${w}`):`${p}`}),new Z(e.root===t?n:Jl(e.root,t,n),u,a)}function Jl(t,n,e){const i={};return In(t.children,(a,u)=>{i[u]=a===n?e:Jl(a,n,e)}),new z(t.segments,i)}class pf{constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&ql(i[0]))throw new Error("Root segment cannot have matrix parameters");const a=i.find(nl);if(a&&a!==$l(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xu{constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}}function gf(t,n,e){if(t||(t=new z([],{})),0===t.segments.length&&t.hasChildren())return zd(t,n,e);const i=function(t,n,e){let i=0,a=n;const u={match:!1,pathIndex:0,commandIndex:0};for(;a<t.segments.length;){if(i>=e.length)return u;const p=t.segments[a],y=e[i];if(nl(y))break;const w=`${y}`,I=i<e.length-1?e[i+1]:null;if(a>0&&void 0===w)break;if(w&&I&&"object"==typeof I&&void 0===I.outlets){if(!il(w,I,p))return u;i+=2}else{if(!il(w,{},p))return u;i++}a++}return{match:!0,pathIndex:a,commandIndex:i}}(t,n,e),a=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const u=new z(t.segments.slice(0,i.pathIndex),{});return u.children[ct]=new z(t.segments.slice(i.pathIndex),t.children),zd(u,0,a)}return i.match&&0===a.length?new z(t.segments,{}):i.match&&!t.hasChildren()?ea(t,n,e):i.match?zd(t,0,a):ea(t,n,e)}function zd(t,n,e){if(0===e.length)return new z(t.segments,{});{const i=function(t){return nl(t[0])?t[0].outlets:{[ct]:t}}(e),a={};return In(i,(u,p)=>{"string"==typeof u&&(u=[u]),null!==u&&(a[p]=gf(t.children[p],n,u))}),In(t.children,(u,p)=>{void 0===i[p]&&(a[p]=u)}),new z(t.segments,a)}}function ea(t,n,e){const i=t.segments.slice(0,n);let a=0;for(;a<e.length;){const u=e[a];if(nl(u)){const w=mf(u.outlets);return new z(i,w)}if(0===a&&ql(e[0])){i.push(new De(t.segments[n].path,Pr(e[0]))),a++;continue}const p=nl(u)?u.outlets[ct]:`${u}`,y=a<e.length-1?e[a+1]:null;p&&y&&ql(y)?(i.push(new De(p,Pr(y))),a+=2):(i.push(new De(p,{})),a++)}return new z(i,{})}function mf(t){const n={};return In(t,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(n[i]=ea(new z([],{}),0,e))}),n}function Pr(t){const n={};return In(t,(e,i)=>n[i]=`${e}`),n}function il(t,n,e){return t==e.path&&ui(n,e.parameters)}class Yd{constructor(n,e,i,a){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=a}activate(n){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),Qu(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){const a=is(e);n.children.forEach(u=>{const p=u.value.outlet;this.deactivateRoutes(u,a[p],i),delete a[p]}),In(a,(u,p)=>{this.deactivateRouteAndItsChildren(u,i)})}deactivateRoutes(n,e,i){const a=n.value,u=e?e.value:null;if(a===u)if(a.component){const p=i.getContext(a.outlet);p&&this.deactivateChildRoutes(n,e,p.children)}else this.deactivateChildRoutes(n,e,i);else u&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const i=e.getContext(n.value.outlet),a=i&&n.value.component?i.children:e,u=is(n);for(const p of Object.keys(u))this.deactivateRouteAndItsChildren(u[p],a);if(i&&i.outlet){const p=i.outlet.detach(),y=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:p,route:n,contexts:y})}}deactivateRouteAndOutlet(n,e){const i=e.getContext(n.value.outlet),a=i&&n.value.component?i.children:e,u=is(n);for(const p of Object.keys(u))this.deactivateRouteAndItsChildren(u[p],a);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(n,e,i){const a=is(e);n.children.forEach(u=>{this.activateRoutes(u,a[u.value.outlet],i),this.forwardEvent(new Pd(u.value.snapshot))}),n.children.length&&this.forwardEvent(new Js(n.value.snapshot))}activateRoutes(n,e,i){const a=n.value,u=e?e.value:null;if(Qu(a),a===u)if(a.component){const p=i.getOrCreateContext(a.outlet);this.activateChildRoutes(n,e,p.children)}else this.activateChildRoutes(n,e,i);else if(a.component){const p=i.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const y=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),p.children.onOutletReAttached(y.contexts),p.attachRef=y.componentRef,p.route=y.route.value,p.outlet&&p.outlet.attach(y.componentRef,y.route.value),Qu(y.route.value),this.activateChildRoutes(n,null,p.children)}else{const y=function(t){for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(a.snapshot),w=y?y.module.componentFactoryResolver:null;p.attachRef=null,p.route=a,p.resolver=w,p.outlet&&p.outlet.activateWith(a,w),this.activateChildRoutes(n,null,p.children)}}else this.activateChildRoutes(n,null,i)}}class vf{constructor(n,e){this.routes=n,this.module=e}}function ta(t){return"function"==typeof t}function Fr(t){return t instanceof Z}const rl=Symbol("INITIAL_VALUE");function na(){return un(t=>function(...t){const n=(0,Nr.yG)(t),e=(0,Nr.jO)(t),{args:i,keys:a}=To(t);if(0===i.length)return(0,yn.D)([],n);const u=new On.y(function(t,n,e=pr.y){return i=>{ir(n,()=>{const{length:a}=t,u=new Array(a);let p=a,y=a;for(let w=0;w<a;w++)ir(n,()=>{const I=(0,yn.D)(t[w],n);let k=!1;I.subscribe(new Qt.Q(i,R=>{u[w]=R,k||(k=!0,y--),y||i.next(e(u.slice()))},()=>{--p||i.complete()}))},i)},i)}}(i,n,a?p=>Qo(a,p):pr.y));return e?u.pipe(Io(e)):u}(t.map(n=>n.pipe((0,vn.q)(1),function(...t){const n=(0,Nr.yG)(t);return(0,$n.e)((e,i)=>{(n?Zs(t,e,n):Zs(t,e)).subscribe(i)})}(rl)))).pipe(Mr((n,e)=>{let i=!1;return e.reduce((a,u,p)=>a!==rl?a:(u===rl&&(i=!0),i||!1!==u&&p!==e.length-1&&!Fr(u)?a:u),n)},rl),$t(n=>n!==rl),(0,rt.U)(n=>Fr(n)?n:!0===n),(0,vn.q)(1)))}class ug{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ol,this.attachRef=null}}class ol{constructor(){this.contexts=new Map}onChildOutletCreated(n,e){const i=this.getOrCreateContext(n);i.outlet=e,this.contexts.set(n,i)}onChildOutletDestroyed(n){const e=this.getContext(n);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let e=this.getContext(n);return e||(e=new ug,this.contexts.set(n,e)),e}getContext(n){return this.contexts.get(n)||null}}let ec=(()=>{class t{constructor(e,i,a,u,p){this.parentContexts=e,this.location=i,this.resolver=a,this.changeDetector=p,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=u||ct,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const p=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),y=this.parentContexts.getOrCreateContext(this.name).children,w=new bf(e,y,this.location.injector);this.activated=this.location.createComponent(p,this.location.length,w),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(ol),s.Y36(s.s_b),s.Y36(s._Vd),s.$8M("name"),s.Y36(s.sBO))},t.\u0275dir=s.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class bf{constructor(n,e,i){this.route=n,this.childContexts=e,this.parent=i}get(n,e){return n===Xa?this.route:n===ol?this.childContexts:this.parent.get(n,e)}}let Ql=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},directives:[ec],encapsulation:2}),t})();function Jd(t,n=""){for(let e=0;e<t.length;e++){const i=t[e];wf(i,ia(n,i))}}function wf(t,n){t.children&&Jd(t.children,n)}function ia(t,n){return n?t||n.path?t&&!n.path?`${t}/`:!t&&n.path?n.path:`${t}/${n.path}`:"":t}function bn(t){const n=t.children&&t.children.map(bn),e=n?zi(at({},t),{children:n}):at({},t);return!e.component&&(n||e.loadChildren)&&e.outlet&&e.outlet!==ct&&(e.component=Ql),e}function br(t){return t.outlet||ct}function tc(t,n){const e=t.filter(i=>br(i)===n);return e.push(...t.filter(i=>br(i)!==n)),e}const nc={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function os(t,n,e){var y;if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?at({},nc):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const a=(n.matcher||Yu)(e,t,n);if(!a)return at({},nc);const u={};In(a.posParams,(w,I)=>{u[I]=w.path});const p=a.consumed.length>0?at(at({},u),a.consumed[a.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:a.consumed,lastChild:a.consumed.length,parameters:p,positionalParamSegments:null!=(y=a.posParams)?y:{}}}function ic(t,n,e,i,a="corrected"){if(e.length>0&&function(t,n,e){return e.some(i=>Xl(t,n,i)&&br(i)!==ct)}(t,e,i)){const p=new z(n,function(t,n,e,i){const a={};a[ct]=i,i._sourceSegment=t,i._segmentIndexShift=n.length;for(const u of e)if(""===u.path&&br(u)!==ct){const p=new z([],{});p._sourceSegment=t,p._segmentIndexShift=n.length,a[br(u)]=p}return a}(t,n,i,new z(e,t.children)));return p._sourceSegment=t,p._segmentIndexShift=n.length,{segmentGroup:p,slicedSegments:[]}}if(0===e.length&&function(t,n,e){return e.some(i=>Xl(t,n,i))}(t,e,i)){const p=new z(t.segments,function(t,n,e,i,a,u){const p={};for(const y of i)if(Xl(t,e,y)&&!a[br(y)]){const w=new z([],{});w._sourceSegment=t,w._segmentIndexShift="legacy"===u?t.segments.length:n.length,p[br(y)]=w}return at(at({},a),p)}(t,n,e,i,t.children,a));return p._sourceSegment=t,p._segmentIndexShift=n.length,{segmentGroup:p,slicedSegments:e}}const u=new z(t.segments,t.children);return u._sourceSegment=t,u._segmentIndexShift=n.length,{segmentGroup:u,slicedSegments:e}}function Xl(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}function fg(t,n,e,i){return!!(br(t)===i||i!==ct&&Xl(n,e,t))&&("**"===t.path||os(n,t,e).matched)}function sl(t,n,e){return 0===n.length&&!t.children[e]}class Gn{constructor(n){this.segmentGroup=n||null}}class rc{constructor(n){this.urlTree=n}}function eu(t){return new On.y(n=>n.error(new Gn(t)))}function oc(t){return new On.y(n=>n.error(new rc(t)))}function Xn(t){return new On.y(n=>n.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Xd{constructor(n,e,i,a,u){this.configLoader=e,this.urlSerializer=i,this.urlTree=a,this.config=u,this.allowRedirects=!0,this.ngModule=n.get(s.h0i)}apply(){const n=ic(this.urlTree.root,[],[],this.config).segmentGroup,e=new z(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,e,ct).pipe((0,rt.U)(u=>this.createUrlTree(sc(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(gr(u=>{if(u instanceof rc)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Gn?this.noMatchError(u):u}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,ct).pipe((0,rt.U)(a=>this.createUrlTree(sc(a),n.queryParams,n.fragment))).pipe(gr(a=>{throw a instanceof Gn?this.noMatchError(a):a}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,e,i){const a=n.segments.length>0?new z([],{[ct]:n}):n;return new Z(a,e,i)}expandSegmentGroup(n,e,i,a){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(n,e,i).pipe((0,rt.U)(u=>new z([],u))):this.expandSegment(n,i,e,i.segments,a,!0)}expandChildren(n,e,i){const a=[];for(const u of Object.keys(i.children))"primary"===u?a.unshift(u):a.push(u);return(0,yn.D)(a).pipe(Rr(u=>{const p=i.children[u],y=tc(e,u);return this.expandSegmentGroup(n,y,p,u).pipe((0,rt.U)(w=>({segment:w,outlet:u})))}),Mr((u,p)=>(u[p.outlet]=p.segment,u),{}),function(t,n){const e=arguments.length>=2;return i=>i.pipe(t?$t((a,u)=>t(a,u,i)):pr.y,Zt(1),e?kd(n):Ya(()=>new Xo))}())}expandSegment(n,e,i,a,u,p){return(0,yn.D)(i).pipe(Rr(y=>this.expandSegmentAgainstRoute(n,e,i,y,a,u,p).pipe(gr(I=>{if(I instanceof Gn)return je(null);throw I}))),Ys(y=>!!y),gr((y,w)=>{if(y instanceof Xo||"EmptyError"===y.name){if(sl(e,a,u))return je(new z([],{}));throw new Gn(e)}throw y}))}expandSegmentAgainstRoute(n,e,i,a,u,p,y){return fg(a,e,u,p)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(n,e,a,u,p):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,i,a,u,p):eu(e):eu(e)}expandSegmentAgainstRouteUsingRedirect(n,e,i,a,u,p){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,i,a,p):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,a,u,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,i,a){const u=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?oc(u):this.lineralizeSegments(i,u).pipe((0,Lt.z)(p=>{const y=new z(p,{});return this.expandSegment(n,y,e,p,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,a,u,p){const{matched:y,consumedSegments:w,lastChild:I,positionalParamSegments:k}=os(e,a,u);if(!y)return eu(e);const R=this.applyRedirectCommands(w,a.redirectTo,k);return a.redirectTo.startsWith("/")?oc(R):this.lineralizeSegments(a,R).pipe((0,Lt.z)(V=>this.expandSegment(n,e,i,V.concat(u.slice(I)),p,!1)))}matchSegmentAgainstRoute(n,e,i,a,u){if("**"===i.path)return i.loadChildren?(i._loadedConfig?je(i._loadedConfig):this.configLoader.load(n.injector,i)).pipe((0,rt.U)(V=>(i._loadedConfig=V,new z(a,{})))):je(new z(a,{}));const{matched:p,consumedSegments:y,lastChild:w}=os(e,i,a);if(!p)return eu(e);const I=a.slice(w);return this.getChildConfig(n,i,a).pipe((0,Lt.z)(R=>{const V=R.module,J=R.routes,{segmentGroup:_e,slicedSegments:Oe}=ic(e,y,I,J),qe=new z(_e.segments,_e.children);if(0===Oe.length&&qe.hasChildren())return this.expandChildren(V,J,qe).pipe((0,rt.U)(Wt=>new z(y,Wt)));if(0===J.length&&0===Oe.length)return je(new z(y,{}));const Nt=br(i)===u;return this.expandSegment(V,qe,J,Oe,Nt?ct:u,!0).pipe((0,rt.U)(Vn=>new z(y.concat(Vn.segments),Vn.children)))}))}getChildConfig(n,e,i){return e.children?je(new vf(e.children,n)):e.loadChildren?void 0!==e._loadedConfig?je(e._loadedConfig):this.runCanLoadGuards(n.injector,e,i).pipe((0,Lt.z)(a=>{return a?this.configLoader.load(n.injector,e).pipe((0,rt.U)(u=>(e._loadedConfig=u,u))):(t=e,new On.y(n=>n.error(Fd(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))));var t})):je(new vf([],n))}runCanLoadGuards(n,e,i){const a=e.canLoad;return a&&0!==a.length?je(a.map(p=>{const y=n.get(p);let w;if((t=y)&&ta(t.canLoad))w=y.canLoad(e,i);else{if(!ta(y))throw new Error("Invalid CanLoad guard");w=y(e,i)}var t;return jn(w)})).pipe(na(),(0,Ln.b)(p=>{if(!Fr(p))return;const y=Fd(`Redirecting to "${this.urlSerializer.serialize(p)}"`);throw y.url=p,y}),(0,rt.U)(p=>!0===p)):je(!0)}lineralizeSegments(n,e){let i=[],a=e.root;for(;;){if(i=i.concat(a.segments),0===a.numberOfChildren)return je(i);if(a.numberOfChildren>1||!a.children[ct])return Xn(n.redirectTo);a=a.children[ct]}}applyRedirectCommands(n,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),n,i)}applyRedirectCreatreUrlTree(n,e,i,a){const u=this.createSegmentGroup(n,e.root,i,a);return new Z(u,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const i={};return In(n,(a,u)=>{if("string"==typeof a&&a.startsWith(":")){const y=a.substring(1);i[u]=e[y]}else i[u]=a}),i}createSegmentGroup(n,e,i,a){const u=this.createSegments(n,e.segments,i,a);let p={};return In(e.children,(y,w)=>{p[w]=this.createSegmentGroup(n,y,i,a)}),new z(u,p)}createSegments(n,e,i,a){return e.map(u=>u.path.startsWith(":")?this.findPosParam(n,u,a):this.findOrReturn(u,i))}findPosParam(n,e,i){const a=i[e.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${n}'. Cannot find '${e.path}'.`);return a}findOrReturn(n,e){let i=0;for(const a of e){if(a.path===n.path)return e.splice(i),a;i++}return n}}function sc(t){const n={};for(const i of Object.keys(t.children)){const u=sc(t.children[i]);(u.segments.length>0||u.hasChildren())&&(n[i]=u)}return function(t){if(1===t.numberOfChildren&&t.children[ct]){const n=t.children[ct];return new z(t.segments.concat(n.segments),n.children)}return t}(new z(t.segments,n))}class al{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class ac{constructor(n,e){this.component=n,this.route=e}}function Cf(t,n,e){const i=t._root;return ra(i,n?n._root:null,e,[i.value])}function nu(t,n,e){const i=function(t){if(!t)return null;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(n);return(i?i.module.injector:e).get(t)}function ra(t,n,e,i,a={canDeactivateChecks:[],canActivateChecks:[]}){const u=is(n);return t.children.forEach(p=>{(function(t,n,e,i,a={canDeactivateChecks:[],canActivateChecks:[]}){const u=t.value,p=n?n.value:null,y=e?e.getContext(t.value.outlet):null;if(p&&u.routeConfig===p.routeConfig){const w=function(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!Fe(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Fe(t.url,n.url)||!ui(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zl(t,n)||!ui(t.queryParams,n.queryParams);default:return!Zl(t,n)}}(p,u,u.routeConfig.runGuardsAndResolvers);w?a.canActivateChecks.push(new al(i)):(u.data=p.data,u._resolvedData=p._resolvedData),ra(t,n,u.component?y?y.children:null:e,i,a),w&&y&&y.outlet&&y.outlet.isActivated&&a.canDeactivateChecks.push(new ac(y.outlet.component,p))}else p&&oa(n,y,a),a.canActivateChecks.push(new al(i)),ra(t,null,u.component?y?y.children:null:e,i,a)})(p,u[p.value.outlet],e,i.concat([p.value]),a),delete u[p.value.outlet]}),In(u,(p,y)=>oa(p,e.getContext(y),a)),a}function oa(t,n,e){const i=is(t),a=t.value;In(i,(u,p)=>{oa(u,a.component?n?n.children.getContext(p):null:n,e)}),e.canDeactivateChecks.push(new ac(a.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,a))}class ih{}function lc(t){return new On.y(n=>n.error(t))}class rh{constructor(n,e,i,a,u,p){this.rootComponentType=n,this.config=e,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=p}recognize(){const n=ic(this.urlTree.root,[],[],this.config.filter(p=>void 0===p.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,n,ct);if(null===e)return null;const i=new el([],Object.freeze({}),Object.freeze(at({},this.urlTree.queryParams)),this.urlTree.fragment,{},ct,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Vi(i,e),u=new Ku(this.url,a);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(n){const e=n.value,i=Xs(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),n.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(n,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(n,e):this.processSegment(n,e,e.segments,i)}processChildren(n,e){const i=[];for(const u of Object.keys(e.children)){const p=e.children[u],y=tc(n,u),w=this.processSegmentGroup(y,p,u);if(null===w)return null;i.push(...w)}const a=Tf(i);return a.sort((n,e)=>n.value.outlet===ct?-1:e.value.outlet===ct?1:n.value.outlet.localeCompare(e.value.outlet)),a}processSegment(n,e,i,a){for(const u of n){const p=this.processSegmentAgainstRoute(u,e,i,a);if(null!==p)return p}return sl(e,i,a)?[]:null}processSegmentAgainstRoute(n,e,i,a){if(n.redirectTo||!fg(n,e,i,a))return null;let u,p=[],y=[];if("**"===n.path){const J=i.length>0?$l(i).parameters:{};u=new el(i,J,Object.freeze(at({},this.urlTree.queryParams)),this.urlTree.fragment,wr(n),br(n),n.component,n,uc(e),sa(e)+i.length,Dg(n))}else{const J=os(e,n,i);if(!J.matched)return null;p=J.consumedSegments,y=i.slice(J.lastChild),u=new el(p,J.parameters,Object.freeze(at({},this.urlTree.queryParams)),this.urlTree.fragment,wr(n),br(n),n.component,n,uc(e),sa(e)+p.length,Dg(n))}const w=(t=n).children?t.children:t.loadChildren?t._loadedConfig.routes:[],{segmentGroup:I,slicedSegments:k}=ic(e,p,y,w.filter(J=>void 0===J.redirectTo),this.relativeLinkResolution);var t;if(0===k.length&&I.hasChildren()){const J=this.processChildren(w,I);return null===J?null:[new Vi(u,J)]}if(0===w.length&&0===k.length)return[new Vi(u,[])];const R=br(n)===a,V=this.processSegment(w,I,k,R?ct:a);return null===V?null:[new Vi(u,V)]}}function oh(t){const n=t.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function Tf(t){const n=[],e=new Set;for(const i of t){if(!oh(i)){n.push(i);continue}const a=n.find(u=>i.value.routeConfig===u.value.routeConfig);void 0!==a?(a.children.push(...i.children),e.add(a)):n.push(i)}for(const i of e){const a=Tf(i.children);n.push(new Vi(i.value,a))}return n.filter(i=>!e.has(i))}function uc(t){let n=t;for(;n._sourceSegment;)n=n._sourceSegment;return n}function sa(t){let n=t,e=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,e+=n._segmentIndexShift?n._segmentIndexShift:0;return e-1}function wr(t){return t.data||{}}function Dg(t){return t.resolve||{}}function ll(t){return un(n=>{const e=t(n);return e?(0,yn.D)(e).pipe((0,rt.U)(()=>n)):je(n)})}class la extends class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}{}const dc=new s.OlP("ROUTES");class Lr{constructor(n,e,i,a){this.injector=n,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=a}load(n,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const a=this.loadModuleFactory(e.loadChildren).pipe((0,rt.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(e);const p=u.create(n);return new vf(qa(p.injector.get(dc,void 0,s.XFs.Self|s.XFs.Optional)).map(bn),p)}),gr(u=>{throw e._loader$=void 0,u}));return e._loader$=new Za(a,()=>new zt.x).pipe(tn()),e._loader$}loadModuleFactory(n){return jn(n()).pipe((0,Lt.z)(e=>e instanceof s.YKP?je(e):(0,yn.D)(this.compiler.compileModuleAsync(e))))}}class hc{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,e){return n}}function lh(t){throw t}function Af(t,n,e){return n.parse("/")}function ca(t,n){return je(null)}const uh={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Sf={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let sr=(()=>{class t{constructor(e,i,a,u,p,y,w){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=a,this.location=u,this.config=w,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new zt.x,this.errorHandler=lh,this.malformedUriErrorHandler=Af,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ca,afterPreactivation:ca},this.urlHandlingStrategy=new hc,this.routeReuseStrategy=new la,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=p.get(s.h0i),this.console=p.get(s.c2e);const R=p.get(s.R0b);this.isNgZoneEnabled=R instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(w),this.currentUrlTree=new Z(new z([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Lr(p,y,V=>this.triggerEvent(new es(V)),V=>this.triggerEvent(new ts(V))),this.routerState=Wl(this.currentUrlTree,this.rootComponentType),this.transitions=new xn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null==(e=this.location.getState())?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe($t(a=>0!==a.id),(0,rt.U)(a=>zi(at({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),un(a=>{let u=!1,p=!1;return je(a).pipe((0,Ln.b)(y=>{this.currentNavigation={id:y.id,initialUrl:y.currentRawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?zi(at({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),un(y=>{const w=this.browserUrlTree.toString(),I=!this.navigated||y.extractedUrl.toString()!==w||w!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||I)&&this.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return h(y.source)&&(this.browserUrlTree=y.extractedUrl),je(y).pipe(un(R=>{const V=this.transitions.getValue();return i.next(new zu(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),V!==this.transitions.getValue()?So.E:Promise.resolve(R)}),function(t,n,e,i){return un(a=>function(t,n,e,i,a){return new Xd(t,n,e,i,a).apply()}(t,n,e,a.extractedUrl,i).pipe((0,rt.U)(u=>zi(at({},a),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ln.b)(R=>{this.currentNavigation=zi(at({},this.currentNavigation),{finalUrl:R.urlAfterRedirects})}),function(t,n,e,i,a){return(0,Lt.z)(u=>function(t,n,e,i,a="emptyOnly",u="legacy"){try{const p=new rh(t,n,e,i,a,u).recognize();return null===p?lc(new ih):je(p)}catch(p){return lc(p)}}(t,n,u.urlAfterRedirects,e(u.urlAfterRedirects),i,a).pipe((0,rt.U)(p=>zi(at({},u),{targetSnapshot:p}))))}(this.rootComponentType,this.config,R=>this.serializeUrl(R),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ln.b)(R=>{if("eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const J=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(J,R)}this.browserUrlTree=R.urlAfterRedirects}const V=new ff(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);i.next(V)}));if(I&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:J,source:_e,restoredState:Oe,extras:qe}=y,Nt=new zu(V,this.serializeUrl(J),_e,Oe);i.next(Nt);const _t=Wl(J,this.rootComponentType).snapshot;return je(zi(at({},y),{targetSnapshot:_t,urlAfterRedirects:J,extras:zi(at({},qe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=y.rawUrl,y.resolve(null),So.E}),ll(y=>{const{targetSnapshot:w,id:I,extractedUrl:k,rawUrl:R,extras:{skipLocationChange:V,replaceUrl:J}}=y;return this.hooks.beforePreactivation(w,{navigationId:I,appliedUrlTree:k,rawUrlTree:R,skipLocationChange:!!V,replaceUrl:!!J})}),(0,Ln.b)(y=>{const w=new Od(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}),(0,rt.U)(y=>zi(at({},y),{guards:Cf(y.targetSnapshot,y.currentSnapshot,this.rootContexts)})),function(t,n){return(0,Lt.z)(e=>{const{targetSnapshot:i,currentSnapshot:a,guards:{canActivateChecks:u,canDeactivateChecks:p}}=e;return 0===p.length&&0===u.length?je(zi(at({},e),{guardsResult:!0})):function(t,n,e,i){return(0,yn.D)(t).pipe((0,Lt.z)(a=>function(t,n,e,i,a){const u=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return u&&0!==u.length?je(u.map(y=>{const w=nu(y,n,a);let I;if(function(t){return t&&ta(t.canDeactivate)}(w))I=jn(w.canDeactivate(t,n,e,i));else{if(!ta(w))throw new Error("Invalid CanDeactivate guard");I=jn(w(t,n,e,i))}return I.pipe(Ys())})).pipe(na()):je(!0)}(a.component,a.route,e,n,i)),Ys(a=>!0!==a,!0))}(p,i,a,t).pipe((0,Lt.z)(y=>y&&function(t){return"boolean"==typeof t}(y)?function(t,n,e,i){return(0,yn.D)(n).pipe(Rr(a=>Zs(function(t,n){return null!==t&&n&&n(new Zu(t)),je(!0)}(a.route.parent,i),function(t,n){return null!==t&&n&&n(new Vl(t)),je(!0)}(a.route,i),function(t,n,e){const i=n[n.length-1],u=n.slice(0,n.length-1).reverse().map(p=>function(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(p)).filter(p=>null!==p).map(p=>Qr(()=>je(p.guards.map(w=>{const I=nu(w,p.node,e);let k;if(function(t){return t&&ta(t.canActivateChild)}(I))k=jn(I.canActivateChild(i,t));else{if(!ta(I))throw new Error("Invalid CanActivateChild guard");k=jn(I(i,t))}return k.pipe(Ys())})).pipe(na())));return je(u).pipe(na())}(t,a.path,e),function(t,n,e){const i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||0===i.length)return je(!0);const a=i.map(u=>Qr(()=>{const p=nu(u,n,e);let y;if(function(t){return t&&ta(t.canActivate)}(p))y=jn(p.canActivate(n,t));else{if(!ta(p))throw new Error("Invalid CanActivate guard");y=jn(p(n,t))}return y.pipe(Ys())}));return je(a).pipe(na())}(t,a.route,e))),Ys(a=>!0!==a,!0))}(i,u,t,n):je(y)),(0,rt.U)(y=>zi(at({},e),{guardsResult:y})))})}(this.ngModule.injector,y=>this.triggerEvent(y)),(0,Ln.b)(y=>{if(Fr(y.guardsResult)){const I=Fd(`Redirecting to "${this.serializeUrl(y.guardsResult)}"`);throw I.url=y.guardsResult,I}const w=new Ni(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.triggerEvent(w)}),$t(y=>!!y.guardsResult||(this.restoreHistory(y),this.cancelNavigationTransition(y,""),!1)),ll(y=>{if(y.guards.canActivateChecks.length)return je(y).pipe((0,Ln.b)(w=>{const I=new mr(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(I)}),un(w=>{let I=!1;return je(w).pipe(function(t,n){return(0,Lt.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:a}}=e;if(!a.length)return je(e);let u=0;return(0,yn.D)(a).pipe(Rr(p=>function(t,n,e,i){return function(t,n,e,i){const a=Object.keys(t);if(0===a.length)return je({});const u={};return(0,yn.D)(a).pipe((0,Lt.z)(p=>function(t,n,e,i){const a=nu(t,n,i);return jn(a.resolve?a.resolve(n,e):a(n,e))}(t[p],n,e,i).pipe((0,Ln.b)(y=>{u[p]=y}))),Zt(1),(0,Lt.z)(()=>Object.keys(u).length===a.length?je(u):So.E))}(t._resolve,t,n,i).pipe((0,rt.U)(u=>(t._resolvedData=u,t.data=at(at({},t.data),Xs(t,e).resolve),null)))}(p.route,i,t,n)),(0,Ln.b)(()=>u++),Zt(1),(0,Lt.z)(p=>u===a.length?je(e):So.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ln.b)({next:()=>I=!0,complete:()=>{I||(this.restoreHistory(w),this.cancelNavigationTransition(w,"At least one route resolver didn't emit any value."))}}))}),(0,Ln.b)(w=>{const I=new Bl(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(I)}))}),ll(y=>{const{targetSnapshot:w,id:I,extractedUrl:k,rawUrl:R,extras:{skipLocationChange:V,replaceUrl:J}}=y;return this.hooks.afterPreactivation(w,{navigationId:I,appliedUrlTree:k,rawUrlTree:R,skipLocationChange:!!V,replaceUrl:!!J})}),(0,rt.U)(y=>{const w=function(t,n,e){const i=Yl(t,n._root,e?e._root:void 0);return new xo(i,n)}(this.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return zi(at({},y),{targetRouterState:w})}),(0,Ln.b)(y=>{this.currentUrlTree=y.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl),this.routerState=y.targetRouterState,"deferred"===this.urlUpdateStrategy&&(y.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,y),this.browserUrlTree=y.urlAfterRedirects)}),((t,n,e)=>(0,rt.U)(i=>(new Yd(n,i.targetRouterState,i.currentRouterState,e).activate(t),i)))(this.rootContexts,this.routeReuseStrategy,y=>this.triggerEvent(y)),(0,Ln.b)({next(){u=!0},complete(){u=!0}}),function(t){return(0,$n.e)((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}(()=>{var y;u||p||this.cancelNavigationTransition(a,`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`),(null==(y=this.currentNavigation)?void 0:y.id)===a.id&&(this.currentNavigation=null)}),gr(y=>{if(p=!0,function(t){return t&&t[ns]}(y)){const w=Fr(y.url);w||(this.navigated=!0,this.restoreHistory(a,!0));const I=new to(a.id,this.serializeUrl(a.extractedUrl),y.message);i.next(I),w?setTimeout(()=>{const k=this.urlHandlingStrategy.merge(y.url,this.rawUrlTree),R={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||h(a.source)};this.scheduleNavigation(k,"imperative",null,R,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const w=new qs(a.id,this.serializeUrl(a.extractedUrl),y);i.next(w);try{a.resolve(this.errorHandler(y))}catch(I){a.reject(I)}}return So.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(at(at({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var y;const a={replaceUrl:!0},u=(null==(y=e.state)?void 0:y.navigationId)?e.state:null;if(u){const w=at({},u);delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(a.state=w)}const p=this.parseUrl(e.url);this.scheduleNavigation(p,i,u,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Jd(e),this.config=e.map(bn),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:a,queryParams:u,fragment:p,queryParamsHandling:y,preserveFragment:w}=i,I=a||this.routerState.root,k=w?this.currentUrlTree.fragment:p;let R=null;switch(y){case"merge":R=at(at({},this.currentUrlTree.queryParams),u);break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=u||null}return null!==R&&(R=this.removeEmptyProps(R)),function(t,n,e,i,a){if(0===e.length)return Wd(n.root,n.root,n,i,a);const u=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new pf(!0,0,t);let n=0,e=!1;const i=t.reduce((a,u,p)=>{if("object"==typeof u&&null!=u){if(u.outlets){const y={};return In(u.outlets,(w,I)=>{y[I]="string"==typeof w?w.split("/"):w}),[...a,{outlets:y}]}if(u.segmentPath)return[...a,u.segmentPath]}return"string"!=typeof u?[...a,u]:0===p?(u.split("/").forEach((y,w)=>{0==w&&"."===y||(0==w&&""===y?e=!0:".."===y?n++:""!=y&&a.push(y))}),a):[...a,u]},[]);return new pf(e,n,i)}(e);if(u.toRoot())return Wd(n.root,new z([],{}),n,i,a);const p=function(t,n,e){if(t.isAbsolute)return new Xu(n.root,!0,0);if(-1===e.snapshot._lastPathIndex){const u=e.snapshot._urlSegment;return new Xu(u,u===n.root,0)}const i=ql(t.commands[0])?0:1;return function(t,n,e){let i=t,a=n,u=e;for(;u>a;){if(u-=a,i=i.parent,!i)throw new Error("Invalid number of '../'");a=i.segments.length}return new Xu(i,!1,a-u)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(u,n,t),y=p.processChildren?zd(p.segmentGroup,p.index,u.commands):gf(p.segmentGroup,p.index,u.commands);return Wd(p.segmentGroup,y,n,i,a)}(I,this.currentUrlTree,e,R,null!=k?k:null)}navigateByUrl(e,i={skipLocationChange:!1}){const a=Fr(e)?e:this.parseUrl(e),u=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function(t){for(let n=0;n<t.length;n++){const e=t[n];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${n}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(a){i=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return i}isActive(e,i){let a;if(a=!0===i?at({},uh):!1===i?at({},Sf):i,Fr(e))return Qa(this.currentUrlTree,e,a);const u=this.parseUrl(e);return Qa(this.currentUrlTree,u,a)}removeEmptyProps(e){return Object.keys(e).reduce((i,a)=>{const u=e[a];return null!=u&&(i[a]=u),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new pn(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,a,u,p){var Nt,_t,Vn;if(this.disposed)return Promise.resolve(!1);const y=this.transitions.value,w=h(i)&&y&&!h(y.source),I=y.rawUrl.toString()===e.toString(),k=y.id===(null==(Nt=this.currentNavigation)?void 0:Nt.id);if(w&&I&&k)return Promise.resolve(!0);let V,J,_e;p?(V=p.resolve,J=p.reject,_e=p.promise):_e=new Promise((Wt,Ri)=>{V=Wt,J=Ri});const Oe=++this.navigationId;let qe;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),qe=a&&a.\u0275routerPageId?a.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!=(_t=this.browserPageId)?_t:0:(null!=(Vn=this.browserPageId)?Vn:0)+1):qe=0,this.setTransition({id:Oe,targetPageId:qe,source:i,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:u,resolve:V,reject:J,promise:_e,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_e.catch(Wt=>Promise.reject(Wt))}setBrowserUrl(e,i){const a=this.urlSerializer.serialize(e),u=at(at({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(a)||i.extras.replaceUrl?this.location.replaceState(a,"",u):this.location.go(a,"",u)}restoreHistory(e,i=!1){var a,u;if("computed"===this.canceledNavigationResolution){const p=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(a=this.currentNavigation)?void 0:a.finalUrl)||0===p?this.currentUrlTree===(null==(u=this.currentNavigation)?void 0:u.finalUrl)&&0===p&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(p)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const a=new to(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(a),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return t.\u0275fac=function(e){s.$Z()},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})();function h(t){return"imperative"!==t}class X{}class Ie{preload(n,e){return je(null)}}let Ze=(()=>{class t{constructor(e,i,a,u){this.router=e,this.injector=a,this.preloadingStrategy=u,this.loader=new Lr(a,i,w=>e.triggerEvent(new es(w)),w=>e.triggerEvent(new ts(w)))}setUpPreloading(){this.subscription=this.router.events.pipe($t(e=>e instanceof pn),Rr(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(s.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const a=[];for(const u of i)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const p=u._loadedConfig;a.push(this.processRoutes(p.module,p.routes))}else u.loadChildren&&!u.canLoad?a.push(this.preloadConfig(e,u)):u.children&&a.push(this.processRoutes(e,u.children));return(0,yn.D)(a).pipe((0,Ao.J)(),(0,rt.U)(u=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?je(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,Lt.z)(u=>(i._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(sr),s.LFG(s.Sil),s.LFG(s.zs3),s.LFG(X))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})(),Ye=(()=>{class t{constructor(e,i,a={}){this.router=e,this.viewportScroller=i,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof zu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof pn&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ul&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Ul(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){s.$Z()},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})();const cn=new s.OlP("ROUTER_CONFIGURATION"),io=new s.OlP("ROUTER_FORROOT_GUARD"),ro=[Be,{provide:Bt,useClass:bi},{provide:sr,useFactory:function(t,n,e,i,a,u,p={},y,w){const I=new sr(null,t,n,e,i,a,qa(u));return y&&(I.urlHandlingStrategy=y),w&&(I.routeReuseStrategy=w),function(t,n){t.errorHandler&&(n.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(n.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(n.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(n.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(n.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(n.canceledNavigationResolution=t.canceledNavigationResolution)}(p,I),p.enableTracing&&I.events.subscribe(k=>{var R,V;null==(R=console.group)||R.call(console,`Router Event: ${k.constructor.name}`),console.log(k.toString()),console.log(k),null==(V=console.groupEnd)||V.call(console)}),I},deps:[Bt,ol,Be,s.zs3,s.Sil,dc,cn,[class{},new s.FiY],[class{},new s.FiY]]},ol,{provide:Xa,useFactory:function(t){return t.routerState.root},deps:[sr]},Ze,Ie,class{preload(n,e){return e().pipe(gr(()=>je(null)))}},{provide:cn,useValue:{enableTracing:!1}}];function fc(){return new s.PXZ("Router",sr)}let pc=(()=>{class t{constructor(e,i){}static forRoot(e,i){return{ngModule:t,providers:[ro,gc(e),{provide:io,useFactory:Mf,deps:[[sr,new s.FiY,new s.tp0]]},{provide:cn,useValue:i||{}},{provide:oe,useFactory:ul,deps:[re,[new s.tBr(se),new s.FiY],cn]},{provide:Ye,useFactory:Nf,deps:[sr,Dd,cn]},{provide:X,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Ie},{provide:s.PXZ,multi:!0,useFactory:fc},[cl,{provide:s.ip1,multi:!0,useFactory:_c,deps:[cl]},{provide:Eg,useFactory:Rf,deps:[cl]},{provide:s.tb,multi:!0,useExisting:Eg}]]}}static forChild(e){return{ngModule:t,providers:[gc(e)]}}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(io,8),s.LFG(sr,8))},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({}),t})();function Nf(t,n,e){return e.scrollOffset&&n.setOffset(e.scrollOffset),new Ye(t,n,e)}function ul(t,n,e={}){return e.useHash?new ge(t,n):new be(t,n)}function Mf(t){return"guarded"}function gc(t){return[{provide:s.deG,multi:!0,useValue:t},{provide:dc,multi:!0,useValue:t}]}let cl=(()=>{class t{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new zt.x}appInitializer(){return this.injector.get($,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const a=new Promise(y=>i=y),u=this.injector.get(sr),p=this.injector.get(cn);return"disabled"===p.initialNavigation?(u.setUpLocationChangeListener(),i(!0)):"enabled"===p.initialNavigation||"enabledBlocking"===p.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?je(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),u.initialNavigation()):i(!0),a})}bootstrapListener(e){const i=this.injector.get(cn),a=this.injector.get(Ze),u=this.injector.get(Ye),p=this.injector.get(sr),y=this.injector.get(s.z2F);e===y.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&p.initialNavigation(),a.setUpPreloading(),u.init(),p.resetRootComponentType(y.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(s.zs3))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})();function _c(t){return t.appInitializer.bind(t)}function Rf(t){return t.bootstrapListener.bind(t)}const Eg=new s.OlP("Router Initializer");function da(t){return null==t||0===t.length}function wy(t){return null!=t&&"number"==typeof t.length}const C1=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Hi{static min(n){return t=n,n=>{if(da(n.value)||da(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null};var t}static max(n){return t=n,n=>{if(da(n.value)||da(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null};var t}static required(n){return da(n.value)?{required:!0}:null}static requiredTrue(n){return!0===n.value?null:{required:!0}}static email(n){return da((t=n).value)||C1.test(t.value)?null:{email:!0};var t}static minLength(n){return t=n,n=>da(n.value)||!wy(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null;var t}static maxLength(n){return t=n,n=>wy(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null;var t}static pattern(n){return function(t){if(!t)return hh;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),i=>{if(da(i.value))return null;const a=i.value;return n.test(a)?null:{pattern:{requiredPattern:e,actualValue:a}}}}(n)}static nullValidator(n){return null}static compose(n){return oo(n)}static composeAsync(n){return My(n)}}function hh(t){return null}function Sy(t){return null!=t}function ft(t){const n=(0,s.QGY)(t)?(0,yn.D)(t):t;return(0,s.CqO)(n),n}function Mg(t){let n={};return t.forEach(e=>{n=null!=e?at(at({},n),e):n}),0===Object.keys(n).length?null:n}function Rg(t,n){return n.map(e=>e(t))}function fh(t){return t.map(n=>function(t){return!t.validate}(n)?n:e=>n.validate(e))}function oo(t){if(!t)return null;const n=t.filter(Sy);return 0==n.length?null:function(e){return Mg(Rg(e,n))}}function My(t){if(!t)return null;const n=t.filter(Sy);return 0==n.length?null:function(e){return function(...t){const n=(0,Nr.jO)(t),{args:e,keys:i}=To(t),a=new On.y(u=>{const{length:p}=e;if(!p)return void u.complete();const y=new Array(p);let w=p,I=p;for(let k=0;k<p;k++){let R=!1;(0,sn.Xf)(e[k]).subscribe(new Qt.Q(u,V=>{R||(R=!0,I--),y[k]=V},()=>w--,void 0,()=>{(!w||!R)&&(I||u.next(i?Qo(i,y):y),u.complete())}))}});return n?a.pipe(Io(n)):a}(Rg(e,n).map(ft)).pipe((0,rt.U)(Mg))}}function gh(t){return t?Array.isArray(t)?t:[t]:[]}function xg(t,n){return Array.isArray(t)?t.includes(n):t===n}function Og(t,n){const e=gh(n);return gh(t).forEach(a=>{xg(e,a)||e.push(a)}),e}function D1(t,n){return gh(n).filter(e=>!xg(t,e))}function vc(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}const bc="VALID",Bf="INVALID",wc="PENDING",ha="DISABLED";function _h(t){return(zg(t)?t.validators:t)||null}function su(t){return Array.isArray(t)?function(t){return null!=t?oo(fh(t)):null}(t):t||null}function au(t,n){return(zg(n)?n.asyncValidators:t)||null}function lu(t){return Array.isArray(t)?function(t){return null!=t?My(fh(t)):null}(t):t||null}function zg(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Vf{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=e,this._composedValidatorFn=su(this._rawValidators),this._composedAsyncValidatorFn=lu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===bc}get invalid(){return this.status===Bf}get pending(){return this.status==wc}get disabled(){return this.status===ha}get enabled(){return this.status!==ha}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=su(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=lu(n)}addValidators(n){this.setValidators(Og(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(Og(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(D1(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(D1(n,this._rawAsyncValidators))}hasValidator(n){return xg(this._rawValidators,n)}hasAsyncValidator(n){return xg(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=wc,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=ha,this.errors=null,this._forEachChild(i=>{i.disable(zi(at({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(zi(at({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=bc,this._forEachChild(i=>{i.enable(zi(at({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(zi(at({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bc||this.status===wc)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ha:bc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=wc,this._hasOwnPendingAsyncValidator=!0;const e=ft(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){return function(t,n,e){if(null==n||(Array.isArray(n)||(n=n.split(".")),Array.isArray(n)&&0===n.length))return null;let i=t;return n.forEach(a=>{i=i instanceof cu?i.controls.hasOwnProperty(a)?i.controls[a]:null:i instanceof yh&&i.at(a)||null}),i}(this,n)}getError(n,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?ha:this.errors?Bf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wc)?wc:this._anyControlsHaveStatus(Bf)?Bf:bc}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){zg(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class uu extends Vf{constructor(n=null,e,i){super(_h(e),au(i,e)),this._onChange=[],this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=null,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){vc(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){vc(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class cu extends Vf{constructor(n,e,i){super(_h(e),au(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,i={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){this._checkAllValuesPresent(n),Object.keys(n).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((i,a)=>{i.reset(n[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,i)=>(n[i]=e instanceof uu?e.value:e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[n])throw new Error(`Cannot find form control with name: ${n}.`)}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&n(i,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&n(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,e,i)=>((e.enabled||this.disabled)&&(n[i]=e.value),n))}_reduceChildren(n,e){let i=n;return this._forEachChild((a,u)=>{i=e(i,a,u)}),i}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(n){this._forEachChild((e,i)=>{if(void 0===n[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class yh extends Vf{constructor(n,e,i){super(_h(e),au(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,i={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),e&&(this.controls.splice(n,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){this._checkAllValuesPresent(n),n.forEach((i,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(n.forEach((i,a)=>{this.at(a)&&this.at(a).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((i,a)=>{i.reset(n[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n instanceof uu?n.value:n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(n))throw new Error(`Cannot find form control at index ${n}`)}_forEachChild(n){this.controls.forEach((e,i)=>{n(e,i)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_checkAllValuesPresent(n){this._forEachChild((e,i)=>{if(void 0===n[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}let Hy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({}),t})();const Kg=new s.OlP("NgModelWithFormControlWarning");let Tc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[Hy]]}),t})(),Z1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[Tc]}),t})(),Zf=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Kg,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[Tc]}),t})(),rv=(()=>{class t{group(e,i=null){const a=this._reduceControls(e);let y,u=null,p=null;return null!=i&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(i)?(u=null!=i.validators?i.validators:null,p=null!=i.asyncValidators?i.asyncValidators:null,y=null!=i.updateOn?i.updateOn:void 0):(u=null!=i.validator?i.validator:null,p=null!=i.asyncValidator?i.asyncValidator:null)),new cu(a,{asyncValidators:p,updateOn:y,validators:u})}control(e,i,a){return new uu(e,i,a)}array(e,i,a){const u=e.map(p=>this._createControl(p));return new yh(u,i,a)}_reduceControls(e){const i={};return Object.keys(e).forEach(a=>{i[a]=this._createControl(e[a])}),i}_createControl(e){return e instanceof uu||e instanceof cu||e instanceof yh?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:Zf}),t})(),q1=(()=>{class t{constructor(e){this.fB=e,this.registerForm=this.fB.group({email:["",[Hi.required,Hi.email]],password:["",[Hi.required,Hi.minLength(8)]],passwordC:["",[Hi.required,Hi.minLength(8)]]})}ngOnInit(){}get email(){return this.registerForm.get("email")}get password(){return this.registerForm.get("password")}get password1(){return this.registerForm.get("passwordC")}registerFormSubmit(){const e=this.registerForm.value;delete e.password1,console.log(e)}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(rv))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-home"]],decls:4,vars:0,consts:[[1,"Background"],["src","../../assets/Inicio/Titulo.png","id","Title"],["src","../../assets/Inicio/INGRESAR.png","id","signIn"],["src","../../assets/Inicio/REGISTRATE.png","id","signUp"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"img",1),s._UZ(2,"img",2),s._UZ(3,"img",3),s.qZA())},styles:[".Background[_ngcontent-%COMP%]{background:url(Fondo.55407936fe632ee0.jpg) no-repeat center/cover fixed;height:100vh;width:100vw;margin:0}#Title[_ngcontent-%COMP%]{position:absolute;width:30%;left:35%;top:10%}#signIn[_ngcontent-%COMP%]{position:absolute;top:40%;left:10%;width:22%;cursor:pointer}#signUp[_ngcontent-%COMP%]{position:absolute;top:40%;right:10%;width:22%;cursor:pointer}"]}),t})();var us=x(8239);const J1=JSON.parse('{"tarjeta":[{"Personaje":"crispi","tarjetas":{"1":"El cielo es un vecindario.","2":"Empieza por un garaje.","3":"Pon otros usos.","4":"Sin planos no se hacen rascacielos.","5":"Dale un vuelco a tu rutina.","6":"Piensa cosas imposibles de hacer.","7":"Haz trocitos y despu\xe9s j\xfantalos.","8":"Corta una conexi\xf3n.","9":"Haz cosas imperfectas.","10":"Devu\xe9lvete"}},{"Personaje":"cesia","tarjetas":{"1":"Quita las partes importantes.","2":"Cuantas manos y cabezas sean necesarias.","3":"Primero lo primero.","4":"Cambia de roles.","5":"Aporte valor de verdad","6":"Modifica.","7":"Duro como una roca, flexible como\u2026","8":"S\xe9 aburrido.","9":"R\xf3mpalo!","10":"No hay reglas"}},{"Personaje":"cori","tarjetas":{"1":"Combina lo incombinable.","2":"Piensa como un lobo.","3":"Elimina, Reduce, Incrementa y crea.","4":"Observa de cerca los detalles m\xe1s vergonzosos y ampl\xedalos.","5":"Adapta.","6":"Mira los dos lados, el oscuro y el claro.","7":"Desord\xe9nalo todo.","8":"\xbfQu\xe9 har\xeda tu mejor amigo?","9":"La idea no es un motivo","10":"Ni a Dios lo que es de Dios, ni al C\xe9sar lo que es del C\xe9sar"}},{"Personaje":"carmel","tarjetas":{"1":"Haz una lista de cuatro cosas que podr\xedas hacer y haz lo \xfaltimo en la lista.","2":"Elimina.","3":"Cambia de roles.","4":"Una sencilla soluci\xf3n, dos dif\xedciles soluciones.","5":"D\xe9j\xe0 vu.","6":"Toma un descanso.","7":"Nado submarino largas distancias.","8":"Comparte valor","9":"Si tu te lo crees, los demas lo compraran","10":"Todo bombero no desea otra cosa en la vida m\xe1s que ser bombero"}},{"Personaje":"cristal","tarjetas":{"1":"Conviertelo en tu APP favorita.","2":"Busca un libro y lee su primer p\xe1rrafo.","3":"Act\xf9a con pasi\xf2n.","4":"Juega el juego.","5":"\xbfQu\xe9 pasar\xeda si\u2026?","6":"Nunca ponga los huevos en una sola canasta","7":"Como en casa","8":"Como lo haria la persona que mas admiras ","9":"Los detalles marcan la diferencia","10":"Que aprendiste ayer"}}]}');var K1=x(1537);const ov=["addListener","removeListener"],Ic=["addEventListener","removeEventListener"],sv=["on","off"];function Ti(t,n,e,i){if((0,eo.m)(e)&&(i=e,e=void 0),i)return Ti(t,n,e).pipe(Io(i));const[a,u]=function(t){return(0,eo.m)(t.addEventListener)&&(0,eo.m)(t.removeEventListener)}(t)?Ic.map(p=>y=>t[p](n,y,e)):function(t){return(0,eo.m)(t.addListener)&&(0,eo.m)(t.removeListener)}(t)?ov.map(av(t,n)):function(t){return(0,eo.m)(t.on)&&(0,eo.m)(t.off)}(t)?sv.map(av(t,n)):[];if(!a&&(0,K1.z)(t))return(0,Lt.z)(p=>Ti(p,n,e))((0,sn.Xf)(t));if(!a)throw new TypeError("Invalid event target");return new On.y(p=>{const y=(...w)=>p.next(1<w.length?w:w[0]);return a(y),()=>u(y)})}function av(t,n){return e=>i=>t[e](n,i)}var om=x(2210),ew=x(7398);const{isArray:lv}=Array;function sm(t){return 1===t.length&&lv(t[0])?t[0]:t}var Yf=x(6921);function qf(...t){const n=(0,Nr.jO)(t),e=sm(t);return e.length?new On.y(i=>{let a=e.map(()=>[]),u=e.map(()=>!1);i.add(()=>{a=u=null});for(let p=0;!i.closed&&p<e.length;p++)(0,sn.Xf)(e[p]).subscribe(new Qt.Q(i,y=>{if(a[p].push(y),a.every(w=>w.length)){const w=a.map(I=>I.shift());i.next(n?n(...w):w),a.some((I,k)=>!I.length&&u[k])&&i.complete()}},()=>{u[p]=!0,!a[p].length&&i.complete()}));return()=>{a=u=null}}):So.E}new On.y(Yf.Z);var Sc=x(3719);function Pn(t){return(0,$n.e)((n,e)=>{(0,sn.Xf)(t).subscribe(new Qt.Q(e,()=>e.complete(),Yf.Z)),!e.closed&&n.subscribe(e)})}function tw(t,n){return t===n}function lm(...t){const n=(0,Nr.jO)(t);return(0,$n.e)((e,i)=>{const a=t.length,u=new Array(a);let p=t.map(()=>!1),y=!1;for(let w=0;w<a;w++)(0,sn.Xf)(t[w]).subscribe(new Qt.Q(i,I=>{u[w]=I,!y&&!p[w]&&(p[w]=!0,(y=p.every(pr.y))&&(p=null))},Yf.Z));e.subscribe(new Qt.Q(i,w=>{if(y){const I=[w,...u];i.next(n?n(...I):I)}}))})}var fv=x(3174);const du=["*"],yv=["dialog"];function ds(t){return null!=t}function $c(t){return(t||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let n=this;if(!document.documentElement.contains(n))return null;do{if(n.matches(t))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null});const tp={animation:!0,transitionTimerDelayMs:5};let ci=(()=>{class t{constructor(){this.animation=tp.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Gv=()=>{},{transitionTimerDelayMs:np}=tp,jc=new Map,ei=(t,n,e,i)=>{let a=i.context||{};const u=jc.get(n);if(u)switch(i.runningTransition){case"continue":return So.E;case"stop":t.run(()=>u.transition$.complete()),a=Object.assign(u.context,a),jc.delete(n)}const p=e(n,i.animation,a)||Gv;if(!i.animation||"none"===window.getComputedStyle(n).transitionProperty)return t.run(()=>p()),je(void 0).pipe(function(t){return n=>new On.y(e=>n.subscribe(p=>t.run(()=>e.next(p)),p=>t.run(()=>e.error(p)),()=>t.run(()=>e.complete())))}(t));const y=new zt.x,w=new zt.x,I=y.pipe(function(...t){return n=>Zs(n,je(...t))}(!0));jc.set(n,{transition$:y,complete:()=>{w.next(),w.complete()},context:a});const k=function(t){const{transitionDelay:n,transitionDuration:e}=window.getComputedStyle(t);return 1e3*(parseFloat(n)+parseFloat(e))}(n);return t.runOutsideAngular(()=>{const R=Ti(n,"transitionend").pipe(Pn(I),$t(({target:J})=>J===n));(function(...t){return 1===(t=sm(t)).length?(0,sn.Xf)(t[0]):new On.y(function(t){return n=>{let e=[];for(let i=0;e&&!n.closed&&i<t.length;i++)e.push((0,sn.Xf)(t[i]).subscribe(new Qt.Q(n,a=>{if(e){for(let u=0;u<e.length;u++)u!==i&&e[u].unsubscribe();e=null}n.next(a)})))}}(t))})(function(t=0,n,e=om.P){let i=-1;return null!=n&&((0,ew.K)(n)?e=n:i=n),new On.y(a=>{let u=function(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;u<0&&(u=0);let p=0;return e.schedule(function(){a.closed||(a.next(p++),0<=i?this.schedule(void 0,i):a.complete())},u)})}(k+np).pipe(Pn(I)),R,w).pipe(Pn(I)).subscribe(()=>{jc.delete(n),t.run(()=>{p(),y.next(),y.complete()})})}),y.asObservable()};let ti=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[ai]]}),t})(),Im=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[ai]]}),t})(),Sm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({}),t})(),t0=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[ai]]}),t})(),Gc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({}),t})();var Et=(()=>{return(t=Et||(Et={}))[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",Et;var t})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Pm=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Fm(t){const n=Array.from(t.querySelectorAll(Pm)).filter(e=>-1!==e.tabIndex);return[n[0],n[n.length-1]]}new class{getAllStyles(n){return window.getComputedStyle(n)}getStyle(n,e){return this.getAllStyles(n)[e]}isStaticPositioned(n){return"static"===(this.getStyle(n,"position")||"static")}offsetParent(n){let e=n.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(n,e=!0){let i,a={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(n,"position"))i=n.getBoundingClientRect(),i={top:i.top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{const u=this.offsetParent(n);i=this.offset(n,!1),u!==document.documentElement&&(a=this.offset(u,!1)),a.top+=u.clientTop,a.left+=u.clientLeft}return i.top-=a.top,i.bottom-=a.top,i.left-=a.left,i.right-=a.left,e&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i}offset(n,e=!0){const i=n.getBoundingClientRect(),a_top=window.pageYOffset-document.documentElement.clientTop,a_left=window.pageXOffset-document.documentElement.clientLeft;let u={height:i.height||n.offsetHeight,width:i.width||n.offsetWidth,top:i.top+a_top,bottom:i.bottom+a_top,left:i.left+a_left,right:i.right+a_left};return e&&(u.height=Math.round(u.height),u.width=Math.round(u.width),u.top=Math.round(u.top),u.bottom=Math.round(u.bottom),u.left=Math.round(u.left),u.right=Math.round(u.right)),u}positionElements(n,e,i,a){const[u="top",p="center"]=i.split("-"),y=a?this.offset(n,!1):this.position(n,!1),w=this.getAllStyles(e),I=parseFloat(w.marginTop),k=parseFloat(w.marginBottom),R=parseFloat(w.marginLeft),V=parseFloat(w.marginRight);let J=0,_e=0;switch(u){case"top":J=y.top-(e.offsetHeight+I+k);break;case"bottom":J=y.top+y.height;break;case"left":_e=y.left-(e.offsetWidth+R+V);break;case"right":_e=y.left+y.width}switch(p){case"top":J=y.top;break;case"bottom":J=y.top+y.height-e.offsetHeight;break;case"left":_e=y.left;break;case"right":_e=y.left+y.width-e.offsetWidth;break;case"center":"top"===u||"bottom"===u?_e=y.left+y.width/2-e.offsetWidth/2:J=y.top+y.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(_e)}px, ${Math.round(J)}px)`;const Oe=e.getBoundingClientRect(),qe=document.documentElement,Nt=window.innerHeight||qe.clientHeight,_t=window.innerWidth||qe.clientWidth;return Oe.left>=0&&Oe.top>=0&&Oe.right<=_t&&Oe.bottom<=Nt}},new Date(1882,10,12),new Date(2174,10,25);let A0=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[ai,Z1]]}),t})(),Zm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({}),t})(),Ym=(()=>{class t{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(ci))},t.\u0275prov=s.Yz7({factory:function(){return new t(s.LFG(ci))},token:t,providedIn:"root"}),t})();class bu{constructor(n,e,i){this.nodes=n,this.viewRef=e,this.componentRef=i}}const pC=()=>{};let k0=(()=>{class t{constructor(e){this._document=e}compensate(){const e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):pC}_adjustBody(e){const i=this._document.body,a=i.style.paddingRight,u=parseFloat(window.getComputedStyle(i)["padding-right"]);return i.style["padding-right"]=`${u+e}px`,()=>i.style["padding-right"]=a}_isPresent(e){const i=this._document.body.getBoundingClientRect();return window.innerWidth-(i.left+i.right)>=e-.1*e}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const i=this._document.body;i.appendChild(e);const a=e.getBoundingClientRect().width-e.clientWidth;return i.removeChild(e),a}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(ne))},t.\u0275prov=s.Yz7({factory:function(){return new t(s.LFG(ne))},token:t,providedIn:"root"}),t})(),x0=(()=>{class t{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe((0,vn.q)(1)).subscribe(()=>{ei(this._zone,this._el.nativeElement,(e,i)=>{i&&$c(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ei(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.SBq),s.Y36(s.R0b))},t.\u0275cmp=s.Xpm({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,i){2&e&&(s.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),s.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),t})();class O0{close(n){}dismiss(n){}}class gC{constructor(n,e,i,a){this._windowCmptRef=n,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=a,this._closed=new zt.x,this._dismissed=new zt.x,this._hidden=new zt.x,n.instance.dismissEvent.subscribe(u=>{this.dismiss(u)}),this.result=new Promise((u,p)=>{this._resolve=u,this._reject=p}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Pn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Pn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(i=>{!1!==i&&this._dismiss(n)},()=>{}):!1!==e&&this._dismiss(n)}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():je(void 0);n.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),qf(n,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Rh=(()=>{return(t=Rh||(Rh={}))[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",Rh;var t})();let mC=(()=>{class t{constructor(e,i,a){this._document=e,this._elRef=i,this._zone=a,this._closed$=new zt.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new s.vpe,this.shown=new zt.x,this.hidden=new zt.x}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,vn.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},p=qf(ei(this._zone,e,()=>e.classList.remove("show"),i),ei(this._zone,this._dialogEl.nativeElement,()=>{},i));return p.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),p}_show(){const e={animation:this.animation,runningTransition:"continue"};qf(ei(this._zone,this._elRef.nativeElement,(u,p)=>{p&&$c(u),u.classList.add("show")},e),ei(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Ti(e,"keydown").pipe(Pn(this._closed$),$t(a=>a.which===Et.Escape)).subscribe(a=>{this.keyboard?requestAnimationFrame(()=>{a.defaultPrevented||this._zone.run(()=>this.dismiss(Rh.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Ti(this._dialogEl.nativeElement,"mousedown").pipe(Pn(this._closed$),(0,Ln.b)(()=>i=!1),un(()=>Ti(e,"mouseup").pipe(Pn(this._closed$),(0,vn.q)(1))),$t(({target:a})=>e===a)).subscribe(()=>{i=!0}),Ti(e,"click").pipe(Pn(this._closed$)).subscribe(({target:a})=>{e===a&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(Rh.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),a=Fm(e)[0];(i||a||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let a;a=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>a.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ei(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(ne),s.Y36(s.SBq),s.Y36(s.R0b))},t.\u0275cmp=s.Xpm({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&s.Gf(yv,7),2&e){let a;s.iGM(a=s.CRH())&&(i._dialogEl=a.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),s.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),s.ekj("fade",i.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:du,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.TgZ(2,"div",2),s.Hsn(3),s.qZA(),s.qZA()),2&e&&s.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),P0=(()=>{class t{constructor(e,i,a,u,p,y){this._applicationRef=e,this._injector=i,this._document=a,this._scrollBar=u,this._rendererFactory=p,this._ngZone=y,this._activeWindowCmptHasChanged=new zt.x,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new s.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const w=this._windowCmpts[this._windowCmpts.length-1];((t,n,e,i=!1)=>{t.runOutsideAngular(()=>{const a=Ti(n,"focusin").pipe(Pn(e),(0,rt.U)(u=>u.target));Ti(n,"keydown").pipe(Pn(e),$t(u=>u.which===Et.Tab),lm(a)).subscribe(([u,p])=>{const[y,w]=Fm(n);(p===y||p===n)&&u.shiftKey&&(w.focus(),u.preventDefault()),p===w&&!u.shiftKey&&(y.focus(),u.preventDefault())}),i&&Ti(n,"click").pipe(Pn(e),lm(a),(0,rt.U)(u=>u[1])).subscribe(u=>u.focus())})})(this._ngZone,w.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(w.location.nativeElement)}})}open(e,i,a,u){const p=u.container instanceof HTMLElement?u.container:ds(u.container)?this._document.querySelector(u.container):this._document.body,y=this._rendererFactory.createRenderer(null,null),w=this._scrollBar.compensate(),I=()=>{this._modalRefs.length||(y.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!p)throw new Error(`The specified modal container "${u.container||"body"}" was not found in the DOM.`);const k=new O0,R=this._getContentRef(e,u.injector||i,a,k,u);let V=!1!==u.backdrop?this._attachBackdrop(e,p):void 0,J=this._attachWindowComponent(e,p,R),_e=new gC(J,R,V,u.beforeDismiss);return this._registerModalRef(_e),this._registerWindowCmpt(J),_e.result.then(w,w),_e.result.then(I,I),k.close=Oe=>{_e.close(Oe)},k.dismiss=Oe=>{_e.dismiss(Oe)},this._applyWindowOptions(J.instance,u),1===this._modalRefs.length&&y.addClass(this._document.body,"modal-open"),V&&V.instance&&(this._applyBackdropOptions(V.instance,u),V.changeDetectorRef.detectChanges()),J.changeDetectorRef.detectChanges(),_e}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,i){let u=e.resolveComponentFactory(x0).create(this._injector);return this._applicationRef.attachView(u.hostView),i.appendChild(u.location.nativeElement),u}_attachWindowComponent(e,i,a){let p=e.resolveComponentFactory(mC).create(this._injector,a.nodes);return this._applicationRef.attachView(p.hostView),i.appendChild(p.location.nativeElement),p}_applyWindowOptions(e,i){this._windowAttributes.forEach(a=>{ds(i[a])&&(e[a]=i[a])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(a=>{ds(i[a])&&(e[a]=i[a])})}_getContentRef(e,i,a,u,p){return a?a instanceof s.Rgc?this._createFromTemplateRef(a,u):function(t){return"string"==typeof t}(a)?this._createFromString(a):this._createFromComponent(e,i,a,u,p):new bu([])}_createFromTemplateRef(e,i){const u=e.createEmbeddedView({$implicit:i,close(p){i.close(p)},dismiss(p){i.dismiss(p)}});return this._applicationRef.attachView(u),new bu([u.rootNodes],u)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new bu([[i]])}_createFromComponent(e,i,a,u,p){const y=e.resolveComponentFactory(a),w=s.zs3.create({providers:[{provide:O0,useValue:u}],parent:i}),I=y.create(w),k=I.location.nativeElement;return p.scrollable&&k.classList.add("component-host-scrollable"),this._applicationRef.attachView(I.hostView),new bu([[k]],I.hostView,I)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(a=>{a!==e&&"SCRIPT"!==a.nodeName&&(this._ariaHiddenValues.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const a=this._modalRefs.indexOf(e);a>-1&&(this._modalRefs.splice(a,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(s.z2F),s.LFG(s.zs3),s.LFG(ne),s.LFG(k0),s.LFG(s.FYo),s.LFG(s.R0b))},t.\u0275prov=s.Yz7({factory:function(){return new t(s.LFG(s.z2F),s.LFG(s.gxx),s.LFG(ne),s.LFG(k0),s.LFG(s.FYo),s.LFG(s.R0b))},token:t,providedIn:"root"}),t})(),Jm=(()=>{class t{constructor(e,i,a,u){this._moduleCFR=e,this._injector=i,this._modalStack=a,this._config=u}open(e,i={}){const a=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,e,a)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(s._Vd),s.LFG(s.zs3),s.LFG(P0),s.LFG(Ym))},t.\u0275prov=s.Yz7({factory:function(){return new t(s.LFG(s._Vd),s.LFG(s.gxx),s.LFG(P0),s.LFG(Ym))},token:t,providedIn:"root"}),t})(),F0=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({providers:[Jm]}),t})(),$0=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[ai]]}),t})(),Kc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[ai]]}),t})(),bp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[ai]]}),t})(),Y0=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[ai]]}),t})(),J0=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[ai]]}),t})(),kC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[ai]]}),t})(),i_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[ai]]}),t})(),o_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({}),t})();new s.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let s_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[ai]]}),t})();const ab=[ti,Im,Sm,t0,Gc,A0,Zm,F0,$0,Kc,bp,Y0,J0,kC,i_,o_,s_];let lb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[ab,ti,Im,Sm,t0,Gc,A0,Zm,F0,$0,Kc,bp,Y0,J0,kC,i_,o_,s_]}),t})();function ub(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"div",4),s._UZ(1,"img",5),s.TgZ(2,"img",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="bangColombia"}),s.qZA(),s.TgZ(3,"img",7),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="meteoroGame"}),s.qZA(),s.qZA()}}function HC(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"div",4),s.TgZ(1,"img",8),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="meteoroGameInfo"}),s.qZA(),s.TgZ(2,"img",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="home"}),s.qZA(),s.TgZ(3,"img",7),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="superNova"}),s.qZA(),s.qZA()}}function cb(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"div",4),s._UZ(1,"img",9),s.TgZ(2,"img",10),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),u=s.MAs(16);return a.selectSrcGame("https://view.genial.ly/6172b8aed4be160deac3c8e5"),a.openXL(u)}),s.qZA(),s.TgZ(3,"img",11),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),u=s.MAs(16);return a.selectSrcGame("https://view.genial.ly/619bd1fdf9582a0d915802de"),a.openXL(u)}),s.qZA(),s.TgZ(4,"img",12),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),u=s.MAs(16);return a.selectSrcGame("https://view.genial.ly/619c1dd2d690800d642448ed"),a.openXL(u)}),s.qZA(),s.TgZ(5,"img",13),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),u=s.MAs(16);return a.selectSrcGame("https://view.genial.ly/619ce85578ad330d92bcf578"),a.openXL(u)}),s.qZA(),s._UZ(6,"img",14),s.TgZ(7,"img",15),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),u=s.MAs(16);return a.selectSrcGame("https://view.genial.ly/619cf3c033ef7a0d9523d5aa"),a.openXL(u)}),s.qZA(),s._UZ(8,"img",16),s._UZ(9,"img",17),s._UZ(10,"img",18),s._UZ(11,"img",19),s._UZ(12,"img",20),s._UZ(13,"img",21),s.TgZ(14,"img",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="meteoroGame"}),s.qZA(),s.qZA()}}function $C(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"div",4),s.TgZ(1,"img",22),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="superNovaInfo"}),s.qZA(),s.TgZ(2,"img",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="meteoroGame"}),s.qZA(),s.TgZ(3,"img",7),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="Orion"}),s.qZA(),s.qZA()}}function jC(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"div",4),s.TgZ(1,"img",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="superNova"}),s.qZA(),s.TgZ(2,"img",23),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),u=s.MAs(16);return a.selectSrcVideo("https://firebasestorage.googleapis.com/v0/b/crud-b437f.appspot.com/o/Capacitaci%C3%B3n_BANG_Parte_1_Editado.mp4?alt=media&token=8dc3fa32-3b88-4917-8102-14dbbee36f4a"),a.openXL(u)}),s.qZA(),s.TgZ(3,"img",24),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),u=s.MAs(16);return a.selectSrcVideo("https://firebasestorage.googleapis.com/v0/b/crud-b437f.appspot.com/o/Capacitaci%C3%B3n_BANG_Parte_2_Editado.mp4?alt=media&token=c4470bce-26a5-40f4-a1c1-1007fee36397"),a.openXL(u)}),s.qZA(),s.TgZ(4,"img",25),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),u=s.MAs(16);return a.selectSrcVideo("https://firebasestorage.googleapis.com/v0/b/crud-b437f.appspot.com/o/Capacitaci%C3%B3n_BANG_Parte_3_Editado.mp4?alt=media&token=7a95f48c-684e-49d0-9be7-f410c0aff8f4"),a.openXL(u)}),s.qZA(),s.TgZ(5,"img",26),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),u=s.MAs(16);return a.selectSrcVideo("https://firebasestorage.googleapis.com/v0/b/crud-b437f.appspot.com/o/Grupo%2017_%20D%C3%ADa%20de%20la%20innovaci%C3%B3n_Editado.mp4?alt=media&token=0a5841ca-d527-4298-8ef3-e479981b20f9"),a.openXL(u)}),s.qZA(),s.qZA()}}function GC(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"div",4),s.TgZ(1,"img",27),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="orionInfo"}),s.qZA(),s.TgZ(2,"img",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="superNova"}),s.qZA(),s.TgZ(3,"img",7),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="nebulosaInnova"}),s.qZA(),s.qZA()}}function WC(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"div",4),s._UZ(1,"img",28),s.TgZ(2,"img",29),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),u=s.MAs(16);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n2.png"),a.openXL(u)}),s.qZA(),s.TgZ(3,"img",30),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),u=s.MAs(16);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n3.png"),a.openXL(u)}),s.qZA(),s.TgZ(4,"img",31),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),u=s.MAs(16);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n4.png"),a.openXL(u)}),s.qZA(),s.TgZ(5,"img",32),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),u=s.MAs(16);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n5.png"),a.openXL(u)}),s.qZA(),s.TgZ(6,"img",33),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),u=s.MAs(16);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n6.png"),a.openXL(u)}),s.qZA(),s.TgZ(7,"img",34),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),u=s.MAs(16);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n6A.png"),a.openXL(u)}),s.qZA(),s.TgZ(8,"img",35),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),u=s.MAs(16);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n7A.png"),a.openXL(u)}),s.qZA(),s.TgZ(9,"img",36),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),u=s.MAs(16);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n7B.png"),a.openXL(u)}),s.qZA(),s.TgZ(10,"img",37),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),u=s.MAs(16);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n8A.png"),a.openXL(u)}),s.qZA(),s.TgZ(11,"img",38),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),u=s.MAs(16);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n8B.png"),a.openXL(u)}),s.qZA(),s.TgZ(12,"img",39),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),u=s.MAs(16);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n9A.png"),a.openXL(u)}),s.qZA(),s.TgZ(13,"img",40),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),u=s.MAs(16);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n9B.png"),a.openXL(u)}),s.qZA(),s.TgZ(14,"img",41),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),u=s.MAs(16);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n10A.png"),a.openXL(u)}),s.qZA(),s.TgZ(15,"img",42),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),u=s.MAs(16);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n10B.png"),a.openXL(u)}),s.qZA(),s.TgZ(16,"img",43),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),u=s.MAs(16);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n11.png"),a.openXL(u)}),s.qZA(),s.TgZ(17,"img",44),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),u=s.MAs(16);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n11A.png"),a.openXL(u)}),s.qZA(),s.TgZ(18,"img",45),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),u=s.MAs(16);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n12.png"),a.openXL(u)}),s.qZA(),s.TgZ(19,"img",46),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),u=s.MAs(16);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n13.png"),a.openXL(u)}),s.qZA(),s.TgZ(20,"img",47),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),u=s.MAs(16);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n14.png"),a.openXL(u)}),s.qZA(),s.TgZ(21,"img",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="Orion"}),s.qZA(),s.qZA()}}function Lh(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"div",4),s.TgZ(1,"img",48),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="nebulosaInnovaInfo"}),s.qZA(),s.TgZ(2,"img",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="Orion"}),s.qZA(),s.TgZ(3,"img",7),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="bangLite"}),s.qZA(),s.qZA()}}function zC(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"div",4),s._UZ(1,"img",49),s._UZ(2,"img",50),s._UZ(3,"img",51),s.TgZ(4,"img",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="nebulosaInnova"}),s.qZA(),s.qZA()}}function a_(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"div",4),s.TgZ(1,"img",52),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="bangLiteInfo"}),s.qZA(),s.TgZ(2,"img",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="nebulosaInnova"}),s.qZA(),s.TgZ(3,"img",7),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="bangColombia"}),s.qZA(),s.qZA()}}function fs(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"div",4),s._UZ(1,"img",53),s._UZ(2,"img",54),s._UZ(3,"img",55),s._UZ(4,"img",56),s._UZ(5,"img",57),s.TgZ(6,"img",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="bangLite"}),s.qZA(),s.qZA()}}function ZC(t,n){1&t&&(s.TgZ(0,"div",4),s._UZ(1,"img",53),s.qZA())}function l_(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"div",4),s.TgZ(1,"img",58),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="bangColombiaInfo"}),s.qZA(),s.TgZ(2,"img",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="bangLite"}),s.qZA(),s.TgZ(3,"img",7),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="home"}),s.qZA(),s.qZA()}}function Bh(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"div",4),s._UZ(1,"img",59),s.TgZ(2,"img",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="bangColombia"}),s.qZA(),s.qZA()}}function YC(t,n){if(1&t&&(s.TgZ(0,"div"),s._UZ(1,"video",64),s.qZA()),2&t){const e=s.oxw(2);s.xp6(1),s.s9C("src",e.srcVideo,s.LSH)}}function qC(t,n){if(1&t&&(s.TgZ(0,"div"),s._UZ(1,"img",65),s.qZA()),2&t){const e=s.oxw(2);s.xp6(1),s.s9C("src",e.srcImage,s.LSH)}}function JC(t,n){if(1&t&&(s.TgZ(0,"div",66),s.TgZ(1,"div",67),s._UZ(2,"iframe",68),s.qZA(),s.qZA()),2&t){const e=s.oxw(2);s.xp6(2),s.uIk("src",e.srcGame,s.uOi)}}function Dp(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"div",60),s.TgZ(1,"button",61),s.NdJ("click",function(){return s.CHM(e).$implicit.close()}),s._uU(2,"X"),s.qZA(),s.YNc(3,YC,2,1,"div",62),s.YNc(4,qC,2,1,"div",62),s.YNc(5,JC,3,1,"div",63),s.qZA()}if(2&t){const e=s.oxw();s.xp6(3),s.Q6J("ngIf",e.video),s.xp6(1),s.Q6J("ngIf",e.image),s.xp6(1),s.Q6J("ngIf",e.game)}}let Ep=(()=>{class t{constructor(e,i){this.modal=e,this.sanitizer=i,this.aux=["","","","","","","","",""],this.video=!1,this.game=!1,this.image=!1,this.closeModal="",this.video=!1,this.game=!1,this.image=!1}ngOnInit(){this.section="home"}openXL(e){var i=this;return(0,us.Z)(function*(){i.modal.open(e,{size:"xl"})})()}selectSrcImage(e){this.video=!1,this.game=!1,this.image=!0,this.srcImage=e}selectSrcGame(e){this.urlGame=this.sanitizer.bypassSecurityTrustResourceUrl(e),this.video=!1,this.srcGame=this.urlGame,this.image=!1,this.game=!0}selectSrcVideo(e){this.srcVideo=e,this.image=!1,this.game=!1,this.video=!0}random(e){this.Tarjetas=J1;for(var i=0;i<this.aux.length;i++)this.aux[i]=this.Tarjetas.tarjeta[e].tarjetas[i+1];this.aux.sort(function(){return Math.random()-.4})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(Jm),s.Y36(Eo))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-start"]],decls:18,vars:14,consts:[[1,"embed-container"],["class","cont",4,"ngIf"],["contenido",""],["allow","accelerometer; magnetometer; gyroscope","src","https://panoraven.com/es/embed/nhCLZaVWc6"],[1,"cont"],["src","../../assets/Inicio/Titulo.png","id","Title"],["src","../../assets/imgs/flecha.png",1,"leftArrow",3,"click"],["src","../../assets/imgs/flecha.png",1,"rightArrow",3,"click"],["src","../../assets/imgs/meteoro-game.png","id","Title",3,"click"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 1.png","id","BotonG1"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 2.png","id","BotonG2",3,"click"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 3.png","id","BotonG3",3,"click"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 4.png","id","BotonG4",3,"click"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 5.png","id","BotonG5",3,"click"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 6.png","id","BotonG6"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 8.png","id","BotonG7",3,"click"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 9.png","id","BotonG8"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 13.png","id","BotonG9"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 14.png","id","BotonG10"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 15.png","id","BotonG11"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 16.png","id","BotonG12"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 17.png","id","BotonG13"],["src","../../assets/imgs/supernova.png","id","Title",3,"click"],["src","../../assets/imgs/BOTON1.png","id","BotonV",3,"click"],["src","../../assets/imgs/BOTON2.png","id","BotonV1",3,"click"],["src","../../assets/imgs/BOTON3.png","id","BotonV2",3,"click"],["src","../../assets/imgs/BOTON3.png","id","BotonV3",3,"click"],["src","../../assets/imgs/Librer\xeda ori\xf3n.png","id","Title",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 1.png","id","Boton1"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 2.png","id","Boton2",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 3.png","id","Boton3",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 4.png","id","Boton4",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 5.png","id","Boton5",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 6.png","id","Boton6",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 6A.png","id","Boton6a",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 7A.png","id","Boton7A",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 7B.png","id","Boton7B",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 8A.png","id","Boton8A",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 8B.png","id","Boton8B",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 9A.png","id","Boton9A",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 9B.png","id","Boton9B",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 10A.png","id","Boton10A",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 10B.png","id","Boton10B",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 11.png","id","Boton11",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 11A.png","id","Boton11A",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 12.png","id","Boton12",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 13.png","id","Boton13",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 14.png","id","Boton14",3,"click"],["src","../../assets/imgs/Nebulosa Innova.png","id","Title",3,"click"],["src","../../assets/imgs/Logo_master.png","id","BotonMaster"],["src","../../assets/imgs/Logo_intraemprendedor.png","id","BotonIntraE"],["src","../../assets/imgs/Logo_trainer.png","id","BotonTrainer"],["src","../../assets/imgs/BangLite.png","id","Title",3,"click"],["src","../../assets/imgs/Circulo_CRISPI.png","id","CirculoCrispi"],["src","../../assets/imgs/Circulo_CRISTAL.png","id","CirculoCristal"],["src","../../assets/imgs/Circulo_CORI.png","id","CirculoCori"],["src","../../assets/imgs/Circulo_CESIA.png","id","CirculoCesia"],["src","../../assets/imgs/Circulo_CARMEL.png","id","CirculoCarmel"],["src","../../assets/imgs/bangColombia.png","id","Title",3,"click"],["src","../../assets/imgs/QUILLERO.png","id","CirculoCrispi"],[1,"modal-body",2,"margin","0 0 0 0"],["type","button",1,"boton","btn","btn-danger",3,"click"],[4,"ngIf"],["class","game",4,"ngIf"],["controls","",1,"image",3,"src"],[1,"infografia",3,"src"],[1,"game"],[2,"position","relative","padding-bottom","56.25%","padding-top","0","height","0"],["frameborder","0","width","1200","height","675","type","text/html","allowscriptaccess","always","allowfullscreen","true","scrolling","yes","allownetworking","all",2,"position","absolute","top","0","left","0","width","100%","height","100%"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.YNc(1,ub,4,0,"div",1),s.YNc(2,HC,4,0,"div",1),s.YNc(3,cb,15,0,"div",1),s.YNc(4,$C,4,0,"div",1),s.YNc(5,jC,6,0,"div",1),s.YNc(6,GC,4,0,"div",1),s.YNc(7,WC,22,0,"div",1),s.YNc(8,Lh,4,0,"div",1),s.YNc(9,zC,5,0,"div",1),s.YNc(10,a_,4,0,"div",1),s.YNc(11,fs,7,0,"div",1),s.YNc(12,ZC,2,0,"div",1),s.YNc(13,l_,4,0,"div",1),s.YNc(14,Bh,3,0,"div",1),s.YNc(15,Dp,6,3,"ng-template",null,2,s.W1O),s._UZ(17,"iframe",3),s.qZA()),2&e&&(s.xp6(1),s.Q6J("ngIf","home"==i.section),s.xp6(1),s.Q6J("ngIf","meteoroGame"==i.section),s.xp6(1),s.Q6J("ngIf","meteoroGameInfo"==i.section),s.xp6(1),s.Q6J("ngIf","superNova"==i.section),s.xp6(1),s.Q6J("ngIf","superNovaInfo"==i.section),s.xp6(1),s.Q6J("ngIf","Orion"==i.section),s.xp6(1),s.Q6J("ngIf","orionInfo"==i.section),s.xp6(1),s.Q6J("ngIf","nebulosaInnova"==i.section),s.xp6(1),s.Q6J("ngIf","nebulosaInnovaInfo"==i.section),s.xp6(1),s.Q6J("ngIf","bangLite"==i.section),s.xp6(1),s.Q6J("ngIf","bangLiteInfo"==i.section),s.xp6(1),s.Q6J("ngIf","Crispi"==i.section),s.xp6(1),s.Q6J("ngIf","bangColombia"==i.section),s.xp6(1),s.Q6J("ngIf","bangColombiaInfo"==i.section))},directives:[mn],styles:[".embed-container[_ngcontent-%COMP%]{position:relative;padding-bottom:48.79%;height:0;overflow:hidden}.embed-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}iframe[_ngcontent-%COMP%]{width:100%;height:auto}.cont[_ngcontent-%COMP%]{position:fixed;z-index:20}#Title[_ngcontent-%COMP%]{z-index:20;position:fixed;width:30%;left:35%;top:10%}.leftArrow[_ngcontent-%COMP%]{z-index:20;position:fixed;left:10%;bottom:10%;width:11vw;height:auto;transform:scaleX(-1)}.rightArrow[_ngcontent-%COMP%]{z-index:20;position:fixed;right:10%;bottom:10%;width:11vw;height:auto}#orionLib[_ngcontent-%COMP%]{z-index:20;position:fixed;width:80%;left:10%;top:14%}.infografia[_ngcontent-%COMP%]{width:80%;margin-left:-3%}.image[_ngcontent-%COMP%]{width:73%}.game[_ngcontent-%COMP%]{width:75%}.modal-body[_ngcontent-%COMP%]{width:140%;padding:0;margin:0}.modal-footer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-shrink:0;align-items:center;justify-content:flex-end;border-top:1px solid #dee2e6;border-bottom-right-radius:calc(0.3rem - 1px);border-bottom-left-radius:calc(0.3rem - 1px);position:absolute;padding-top:1%}.boton[_ngcontent-%COMP%]{position:absolute;z-index:25}#Boton1[_ngcontent-%COMP%]{position:fixed;width:6%;z-index:30;top:43%;left:10.4%}#Boton2[_ngcontent-%COMP%]{position:fixed;width:6%;z-index:30;top:43%;left:17%}#Boton3[_ngcontent-%COMP%]{position:fixed;width:6%;z-index:30;top:43%;left:30.15%}#Boton4[_ngcontent-%COMP%]{position:fixed;width:6%;z-index:30;top:18%;left:50.4%}#Boton5[_ngcontent-%COMP%]{position:fixed;width:6%;z-index:30;top:46%;left:23.6%}#Boton6[_ngcontent-%COMP%]{position:fixed;width:9%;z-index:30;top:57.3%;left:12.5%}#Boton6a[_ngcontent-%COMP%]{position:fixed;width:5.6%;z-index:30;top:57.2%;left:30.4%}#Boton7A[_ngcontent-%COMP%]{position:fixed;width:9%;z-index:30;top:29.2%;left:39%}#Boton7B[_ngcontent-%COMP%]{position:fixed;width:5.6%;z-index:30;top:15.2%;left:44%}#Boton8A[_ngcontent-%COMP%]{position:fixed;width:6%;z-index:30;top:46.5%;left:77.1%}#Boton8B[_ngcontent-%COMP%]{position:fixed;width:9%;z-index:30;top:57.2%;left:66%}#Boton9A[_ngcontent-%COMP%]{position:fixed;width:5.5%;z-index:30;top:29.1%;left:57.2%}#Boton9B[_ngcontent-%COMP%]{position:fixed;width:6%;z-index:30;top:15%;left:57%}#Boton10A[_ngcontent-%COMP%]{position:fixed;width:9%;z-index:30;top:44%;left:39%}#Boton10B[_ngcontent-%COMP%]{position:fixed;width:6%;z-index:30;top:46%;left:83.8%}#Boton11[_ngcontent-%COMP%]{position:fixed;width:5.5%;z-index:30;top:43.5%;left:70.8%}#Boton11A[_ngcontent-%COMP%]{position:fixed;width:5.5%;z-index:30;top:43.5%;left:64.2%}#Boton12[_ngcontent-%COMP%]{position:fixed;width:5.5%;z-index:30;top:15.5%;left:37.4%}#Boton13[_ngcontent-%COMP%]{position:fixed;width:9%;z-index:30;top:57%;left:39%}#Boton14[_ngcontent-%COMP%]{position:fixed;width:9%;z-index:30;top:47%;left:52%}#BotonG1[_ngcontent-%COMP%]{position:fixed;width:20%;z-index:30;top:10%;left:10%}#BotonG2[_ngcontent-%COMP%]{position:fixed;width:12%;z-index:30;top:10%;left:33%}#BotonG3[_ngcontent-%COMP%]{position:fixed;width:12%;z-index:30;top:52%;left:12.5%}#BotonG4[_ngcontent-%COMP%]{position:fixed;width:10%;z-index:30;top:57%;left:30%}#BotonG5[_ngcontent-%COMP%]{position:fixed;width:9%;z-index:30;top:10%;left:46%}#BotonG6[_ngcontent-%COMP%]{position:fixed;width:10%;z-index:30;top:28%;left:32%}#BotonG7[_ngcontent-%COMP%]{position:fixed;width:12%;z-index:30;top:52%;left:41%}#BotonG8[_ngcontent-%COMP%]{position:fixed;width:10%;z-index:30;top:10%;left:57%}#BotonG9[_ngcontent-%COMP%]{position:fixed;width:10%;z-index:30;top:57%;left:55%}#BotonG10[_ngcontent-%COMP%]{position:fixed;width:10%;z-index:30;top:69%;left:41%}#BotonG11[_ngcontent-%COMP%]{position:fixed;width:9%;z-index:30;top:26%;left:68%}#BotonG12[_ngcontent-%COMP%]{position:fixed;width:12%;z-index:30;top:10%;left:68%}#BotonG13[_ngcontent-%COMP%]{position:fixed;width:10%;z-index:30;top:69%;left:66%}#BotonMaster[_ngcontent-%COMP%]{position:fixed;width:15%;z-index:30;top:15%;left:25%}#BotonIntraE[_ngcontent-%COMP%]{position:fixed;width:15%;z-index:30;top:15%;left:42.5%}#BotonTrainer[_ngcontent-%COMP%]{position:fixed;width:15%;z-index:30;top:15%;left:60%}#BotonV[_ngcontent-%COMP%]{position:fixed;width:15%;z-index:30;top:35%;left:18%}#BotonV1[_ngcontent-%COMP%]{position:fixed;width:15%;z-index:30;top:35%;left:34%}#BotonV2[_ngcontent-%COMP%]{position:fixed;width:15%;z-index:30;top:35%;left:50%}#BotonV3[_ngcontent-%COMP%]{position:fixed;width:15%;z-index:30;top:35%;left:66%}#CirculoCrispi[_ngcontent-%COMP%]{position:fixed;width:12%;z-index:30;top:10%;left:45%}#CirculoCarmel[_ngcontent-%COMP%]{position:fixed;width:12%;z-index:30;top:30%;left:59%}#CirculoCesia[_ngcontent-%COMP%]{position:fixed;width:12%;z-index:30;top:30.6%;left:32%}#CirculoCristal[_ngcontent-%COMP%]{position:fixed;width:14%;z-index:30;top:59%;left:53%}#CirculoCori[_ngcontent-%COMP%]{position:fixed;width:14%;z-index:30;top:55%;left:34%}"]}),t})();function KC(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"div",2),s.TgZ(1,"button",3),s.NdJ("click",function(){return s.CHM(e).$implicit.close()}),s._uU(2,"X"),s.qZA(),s._UZ(3,"img",4),s._UZ(4,"video",5),s.TgZ(5,"div",6),s.TgZ(6,"div",7),s._UZ(7,"iframe",8),s.qZA(),s.qZA(),s.qZA()}}const db=[{path:"",pathMatch:"full",redirectTo:"Space"},{path:"Home",component:q1},{path:"Space",component:Ep},{path:"**",component:(()=>{class t{constructor(e){this.modal=e}ngOnInit(){}openXL(e){this.modal.open(e,{size:"xl"})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(Jm))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-modal"]],decls:7,vars:0,consts:[["contenido",""],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"modal-body",2,"margin","0 0 0 -20%"],["type","button",1,"boton","btn","btn-danger",3,"click"],["src","../../assets/Orion/LibreriaOri\xf3n2.png",1,"image"],["src","../../assets/videos/Capacitaci\xf3n_BANG_Parte_2_Editado.mp4","controls","",1,"image"],[1,"image"],[2,"position","relative","padding-bottom","56.25%","padding-top","0","height","0"],["frameborder","0","width","1200","height","675","src","https://view.genial.ly/61709768d1185b0d7f5fdf9c","type","text/html","allowscriptaccess","always","allowfullscreen","true","scrolling","yes","allownetworking","all",2,"position","absolute","top","0","left","0","width","100%","height","100%"]],template:function(e,i){if(1&e){const a=s.EpF();s.TgZ(0,"h1"),s._uU(1,"Modal"),s.qZA(),s._UZ(2,"hr"),s.YNc(3,KC,8,0,"ng-template",null,0,s.W1O),s.TgZ(5,"button",1),s.NdJ("click",function(){s.CHM(a);const p=s.MAs(4);return i.openXL(p)}),s._uU(6,"lanzar modal XL"),s.qZA()}},styles:[".image[_ngcontent-%COMP%]{width:100%}.modal-body[_ngcontent-%COMP%]{width:140%;padding:0;margin:0}.modal-footer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-shrink:0;align-items:center;justify-content:flex-end;border-top:1px solid #dee2e6;border-bottom-right-radius:calc(0.3rem - 1px);border-bottom-left-radius:calc(0.3rem - 1px);position:absolute;padding-top:1%}.boton[_ngcontent-%COMP%]{position:absolute;z-index:25}"]}),t})()}];let hb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[pc.forRoot(db)],pc]}),t})(),u_=(()=>{class t{constructor(){this.title="Space-Bang"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},directives:[ec],styles:["*{margin:0;padding:0}"]}),t})();var lo=x(7905),uo=x(7233),c_=(x(9766),x(6293)),ma=x(1177),_l=x(1572),F=x(4213),ed=x(3855);const fb="@firebase/database";let d_="";function gb(t){d_=t}class mb{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,e){null==e?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),(0,F.Pz)(e))}get(n){const e=this.domStorage_.getItem(this.prefixedName_(n));return null==e?null:(0,F.cI)(e)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class h_{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,e){null==e?delete this.cache_[n]:this.cache_[n]=e}get(n){return(0,F.r3)(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const f_=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){const n=window[t];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new mb(n)}}catch(n){}return new h_},yl=f_("localStorage"),Tp=f_("sessionStorage"),wu=new ed.Yd("@firebase/database"),_b=function(){let t=1;return function(){return t++}}(),p_=function(t){const n=(0,F.dS)(t),e=new F.gQ;e.update(n);const i=e.digest();return F.US.encodeByteArray(i)},td=function(...t){let n="";for(let e=0;e<t.length;e++){const i=t[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=td.apply(null,i):n+="object"==typeof i?(0,F.Pz)(i):i,n+=" "}return n};let Cu=null,g_=!0;const m_=function(t,n){(0,F.hu)(!n||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(wu.logLevel=ed.in.VERBOSE,Cu=wu.log.bind(wu),n&&Tp.set("logging_enabled",!0)):"function"==typeof t?Cu=t:(Cu=null,Tp.remove("logging_enabled"))},jt=function(...t){if(!0===g_&&(g_=!1,null===Cu&&!0===Tp.get("logging_enabled")&&m_(!0)),Cu){const n=td.apply(null,t);Cu(n)}},ps=function(t){return function(...n){jt(t,...n)}},__=function(...t){const n="FIREBASE INTERNAL ERROR: "+td(...t);wu.error(n)},gs=function(...t){const n=`FIREBASE FATAL ERROR: ${td(...t)}`;throw wu.error(n),new Error(n)},Dr=function(...t){const n="FIREBASE WARNING: "+td(...t);wu.warn(n)},Ip=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},_a="[MIN_NAME]",Vo="[MAX_NAME]",Du=function(t,n){if(t===n)return 0;if(t===_a||n===Vo)return-1;if(n===_a||t===Vo)return 1;{const e=Mp(t),i=Mp(n);return null!==e?null!==i?e-i==0?t.length-n.length:e-i:-1:null!==i?1:t<n?-1:1}},XC=function(t,n){return t===n?0:t<n?-1:1},Eu=function(t,n){if(n&&t in n)return n[t];throw new Error("Missing required key ("+t+") in object: "+(0,F.Pz)(n))},Ap=function(t){if("object"!=typeof t||null===t)return(0,F.Pz)(t);const n=[];for(const i in t)n.push(i);n.sort();let e="{";for(let i=0;i<n.length;i++)0!==i&&(e+=","),e+=(0,F.Pz)(n[i]),e+=":",e+=Ap(t[n[i]]);return e+="}",e},v_=function(t,n){const e=t.length;if(e<=n)return[t];const i=[];for(let a=0;a<e;a+=n)i.push(t.substring(a,a+n>e?e:a+n));return i};function zn(t,n){for(const e in t)t.hasOwnProperty(e)&&n(e,t[e])}const Sp=function(t){(0,F.hu)(!Ip(t),"Invalid JSON number");const i=1023;let a,u,p,y,w;0===t?(u=0,p=0,a=1/t==-1/0?1:0):(a=t<0,(t=Math.abs(t))>=Math.pow(2,1-i)?(y=Math.min(Math.floor(Math.log(t)/Math.LN2),i),u=y+i,p=Math.round(t*Math.pow(2,52-y)-Math.pow(2,52))):(u=0,p=Math.round(t/Math.pow(2,-1074))));const I=[];for(w=52;w;w-=1)I.push(p%2?1:0),p=Math.floor(p/2);for(w=11;w;w-=1)I.push(u%2?1:0),u=Math.floor(u/2);I.push(a?1:0),I.reverse();const k=I.join("");let R="";for(w=0;w<64;w+=8){let V=parseInt(k.substr(w,8),2).toString(16);1===V.length&&(V="0"+V),R+=V}return R.toLowerCase()},vb=new RegExp("^-?(0*)\\d{1,10}$"),Uh=-2147483648,Np=2147483647,Mp=function(t){if(vb.test(t)){const n=Number(t);if(n>=Uh&&n<=Np)return n}return null},vl=function(t){try{t()}catch(n){setTimeout(()=>{throw Dr("Exception was thrown by user callback.",n.stack||""),n},Math.floor(0))}},Hh=function(t,n){const e=setTimeout(t,n);return"object"==typeof e&&e.unref&&e.unref(),e};class tD{constructor(n,e){this.appName_=n,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(i=>this.appCheck=i)}getToken(n){return this.appCheck?this.appCheck.getToken(n):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(e,i):e(null)},0)})}addTokenChangeListener(n){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(n))}notifyForInvalidToken(){Dr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class bb{constructor(n,e,i){this.appName_=n,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(a=>this.auth_=a)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(e=>e&&"auth/token-not-initialized"===e.code?(jt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(e,i):e(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(e=>e.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(e=>e.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';n+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Dr(n)}}let nd=(()=>{class t{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const Db=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,E_="websocket",T_="long_polling";class kp{constructor(n,e,i,a,u=!1,p="",y=!1){this.secure=e,this.namespace=i,this.webSocketOnly=a,this.nodeAdmin=u,this.persistenceKey=p,this.includeNamespaceInQueryParams=y,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=yl.get("host:"+n)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&yl.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Eb(t,n,e){let i;if((0,F.hu)("string"==typeof n,"typeof type must == string"),(0,F.hu)("object"==typeof e,"typeof params must == object"),n===E_)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(n!==T_)throw new Error("Unknown connection type: "+n);i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(e.ns=t.namespace);const a=[];return zn(e,(u,p)=>{a.push(u+"="+p)}),i+a.join("&")}class rD{constructor(){this.counters_={}}incrementCounter(n,e=1){(0,F.r3)(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=e}get(){return(0,F.p$)(this.counters_)}}const xp={},Tb={};function Ib(t){const n=t.toString();return xp[n]||(xp[n]=new rD),xp[n]}class AT{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,e){this.closeAfterResponse=n,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,e){for(this.pendingResponses[n]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<i.length;++a)i[a]&&vl(()=>{this.onMessage_(i[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ya{constructor(n,e,i,a,u,p,y){this.connId=n,this.repoInfo=e,this.applicationId=i,this.appCheckToken=a,this.authToken=u,this.transportSessionId=p,this.lastSessionId=y,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ps(n),this.stats_=Ib(e),this.urlFn=w=>(this.appCheckToken&&(w.ac=this.appCheckToken),Eb(e,T_,w))}open(n,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new AT(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,F.Yr)()||"complete"===document.readyState)t();else{let n=!1;const e=function(){document.body?n||(n=!0,t()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Pp((...u)=>{const[p,y,w,I,k]=u;if(this.incrementIncomingBytes_(u),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===p)this.id=y,this.password=w;else{if("close"!==p)throw new Error("Unrecognized command received: "+p);y?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(y,()=>{this.onClosed_()})):this.onClosed_()}},(...u)=>{const[p,y]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(p,y)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Db.test(location.hostname)&&(i.r="f");const a=this.urlFn(i);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ya.forceAllow_=!0}static forceDisallow(){ya.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!ya.forceAllow_&&(ya.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const e=(0,F.Pz)(n);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,F.h$)(e),a=v_(i,1840);for(let u=0;u<a.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[u]),this.curSegmentNum++}addDisconnectPingFrame(n,e){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=n,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const e=(0,F.Pz)(n).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Pp{constructor(n,e,i,a){if(this.onDisconnect=i,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=n,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=_b(),window["pLPCommand"+this.uniqueCallbackIdentifier]=n,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Pp.createIFrame_();let u="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(u='<script>document.domain="'+document.domain+'";<\/script>');const p="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(p),this.myIFrame.doc.close()}catch(y){jt("frame writing exception"),y.stack&&jt(y.stack),jt(y)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(n);try{n.contentWindow.document||jt("No IE domain setting required")}catch(e){const i=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,e){for(this.myID=n,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n.id=this.myID,n.pw=this.myPW,n.ser=this.currentSerial;let e=this.urlFn(n),i="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const p=this.pendingSegs.shift();i=i+"&seg"+a+"="+p.seg+"&ts"+a+"="+p.ts+"&d"+a+"="+p.d,a++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(n,e,i){this.pendingSegs.push({seg:n,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(n,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(i,Math.floor(25e3));this.addTag(n,()=>{clearTimeout(a),i()})}addTag(n,e){(0,F.Yr)()?this.doNodeLongPoll(n,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=n,i.onload=i.onreadystatechange=function(){const a=i.readyState;(!a||"loaded"===a||"complete"===a)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{jt("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let Fp=null;"undefined"!=typeof MozWebSocket?Fp=MozWebSocket:"undefined"!=typeof WebSocket&&(Fp=WebSocket);let Gh=(()=>{class t{constructor(e,i,a,u,p,y,w){this.connId=e,this.applicationId=a,this.appCheckToken=u,this.authToken=p,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ps(this.connId),this.stats_=Ib(i),this.connURL=t.connectionURL_(i,y,w,u),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,a,u){const p={v:"5"};return!(0,F.Yr)()&&"undefined"!=typeof location&&location.hostname&&Db.test(location.hostname)&&(p.r="f"),i&&(p.s=i),a&&(p.ls=a),u&&(p.ac=u),Eb(e,E_,p)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,yl.set("previous_websocket_failure",!0);try{if((0,F.Yr)()){const u={headers:{"User-Agent":`Firebase/5/${d_}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(u.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(u.headers["X-Firebase-AppCheck"]=this.appCheckToken);const p=process.env,y=0===this.connURL.indexOf("wss://")?p.HTTPS_PROXY||p.https_proxy:p.HTTP_PROXY||p.http_proxy;y&&(u.proxy={origin:y}),this.mySock=new Fp(this.connURL,[],u)}else this.mySock=new Fp(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(a){this.log_("Error instantiating WebSocket.");const u=a.message||a.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const u=a.message||a.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==Fp&&!t.forceDisallow_}static previouslyFailed(){return yl.isInMemoryStorage||!0===yl.get("previous_websocket_failure")}markConnectionHealthy(){yl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const a=(0,F.cI)(i);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const a=this.extractFrameCount_(i);null!==a&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const i=(0,F.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=v_(i,16384);a.length>1&&this.sendString_(String(a.length));for(let u=0;u<a.length;u++)this.sendString_(a[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})();class Wh{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[ya,Gh]}initTransports_(n){const e=Gh&&Gh.isAvailable();let i=e&&!Gh.previouslyFailed();if(n.webSocketOnly&&(e||Dr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Gh];else{const a=this.transports_=[];for(const u of Wh.ALL_TRANSPORTS)u&&u.isAvailable()&&a.push(u)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class x_{constructor(n,e,i,a,u,p,y,w,I,k){this.id=n,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=a,this.authToken_=u,this.onMessage_=p,this.onReady_=y,this.onDisconnect_=w,this.onKill_=I,this.lastSessionId=k,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ps("c:"+this.id+":"),this.transportManager_=new Wh(e),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const a=n.healthyTimeout||0;a>0&&(this.healthyTimeout_=Hh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return e=>{n===this.conn_?this.onConnectionLost_(e):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return e=>{2!==this.state_&&(n===this.rx_?this.onPrimaryMessageReceived_(e):n===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(n){this.sendData_({t:"d",d:n})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if("t"in n){const e=n.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const e=Eu("t",n),i=Eu("d",n);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const e=Eu("t",n),i=Eu("d",n);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const e=Eu("t",n);if("d"in n){const i=n.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?__("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):__("Unknown control packet command: "+e)}}onHandshake_(n){const e=n.ts,i=n.v,a=n.h;this.sessionId=n.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Dr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),Hh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,e){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Hh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,n||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(yl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(n)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class O_{put(n,e,i,a){}merge(n,e,i,a){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,e,i){}onDisconnectMerge(n,e,i){}onDisconnectCancel(n,e){}reportStats(n){}}class Rb{constructor(n){this.allowedEvents_=n,this.listeners_={},(0,F.hu)(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...e){if(Array.isArray(this.listeners_[n])){const i=[...this.listeners_[n]];for(let a=0;a<i.length;a++)i[a].callback.apply(i[a].context,e)}}on(n,e,i){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:e,context:i});const a=this.getInitialEvent(n);a&&e.apply(i,a)}off(n,e,i){this.validateEventType_(n);const a=this.listeners_[n]||[];for(let u=0;u<a.length;u++)if(a[u].callback===e&&(!i||i===a[u].context))return void a.splice(u,1)}validateEventType_(n){(0,F.hu)(this.allowedEvents_.find(e=>e===n),"Unknown event: "+n)}}class Vp extends Rb{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Vp}getInitialEvent(n){return(0,F.hu)("online"===n,"Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}class Xt{constructor(n,e){if(void 0===e){this.pieces_=n.split("/");let i=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[i]=this.pieces_[a],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=e}toString(){let n="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(n+="/"+this.pieces_[e]);return n||"/"}}function Gt(){return new Xt("")}function Tt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function va(t){return t.pieces_.length-t.pieceNum_}function dn(t){let n=t.pieceNum_;return n<t.pieces_.length&&n++,new Xt(t.pieces_,n)}function P_(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function zh(t,n=0){return t.pieces_.slice(t.pieceNum_+n)}function pD(t){if(t.pieceNum_>=t.pieces_.length)return null;const n=[];for(let e=t.pieceNum_;e<t.pieces_.length-1;e++)n.push(t.pieces_[e]);return new Xt(n,0)}function wn(t,n){const e=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);if(n instanceof Xt)for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);else{const i=n.split("/");for(let a=0;a<i.length;a++)i[a].length>0&&e.push(i[a])}return new Xt(e,0)}function Ct(t){return t.pieceNum_>=t.pieces_.length}function ar(t,n){const e=Tt(t),i=Tt(n);if(null===e)return n;if(e===i)return ar(dn(t),dn(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")}function gD(t,n){const e=zh(t,0),i=zh(n,0);for(let a=0;a<e.length&&a<i.length;a++){const u=Du(e[a],i[a]);if(0!==u)return u}return e.length===i.length?0:e.length<i.length?-1:1}function Hp(t,n){if(va(t)!==va(n))return!1;for(let e=t.pieceNum_,i=n.pieceNum_;e<=t.pieces_.length;e++,i++)if(t.pieces_[e]!==n.pieces_[i])return!1;return!0}function Gi(t,n){let e=t.pieceNum_,i=n.pieceNum_;if(va(t)>va(n))return!1;for(;e<t.pieces_.length;){if(t.pieces_[e]!==n.pieces_[i])return!1;++e,++i}return!0}class F_{constructor(n,e){this.errorPrefix_=e,this.parts_=zh(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,F.ug)(this.parts_[i]);L_(this)}}function L_(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+bl(t))}function bl(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class B_ extends Rb{constructor(){let n,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",n="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",n="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",n="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[n];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new B_}getInitialEvent(n){return(0,F.hu)("visible"===n,"Unknown event type: "+n),[this.visible_]}}const Zh=1e3;let H_,rd=(()=>{class t extends O_{constructor(e,i,a,u,p,y,w,I){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=a,this.onConnectStatus_=u,this.onServerInfoUpdate_=p,this.authTokenProvider_=y,this.appCheckTokenProvider_=w,this.authOverride_=I,this.id=t.nextPersistentConnectionId_++,this.log_=ps("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Zh,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,I&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");B_.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Vp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,a){const u=++this.requestNumber_,p={r:u,a:e,b:i};this.log_((0,F.Pz)(p)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(p),a&&(this.requestCBHash_[u]=a)}get(e){this.initConnection_();const i=new F.BH,a={p:e._path.toString(),q:e._queryObject},u={action:"g",request:a,onComplete:y=>{const w=y.d;"ok"===y.s?(this.onDataUpdate_(a.p,w,!1,null),i.resolve(w)):i.reject(w)}};this.outstandingGets_.push(u),this.outstandingGetCount_++;const p=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const y=this.outstandingGets_[p];void 0===y||u!==y||(delete this.outstandingGets_[p],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+p+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(p),i.promise}listen(e,i,a,u){this.initConnection_();const p=e._queryIdentifier,y=e._path.toString();this.log_("Listen called for "+y+" "+p),this.listens.has(y)||this.listens.set(y,new Map),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(y).has(p),"listen() called twice for same path/queryId.");const w={onComplete:u,hashFn:i,query:e,tag:a};this.listens.get(y).set(p,w),this.connected_&&this.sendListen_(w)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(a)})}sendListen_(e){const i=e.query,a=i._path.toString(),u=i._queryIdentifier;this.log_("Listen on "+a+" for "+u);const p={p:a};e.tag&&(p.q=i._queryObject,p.t=e.tag),p.h=e.hashFn(),this.sendRequest("q",p,w=>{const I=w.d,k=w.s;t.warnOnListenWarnings_(I,i),(this.listens.get(a)&&this.listens.get(a).get(u))===e&&(this.log_("listen response",w),"ok"!==k&&this.removeListen_(a,u),e.onComplete&&e.onComplete(k,I))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,F.r3)(e,"w")){const a=(0,F.DV)(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const u='".indexOn": "'+i._queryParams.getIndex().toString()+'"',p=i._path.toString();Dr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${p} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,F.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,F.w9)(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(i,a,u=>{const p=u.s,y=u.d||"error";this.authToken_===e&&("ok"===p?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(p,y))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,a=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,a)})}unlisten(e,i){const a=e._path.toString(),u=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+u),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,u)&&this.connected_&&this.sendUnlisten_(a,u,e._queryObject,i)}sendUnlisten_(e,i,a,u){this.log_("Unlisten on "+e+" for "+i);const p={p:e};u&&(p.q=a,p.t=u),this.sendRequest("n",p)}onDisconnectPut(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:a})}onDisconnectMerge(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:a})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,a,u){const p={p:i,d:a};this.log_("onDisconnect "+e,p),this.sendRequest(e,p,y=>{u&&setTimeout(()=>{u(y.s,y.d)},Math.floor(0))})}put(e,i,a,u){this.putInternal("p",e,i,a,u)}merge(e,i,a,u){this.putInternal("m",e,i,a,u)}putInternal(e,i,a,u,p){this.initConnection_();const y={p:i,d:a};void 0!==p&&(y.h=p),this.outstandingPuts_.push({action:e,request:y,onComplete:u}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,u=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,a,p=>{this.log_(i+" response",p),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),u&&u(p.s,p.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,F.Pz)(e));const i=e.r,a=this.requestCBHash_[i];a&&(delete this.requestCBHash_[i],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):__("Unrecognized action received from server: "+(0,F.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Zh,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Zh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Zh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,us.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),a=e.onReady_.bind(e),u=e.onRealtimeDisconnect_.bind(e),p=e.id+":"+t.nextConnectionId_++,y=e.lastSessionId;let w=!1,I=null;const k=function(){I?I.close():(w=!0,u())};e.realtime_={close:k,sendRequest:function(J){(0,F.hu)(I,"sendRequest call when we're not connected not allowed."),I.sendRequest(J)}};const V=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[J,_e]=yield Promise.all([e.authTokenProvider_.getToken(V),e.appCheckTokenProvider_.getToken(V)]);w?jt("getToken() completed but was canceled"):(jt("getToken() completed. Creating connection."),e.authToken_=J&&J.accessToken,e.appCheckToken_=_e&&_e.token,I=new x_(p,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,a,u,Oe=>{Dr(Oe+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},y))}catch(J){e.log_("Failed to get token: "+J),w||(e.repoInfo_.nodeAdmin&&Dr(J),k())}}})()}interrupt(e){jt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){jt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Zh,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let a;a=i?i.map(p=>Ap(p)).join("$"):"default";const u=this.removeListen_(e,a);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(e,i){const a=new Xt(e).toString();let u;if(this.listens.has(a)){const p=this.listens.get(a);u=p.get(i),p.delete(i),0===p.size&&this.listens.delete(a)}else u=void 0;return u}onAuthRevoked_(e,i){jt("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){jt("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,F.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+d_.replace(/\./g,"-")]=1,(0,F.uI)()?e["framework.cordova"]=1:(0,F.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Vp.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&e}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class St{constructor(n,e){this.name=n,this.node=e}static Wrap(n,e){return new St(n,e)}}class U_{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,e){const i=new St(_a,n),a=new St(_a,e);return 0!==this.compare(i,a)}minPost(){return St.MIN}}class Ob extends U_{static get __EMPTY_NODE(){return H_}static set __EMPTY_NODE(n){H_=n}compare(n,e){return Du(n.name,e.name)}isDefinedOn(n){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,e){return!1}minPost(){return St.MIN}maxPost(){return new St(Vo,H_)}makePost(n,e){return(0,F.hu)("string"==typeof n,"KeyIndex indexValue must always be a string."),new St(n,H_)}toString(){return".key"}}const Br=new Ob;class $p{constructor(n,e,i,a,u=null){this.isReverse_=a,this.resultGenerator_=u,this.nodeStack_=[];let p=1;for(;!n.isEmpty();)if(n=n,p=e?i(n.key,e):1,a&&(p*=-1),p<0)n=this.isReverse_?n.left:n.right;else{if(0===p){this.nodeStack_.push(n);break}this.nodeStack_.push(n),n=this.isReverse_?n.right:n.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,n=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}let qh,Uo=(()=>{class t{constructor(e,i,a,u,p){this.key=e,this.value=i,this.color=null!=a?a:t.RED,this.left=null!=u?u:ni.EMPTY_NODE,this.right=null!=p?p:ni.EMPTY_NODE}copy(e,i,a,u,p){return new t(null!=e?e:this.key,null!=i?i:this.value,null!=a?a:this.color,null!=u?u:this.left,null!=p?p:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let u=this;const p=a(e,u.key);return u=p<0?u.copy(null,null,null,u.left.insert(e,i,a),null):0===p?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,a)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return ni.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let a,u;if(a=this,i(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===i(e,a.key)){if(a.right.isEmpty())return ni.EMPTY_NODE;u=a.right.min_(),a=a.copy(u.key,u.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,i))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class ni{constructor(n,e=ni.EMPTY_NODE){this.comparator_=n,this.root_=e}insert(n,e){return new ni(this.comparator_,this.root_.insert(n,e,this.comparator_).copy(null,null,Uo.BLACK,null,null))}remove(n){return new ni(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,Uo.BLACK,null,null))}get(n){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(n,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(n){let e,i=this.root_,a=null;for(;!i.isEmpty();){if(e=this.comparator_(n,i.key),0===e){if(i.left.isEmpty())return a?a.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(a=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new $p(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,e){return new $p(this.root_,n,this.comparator_,!1,e)}getReverseIteratorFrom(n,e){return new $p(this.root_,n,this.comparator_,!0,e)}getReverseIterator(n){return new $p(this.root_,null,this.comparator_,!0,n)}}function Fb(t,n){return Du(t.name,n.name)}function Yh(t,n){return Du(t,n)}ni.EMPTY_NODE=new class{copy(n,e,i,a,u){return this}insert(n,e,i){return new Uo(n,e,null)}remove(n,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const jp=function(t){return"number"==typeof t?"number:"+Sp(t):"string:"+t},Gp=function(t){if(t.isLeafNode()){const n=t.val();(0,F.hu)("string"==typeof n||"number"==typeof n||"object"==typeof n&&(0,F.r3)(n,".sv"),"Priority must be a string or number.")}else(0,F.hu)(t===qh||t.isEmpty(),"priority of unexpected type.");(0,F.hu)(t===qh||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let $_,CD,DD,Tu=(()=>{class t{constructor(e,i=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Gp(this.priorityNode_)}static set __childrenNodeConstructor(e){$_=e}static get __childrenNodeConstructor(){return $_}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new t(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ct(e)?this:".priority"===Tt(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const a=Tt(e);return null===a?i:i.isEmpty()&&".priority"!==a?this:((0,F.hu)(".priority"!==a||1===va(e),".priority must be the last token in a path"),this.updateImmediateChild(a,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(dn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+jp(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?Sp(this.value_):this.value_,this.lazyHash_=p_(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:((0,F.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,a=typeof this.value_,u=t.VALUE_TYPE_ORDER.indexOf(i),p=t.VALUE_TYPE_ORDER.indexOf(a);return(0,F.hu)(u>=0,"Unknown leaf type: "+i),(0,F.hu)(p>=0,"Unknown leaf type: "+a),u===p?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:p-u}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const Cn=new class extends U_{compare(n,e){const i=n.node.getPriority(),a=e.node.getPriority(),u=i.compareTo(a);return 0===u?Du(n.name,e.name):u}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,e){return!n.getPriority().equals(e.getPriority())}minPost(){return St.MIN}maxPost(){return new St(Vo,new Tu("[PRIORITY-POST]",DD))}makePost(n,e){const i=CD(n);return new St(e,new Tu("[PRIORITY-POST]",i))}toString(){return".priority"}},UT=Math.log(2);class Lb{constructor(n){this.count=parseInt(Math.log(n+1)/UT,10),this.current_=this.count-1;const a=(u=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=n+1&a}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const Wp=function(t,n,e,i){t.sort(n);const a=function(w,I){const k=I-w;let R,V;if(0===k)return null;if(1===k)return R=t[w],V=e?e(R):R,new Uo(V,R.node,Uo.BLACK,null,null);{const J=parseInt(k/2,10)+w,_e=a(w,J),Oe=a(J+1,I);return R=t[J],V=e?e(R):R,new Uo(V,R.node,Uo.BLACK,_e,Oe)}},y=function(w){let I=null,k=null,R=t.length;const V=function(_e,Oe){const qe=R-_e,Nt=R;R-=_e;const _t=a(qe+1,Nt),Vn=t[qe],Wt=e?e(Vn):Vn;J(new Uo(Wt,Vn.node,Oe,null,_t))},J=function(_e){I?(I.left=_e,I=_e):(k=_e,I=_e)};for(let _e=0;_e<w.count;++_e){const Oe=w.nextBitIsOne(),qe=Math.pow(2,w.count-(_e+1));Oe?V(qe,Uo.BLACK):(V(qe,Uo.BLACK),V(qe,Uo.RED))}return k}(new Lb(t.length));return new ni(i||n,y)};let j_;const od={};class ba{constructor(n,e){this.indexes_=n,this.indexSet_=e}static get Default(){return(0,F.hu)(od&&Cn,"ChildrenNode.ts has not been loaded"),j_=j_||new ba({".priority":od},{".priority":Cn}),j_}get(n){const e=(0,F.DV)(this.indexes_,n);if(!e)throw new Error("No index defined for "+n);return e instanceof ni?e:null}hasIndex(n){return(0,F.r3)(this.indexSet_,n.toString())}addIndex(n,e){(0,F.hu)(n!==Br,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let a=!1;const u=e.getIterator(St.Wrap);let y,p=u.getNext();for(;p;)a=a||n.isDefinedOn(p.node),i.push(p),p=u.getNext();y=a?Wp(i,n.getCompare()):od;const w=n.toString(),I=Object.assign({},this.indexSet_);I[w]=n;const k=Object.assign({},this.indexes_);return k[w]=y,new ba(k,I)}addToIndexes(n,e){const i=(0,F.UI)(this.indexes_,(a,u)=>{const p=(0,F.DV)(this.indexSet_,u);if((0,F.hu)(p,"Missing index implementation for "+u),a===od){if(p.isDefinedOn(n.node)){const y=[],w=e.getIterator(St.Wrap);let I=w.getNext();for(;I;)I.name!==n.name&&y.push(I),I=w.getNext();return y.push(n),Wp(y,p.getCompare())}return od}{const y=e.get(n.name);let w=a;return y&&(w=w.remove(new St(n.name,y))),w.insert(n,n.node)}});return new ba(i,this.indexSet_)}removeFromIndexes(n,e){const i=(0,F.UI)(this.indexes_,a=>{if(a===od)return a;{const u=e.get(n.name);return u?a.remove(new St(n.name,u)):a}});return new ba(i,this.indexSet_)}}let sd,pt=(()=>{class t{constructor(e,i,a){this.children_=e,this.priorityNode_=i,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&Gp(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return sd||(sd=new t(new ni(Yh),null,ba.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||sd}updatePriority(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?sd:i}}getChild(e){const i=Tt(e);return null===i?this:this.getImmediateChild(i).getChild(dn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,F.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const a=new St(e,i);let u,p;i.isEmpty()?(u=this.children_.remove(e),p=this.indexMap_.removeFromIndexes(a,this.children_)):(u=this.children_.insert(e,i),p=this.indexMap_.addToIndexes(a,this.children_));const y=u.isEmpty()?sd:this.priorityNode_;return new t(u,y,p)}}updateChild(e,i){const a=Tt(e);if(null===a)return i;{(0,F.hu)(".priority"!==Tt(e)||1===va(e),".priority must be the last token in a path");const u=this.getImmediateChild(a).updateChild(dn(e),i);return this.updateImmediateChild(a,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let a=0,u=0,p=!0;if(this.forEachChild(Cn,(y,w)=>{i[y]=w.val(e),a++,p&&t.INTEGER_REGEXP_.test(y)?u=Math.max(u,Number(y)):p=!1}),!e&&p&&u<2*a){const y=[];for(const w in i)y[w]=i[w];return y}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+jp(this.getPriority().val())+":"),this.forEachChild(Cn,(i,a)=>{const u=a.hash();""!==u&&(e+=":"+i+":"+u)}),this.lazyHash_=""===e?"":p_(e)}return this.lazyHash_}getPredecessorChildName(e,i,a){const u=this.resolveIndex_(a);if(u){const p=u.getPredecessorKey(new St(e,i));return p?p.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new St(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new St(i,this.children_.get(i)):null}forEachChild(e,i){const a=this.resolveIndex_(e);return a?a.inorderTraversal(u=>i(u.name,u.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(e,u=>u);{const u=this.children_.getIteratorFrom(e.name,St.Wrap);let p=u.peek();for(;null!=p&&i.compare(p,e)<0;)u.getNext(),p=u.peek();return u}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(e,u=>u);{const u=this.children_.getReverseIteratorFrom(e.name,St.Wrap);let p=u.peek();for(;null!=p&&i.compare(p,e)>0;)u.getNext(),p=u.peek();return u}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Jh?-1:0}withIndex(e){if(e===Br||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Br||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const a=this.getIterator(Cn),u=i.getIterator(Cn);let p=a.getNext(),y=u.getNext();for(;p&&y;){if(p.name!==y.name||!p.node.equals(y.node))return!1;p=a.getNext(),y=u.getNext()}return null===p&&null===y}return!1}return!1}}resolveIndex_(e){return e===Br?null:this.indexMap_.get(e.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const Jh=new class extends pt{constructor(){super(new ni(Yh),pt.EMPTY_NODE,ba.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return pt.EMPTY_NODE}isEmpty(){return!1}};function Nn(t,n=null){if(null===t)return pt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(n=t[".priority"]),(0,F.hu)(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Tu(t,Nn(n));if(t instanceof Array){let e=pt.EMPTY_NODE;return zn(t,(i,a)=>{if((0,F.r3)(t,i)&&"."!==i.substring(0,1)){const u=Nn(a);(u.isLeafNode()||!u.isEmpty())&&(e=e.updateImmediateChild(i,u))}}),e.updatePriority(Nn(n))}{const e=[];let i=!1;if(zn(t,(p,y)=>{if("."!==p.substring(0,1)){const w=Nn(y);w.isEmpty()||(i=i||!w.getPriority().isEmpty(),e.push(new St(p,w)))}}),0===e.length)return pt.EMPTY_NODE;const u=Wp(e,Fb,p=>p.name,Yh);if(i){const p=Wp(e,Cn.getCompare());return new pt(u,Nn(n),new ba({".priority":p},{".priority":Cn}))}return new pt(u,Nn(n),ba.Default)}}Object.defineProperties(St,{MIN:{value:new St(_a,pt.EMPTY_NODE)},MAX:{value:new St(Vo,Jh)}}),Ob.__EMPTY_NODE=pt.EMPTY_NODE,Tu.__childrenNodeConstructor=pt,qh=Jh,DD=Jh,function(t){CD=t}(Nn);class ad extends U_{constructor(n){super(),this.indexPath_=n,(0,F.hu)(!Ct(n)&&".priority"!==Tt(n),"Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,e){const i=this.extractChild(n.node),a=this.extractChild(e.node),u=i.compareTo(a);return 0===u?Du(n.name,e.name):u}makePost(n,e){const i=Nn(n),a=pt.EMPTY_NODE.updateChild(this.indexPath_,i);return new St(e,a)}maxPost(){const n=pt.EMPTY_NODE.updateChild(this.indexPath_,Jh);return new St(Vo,n)}toString(){return zh(this.indexPath_,0).join("/")}}const zp=new class extends U_{compare(n,e){const i=n.node.compareTo(e.node);return 0===i?Du(n.name,e.name):i}isDefinedOn(n){return!0}indexedValueChanged(n,e){return!n.equals(e)}minPost(){return St.MIN}maxPost(){return St.MAX}makePost(n,e){const i=Nn(n);return new St(e,i)}toString(){return".value"}},wa="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ID=function(){let t=0;const n=[];return function(e){const i=e===t;let a;t=e;const u=new Array(8);for(a=7;a>=0;a--)u[a]=wa.charAt(e%64),e=Math.floor(e/64);(0,F.hu)(0===e,"Cannot push at time == 0");let p=u.join("");if(i){for(a=11;a>=0&&63===n[a];a--)n[a]=0;n[a]++}else for(a=0;a<12;a++)n[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)p+=wa.charAt(n[a]);return(0,F.hu)(20===p.length,"nextPushId: Length should be 20."),p}}(),AD=function(t){if(t===""+Np)return"-";const n=Mp(t);if(null!=n)return""+(n+1);const e=new Array(t.length);for(let p=0;p<e.length;p++)e[p]=t.charAt(p);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return Vo;const u=wa.charAt(wa.indexOf(e[i])+1);return e[i]=u,e.slice(0,i+1).join("")},Hb=function(t){if(t===""+Uh)return _a;const n=Mp(t);if(null!=n)return""+(n-1);const e=new Array(t.length);for(let i=0;i<e.length;i++)e[i]=t.charAt(i);return"-"===e[e.length-1]?1===e.length?""+Np:(delete e[e.length-1],e.join("")):(e[e.length-1]=wa.charAt(wa.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function $b(t){return{type:"value",snapshotNode:t}}function ld(t,n){return{type:"child_added",snapshotNode:n,childName:t}}function Kh(t,n){return{type:"child_removed",snapshotNode:n,childName:t}}function Qh(t,n,e){return{type:"child_changed",snapshotNode:n,childName:t,oldSnap:e}}class W_{constructor(n){this.index_=n}updateChild(n,e,i,a,u,p){(0,F.hu)(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const y=n.getImmediateChild(e);return y.getChild(a).equals(i.getChild(a))&&y.isEmpty()===i.isEmpty()||(null!=p&&(i.isEmpty()?n.hasChild(e)?p.trackChildChange(Kh(e,y)):(0,F.hu)(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):y.isEmpty()?p.trackChildChange(ld(e,i)):p.trackChildChange(Qh(e,i,y))),n.isLeafNode()&&i.isEmpty())?n:n.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(n,e,i){return null!=i&&(n.isLeafNode()||n.forEachChild(Cn,(a,u)=>{e.hasChild(a)||i.trackChildChange(Kh(a,u))}),e.isLeafNode()||e.forEachChild(Cn,(a,u)=>{if(n.hasChild(a)){const p=n.getImmediateChild(a);p.equals(u)||i.trackChildChange(Qh(a,u,p))}else i.trackChildChange(ld(a,u))})),e.withIndex(this.index_)}updatePriority(n,e){return n.isEmpty()?pt.EMPTY_NODE:n.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Xh{constructor(n){this.indexedFilter_=new W_(n.getIndex()),this.index_=n.getIndex(),this.startPost_=Xh.getStartPost_(n),this.endPost_=Xh.getEndPost_(n)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){return this.index_.compare(this.getStartPost(),n)<=0&&this.index_.compare(n,this.getEndPost())<=0}updateChild(n,e,i,a,u,p){return this.matches(new St(e,i))||(i=pt.EMPTY_NODE),this.indexedFilter_.updateChild(n,e,i,a,u,p)}updateFullNode(n,e,i){e.isLeafNode()&&(e=pt.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(pt.EMPTY_NODE);const u=this;return e.forEachChild(Cn,(p,y)=>{u.matches(new St(p,y))||(a=a.updateImmediateChild(p,pt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,a,i)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const e=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),e)}return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const e=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),e)}return n.getIndex().maxPost()}}class HT{constructor(n){this.rangedFilter_=new Xh(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft()}updateChild(n,e,i,a,u,p){return this.rangedFilter_.matches(new St(e,i))||(i=pt.EMPTY_NODE),n.getImmediateChild(e).equals(i)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,e,i,a,u,p):this.fullLimitUpdateChild_(n,e,i,u,p)}updateFullNode(n,e,i){let a;if(e.isLeafNode()||e.isEmpty())a=pt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let u;a=pt.EMPTY_NODE.withIndex(this.index_),u=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let p=0;for(;u.hasNext()&&p<this.limit_;){const y=u.getNext();let w;if(w=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),y)<=0:this.index_.compare(y,this.rangedFilter_.getEndPost())<=0,!w)break;a=a.updateImmediateChild(y.name,y.node),p++}}else{let u,p,y,w;if(a=e.withIndex(this.index_),a=a.updatePriority(pt.EMPTY_NODE),this.reverse_){w=a.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),p=this.rangedFilter_.getStartPost();const R=this.index_.getCompare();y=(V,J)=>R(J,V)}else w=a.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),p=this.rangedFilter_.getEndPost(),y=this.index_.getCompare();let I=0,k=!1;for(;w.hasNext();){const R=w.getNext();!k&&y(u,R)<=0&&(k=!0),k&&I<this.limit_&&y(R,p)<=0?I++:a=a.updateImmediateChild(R.name,pt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,a,i)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,e,i,a,u){let p;if(this.reverse_){const R=this.index_.getCompare();p=(V,J)=>R(J,V)}else p=this.index_.getCompare();const y=n;(0,F.hu)(y.numChildren()===this.limit_,"");const w=new St(e,i),I=this.reverse_?y.getFirstChild(this.index_):y.getLastChild(this.index_),k=this.rangedFilter_.matches(w);if(y.hasChild(e)){const R=y.getImmediateChild(e);let V=a.getChildAfterChild(this.index_,I,this.reverse_);for(;null!=V&&(V.name===e||y.hasChild(V.name));)V=a.getChildAfterChild(this.index_,V,this.reverse_);const J=null==V?1:p(V,w);if(k&&!i.isEmpty()&&J>=0)return null!=u&&u.trackChildChange(Qh(e,i,R)),y.updateImmediateChild(e,i);{null!=u&&u.trackChildChange(Kh(e,R));const Oe=y.updateImmediateChild(e,pt.EMPTY_NODE);return null!=V&&this.rangedFilter_.matches(V)?(null!=u&&u.trackChildChange(ld(V.name,V.node)),Oe.updateImmediateChild(V.name,V.node)):Oe}}return i.isEmpty()?n:k&&p(I,w)>=0?(null!=u&&(u.trackChildChange(Kh(I.name,I.node)),u.trackChildChange(ld(e,i))),y.updateImmediateChild(e,i).updateImmediateChild(I.name,pt.EMPTY_NODE)):n}}class z_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Cn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:_a}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Vo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Cn}copy(){const n=new z_;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function Z_(t,n,e){const i=t.copy();return i.startSet_=!0,void 0===n&&(n=null),i.indexStartValue_=n,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function jb(t,n,e){const i=t.copy();return i.endSet_=!0,void 0===n&&(n=null),i.indexEndValue_=n,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function Y_(t,n){const e=t.copy();return e.index_=n,e}function r(t){const n={};if(t.isDefault())return n;let e;return t.index_===Cn?e="$priority":t.index_===zp?e="$value":t.index_===Br?e="$key":((0,F.hu)(t.index_ instanceof ad,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=(0,F.Pz)(e),t.startSet_&&(n.startAt=(0,F.Pz)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+(0,F.Pz)(t.indexStartName_))),t.endSet_&&(n.endAt=(0,F.Pz)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+(0,F.Pz)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_),n}function o(t){const n={};if(t.startSet_&&(n.sp=t.indexStartValue_,t.startNameSet_&&(n.sn=t.indexStartName_)),t.endSet_&&(n.ep=t.indexEndValue_,t.endNameSet_&&(n.en=t.indexEndName_)),t.limitSet_){n.l=t.limit_;let e=t.viewFrom_;""===e&&(e=t.isViewFromLeft()?"l":"r"),n.vf=e}return t.index_!==Cn&&(n.i=t.index_.toString()),n}class l extends O_{constructor(n,e,i,a){super(),this.repoInfo_=n,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=a,this.log_=ps("p:rest:"),this.listens_={}}reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,e){return void 0!==e?"tag$"+e:((0,F.hu)(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}listen(n,e,i,a){const u=n._path.toString();this.log_("Listen called for "+u+" "+n._queryIdentifier);const p=l.getListenId_(n,i),y={};this.listens_[p]=y;const w=r(n._queryParams);this.restRequest_(u+".json",w,(I,k)=>{let R=k;if(404===I&&(R=null,I=null),null===I&&this.onDataUpdate_(u,R,!1,i),(0,F.DV)(this.listens_,p)===y){let V;V=I?401===I?"permission_denied":"rest_error:"+I:"ok",a(V,null)}})}unlisten(n,e){const i=l.getListenId_(n,e);delete this.listens_[i]}get(n){const e=r(n._queryParams),i=n._path.toString(),a=new F.BH;return this.restRequest_(i+".json",e,(u,p)=>{let y=p;404===u&&(y=null,u=null),null===u?(this.onDataUpdate_(i,y,!1,null),a.resolve(y)):a.reject(new Error(y))}),a.promise}refreshAuthToken(n){}restRequest_(n,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,u])=>{a&&a.accessToken&&(e.auth=a.accessToken),u&&u.token&&(e.ac=u.token);const p=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+(0,F.xO)(e);this.log_("Sending REST request for "+p);const y=new XMLHttpRequest;y.onreadystatechange=()=>{if(i&&4===y.readyState){this.log_("REST Response for "+p+" received. status:",y.status,"response:",y.responseText);let w=null;if(y.status>=200&&y.status<300){try{w=(0,F.cI)(y.responseText)}catch(I){Dr("Failed to parse JSON response for "+p+": "+y.responseText)}i(null,w)}else 401!==y.status&&404!==y.status&&Dr("Got unsuccessful REST response for "+p+" Status: "+y.status),i(y.status);i=null}},y.open("GET",p,!0),y.send()})}}class c{constructor(){this.rootNode_=pt.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,e){this.rootNode_=this.rootNode_.updateChild(n,e)}}function d(){return{value:null,children:new Map}}function g(t,n,e){if(Ct(n))t.value=e,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(n,e);else{const i=Tt(n);t.children.has(i)||t.children.set(i,d()),g(t.children.get(i),n=dn(n),e)}}function _(t,n){if(Ct(n))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;{const e=t.value;return t.value=null,e.forEachChild(Cn,(i,a)=>{g(t,new Xt(i),a)}),_(t,n)}}if(t.children.size>0){const e=Tt(n);return n=dn(n),t.children.has(e)&&_(t.children.get(e),n)&&t.children.delete(e),0===t.children.size}return!0}function b(t,n,e){null!==t.value?e(n,t.value):function(t,n){t.children.forEach((e,i)=>{n(i,e)})}(t,(i,a)=>{b(a,new Xt(n.toString()+"/"+i),e)})}class A{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),e=Object.assign({},n);return this.last_&&zn(this.last_,(i,a)=>{e[i]=e[i]-a}),this.last_=n,e}}class q{constructor(n,e){this.server_=e,this.statsToReport_={},this.statsListener_=new A(n);const i=1e4+2e4*Math.random();Hh(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const n=this.statsListener_.get(),e={};let i=!1;zn(n,(a,u)=>{u>0&&(0,F.r3)(this.statsToReport_,a)&&(e[a]=u,i=!0)}),i&&this.server_.reportStats(e),Hh(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ce=(()=>(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ce||(ce={})),ce))();function We(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class ve{constructor(n,e,i){this.path=n,this.affectedTree=e,this.revert=i,this.type=ce.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(n){if(Ct(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Xt(n));return new ve(Gt(),e,this.revert)}}return(0,F.hu)(Tt(this.path)===n,"operationForChild called for unrelated child."),new ve(dn(this.path),this.affectedTree,this.revert)}}class Je{constructor(n,e){this.source=n,this.path=e,this.type=ce.LISTEN_COMPLETE}operationForChild(n){return Ct(this.path)?new Je(this.source,Gt()):new Je(this.source,dn(this.path))}}class mt{constructor(n,e,i){this.source=n,this.path=e,this.snap=i,this.type=ce.OVERWRITE}operationForChild(n){return Ct(this.path)?new mt(this.source,Gt(),this.snap.getImmediateChild(n)):new mt(this.source,dn(this.path),this.snap)}}class xt{constructor(n,e,i){this.source=n,this.path=e,this.children=i,this.type=ce.MERGE}operationForChild(n){if(Ct(this.path)){const e=this.children.subtree(new Xt(n));return e.isEmpty()?null:e.value?new mt(this.source,Gt(),e.value):new xt(this.source,Gt(),e)}return(0,F.hu)(Tt(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new xt(this.source,dn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ii{constructor(n,e,i){this.node_=n,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(Ct(n))return this.isFullyInitialized()&&!this.filtered_;const e=Tt(n);return this.isCompleteForChild(e)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class Iu{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function Au(t,n,e,i,a,u){const p=i.filter(y=>y.type===e);p.sort((y,w)=>function(t,n,e){if(null==n.childName||null==e.childName)throw(0,F.g5)("Should only compare child_ events.");const i=new St(n.childName,n.snapshotNode),a=new St(e.childName,e.snapshotNode);return t.index_.compare(i,a)}(t,y,w)),p.forEach(y=>{const w=function(t,n,e){return"value"===n.type||"child_removed"===n.type||(n.prevName=e.getPredecessorChildName(n.childName,n.snapshotNode,t.index_)),n}(t,y,u);a.forEach(I=>{I.respondsTo(y.type)&&n.push(I.createEvent(w,t.query_))})})}function ud(t,n){return{eventCache:t,serverCache:n}}function Su(t,n,e,i){return ud(new ii(n,e,i),t.serverCache)}function Zp(t,n,e,i){return ud(t.eventCache,new ii(n,e,i))}function cd(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ca(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let ND;class Mn{constructor(n,e=(()=>(ND||(ND=new ni(XC)),ND))()){this.value=n,this.children=e}static fromObject(n){let e=new Mn(null);return zn(n,(i,a)=>{e=e.set(new Xt(i),a)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,e){if(null!=this.value&&e(this.value))return{path:Gt(),value:this.value};if(Ct(n))return null;{const i=Tt(n),a=this.children.get(i);if(null!==a){const u=a.findRootMostMatchingPathAndValue(dn(n),e);return null!=u?{path:wn(new Xt(i),u.path),value:u.value}:null}return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(Ct(n))return this;{const e=Tt(n),i=this.children.get(e);return null!==i?i.subtree(dn(n)):new Mn(null)}}set(n,e){if(Ct(n))return new Mn(e,this.children);{const i=Tt(n),u=(this.children.get(i)||new Mn(null)).set(dn(n),e),p=this.children.insert(i,u);return new Mn(this.value,p)}}remove(n){if(Ct(n))return this.children.isEmpty()?new Mn(null):new Mn(null,this.children);{const e=Tt(n),i=this.children.get(e);if(i){const a=i.remove(dn(n));let u;return u=a.isEmpty()?this.children.remove(e):this.children.insert(e,a),null===this.value&&u.isEmpty()?new Mn(null):new Mn(this.value,u)}return this}}get(n){if(Ct(n))return this.value;{const e=Tt(n),i=this.children.get(e);return i?i.get(dn(n)):null}}setTree(n,e){if(Ct(n))return e;{const i=Tt(n),u=(this.children.get(i)||new Mn(null)).setTree(dn(n),e);let p;return p=u.isEmpty()?this.children.remove(i):this.children.insert(i,u),new Mn(this.value,p)}}fold(n){return this.fold_(Gt(),n)}fold_(n,e){const i={};return this.children.inorderTraversal((a,u)=>{i[a]=u.fold_(wn(n,a),e)}),e(n,this.value,i)}findOnPath(n,e){return this.findOnPath_(n,Gt(),e)}findOnPath_(n,e,i){const a=!!this.value&&i(e,this.value);if(a)return a;if(Ct(n))return null;{const u=Tt(n),p=this.children.get(u);return p?p.findOnPath_(dn(n),wn(e,u),i):null}}foreachOnPath(n,e){return this.foreachOnPath_(n,Gt(),e)}foreachOnPath_(n,e,i){if(Ct(n))return this;{this.value&&i(e,this.value);const a=Tt(n),u=this.children.get(a);return u?u.foreachOnPath_(dn(n),wn(e,a),i):new Mn(null)}}foreach(n){this.foreach_(Gt(),n)}foreach_(n,e){this.children.inorderTraversal((i,a)=>{a.foreach_(wn(n,i),e)}),this.value&&e(n,this.value)}foreachChild(n){this.children.inorderTraversal((e,i)=>{i.value&&n(e,i.value)})}}class Da{constructor(n){this.writeTree_=n}static empty(){return new Da(new Mn(null))}}function Q_(t,n,e){if(Ct(n))return new Da(new Mn(e));{const i=t.writeTree_.findRootMostValueAndPath(n);if(null!=i){const a=i.path;let u=i.value;const p=ar(a,n);return u=u.updateChild(p,e),new Da(t.writeTree_.set(a,u))}{const a=new Mn(e),u=t.writeTree_.setTree(n,a);return new Da(u)}}}function MD(t,n,e){let i=t;return zn(e,(a,u)=>{i=Q_(i,wn(n,a),u)}),i}function ZT(t,n){if(Ct(n))return Da.empty();{const e=t.writeTree_.setTree(n,new Mn(null));return new Da(e)}}function RD(t,n){return null!=ef(t,n)}function ef(t,n){const e=t.writeTree_.findRootMostValueAndPath(n);return null!=e?t.writeTree_.get(e.path).getChild(ar(e.path,n)):null}function YT(t){const n=[],e=t.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Cn,(i,a)=>{n.push(new St(i,a))}):t.writeTree_.children.inorderTraversal((i,a)=>{null!=a.value&&n.push(new St(i,a.value))}),n}function dd(t,n){if(Ct(n))return t;{const e=ef(t,n);return new Da(null!=e?new Mn(e):t.writeTree_.subtree(n))}}function kD(t){return t.writeTree_.isEmpty()}function Yp(t,n){return qT(Gt(),t.writeTree_,n)}function qT(t,n,e){if(null!=n.value)return e.updateChild(t,n.value);{let i=null;return n.children.inorderTraversal((a,u)=>{".priority"===a?((0,F.hu)(null!==u.value,"Priority writes must always be leaf nodes"),i=u.value):e=qT(wn(t,a),u,e)}),!e.getChild(t).isEmpty()&&null!==i&&(e=e.updateChild(wn(t,".priority"),i)),e}}function Gb(t,n){return eI(n,t)}function oS(t,n){if(t.snap)return Gi(t.path,n);for(const e in t.children)if(t.children.hasOwnProperty(e)&&Gi(wn(t.path,e),n))return!0;return!1}function aS(t){return t.visible}function JT(t,n,e){let i=Da.empty();for(let a=0;a<t.length;++a){const u=t[a];if(n(u)){const p=u.path;let y;if(u.snap)Gi(e,p)?(y=ar(e,p),i=Q_(i,y,u.snap)):Gi(p,e)&&(y=ar(p,e),i=Q_(i,Gt(),u.snap.getChild(y)));else{if(!u.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(Gi(e,p))y=ar(e,p),i=MD(i,y,u.children);else if(Gi(p,e))if(y=ar(p,e),Ct(y))i=MD(i,Gt(),u.children);else{const w=(0,F.DV)(u.children,Tt(y));if(w){const I=w.getChild(dn(y));i=Q_(i,Gt(),I)}}}}}return i}function KT(t,n,e,i,a){if(i||a){const u=dd(t.visibleWrites,n);return!a&&kD(u)?e:a||null!=e||RD(u,Gt())?Yp(JT(t.allWrites,function(I){return(I.visible||a)&&(!i||!~i.indexOf(I.writeId))&&(Gi(I.path,n)||Gi(n,I.path))},n),e||pt.EMPTY_NODE):null}{const u=ef(t.visibleWrites,n);if(null!=u)return u;{const p=dd(t.visibleWrites,n);return kD(p)?e:null!=e||RD(p,Gt())?Yp(p,e||pt.EMPTY_NODE):null}}}function Wb(t,n,e,i){return KT(t.writeTree,t.treePath,n,e,i)}function xD(t,n){return function(t,n,e){let i=pt.EMPTY_NODE;const a=ef(t.visibleWrites,n);if(a)return a.isLeafNode()||a.forEachChild(Cn,(u,p)=>{i=i.updateImmediateChild(u,p)}),i;if(e){const u=dd(t.visibleWrites,n);return e.forEachChild(Cn,(p,y)=>{const w=Yp(dd(u,new Xt(p)),y);i=i.updateImmediateChild(p,w)}),YT(u).forEach(p=>{i=i.updateImmediateChild(p.name,p.node)}),i}return YT(dd(t.visibleWrites,n)).forEach(p=>{i=i.updateImmediateChild(p.name,p.node)}),i}(t.writeTree,t.treePath,n)}function QT(t,n,e,i){return function(t,n,e,i,a){(0,F.hu)(i||a,"Either existingEventSnap or existingServerSnap must exist");const u=wn(n,e);if(RD(t.visibleWrites,u))return null;{const p=dd(t.visibleWrites,u);return kD(p)?a.getChild(e):Yp(p,a.getChild(e))}}(t.writeTree,t.treePath,n,e,i)}function zb(t,n){return function(t,n){return ef(t.visibleWrites,n)}(t.writeTree,wn(t.treePath,n))}function OD(t,n,e){return function(t,n,e,i){const a=wn(n,e),u=ef(t.visibleWrites,a);return null!=u?u:i.isCompleteForChild(e)?Yp(dd(t.visibleWrites,a),i.getNode().getImmediateChild(e)):null}(t.writeTree,t.treePath,n,e)}function XT(t,n){return eI(wn(t.treePath,n),t.writeTree)}function eI(t,n){return{treePath:t,writeTree:n}}class gS{constructor(){this.changeMap=new Map}trackChildChange(n){const e=n.type,i=n.childName;(0,F.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(i);if(a){const u=a.type;if("child_added"===e&&"child_removed"===u)this.changeMap.set(i,Qh(i,n.snapshotNode,a.snapshotNode));else if("child_removed"===e&&"child_added"===u)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===u)this.changeMap.set(i,Kh(i,a.oldSnap));else if("child_changed"===e&&"child_added"===u)this.changeMap.set(i,ld(i,n.snapshotNode));else{if("child_changed"!==e||"child_changed"!==u)throw(0,F.g5)("Illegal combination of changes: "+n+" occurred after "+a);this.changeMap.set(i,Qh(i,n.snapshotNode,a.oldSnap))}}else this.changeMap.set(i,n)}getChanges(){return Array.from(this.changeMap.values())}}const tI=new class{getCompleteChild(n){return null}getChildAfterChild(n,e,i){return null}};class PD{constructor(n,e,i=null){this.writes_=n,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(n){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(n))return e.getNode().getImmediateChild(n);{const i=null!=this.optCompleteServerCache_?new ii(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return OD(this.writes_,n,i)}}getChildAfterChild(n,e,i){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ca(this.viewCache_),u=function(t,n,e,i,a,u){return function(t,n,e,i,a,u,p){let y;const w=dd(t.visibleWrites,n),I=ef(w,Gt());if(null!=I)y=I;else{if(null==e)return[];y=Yp(w,e)}if(y=y.withIndex(p),y.isEmpty()||y.isLeafNode())return[];{const k=[],R=p.getCompare(),V=u?y.getReverseIteratorFrom(i,p):y.getIteratorFrom(i,p);let J=V.getNext();for(;J&&k.length<a;)0!==R(J,i)&&k.push(J),J=V.getNext();return k}}(t.writeTree,t.treePath,n,e,i,a,u)}(this.writes_,a,e,1,i,n);return 0===u.length?null:u[0]}}function nI(t,n,e,i,a,u){const p=n.eventCache;if(null!=zb(i,e))return n;{let y,w;if(Ct(e))if((0,F.hu)(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const I=Ca(n),R=xD(i,I instanceof pt?I:pt.EMPTY_NODE);y=t.filter.updateFullNode(n.eventCache.getNode(),R,u)}else{const I=Wb(i,Ca(n));y=t.filter.updateFullNode(n.eventCache.getNode(),I,u)}else{const I=Tt(e);if(".priority"===I){(0,F.hu)(1===va(e),"Can't have a priority with additional path components");const k=p.getNode();w=n.serverCache.getNode();const R=QT(i,e,k,w);y=null!=R?t.filter.updatePriority(k,R):p.getNode()}else{const k=dn(e);let R;if(p.isCompleteForChild(I)){w=n.serverCache.getNode();const V=QT(i,e,p.getNode(),w);R=null!=V?p.getNode().getImmediateChild(I).updateChild(k,V):p.getNode().getImmediateChild(I)}else R=OD(i,I,n.serverCache);y=null!=R?t.filter.updateChild(p.getNode(),I,R,k,a,u):p.getNode()}}return Su(n,y,p.isFullyInitialized()||Ct(e),t.filter.filtersNodes())}}function Zb(t,n,e,i,a,u,p,y){const w=n.serverCache;let I;const k=p?t.filter:t.filter.getIndexedFilter();if(Ct(e))I=k.updateFullNode(w.getNode(),i,null);else if(k.filtersNodes()&&!w.isFiltered()){const J=w.getNode().updateChild(e,i);I=k.updateFullNode(w.getNode(),J,null)}else{const J=Tt(e);if(!w.isCompleteForPath(e)&&va(e)>1)return n;const _e=dn(e),qe=w.getNode().getImmediateChild(J).updateChild(_e,i);I=".priority"===J?k.updatePriority(w.getNode(),qe):k.updateChild(w.getNode(),J,qe,_e,tI,null)}const R=Zp(n,I,w.isFullyInitialized()||Ct(e),k.filtersNodes());return nI(t,R,e,a,new PD(a,R,u),y)}function FD(t,n,e,i,a,u,p){const y=n.eventCache;let w,I;const k=new PD(a,n,u);if(Ct(e))I=t.filter.updateFullNode(n.eventCache.getNode(),i,p),w=Su(n,I,!0,t.filter.filtersNodes());else{const R=Tt(e);if(".priority"===R)I=t.filter.updatePriority(n.eventCache.getNode(),i),w=Su(n,I,y.isFullyInitialized(),y.isFiltered());else{const V=dn(e),J=y.getNode().getImmediateChild(R);let _e;if(Ct(V))_e=i;else{const Oe=k.getCompleteChild(R);_e=null!=Oe?".priority"===P_(V)&&Oe.getChild(pD(V)).isEmpty()?Oe:Oe.updateChild(V,i):pt.EMPTY_NODE}w=J.equals(_e)?n:Su(n,t.filter.updateChild(y.getNode(),R,_e,V,k,p),y.isFullyInitialized(),t.filter.filtersNodes())}}return w}function iI(t,n){return t.eventCache.isCompleteForChild(n)}function rI(t,n,e){return e.foreach((i,a)=>{n=n.updateChild(i,a)}),n}function LD(t,n,e,i,a,u,p,y){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let I,w=n;I=Ct(e)?i:new Mn(null).setTree(e,i);const k=n.serverCache.getNode();return I.children.inorderTraversal((R,V)=>{if(k.hasChild(R)){const _e=rI(0,n.serverCache.getNode().getImmediateChild(R),V);w=Zb(t,w,new Xt(R),_e,a,u,p,y)}}),I.children.inorderTraversal((R,V)=>{const J=!n.serverCache.isCompleteForChild(R)&&void 0===V.value;if(!k.hasChild(R)&&!J){const Oe=rI(0,n.serverCache.getNode().getImmediateChild(R),V);w=Zb(t,w,new Xt(R),Oe,a,u,p,y)}}),w}class TS{constructor(n,e){this.query_=n,this.eventRegistrations_=[];const i=this.query_._queryParams,a=new W_(i.getIndex()),u=function(t){return t.loadsAllData()?new W_(t.getIndex()):t.hasLimit()?new HT(t):new Xh(t)}(i);this.processor_=function(t){return{filter:t}}(u);const p=e.serverCache,y=e.eventCache,w=a.updateFullNode(pt.EMPTY_NODE,p.getNode(),null),I=u.updateFullNode(pt.EMPTY_NODE,y.getNode(),null),k=new ii(w,p.isFullyInitialized(),a.filtersNodes()),R=new ii(I,y.isFullyInitialized(),u.filtersNodes());this.viewCache_=ud(R,k),this.eventGenerator_=new Iu(this.query_)}get query(){return this.query_}}function SS(t,n){const e=Ca(t.viewCache_);return e&&(t.query._queryParams.loadsAllData()||!Ct(n)&&!e.getImmediateChild(Tt(n)).isEmpty())?e.getChild(n):null}function oI(t){return 0===t.eventRegistrations_.length}function sI(t,n,e){const i=[];if(e){(0,F.hu)(null==n,"A cancel should cancel all event registrations.");const a=t.query._path;t.eventRegistrations_.forEach(u=>{const p=u.createCancelEvent(e,a);p&&i.push(p)})}if(n){let a=[];for(let u=0;u<t.eventRegistrations_.length;++u){const p=t.eventRegistrations_[u];if(p.matches(n)){if(n.hasAnyCallback()){a=a.concat(t.eventRegistrations_.slice(u+1));break}}else a.push(p)}t.eventRegistrations_=a}else t.eventRegistrations_=[];return i}function aI(t,n,e,i){n.type===ce.MERGE&&null!==n.source.queryId&&((0,F.hu)(Ca(t.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(cd(t.viewCache_),"Missing event cache, even though we have a server cache"));const a=t.viewCache_,u=function(t,n,e,i,a){const u=new gS;let p,y;if(e.type===ce.OVERWRITE){const I=e;I.source.fromUser?p=FD(t,n,I.path,I.snap,i,a,u):((0,F.hu)(I.source.fromServer,"Unknown source."),y=I.source.tagged||n.serverCache.isFiltered()&&!Ct(I.path),p=Zb(t,n,I.path,I.snap,i,a,y,u))}else if(e.type===ce.MERGE){const I=e;I.source.fromUser?p=function(t,n,e,i,a,u,p){let y=n;return i.foreach((w,I)=>{const k=wn(e,w);iI(n,Tt(k))&&(y=FD(t,y,k,I,a,u,p))}),i.foreach((w,I)=>{const k=wn(e,w);iI(n,Tt(k))||(y=FD(t,y,k,I,a,u,p))}),y}(t,n,I.path,I.children,i,a,u):((0,F.hu)(I.source.fromServer,"Unknown source."),y=I.source.tagged||n.serverCache.isFiltered(),p=LD(t,n,I.path,I.children,i,a,y,u))}else if(e.type===ce.ACK_USER_WRITE){const I=e;p=I.revert?function(t,n,e,i,a,u){let p;if(null!=zb(i,e))return n;{const y=new PD(i,n,a),w=n.eventCache.getNode();let I;if(Ct(e)||".priority"===Tt(e)){let k;if(n.serverCache.isFullyInitialized())k=Wb(i,Ca(n));else{const R=n.serverCache.getNode();(0,F.hu)(R instanceof pt,"serverChildren would be complete if leaf node"),k=xD(i,R)}k=k,I=t.filter.updateFullNode(w,k,u)}else{const k=Tt(e);let R=OD(i,k,n.serverCache);null==R&&n.serverCache.isCompleteForChild(k)&&(R=w.getImmediateChild(k)),I=null!=R?t.filter.updateChild(w,k,R,dn(e),y,u):n.eventCache.getNode().hasChild(k)?t.filter.updateChild(w,k,pt.EMPTY_NODE,dn(e),y,u):w,I.isEmpty()&&n.serverCache.isFullyInitialized()&&(p=Wb(i,Ca(n)),p.isLeafNode()&&(I=t.filter.updateFullNode(I,p,u)))}return p=n.serverCache.isFullyInitialized()||null!=zb(i,Gt()),Su(n,I,p,t.filter.filtersNodes())}}(t,n,I.path,i,a,u):function(t,n,e,i,a,u,p){if(null!=zb(a,e))return n;const y=n.serverCache.isFiltered(),w=n.serverCache;if(null!=i.value){if(Ct(e)&&w.isFullyInitialized()||w.isCompleteForPath(e))return Zb(t,n,e,w.getNode().getChild(e),a,u,y,p);if(Ct(e)){let I=new Mn(null);return w.getNode().forEachChild(Br,(k,R)=>{I=I.set(new Xt(k),R)}),LD(t,n,e,I,a,u,y,p)}return n}{let I=new Mn(null);return i.foreach((k,R)=>{const V=wn(e,k);w.isCompleteForPath(V)&&(I=I.set(k,w.getNode().getChild(V)))}),LD(t,n,e,I,a,u,y,p)}}(t,n,I.path,I.affectedTree,i,a,u)}else{if(e.type!==ce.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+e.type);p=function(t,n,e,i,a){const u=n.serverCache;return nI(t,Zp(n,u.getNode(),u.isFullyInitialized()||Ct(e),u.isFiltered()),e,i,tI,a)}(t,n,e.path,i,u)}const w=u.getChanges();return function(t,n,e){const i=n.eventCache;if(i.isFullyInitialized()){const a=i.getNode().isLeafNode()||i.getNode().isEmpty(),u=cd(t);(e.length>0||!t.eventCache.isFullyInitialized()||a&&!i.getNode().equals(u)||!i.getNode().getPriority().equals(u.getPriority()))&&e.push($b(cd(n)))}}(n,p,w),{viewCache:p,changes:w}}(t.processor_,a,n,e,i);return function(t,n){(0,F.hu)(n.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(n.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,u.viewCache),(0,F.hu)(u.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,lI(t,u.changes,u.viewCache.eventCache.getNode(),null)}function lI(t,n,e,i){return function(t,n,e,i){const a=[],u=[];return n.forEach(p=>{"child_changed"===p.type&&t.index_.indexedValueChanged(p.oldSnap,p.snapshotNode)&&u.push(function(t,n){return{type:"child_moved",snapshotNode:n,childName:t}}(p.childName,p.snapshotNode))}),Au(t,a,"child_removed",n,i,e),Au(t,a,"child_added",n,i,e),Au(t,a,"child_moved",u,i,e),Au(t,a,"child_changed",n,i,e),Au(t,a,"value",n,i,e),a}(t.eventGenerator_,n,e,i?[i]:t.eventRegistrations_)}let Yb,Jb;class uI{constructor(){this.views=new Map}}function BD(t,n,e,i){const a=n.source.queryId;if(null!==a){const u=t.views.get(a);return(0,F.hu)(null!=u,"SyncTree gave us an op for an invalid query."),aI(u,n,e,i)}{let u=[];for(const p of t.views.values())u=u.concat(aI(p,n,e,i));return u}}function cI(t,n,e,i,a){const p=t.views.get(n._queryIdentifier);if(!p){let y=Wb(e,a?i:null),w=!1;y?w=!0:i instanceof pt?(y=xD(e,i),w=!1):(y=pt.EMPTY_NODE,w=!1);const I=ud(new ii(y,w,!1),new ii(i,a,!1));return new TS(n,I)}return p}function dI(t){const n=[];for(const e of t.views.values())e.query._queryParams.loadsAllData()||n.push(e);return n}function hd(t,n){let e=null;for(const i of t.views.values())e=e||SS(i,n);return e}function hI(t,n){return n._queryParams.loadsAllData()?qb(t):t.views.get(n._queryIdentifier)}function fI(t,n){return null!=hI(t,n)}function fd(t){return null!=qb(t)}function qb(t){for(const n of t.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let BS=1;class pI{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Mn(null),this.pendingWriteTree_={visibleWrites:Da.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function VD(t,n,e,i,a){return function(t,n,e,i,a){(0,F.hu)(i>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),t.allWrites.push({path:n,snap:e,writeId:i,visible:a}),a&&(t.visibleWrites=Q_(t.visibleWrites,n,e)),t.lastWriteId=i}(t.pendingWriteTree_,n,e,i,a),a?qp(t,new mt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,e)):[]}function pd(t,n,e=!1){const i=function(t,n){for(let e=0;e<t.allWrites.length;e++){const i=t.allWrites[e];if(i.writeId===n)return i}return null}(t.pendingWriteTree_,n);if(function(t,n){const e=t.allWrites.findIndex(y=>y.writeId===n);(0,F.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[e];t.allWrites.splice(e,1);let a=i.visible,u=!1,p=t.allWrites.length-1;for(;a&&p>=0;){const y=t.allWrites[p];y.visible&&(p>=e&&oS(y,i.path)?a=!1:Gi(i.path,y.path)&&(u=!0)),p--}return!!a&&(u?(function(t){t.visibleWrites=JT(t.allWrites,aS,Gt()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(i.snap?t.visibleWrites=ZT(t.visibleWrites,i.path):zn(i.children,w=>{t.visibleWrites=ZT(t.visibleWrites,wn(i.path,w))}),!0))}(t.pendingWriteTree_,n)){let u=new Mn(null);return null!=i.snap?u=u.set(Gt(),!0):zn(i.children,p=>{u=u.set(new Xt(p),!0)}),qp(t,new ve(i.path,u,e))}return[]}function X_(t,n,e){return qp(t,new mt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,e))}function UD(t,n,e,i){const a=n._path,u=t.syncPointTree_.get(a);let p=[];if(u&&("default"===n._queryIdentifier||fI(u,n))){const y=function(t,n,e,i){const a=n._queryIdentifier,u=[];let p=[];const y=fd(t);if("default"===a)for(const[w,I]of t.views.entries())p=p.concat(sI(I,e,i)),oI(I)&&(t.views.delete(w),I.query._queryParams.loadsAllData()||u.push(I.query));else{const w=t.views.get(a);w&&(p=p.concat(sI(w,e,i)),oI(w)&&(t.views.delete(a),w.query._queryParams.loadsAllData()||u.push(w.query)))}return y&&!fd(t)&&u.push(new((0,F.hu)(Yb,"Reference.ts has not been loaded"),Yb)(n._repo,n._path)),{removed:u,events:p}}(u,n,e,i);(function(t){return 0===t.views.size})(u)&&(t.syncPointTree_=t.syncPointTree_.remove(a));const w=y.removed;p=y.events;const I=-1!==w.findIndex(R=>R._queryParams.loadsAllData()),k=t.syncPointTree_.findOnPath(a,(R,V)=>fd(V));if(I&&!k){const R=t.syncPointTree_.subtree(a);if(!R.isEmpty()){const V=function(t){return t.fold((n,e,i)=>{if(e&&fd(e))return[qb(e)];{let a=[];return e&&(a=dI(e)),zn(i,(u,p)=>{a=a.concat(p)}),a}})}(R);for(let J=0;J<V.length;++J){const _e=V[J],Oe=_e.query,qe=yI(t,_e);t.listenProvider_.startListening(ey(Oe),Qb(t,Oe),qe.hashFn,qe.onComplete)}}}if(!k&&w.length>0&&!i)if(I){const R=null;t.listenProvider_.stopListening(ey(n),R)}else w.forEach(R=>{const V=t.queryToTagMap.get(Xb(R));t.listenProvider_.stopListening(ey(R),V)});!function(t,n){for(let e=0;e<n.length;++e){const i=n[e];if(!i._queryParams.loadsAllData()){const a=Xb(i),u=t.queryToTagMap.get(a);t.queryToTagMap.delete(a),t.tagToQueryMap.delete(u)}}}(t,w)}return p}function gI(t,n,e){const i=n._path;let a=null,u=!1;t.syncPointTree_.foreachOnPath(i,(R,V)=>{const J=ar(R,i);a=a||hd(V,J),u=u||fd(V)});let y,p=t.syncPointTree_.get(i);p?(u=u||fd(p),a=a||hd(p,Gt())):(p=new uI,t.syncPointTree_=t.syncPointTree_.set(i,p)),null!=a?y=!0:(y=!1,a=pt.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((V,J)=>{const _e=hd(J,Gt());_e&&(a=a.updateImmediateChild(V,_e))}));const w=fI(p,n);if(!w&&!n._queryParams.loadsAllData()){const R=Xb(n);(0,F.hu)(!t.queryToTagMap.has(R),"View does not exist, but we have a tag");const V=BS++;t.queryToTagMap.set(R,V),t.tagToQueryMap.set(V,R)}let k=function(t,n,e,i,a,u){const p=cI(t,n,i,a,u);return t.views.has(n._queryIdentifier)||t.views.set(n._queryIdentifier,p),function(t,n){t.eventRegistrations_.push(n)}(p,e),function(t,n){const e=t.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Cn,(u,p)=>{i.push(ld(u,p))}),e.isFullyInitialized()&&i.push($b(e.getNode())),lI(t,i,e.getNode(),n)}(p,e)}(p,n,e,Gb(t.pendingWriteTree_,i),a,y);if(!w&&!u){const R=hI(p,n);k=k.concat(function(t,n,e){const i=n._path,a=Qb(t,n),u=yI(t,e),p=t.listenProvider_.startListening(ey(n),a,u.hashFn,u.onComplete),y=t.syncPointTree_.subtree(i);if(a)(0,F.hu)(!fd(y.value),"If we're adding a query, it shouldn't be shadowed");else{const w=y.fold((I,k,R)=>{if(!Ct(I)&&k&&fd(k))return[qb(k).query];{let V=[];return k&&(V=V.concat(dI(k).map(J=>J.query))),zn(R,(J,_e)=>{V=V.concat(_e)}),V}});for(let I=0;I<w.length;++I){const k=w[I];t.listenProvider_.stopListening(ey(k),Qb(t,k))}}return p}(t,n,R))}return k}function Kb(t,n,e){const a=t.pendingWriteTree_,u=t.syncPointTree_.findOnPath(n,(p,y)=>{const I=hd(y,ar(p,n));if(I)return I});return KT(a,n,u,e,!0)}function qp(t,n){return mI(n,t.syncPointTree_,null,Gb(t.pendingWriteTree_,Gt()))}function mI(t,n,e,i){if(Ct(t.path))return _I(t,n,e,i);{const a=n.get(Gt());null==e&&null!=a&&(e=hd(a,Gt()));let u=[];const p=Tt(t.path),y=t.operationForChild(p),w=n.children.get(p);if(w&&y){const I=e?e.getImmediateChild(p):null,k=XT(i,p);u=u.concat(mI(y,w,I,k))}return a&&(u=u.concat(BD(a,t,i,e))),u}}function _I(t,n,e,i){const a=n.get(Gt());null==e&&null!=a&&(e=hd(a,Gt()));let u=[];return n.children.inorderTraversal((p,y)=>{const w=e?e.getImmediateChild(p):null,I=XT(i,p),k=t.operationForChild(p);k&&(u=u.concat(_I(k,y,w,I)))}),a&&(u=u.concat(BD(a,t,i,e))),u}function yI(t,n){const e=n.query,i=Qb(t,e);return{hashFn:()=>(function(t){return t.viewCache_.serverCache.getNode()}(n)||pt.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return i?function(t,n,e){const i=HD(t,e);if(i){const a=$D(i),u=a.path,p=a.queryId,y=ar(u,n);return jD(t,u,new Je(We(p),y))}return[]}(t,e._path,i):function(t,n){return qp(t,new Je({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n))}(t,e._path);{const u=function(t,n){let e="Unknown Error";"too_big"===t?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?e="Client doesn't have permission to access the desired data.":"unavailable"===t&&(e="The service is unavailable");const i=new Error(t+" at "+n._path.toString()+": "+e);return i.code=t.toUpperCase(),i}(a,e);return UD(t,e,null,u)}}}}function Qb(t,n){const e=Xb(n);return t.queryToTagMap.get(e)}function Xb(t){return t._path.toString()+"$"+t._queryIdentifier}function HD(t,n){return t.tagToQueryMap.get(n)}function $D(t){const n=t.indexOf("$");return(0,F.hu)(-1!==n&&n<t.length-1,"Bad queryKey."),{queryId:t.substr(n+1),path:new Xt(t.substr(0,n))}}function jD(t,n,e){const i=t.syncPointTree_.get(n);return(0,F.hu)(i,"Missing sync point for query tag that we're tracking"),BD(i,e,Gb(t.pendingWriteTree_,n),null)}function ey(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new((0,F.hu)(Jb,"Reference.ts has not been loaded"),Jb)(t._repo,t._path):t}class GD{constructor(n){this.node_=n}getImmediateChild(n){const e=this.node_.getImmediateChild(n);return new GD(e)}node(){return this.node_}}class WD{constructor(n,e){this.syncTree_=n,this.path_=e}getImmediateChild(n){const e=wn(this.path_,n);return new WD(this.syncTree_,e)}node(){return Kb(this.syncTree_,this.path_)}}const vI=function(t,n,e){return t&&"object"==typeof t?((0,F.hu)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?KS(t[".sv"],n,e):"object"==typeof t[".sv"]?QS(t[".sv"],n):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},KS=function(t,n,e){if("timestamp"===t)return e.timestamp;(0,F.hu)(!1,"Unexpected server value: "+t)},QS=function(t,n,e){t.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;"number"!=typeof i&&(0,F.hu)(!1,"Unexpected increment value: "+i);const a=n.node();if((0,F.hu)(null!=a,"Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return i;const p=a.getValue();return"number"!=typeof p?i:p+i},bI=function(t,n,e,i){return ZD(n,new WD(e,t),i)},zD=function(t,n,e){return ZD(t,new GD(n),e)};function ZD(t,n,e){const i=t.getPriority().val(),a=vI(i,n.getImmediateChild(".priority"),e);let u;if(t.isLeafNode()){const p=t,y=vI(p.getValue(),n,e);return y!==p.getValue()||a!==p.getPriority().val()?new Tu(y,Nn(a)):t}{const p=t;return u=p,a!==p.getPriority().val()&&(u=u.updatePriority(new Tu(a))),p.forEachChild(Cn,(y,w)=>{const I=ZD(w,n.getImmediateChild(y),e);I!==w&&(u=u.updateImmediateChild(y,I))}),u}}class YD{constructor(n="",e=null,i={children:{},childCount:0}){this.name=n,this.parent=e,this.node=i}}function e1(t,n){let e=n instanceof Xt?n:new Xt(n),i=t,a=Tt(e);for(;null!==a;){const u=(0,F.DV)(i.node.children,a)||{children:{},childCount:0};i=new YD(a,i,u),e=dn(e),a=Tt(e)}return i}function tf(t){return t.node.value}function qD(t,n){t.node.value=n,JD(t)}function wI(t){return t.node.childCount>0}function t1(t,n){zn(t.node.children,(e,i)=>{n(new YD(e,t,i))})}function CI(t,n,e,i){e&&!i&&n(t),t1(t,a=>{CI(a,n,!0,i)}),e&&i&&n(t)}function ty(t){return new Xt(null===t.parent?t.name:ty(t.parent)+"/"+t.name)}function JD(t){null!==t.parent&&function(t,n,e){const i=function(t){return void 0===tf(t)&&!wI(t)}(e),a=(0,F.r3)(t.node.children,n);i&&a?(delete t.node.children[n],t.node.childCount--,JD(t)):!i&&!a&&(t.node.children[n]=e.node,t.node.childCount++,JD(t))}(t.parent,t.name,t)}const nN=/[\[\].#$\/\u0000-\u001F\u007F]/,iN=/[\[\].#$\u0000-\u001F\u007F]/,KD=10485760,n1=function(t){return"string"==typeof t&&0!==t.length&&!nN.test(t)},DI=function(t){return"string"==typeof t&&0!==t.length&&!iN.test(t)},ny=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!Ip(t)||t&&"object"==typeof t&&(0,F.r3)(t,".sv")},wl=function(t,n,e,i){i&&void 0===n||iy((0,F.gK)(t,"value"),n,e)},iy=function(t,n,e){const i=e instanceof Xt?new F_(e,t):e;if(void 0===n)throw new Error(t+"contains undefined "+bl(i));if("function"==typeof n)throw new Error(t+"contains a function "+bl(i)+" with contents = "+n.toString());if(Ip(n))throw new Error(t+"contains "+n.toString()+" "+bl(i));if("string"==typeof n&&n.length>KD/3&&(0,F.ug)(n)>KD)throw new Error(t+"contains a string greater than "+KD+" utf8 bytes "+bl(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){let a=!1,u=!1;if(zn(n,(p,y)=>{if(".value"===p)a=!0;else if(".priority"!==p&&".sv"!==p&&(u=!0,!n1(p)))throw new Error(t+" contains an invalid key ("+p+") "+bl(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(t,n){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(n),t.byteLength_+=(0,F.ug)(n),L_(t)})(i,p),iy(t,y,i),function(t){const n=t.parts_.pop();t.byteLength_-=(0,F.ug)(n),t.parts_.length>0&&(t.byteLength_-=1)}(i)}),a&&u)throw new Error(t+' contains ".value" child '+bl(i)+" in addition to actual children.")}},EI=function(t,n,e,i){if(i&&void 0===n)return;const a=(0,F.gK)(t,"values");if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(a+" must be an object containing the children to replace.");const u=[];zn(n,(p,y)=>{const w=new Xt(p);if(iy(a,y,wn(e,w)),".priority"===P_(w)&&!ny(y))throw new Error(a+"contains an invalid value for '"+w.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(w)}),function(t,n){let e,i;for(e=0;e<n.length;e++){i=n[e];const u=zh(i);for(let p=0;p<u.length;p++)if((".priority"!==u[p]||p!==u.length-1)&&!n1(u[p]))throw new Error(t+"contains an invalid key ("+u[p]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}n.sort(gD);let a=null;for(e=0;e<n.length;e++){if(i=n[e],null!==a&&Gi(a,i))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+i.toString());a=i}}(a,u)},QD=function(t,n,e){if(!e||void 0!==n){if(Ip(n))throw new Error((0,F.gK)(t,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ny(n))throw new Error((0,F.gK)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ry=function(t,n,e,i){if(!(i&&void 0===e||n1(e)))throw new Error((0,F.gK)(t,n)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},oy=function(t,n,e,i){if(!(i&&void 0===e||DI(e)))throw new Error((0,F.gK)(t,n)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ms=function(t,n){if(".info"===Tt(n))throw new Error(t+" failed = Can't modify data under /.info/")},TI=function(t,n){const e=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!n1(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==e.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),DI(t)}(e))throw new Error((0,F.gK)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class aN{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function i1(t,n){let e=null;for(let i=0;i<n.length;i++){const a=n[i],u=a.getPath();null!==e&&!Hp(u,e.path)&&(t.eventLists_.push(e),e=null),null===e&&(e={events:[],path:u}),e.events.push(a)}e&&t.eventLists_.push(e)}function XD(t,n,e){i1(t,e),II(t,i=>Hp(i,n))}function _s(t,n,e){i1(t,e),II(t,i=>Gi(i,n)||Gi(n,i))}function II(t,n){t.recursionDepth_++;let e=!0;for(let i=0;i<t.eventLists_.length;i++){const a=t.eventLists_[i];a&&(n(a.path)?(lN(t.eventLists_[i]),t.eventLists_[i]=null):e=!1)}e&&(t.eventLists_=[]),t.recursionDepth_--}function lN(t){for(let n=0;n<t.events.length;n++){const e=t.events[n];if(null!==e){t.events[n]=null;const i=e.getEventRunner();Cu&&jt("event: "+e.toString()),vl(i)}}}const AI="repo_interrupt";class cN{constructor(n,e,i,a){this.repoInfo_=n,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new aN,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=d(),this.transactionQueueTree_=new YD,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function SI(t){const e=t.infoData_.getNode(new Xt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function sy(t){return function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t}({timestamp:SI(t)})}function NI(t,n,e,i,a){t.dataUpdateCount++;const u=new Xt(n);e=t.interceptServerDataCallback_?t.interceptServerDataCallback_(n,e):e;let p=[];if(a)if(i){const w=(0,F.UI)(e,I=>Nn(I));p=function(t,n,e,i){const a=HD(t,i);if(a){const u=$D(a),p=u.path,y=u.queryId,w=ar(p,n),I=Mn.fromObject(e);return jD(t,p,new xt(We(y),w,I))}return[]}(t.serverSyncTree_,u,w,a)}else{const w=Nn(e);p=function(t,n,e,i){const a=HD(t,i);if(null!=a){const u=$D(a),p=u.path,y=u.queryId,w=ar(p,n);return jD(t,p,new mt(We(y),w,e))}return[]}(t.serverSyncTree_,u,w,a)}else if(i){const w=(0,F.UI)(e,I=>Nn(I));p=function(t,n,e){const i=Mn.fromObject(e);return qp(t,new xt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,i))}(t.serverSyncTree_,u,w)}else{const w=Nn(e);p=X_(t.serverSyncTree_,u,w)}let y=u;p.length>0&&(y=Kp(t,u)),_s(t.eventQueue_,y,p)}function MI(t,n){eE(t,"connected",n),!1===n&&function(t){Jp(t,"onDisconnectEvents");const n=sy(t),e=d();b(t.onDisconnect_,Gt(),(a,u)=>{const p=bI(a,u,t.serverSyncTree_,n);g(e,a,p)});let i=[];b(e,Gt(),(a,u)=>{i=i.concat(X_(t.serverSyncTree_,a,u));const p=rE(t,a);Kp(t,p)}),t.onDisconnect_=d(),_s(t.eventQueue_,Gt(),i)}(t)}function eE(t,n,e){const i=new Xt("/.info/"+n),a=Nn(e);t.infoData_.updateSnapshot(i,a);const u=X_(t.infoSyncTree_,i,a);_s(t.eventQueue_,i,u)}function r1(t){return t.nextWriteId_++}function tE(t,n,e,i,a){Jp(t,"set",{path:n.toString(),value:e,priority:i});const u=sy(t),p=Nn(e,i),y=Kb(t.serverSyncTree_,n),w=zD(p,y,u),I=r1(t),k=VD(t.serverSyncTree_,n,w,I,!0);i1(t.eventQueue_,k),t.server_.put(n.toString(),p.val(!0),(V,J)=>{const _e="ok"===V;_e||Dr("set at "+n+" failed: "+V);const Oe=pd(t.serverSyncTree_,I,!_e);_s(t.eventQueue_,n,Oe),gd(0,a,V,J)});const R=rE(t,n);Kp(t,R),_s(t.eventQueue_,R,[])}function mN(t,n,e){t.server_.onDisconnectCancel(n.toString(),(i,a)=>{"ok"===i&&_(t.onDisconnect_,n),gd(0,e,i,a)})}function RI(t,n,e,i){const a=Nn(e);t.server_.onDisconnectPut(n.toString(),a.val(!0),(u,p)=>{"ok"===u&&g(t.onDisconnect_,n,a),gd(0,i,u,p)})}function nE(t,n,e){let i;i=".info"===Tt(n._path)?UD(t.infoSyncTree_,n,e):UD(t.serverSyncTree_,n,e),XD(t.eventQueue_,n._path,i)}function kI(t){t.persistentConnection_&&t.persistentConnection_.interrupt(AI)}function Jp(t,...n){let e="";t.persistentConnection_&&(e=t.persistentConnection_.id+":"),jt(e,...n)}function gd(t,n,e,i){n&&vl(()=>{if("ok"===e)n(null);else{const a=(e||"error").toUpperCase();let u=a;i&&(u+=": "+i);const p=new Error(u);p.code=a,n(p)}})}function iE(t,n,e){return Kb(t.serverSyncTree_,n,e)||pt.EMPTY_NODE}function o1(t,n=t.transactionQueueTree_){if(n||s1(t,n),tf(n)){const e=OI(t,n);(0,F.hu)(e.length>0,"Sending zero length transaction queue"),e.every(a=>0===a.status)&&function(t,n,e){const i=e.map(I=>I.currentWriteId),a=iE(t,n,i);let u=a;const p=a.hash();for(let I=0;I<e.length;I++){const k=e[I];(0,F.hu)(0===k.status,"tryToSendTransactionQueue_: items in queue should all be run."),k.status=1,k.retryCount++;const R=ar(n,k.path);u=u.updateChild(R,k.currentOutputSnapshotRaw)}const y=u.val(!0),w=n;t.server_.put(w.toString(),y,I=>{Jp(t,"transaction put response",{path:w.toString(),status:I});let k=[];if("ok"===I){const R=[];for(let V=0;V<e.length;V++)e[V].status=2,k=k.concat(pd(t.serverSyncTree_,e[V].currentWriteId)),e[V].onComplete&&R.push(()=>e[V].onComplete(null,!0,e[V].currentOutputSnapshotResolved)),e[V].unwatcher();s1(t,e1(t.transactionQueueTree_,n)),o1(t,t.transactionQueueTree_),_s(t.eventQueue_,n,k);for(let V=0;V<R.length;V++)vl(R[V])}else{if("datastale"===I)for(let R=0;R<e.length;R++)e[R].status=3===e[R].status?4:0;else{Dr("transaction at "+w.toString()+" failed: "+I);for(let R=0;R<e.length;R++)e[R].status=4,e[R].abortReason=I}Kp(t,n)}},p)}(t,ty(n),e)}else wI(n)&&t1(n,e=>{o1(t,e)})}function Kp(t,n){const e=xI(t,n),i=ty(e);return function(t,n,e){if(0===n.length)return;const i=[];let a=[];const p=n.filter(y=>0===y.status).map(y=>y.currentWriteId);for(let y=0;y<n.length;y++){const w=n[y],I=ar(e,w.path);let R,k=!1;if((0,F.hu)(null!==I,"rerunTransactionsUnderNode_: relativePath should not be null."),4===w.status)k=!0,R=w.abortReason,a=a.concat(pd(t.serverSyncTree_,w.currentWriteId,!0));else if(0===w.status)if(w.retryCount>=25)k=!0,R="maxretry",a=a.concat(pd(t.serverSyncTree_,w.currentWriteId,!0));else{const V=iE(t,w.path,p);w.currentInputSnapshot=V;const J=n[y].update(V.val());if(void 0!==J){iy("transaction failed: Data returned ",J,w.path);let _e=Nn(J);"object"==typeof J&&null!=J&&(0,F.r3)(J,".priority")||(_e=_e.updatePriority(V.getPriority()));const qe=w.currentWriteId,Nt=sy(t),_t=zD(_e,V,Nt);w.currentOutputSnapshotRaw=_e,w.currentOutputSnapshotResolved=_t,w.currentWriteId=r1(t),p.splice(p.indexOf(qe),1),a=a.concat(VD(t.serverSyncTree_,w.path,_t,w.currentWriteId,w.applyLocally)),a=a.concat(pd(t.serverSyncTree_,qe,!0))}else k=!0,R="nodata",a=a.concat(pd(t.serverSyncTree_,w.currentWriteId,!0))}_s(t.eventQueue_,e,a),a=[],k&&(n[y].status=2,setTimeout(n[y].unwatcher,Math.floor(0)),n[y].onComplete&&i.push("nodata"===R?()=>n[y].onComplete(null,!1,n[y].currentInputSnapshot):()=>n[y].onComplete(new Error(R),!1,null)))}s1(t,t.transactionQueueTree_);for(let y=0;y<i.length;y++)vl(i[y]);o1(t,t.transactionQueueTree_)}(t,OI(t,e),i),i}function xI(t,n){let e,i=t.transactionQueueTree_;for(e=Tt(n);null!==e&&void 0===tf(i);)i=e1(i,e),e=Tt(n=dn(n));return i}function OI(t,n){const e=[];return PI(t,n,e),e.sort((i,a)=>i.order-a.order),e}function PI(t,n,e){const i=tf(n);if(i)for(let a=0;a<i.length;a++)e.push(i[a]);t1(n,a=>{PI(t,a,e)})}function s1(t,n){const e=tf(n);if(e){let i=0;for(let a=0;a<e.length;a++)2!==e[a].status&&(e[i]=e[a],i++);e.length=i,qD(n,e.length>0?e:void 0)}t1(n,i=>{s1(t,i)})}function rE(t,n){const e=ty(xI(t,n)),i=e1(t.transactionQueueTree_,n);return function(t,n,e){let i=t.parent;for(;null!==i;){if(n(i))return!0;i=i.parent}}(i,a=>{oE(t,a)}),oE(t,i),CI(i,a=>{oE(t,a)}),e}function oE(t,n){const e=tf(n);if(e){const i=[];let a=[],u=-1;for(let p=0;p<e.length;p++)3===e[p].status||(1===e[p].status?((0,F.hu)(u===p-1,"All SENT items should be at beginning of queue."),u=p,e[p].status=3,e[p].abortReason="set"):((0,F.hu)(0===e[p].status,"Unexpected transaction status in abort"),e[p].unwatcher(),a=a.concat(pd(t.serverSyncTree_,e[p].currentWriteId,!0)),e[p].onComplete&&i.push(e[p].onComplete.bind(null,new Error("set"),!1,null))));-1===u?qD(n,void 0):e.length=u+1,_s(t.eventQueue_,ty(n),a);for(let p=0;p<i.length;p++)vl(i[p])}}const sE=function(t,n){const e=IN(t),i=e.namespace;return"firebase.com"===e.domain&&gs(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&gs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Dr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new kp(e.host,e.secure,i,n,"ws"===e.scheme||"wss"===e.scheme,"",i!==e.subdomain),path:new Xt(e.pathString)}},IN=function(t){let n="",e="",i="",a="",u="",p=!0,y="https",w=443;if("string"==typeof t){let I=t.indexOf("//");I>=0&&(y=t.substring(0,I-1),t=t.substring(I+2));let k=t.indexOf("/");-1===k&&(k=t.length);let R=t.indexOf("?");-1===R&&(R=t.length),n=t.substring(0,Math.min(k,R)),k<R&&(a=function(t){let n="";const e=t.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let a=e[i];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch(u){}n+="/"+a}return n}(t.substring(k,R)));const V=function(t){const n={};"?"===t.charAt(0)&&(t=t.substring(1));for(const e of t.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?n[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Dr(`Invalid query segment '${e}' in query '${t}'`)}return n}(t.substring(Math.min(t.length,R)));I=n.indexOf(":"),I>=0?(p="https"===y||"wss"===y,w=parseInt(n.substring(I+1),10)):I=n.length;const J=n.slice(0,I);if("localhost"===J.toLowerCase())e="localhost";else if(J.split(".").length<=2)e=J;else{const _e=n.indexOf(".");i=n.substring(0,_e).toLowerCase(),e=n.substring(_e+1),u=i}"ns"in V&&(u=V.ns)}return{host:n,port:w,domain:e,subdomain:i,secure:p,scheme:y,pathString:a,namespace:u}};class FI{constructor(n,e,i,a){this.eventType=n,this.eventRegistration=e,this.snapshot=i,this.prevName=a}getPath(){const n=this.snapshot.ref;return"value"===this.eventType?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Pz)(this.snapshot.exportVal())}}class LI{constructor(n,e,i){this.eventRegistration=n,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class BI{constructor(n,e){this.snapshotCallback=n,this.cancelCallback=e}onValue(n,e){this.snapshotCallback.call(null,n,e)}onCancel(n){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class VI{constructor(n,e){this._repo=n,this._path=e}cancel(){const n=new F.BH;return mN(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){ms("OnDisconnect.remove",this._path);const n=new F.BH;return RI(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){ms("OnDisconnect.set",this._path),wl("OnDisconnect.set",n,this._path,!1);const e=new F.BH;return RI(this._repo,this._path,n,e.wrapCallback(()=>{})),e.promise}setWithPriority(n,e){ms("OnDisconnect.setWithPriority",this._path),wl("OnDisconnect.setWithPriority",n,this._path,!1),QD("OnDisconnect.setWithPriority",e,!1);const i=new F.BH;return function(t,n,e,i,a){const u=Nn(e,i);t.server_.onDisconnectPut(n.toString(),u.val(!0),(p,y)=>{"ok"===p&&g(t.onDisconnect_,n,u),gd(0,a,p,y)})}(this._repo,this._path,n,e,i.wrapCallback(()=>{})),i.promise}update(n){ms("OnDisconnect.update",this._path),EI("OnDisconnect.update",n,this._path,!1);const e=new F.BH;return function(t,n,e,i){if((0,F.xb)(e))return jt("onDisconnect().update() called with empty data.  Don't do anything."),void gd(0,i,"ok",void 0);t.server_.onDisconnectMerge(n.toString(),e,(a,u)=>{"ok"===a&&zn(e,(p,y)=>{const w=Nn(y);g(t.onDisconnect_,wn(n,p),w)}),gd(0,i,a,u)})}(this._repo,this._path,n,e.wrapCallback(()=>{})),e.promise}}class ho{constructor(n,e,i,a){this._repo=n,this._path=e,this._queryParams=i,this._orderByCalled=a}get key(){return Ct(this._path)?null:P_(this._path)}get ref(){return new ys(this._repo,this._path)}get _queryIdentifier(){const n=o(this._queryParams),e=Ap(n);return"{}"===e?"default":e}get _queryObject(){return o(this._queryParams)}isEqual(n){if(!((n=(0,F.m9)(n))instanceof ho))return!1;const e=this._repo===n._repo,i=Hp(this._path,n._path);return e&&i&&this._queryIdentifier===n._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(t){let n="";for(let e=t.pieceNum_;e<t.pieces_.length;e++)""!==t.pieces_[e]&&(n+="/"+encodeURIComponent(String(t.pieces_[e])));return n||"/"}(this._path)}}function a1(t,n){if(!0===t._orderByCalled)throw new Error(n+": You can't combine multiple orderBy calls.")}function md(t){let n=null,e=null;if(t.hasStart()&&(n=t.getIndexStartValue()),t.hasEnd()&&(e=t.getIndexEndValue()),t.getIndex()===Br){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==_a)throw new Error(i);if("string"!=typeof n)throw new Error(a)}if(t.hasEnd()){if(t.getIndexEndName()!==Vo)throw new Error(i);if("string"!=typeof e)throw new Error(a)}}else if(t.getIndex()===Cn){if(null!=n&&!ny(n)||null!=e&&!ny(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,F.hu)(t.getIndex()instanceof ad||t.getIndex()===zp,"unknown index type."),null!=n&&"object"==typeof n||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function l1(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ys extends ho{constructor(n,e){super(n,e,new z_,!1)}get parent(){const n=pD(this._path);return null===n?null:new ys(this._repo,n)}get root(){let n=this;for(;null!==n.parent;)n=n.parent;return n}}class nf{constructor(n,e,i){this._node=n,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const e=new Xt(n),i=rf(this.ref,n);return new nf(this._node.getChild(e),i,Cn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,a)=>n(new nf(a,rf(this.ref,i),Cn)))}hasChild(n){const e=new Xt(n);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function UI(t,n){return(t=(0,F.m9)(t))._checkNotDeleted("ref"),void 0!==n?rf(t._root,n):t._root}function HI(t,n){(t=(0,F.m9)(t))._checkNotDeleted("refFromURL");const e=sE(n,t._repo.repoInfo_.nodeAdmin);TI("refFromURL",e);const i=e.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&i.host!==t._repo.repoInfo_.host&&gs("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+t._repo.repoInfo_.host+")"),UI(t,e.path.toString())}function rf(t,n){return null===Tt((t=(0,F.m9)(t))._path)?(e=n,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),oy("child","path",e,!1)):oy("child","path",n,!1),new ys(t._repo,wn(t._path,n));var e}function aE(t,n){t=(0,F.m9)(t),ms("set",t._path),wl("set",n,t._path,!1);const e=new F.BH;return tE(t._repo,t._path,n,null,e.wrapCallback(()=>{})),e.promise}function RN(t,n){EI("update",n,t._path,!1);const e=new F.BH;return function(t,n,e,i){Jp(t,"update",{path:n.toString(),value:e});let a=!0;const u=sy(t),p={};if(zn(e,(y,w)=>{a=!1,p[y]=bI(wn(n,y),Nn(w),t.serverSyncTree_,u)}),a)jt("update() called with empty data.  Don't do anything."),gd(0,i,"ok",void 0);else{const y=r1(t),w=function(t,n,e,i){!function(t,n,e,i){(0,F.hu)(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:n,children:e,writeId:i,visible:!0}),t.visibleWrites=MD(t.visibleWrites,n,e),t.lastWriteId=i}(t.pendingWriteTree_,n,e,i);const a=Mn.fromObject(e);return qp(t,new xt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,a))}(t.serverSyncTree_,n,p,y);i1(t.eventQueue_,w),t.server_.merge(n.toString(),e,(I,k)=>{const R="ok"===I;R||Dr("update at "+n+" failed: "+I);const V=pd(t.serverSyncTree_,y,!R),J=V.length>0?Kp(t,n):n;_s(t.eventQueue_,J,V),gd(0,i,I,k)}),zn(e,I=>{const k=rE(t,wn(n,I));Kp(t,k)}),_s(t.eventQueue_,n,[])}}(t._repo,t._path,n,e.wrapCallback(()=>{})),e.promise}function kN(t){return function(t,n){const e=function(t,n){const e=n._path;let i=null;t.syncPointTree_.foreachOnPath(e,(I,k)=>{const R=ar(I,e);i=i||hd(k,R)});let a=t.syncPointTree_.get(e);a?i=i||hd(a,Gt()):(a=new uI,t.syncPointTree_=t.syncPointTree_.set(e,a));const u=null!=i,p=u?new ii(i,!0,!1):null;return function(t){return cd(t.viewCache_)}(cI(a,n,Gb(t.pendingWriteTree_,n._path),u?p.getNode():pt.EMPTY_NODE,u))}(t.serverSyncTree_,n);return null!=e?Promise.resolve(e):t.server_.get(n).then(i=>{const a=Nn(i).withIndex(n._queryParams.getIndex()),u=X_(t.serverSyncTree_,n._path,a);return XD(t.eventQueue_,n._path,u),Promise.resolve(a)},i=>(Jp(t,"get for query "+(0,F.Pz)(n)+" failed: "+i),Promise.reject(new Error(i))))}((t=(0,F.m9)(t))._repo,t).then(n=>new nf(n,new ys(t._repo,t._path),t._queryParams.getIndex()))}class u1{constructor(n){this.callbackContext=n}respondsTo(n){return"value"===n}createEvent(n,e){const i=e._queryParams.getIndex();return new FI("value",this,new nf(n.snapshotNode,new ys(e._repo,e._path),i))}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new LI(this,n,e):null}matches(n){return n instanceof u1&&(!n.callbackContext||!this.callbackContext||n.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class c1{constructor(n,e){this.eventType=n,this.callbackContext=e}respondsTo(n){let e="children_added"===n?"child_added":n;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new LI(this,n,e):null}createEvent(n,e){(0,F.hu)(null!=n.childName,"Child events should have a childName.");const i=rf(new ys(e._repo,e._path),n.childName),a=e._queryParams.getIndex();return new FI(n.type,this,new nf(n.snapshotNode,i,a),n.prevName)}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,n.prevName)}matches(n){return n instanceof c1&&this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function ay(t,n,e,i,a){let u;if("object"==typeof i&&(u=void 0,a=i),"function"==typeof i&&(u=i),a&&a.onlyOnce){const w=e,I=(k,R)=>{nE(t._repo,t,y),w(k,R)};I.userCallback=e.userCallback,I.context=e.context,e=I}const p=new BI(e,u||void 0),y="value"===n?new u1(p):new c1(n,p);return function(t,n,e){let i;i=".info"===Tt(n._path)?gI(t.infoSyncTree_,n,e):gI(t.serverSyncTree_,n,e),XD(t.eventQueue_,n._path,i)}(t._repo,t,y),()=>nE(t._repo,t,y)}function lE(t,n,e,i){return ay(t,"value",n,e,i)}function $I(t,n,e,i){return ay(t,"child_added",n,e,i)}function jI(t,n,e,i){return ay(t,"child_changed",n,e,i)}function GI(t,n,e,i){return ay(t,"child_moved",n,e,i)}function WI(t,n,e,i){return ay(t,"child_removed",n,e,i)}function zI(t,n,e){let i=null;const a=e?new BI(e):null;"value"===n?i=new u1(a):n&&(i=new c1(n,a)),nE(t._repo,t,i)}class Ea{}class ZI extends Ea{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){wl("endAt",this._value,n._path,!0);const e=jb(n._queryParams,this._value,this._key);if(l1(e),md(e),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ho(n._repo,n._path,e,n._orderByCalled)}}class ON extends Ea{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){wl("endBefore",this._value,n._path,!1);const e=function(t,n,e){let i,a;return t.index_===Br?("string"==typeof n&&(n=Hb(n)),a=jb(t,n,e)):(i=null==e?_a:Hb(e),a=jb(t,n,i)),a.endBeforeSet_=!0,a}(n._queryParams,this._value,this._key);if(l1(e),md(e),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ho(n._repo,n._path,e,n._orderByCalled)}}class YI extends Ea{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){wl("startAt",this._value,n._path,!0);const e=Z_(n._queryParams,this._value,this._key);if(l1(e),md(e),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ho(n._repo,n._path,e,n._orderByCalled)}}class LN extends Ea{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){wl("startAfter",this._value,n._path,!1);const e=function(t,n,e){let i;if(t.index_===Br)"string"==typeof n&&(n=AD(n)),i=Z_(t,n,e);else{let a;a=null==e?Vo:AD(e),i=Z_(t,n,a)}return i.startAfterSet_=!0,i}(n._queryParams,this._value,this._key);if(l1(e),md(e),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ho(n._repo,n._path,e,n._orderByCalled)}}class VN extends Ea{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ho(n._repo,n._path,function(t,n){const e=t.copy();return e.limitSet_=!0,e.limit_=n,e.viewFrom_="l",e}(n._queryParams,this._limit),n._orderByCalled)}}class HN extends Ea{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ho(n._repo,n._path,function(t,n){const e=t.copy();return e.limitSet_=!0,e.limit_=n,e.viewFrom_="r",e}(n._queryParams,this._limit),n._orderByCalled)}}class jN extends Ea{constructor(n){super(),this._path=n}_apply(n){a1(n,"orderByChild");const e=new Xt(this._path);if(Ct(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new ad(e),a=Y_(n._queryParams,i);return md(a),new ho(n._repo,n._path,a,!0)}}class WN extends Ea{_apply(n){a1(n,"orderByKey");const e=Y_(n._queryParams,Br);return md(e),new ho(n._repo,n._path,e,!0)}}class ZN extends Ea{_apply(n){a1(n,"orderByPriority");const e=Y_(n._queryParams,Cn);return md(e),new ho(n._repo,n._path,e,!0)}}class qN extends Ea{_apply(n){a1(n,"orderByValue");const e=Y_(n._queryParams,zp);return md(e),new ho(n._repo,n._path,e,!0)}}class KN extends Ea{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){if(wl("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ZI(this._value,this._key)._apply(new YI(this._value,this._key)._apply(n))}}function Ta(t,...n){let e=(0,F.m9)(t);for(const i of n)e=i._apply(e);return e}(function(t){(0,F.hu)(!Yb,"__referenceConstructor has already been defined"),Yb=t})(ys),function(t){(0,F.hu)(!Jb,"__referenceConstructor has already been defined"),Jb=t}(ys);const uE={};function JI(t,n,e,i,a){let u=i||t.options.databaseURL;void 0===u&&(t.options.projectId||gs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),jt("Using default host for project ",t.options.projectId),u=`${t.options.projectId}-default-rtdb.firebaseio.com`);let w,I,p=sE(u,a),y=p.repoInfo;"undefined"!=typeof process&&(I=process.env.FIREBASE_DATABASE_EMULATOR_HOST),I?(w=!0,u=`http://${I}?ns=${y.namespace}`,p=sE(u,a),y=p.repoInfo):w=!p.repoInfo.secure;const k=a&&w?new nd(nd.OWNER):new bb(t.name,t.options,n);TI("Invalid Firebase Database URL",p),Ct(p.path)||gs("Database URL must point to the root of a Firebase Database (not including a child path).");const R=function(t,n,e,i){let a=uE[n.name];a||(a={},uE[n.name]=a);let u=a[t.toURLString()];return u&&gs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new cN(t,false,e,i),a[t.toURLString()]=u,u}(y,t,k,new tD(t.name,e));return new rM(R,t)}class rM{constructor(n,e){this._repoInternal=n,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(t,n,e){if(t.stats_=Ib(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new l(t.repoInfo_,(i,a,u,p)=>{NI(t,i,a,u,p)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>MI(t,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new rd(t.repoInfo_,n,(i,a,u,p)=>{NI(t,i,a,u,p)},i=>{MI(t,i)},i=>{!function(t,n){zn(n,(e,i)=>{eE(t,e,i)})}(t,i)},t.authTokenProvider_,t.appCheckProvider_,e),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=function(t,n){const e=t.toString();return Tb[e]||(Tb[e]=n()),Tb[e]}(t.repoInfo_,()=>new q(t.stats_,t.server_)),t.infoData_=new c,t.infoSyncTree_=new pI({startListening:(i,a,u,p)=>{let y=[];const w=t.infoData_.getNode(i._path);return w.isEmpty()||(y=X_(t.infoSyncTree_,i._path,w),setTimeout(()=>{p("ok")},0)),y},stopListening:()=>{}}),eE(t,"connected",!1),t.serverSyncTree_=new pI({startListening:(i,a,u,p)=>(t.server_.listen(i,u,a,(y,w)=>{const I=p(y,w);_s(t.eventQueue_,i._path,I)}),[]),stopListening:(i,a)=>{t.server_.unlisten(i,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ys(this._repo,Gt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(t,n){const e=uE[n];(!e||e[t.key]!==t)&&gs(`Database ${n}(${t.repoInfo_}) has already been deleted.`),kI(t),delete e[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){null===this._rootInternal&&gs("Cannot call "+n+" on a deleted database.")}}function lM(t,n){m_(t,n)}class fM{constructor(n,e){this.committed=n,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}rd.prototype.simpleListen=function(t,n){this.sendRequest("q",{p:t},n)},rd.prototype.echo=function(t,n){this.sendRequest("echo",{d:t},n)},gb(_l.SDK_VERSION),(0,_l._registerComponent)(new ma.wA("database",(n,{instanceIdentifier:e})=>JI(n.getProvider("app").getImmediate(),n.getProvider("auth-internal"),n.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,_l.registerVersion)(fb,"0.12.4",void 0),(0,_l.registerVersion)(fb,"0.12.4","esm2017");const _M=new ed.Yd("@firebase/database-compat"),KI=function(t){_M.warn("FIREBASE WARNING: "+t)};class bM{constructor(n){this._delegate=n}cancel(n){(0,F.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,F.Wj)("OnDisconnect.cancel","onComplete",n,!0);const e=this._delegate.cancel();return n&&e.then(()=>n(null),i=>n(i)),e}remove(n){(0,F.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,F.Wj)("OnDisconnect.remove","onComplete",n,!0);const e=this._delegate.remove();return n&&e.then(()=>n(null),i=>n(i)),e}set(n,e){(0,F.Dv)("OnDisconnect.set",1,2,arguments.length),(0,F.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(n);return e&&i.then(()=>e(null),a=>e(a)),i}setWithPriority(n,e,i){(0,F.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,F.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const a=this._delegate.setWithPriority(n,e);return i&&a.then(()=>i(null),u=>i(u)),a}update(n,e){if((0,F.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(n)){const a={};for(let u=0;u<n.length;++u)a[""+u]=n[u];n=a,KI("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,F.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(n);return e&&i.then(()=>e(null),a=>e(a)),i}}class wM{constructor(n,e){this.committed=n,this.snapshot=e}toJSON(){return(0,F.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class _d{constructor(n,e){this._database=n,this._delegate=e}val(){return(0,F.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,F.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,F.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,F.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(n){return(0,F.Dv)("DataSnapshot.child",0,1,arguments.length),n=String(n),oy("DataSnapshot.child","path",n,!1),new _d(this._database,this._delegate.child(n))}hasChild(n){return(0,F.Dv)("DataSnapshot.hasChild",1,1,arguments.length),oy("DataSnapshot.hasChild","path",n,!1),this._delegate.hasChild(n)}getPriority(){return(0,F.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(n){return(0,F.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,F.Wj)("DataSnapshot.forEach","action",n,!1),this._delegate.forEach(e=>n(new _d(this._database,e)))}hasChildren(){return(0,F.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,F.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,F.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ho(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class lr{constructor(n,e){this.database=n,this._delegate=e}on(n,e,i,a){var u;(0,F.Dv)("Query.on",2,4,arguments.length),(0,F.Wj)("Query.on","callback",e,!1);const p=lr.getCancelAndContextArgs_("Query.on",i,a),y=(I,k)=>{e.call(p.context,new _d(this.database,I),k)};y.userCallback=e,y.context=p.context;const w=null===(u=p.cancel)||void 0===u?void 0:u.bind(p.context);switch(n){case"value":return lE(this._delegate,y,w),e;case"child_added":return $I(this._delegate,y,w),e;case"child_removed":return WI(this._delegate,y,w),e;case"child_changed":return jI(this._delegate,y,w),e;case"child_moved":return GI(this._delegate,y,w),e;default:throw new Error((0,F.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(n,e,i){if((0,F.Dv)("Query.off",0,3,arguments.length),function(t,n,e){if(void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,F.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,n),(0,F.Wj)("Query.off","callback",e,!0),(0,F.lb)("Query.off","context",i,!0),e){const a=()=>{};a.userCallback=e,a.context=i,zI(this._delegate,n,a)}else zI(this._delegate,n)}get(){return kN(this._delegate).then(n=>new _d(this.database,n))}once(n,e,i,a){(0,F.Dv)("Query.once",1,4,arguments.length),(0,F.Wj)("Query.once","callback",e,!0);const u=lr.getCancelAndContextArgs_("Query.once",i,a),p=new F.BH,y=(I,k)=>{const R=new _d(this.database,I);e&&e.call(u.context,R,k),p.resolve(R)};y.userCallback=e,y.context=u.context;const w=I=>{u.cancel&&u.cancel.call(u.context,I),p.reject(I)};switch(n){case"value":lE(this._delegate,y,w,{onlyOnce:!0});break;case"child_added":$I(this._delegate,y,w,{onlyOnce:!0});break;case"child_removed":WI(this._delegate,y,w,{onlyOnce:!0});break;case"child_changed":jI(this._delegate,y,w,{onlyOnce:!0});break;case"child_moved":GI(this._delegate,y,w,{onlyOnce:!0});break;default:throw new Error((0,F.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return p.promise}limitToFirst(n){return(0,F.Dv)("Query.limitToFirst",1,1,arguments.length),new lr(this.database,Ta(this._delegate,function(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new VN(t)}(n)))}limitToLast(n){return(0,F.Dv)("Query.limitToLast",1,1,arguments.length),new lr(this.database,Ta(this._delegate,function(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new HN(t)}(n)))}orderByChild(n){return(0,F.Dv)("Query.orderByChild",1,1,arguments.length),new lr(this.database,Ta(this._delegate,function(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return oy("orderByChild","path",t,!1),new jN(t)}(n)))}orderByKey(){return(0,F.Dv)("Query.orderByKey",0,0,arguments.length),new lr(this.database,Ta(this._delegate,new WN))}orderByPriority(){return(0,F.Dv)("Query.orderByPriority",0,0,arguments.length),new lr(this.database,Ta(this._delegate,new ZN))}orderByValue(){return(0,F.Dv)("Query.orderByValue",0,0,arguments.length),new lr(this.database,Ta(this._delegate,new qN))}startAt(n=null,e){return(0,F.Dv)("Query.startAt",0,2,arguments.length),new lr(this.database,Ta(this._delegate,function(t=null,n){return ry("startAt","key",n,!0),new YI(t,n)}(n,e)))}startAfter(n=null,e){return(0,F.Dv)("Query.startAfter",0,2,arguments.length),new lr(this.database,Ta(this._delegate,function(t,n){return ry("startAfter","key",n,!0),new LN(t,n)}(n,e)))}endAt(n=null,e){return(0,F.Dv)("Query.endAt",0,2,arguments.length),new lr(this.database,Ta(this._delegate,function(t,n){return ry("endAt","key",n,!0),new ZI(t,n)}(n,e)))}endBefore(n=null,e){return(0,F.Dv)("Query.endBefore",0,2,arguments.length),new lr(this.database,Ta(this._delegate,function(t,n){return ry("endBefore","key",n,!0),new ON(t,n)}(n,e)))}equalTo(n,e){return(0,F.Dv)("Query.equalTo",1,2,arguments.length),new lr(this.database,Ta(this._delegate,function(t,n){return ry("equalTo","key",n,!0),new KN(t,n)}(n,e)))}toString(){return(0,F.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,F.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(n){if((0,F.Dv)("Query.isEqual",1,1,arguments.length),!(n instanceof lr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(n._delegate)}static getCancelAndContextArgs_(n,e,i){const a={cancel:void 0,context:void 0};if(e&&i)a.cancel=e,(0,F.Wj)(n,"cancel",a.cancel,!0),a.context=i,(0,F.lb)(n,"context",a.context,!0);else if(e)if("object"==typeof e&&null!==e)a.context=e;else{if("function"!=typeof e)throw new Error((0,F.gK)(n,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=e}return a}get ref(){return new Ho(this.database,new ys(this._delegate._repo,this._delegate._path))}}class Ho extends lr{constructor(n,e){super(n,new ho(e._repo,e._path,new z_,!1)),this.database=n,this._delegate=e}getKey(){return(0,F.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(n){return(0,F.Dv)("Reference.child",1,1,arguments.length),"number"==typeof n&&(n=String(n)),new Ho(this.database,rf(this._delegate,n))}getParent(){(0,F.Dv)("Reference.parent",0,0,arguments.length);const n=this._delegate.parent;return n?new Ho(this.database,n):null}getRoot(){return(0,F.Dv)("Reference.root",0,0,arguments.length),new Ho(this.database,this._delegate.root)}set(n,e){(0,F.Dv)("Reference.set",1,2,arguments.length),(0,F.Wj)("Reference.set","onComplete",e,!0);const i=aE(this._delegate,n);return e&&i.then(()=>e(null),a=>e(a)),i}update(n,e){if((0,F.Dv)("Reference.update",1,2,arguments.length),Array.isArray(n)){const a={};for(let u=0;u<n.length;++u)a[""+u]=n[u];n=a,KI("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ms("Reference.update",this._delegate._path),(0,F.Wj)("Reference.update","onComplete",e,!0);const i=RN(this._delegate,n);return e&&i.then(()=>e(null),a=>e(a)),i}setWithPriority(n,e,i){(0,F.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,F.Wj)("Reference.setWithPriority","onComplete",i,!0);const a=function(t,n,e){if(ms("setWithPriority",t._path),wl("setWithPriority",n,t._path,!1),QD("setWithPriority",e,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";const i=new F.BH;return tE(t._repo,t._path,n,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,n,e);return i&&a.then(()=>i(null),u=>i(u)),a}remove(n){(0,F.Dv)("Reference.remove",0,1,arguments.length),(0,F.Wj)("Reference.remove","onComplete",n,!0);const e=function(t){return ms("remove",t._path),aE(t,null)}(this._delegate);return n&&e.then(()=>n(null),i=>n(i)),e}transaction(n,e,i){(0,F.Dv)("Reference.transaction",1,3,arguments.length),(0,F.Wj)("Reference.transaction","transactionUpdate",n,!1),(0,F.Wj)("Reference.transaction","onComplete",e,!0),function(t,n,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,F.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const a=function(t,n,e){var i;if(t=(0,F.m9)(t),ms("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";const a=null===(i=null==e?void 0:e.applyLocally)||void 0===i||i,u=new F.BH,y=lE(t,()=>{});return function(t,n,e,i,a,u){Jp(t,"transaction on "+n);const p={path:n,update:e,onComplete:i,status:null,order:_b(),applyLocally:u,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},y=iE(t,n,void 0);p.currentInputSnapshot=y;const w=p.update(y.val());if(void 0===w)p.unwatcher(),p.currentOutputSnapshotRaw=null,p.currentOutputSnapshotResolved=null,p.onComplete&&p.onComplete(null,!1,p.currentInputSnapshot);else{iy("transaction failed: Data returned ",w,p.path),p.status=0;const I=e1(t.transactionQueueTree_,n),k=tf(I)||[];let R;k.push(p),qD(I,k),"object"==typeof w&&null!==w&&(0,F.r3)(w,".priority")?(R=(0,F.DV)(w,".priority"),(0,F.hu)(ny(R),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):R=(Kb(t.serverSyncTree_,n)||pt.EMPTY_NODE).getPriority().val();const V=sy(t),J=Nn(w,R),_e=zD(J,y,V);p.currentOutputSnapshotRaw=J,p.currentOutputSnapshotResolved=_e,p.currentWriteId=r1(t);const Oe=VD(t.serverSyncTree_,n,_e,p.currentWriteId,p.applyLocally);_s(t.eventQueue_,n,Oe),o1(t,t.transactionQueueTree_)}}(t._repo,t._path,n,(w,I,k)=>{let R=null;w?u.reject(w):(R=new nf(k,new ys(t._repo,t._path),Cn),u.resolve(new fM(I,R)))},y,a),u.promise}(this._delegate,n,{applyLocally:i}).then(u=>new wM(u.committed,new _d(this.database,u.snapshot)));return e&&a.then(u=>e(null,u.committed,u.snapshot),u=>e(u,!1,null)),a}setPriority(n,e){(0,F.Dv)("Reference.setPriority",1,2,arguments.length),(0,F.Wj)("Reference.setPriority","onComplete",e,!0);const i=function(t,n){t=(0,F.m9)(t),ms("setPriority",t._path),QD("setPriority",n,!1);const e=new F.BH;return tE(t._repo,wn(t._path,".priority"),n,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,n);return e&&i.then(()=>e(null),a=>e(a)),i}push(n,e){(0,F.Dv)("Reference.push",0,2,arguments.length),(0,F.Wj)("Reference.push","onComplete",e,!0);const i=function(t,n){t=(0,F.m9)(t),ms("push",t._path),wl("push",n,t._path,!0);const e=SI(t._repo),i=ID(e),a=rf(t,i),u=rf(t,i);let p;return p=null!=n?aE(u,n).then(()=>u):Promise.resolve(u),a.then=p.then.bind(p),a.catch=p.then.bind(p,void 0),a}(this._delegate,n),a=i.then(p=>new Ho(this.database,p));e&&a.then(()=>e(null),p=>e(p));const u=new Ho(this.database,i);return u.then=a.then.bind(a),u.catch=a.catch.bind(a,void 0),u}onDisconnect(){return ms("Reference.onDisconnect",this._delegate._path),new bM(new VI(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class ly{constructor(n,e){this._delegate=n,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(n,e,i={}){!function(t,n,e,i={}){(t=(0,F.m9)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&gs("Cannot call useEmulator() after instance has already been initialized.");const a=t._repoInternal;let u;if(a.repoInfo_.nodeAdmin)i.mockUserToken&&gs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new nd(nd.OWNER);else if(i.mockUserToken){const p="string"==typeof i.mockUserToken?i.mockUserToken:(0,F.Sg)(i.mockUserToken,t.app.options.projectId);u=new nd(p)}!function(t,n,e,i){t.repoInfo_=new kp(`${n}:${e}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),i&&(t.authTokenProvider_=i)}(a,n,e,u)}(this._delegate,n,e,i)}ref(n){if((0,F.Dv)("database.ref",0,1,arguments.length),n instanceof Ho){const e=HI(this._delegate,n.toString());return new Ho(this,e)}{const e=UI(this._delegate,n);return new Ho(this,e)}}refFromURL(n){(0,F.Dv)("database.refFromURL",1,1,arguments.length);const i=HI(this._delegate,n);return new Ho(this,i)}goOffline(){return(0,F.Dv)("database.goOffline",0,0,arguments.length),function(t){(t=(0,F.m9)(t))._checkNotDeleted("goOffline"),kI(t._repo)}(this._delegate)}goOnline(){return(0,F.Dv)("database.goOnline",0,0,arguments.length),function(t){(t=(0,F.m9)(t))._checkNotDeleted("goOnline"),function(t){t.persistentConnection_&&t.persistentConnection_.resume(AI)}(t._repo)}(this._delegate)}}ly.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:t=>function(t){return{".sv":{increment:t}}}(t)};var DM=Object.freeze({__proto__:null,initStandalone:function({app:t,url:n,version:e,customAuthImpl:i,namespace:a,nodeAdmin:u=!1}){gb(e);const p=new ma.zt("auth-internal",new ma.H0("database-standalone"));return p.setComponent(new ma.wA("auth-internal",()=>i,"PRIVATE")),{instance:new ly(JI(t,p,void 0,n,u),t),namespace:a}}});const EM=ly.ServerValue;!function(t){t.INTERNAL.registerComponent(new ma.wA("database-compat",(n,{instanceIdentifier:e})=>{const i=n.getProvider("app-compat").getImmediate(),a=n.getProvider("database").getImmediate({identifier:e});return new ly(a,i)},"PUBLIC").setServiceProps({Reference:Ho,Query:lr,Database:ly,DataSnapshot:_d,enableLogging:lM,INTERNAL:DM,ServerValue:EM}).setMultipleInstances(!0)),t.registerVersion("@firebase/database-compat","0.1.4")}(c_.Z);var d1=x(4763),IM=x(1733);class AM extends zt.x{constructor(n=1/0,e=1/0,i=IM.l){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:i,_infiniteTimeWindow:a,_timestampProvider:u,_windowTime:p}=this;e||(i.push(n),!a&&i.push(u.now()+p)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:i,_buffer:a}=this,u=a.slice();for(let p=0;p<u.length&&!n.closed;p+=i?1:2)n.next(u[p]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:a}=this,u=(a?1:2)*n;if(n<1/0&&u<i.length&&i.splice(0,i.length-u),!a){const p=e.now();let y=0;for(let w=1;w<i.length&&i[w]<=p;w+=2)y=w;y&&i.splice(0,y+1)}}}function QI(t,n,e){var i,a;let u,p=!1;return t&&"object"==typeof t?(u=null!==(i=t.bufferSize)&&void 0!==i?i:1/0,n=null!==(a=t.windowTime)&&void 0!==a?a:1/0,p=!!t.refCount,e=t.scheduler):u=null!=t?t:1/0,(0,fv.B)({connector:()=>new AM(u,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:p})}function XI(t,n){return(0,eo.m)(n)?un(()=>t,n):un(()=>t)}var cE=x(5222);x(7713);const tA=new Map,kM={activated:!1,tokenObservers:[]},xM={initialized:!1,enabled:!1};function Wi(t){return tA.get(t)||kM}function Ia(t,n){tA.set(t,n)}function f1(){return xM}class BM{constructor(n,e,i,a,u){if(this.operation=n,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=a,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=a,a>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(n){var e=this;return(0,us.Z)(function*(){e.stop();try{e.pending=new F.BH,yield function(t){return new Promise(n=>{setTimeout(n,t)})}(e.getNextRun(n)),e.pending.resolve(),yield e.pending.promise,e.pending=new F.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(n){if(n)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Vr=new F.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function iA(t){if(!Wi(t).activated)throw Vr.create("use-before-activation",{appName:t.name})}function pE(t,n){return gE.apply(this,arguments)}function gE(){return gE=(0,us.Z)(function*({url:t,body:n},e){const i={"Content-Type":"application/json"},a=e.getImmediate({optional:!0});a&&(i["X-Firebase-Client"]=a.getPlatformInfoString());const u={method:"POST",body:JSON.stringify(n),headers:i};let p,y;try{p=yield fetch(t,u)}catch(R){throw Vr.create("fetch-network-error",{originalErrorMessage:R.message})}if(200!==p.status)throw Vr.create("fetch-status-error",{httpStatus:p.status});try{y=yield p.json()}catch(R){throw Vr.create("fetch-parse-error",{originalErrorMessage:R.message})}const w=y.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw Vr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${y.ttl}`});const I=1e3*Number(w[1]),k=Date.now();return{token:y.attestationToken,expireTimeMillis:k+I,issuedAtTimeMillis:k}}),gE.apply(this,arguments)}function GM(t,n){const{projectId:e,appId:i,apiKey:a}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${i}:exchangeDebugToken?key=${a}`,body:{debug_token:n}}}const uy="firebase-app-check-store";let m1=null;function oA(){return m1||(m1=new Promise((t,n)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{t(i.target.result)},e.onerror=i=>{var a;n(Vr.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(uy,{keyPath:"compositeKey"})}}catch(e){n(Vr.create("storage-open",{originalErrorMessage:e.message}))}}),m1)}function mE(){return mE=(0,us.Z)(function*(t,n){const i=(yield oA()).transaction(uy,"readwrite"),u=i.objectStore(uy).put({compositeKey:t,value:n});return new Promise((p,y)=>{u.onsuccess=w=>{p()},i.onerror=w=>{var I;y(Vr.create("storage-set",{originalErrorMessage:null===(I=w.target.error)||void 0===I?void 0:I.message}))}})}),mE.apply(this,arguments)}const cy=new ed.Yd("@firebase/app-check");function uA(t,n){return(0,F.hl)()?function(t,n){return function(t,n){return mE.apply(this,arguments)}(function(t){return`${t.options.appId}-${t.name}`}(t),n)}(t,n).catch(e=>{cy.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function cA(){return f1().enabled}function dA(){return bE.apply(this,arguments)}function bE(){return bE=(0,us.Z)(function*(){const t=f1();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),bE.apply(this,arguments)}const eR={error:"UNKNOWN_ERROR"};function tR(t){return F.US.encodeString(JSON.stringify(t),!1)}function _1(t){return wE.apply(this,arguments)}function wE(){return wE=(0,us.Z)(function*(t,n=!1){const e=t.app;iA(e);const i=Wi(e);let u,a=i.token;if(!a){const w=yield i.cachedTokenPromise;w&&y1(w)&&(a=w)}if(!n&&a&&y1(a))return{token:a.token};let y,p=!1;if(cA()){i.exchangeTokenPromise||(i.exchangeTokenPromise=pE(GM(e,yield dA()),t.platformLoggerProvider).then(I=>(i.exchangeTokenPromise=void 0,I)),p=!0);const w=yield i.exchangeTokenPromise;return yield uA(e,w),Ia(e,Object.assign(Object.assign({},i),{token:w})),{token:w.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(w=>(i.exchangeTokenPromise=void 0,w)),p=!0),a=yield i.exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?cy.warn(w.message):cy.error(w),u=w}return a?(y={token:a.token},Ia(e,Object.assign(Object.assign({},i),{token:a})),yield uA(e,a)):y=iR(u),p&&fA(e,y),y}),wE.apply(this,arguments)}function DE(t,n){const e=Wi(t),i=e.tokenObservers.filter(a=>a.next!==n);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Ia(t,Object.assign(Object.assign({},e),{tokenObservers:i}))}function hA(t){const{app:n}=t,e=Wi(n);let i=e.tokenRefresher;i||(i=function(t){const{app:n}=t;return new BM((0,us.Z)(function*(){let i;if(i=Wi(n).token?yield _1(t,!0):yield _1(t),i.error)throw i.error}),()=>!0,()=>{const e=Wi(n);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(t),Ia(n,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function fA(t,n){const e=Wi(t).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=n.error?i.error(n.error):i.next(n)}catch(a){}}function y1(t){return t.expireTimeMillis-Date.now()>0}function iR(t){return{token:tR(eR),error:t}}class rR{constructor(n,e){this.app=n,this.platformLoggerProvider=e}_delete(){const{tokenObservers:n}=Wi(this.app);for(const e of n)DE(this.app,e.next);return Promise.resolve()}}const wA="app-check-internal";(0,_l._registerComponent)(new ma.wA("app-check",t=>function(t,n){return new rR(t,n)}(t.getProvider("app").getImmediate(),t.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,e)=>{t.getProvider(wA).initialize()})),(0,_l._registerComponent)(new ma.wA(wA,t=>function(t){return{getToken:n=>_1(t,n),addTokenListener:n=>function(t,n,e,i){const{app:a}=t,u=Wi(a),p={next:e,error:i,type:n};if(Ia(a,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,p]})),u.token&&y1(u.token)){const y=u.token;Promise.resolve().then(()=>{e({token:y.token}),hA(t)}).catch(()=>{})}u.cachedTokenPromise.then(()=>hA(t))}(t,"INTERNAL",n),removeTokenListener:n=>DE(t.app,n)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,_l.registerVersion)("@firebase/app-check","0.5.2");class AE{constructor(){return(0,uo.vb)("app-check")}}"undefined"!=typeof window&&window;var DR=x(7892);const DA=new s.OlP("angularfire2.auth.use-emulator"),EA=new s.OlP("angularfire2.auth.settings"),TA=new s.OlP("angularfire2.auth.tenant-id"),IA=new s.OlP("angularfire2.auth.langugage-code"),AA=new s.OlP("angularfire2.auth.use-device-language"),SA=new s.OlP("angularfire.auth.persistence"),NA=(t,n,e,i,a,u,p,y)=>(0,lo.cc)(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const w=n.runOutsideAngular(()=>t.auth());if(e&&w.useEmulator(...e),i&&(w.tenantId=i),w.languageCode=a,u&&w.useDeviceLanguage(),p)for(const[I,k]of Object.entries(p))w.settings[I]=k;return y&&w.setPersistence(y),w},[e,i,a,u,p,y]);let MA=(()=>{class t{constructor(e,i,a,u,p,y,w,I,k,R,V,J){const _e=new zt.x,Oe=je(void 0).pipe((0,d1.Q)(p.outsideAngular),un(()=>u.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,9766)))),(0,rt.U)(()=>(0,lo.on)(e,u,i)),(0,rt.U)(qe=>NA(qe,u,y,I,k,R,w,V)),QI({bufferSize:1,refCount:!1}));if(function(t){return"server"===t}(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=je(null);else{Oe.pipe(Ys()).subscribe();const Nt=Oe.pipe(un(Wt=>Wt.getRedirectResult().then(Ri=>Ri,()=>null)),uo.iC,QI({bufferSize:1,refCount:!1})),_t=Oe.pipe(un(Wt=>new On.y(Ri=>({unsubscribe:u.runOutsideAngular(()=>Wt.onAuthStateChanged(Cl=>Ri.next(Cl),Cl=>Ri.error(Cl),()=>Ri.complete()))})))),Vn=Oe.pipe(un(Wt=>new On.y(Ri=>({unsubscribe:u.runOutsideAngular(()=>Wt.onIdTokenChanged(Cl=>Ri.next(Cl),Cl=>Ri.error(Cl),()=>Ri.complete()))}))));this.authState=Nt.pipe(XI(_t),(0,cE.R)(p.outsideAngular),(0,d1.Q)(p.insideAngular)),this.user=Nt.pipe(XI(Vn),(0,cE.R)(p.outsideAngular),(0,d1.Q)(p.insideAngular)),this.idToken=this.user.pipe(un(Wt=>Wt?(0,yn.D)(Wt.getIdToken()):je(null))),this.idTokenResult=this.user.pipe(un(Wt=>Wt?(0,yn.D)(Wt.getIdTokenResult()):je(null))),this.credential=(0,Sc.T)(Nt,_e,this.authState.pipe($t(Wt=>!Wt))).pipe((0,rt.U)(Wt=>(null==Wt?void 0:Wt.user)?Wt:null),(0,cE.R)(p.outsideAngular),(0,d1.Q)(p.insideAngular))}return(0,lo.pX)(this,Oe,u,{spy:{apply:(qe,Nt,_t)=>{(qe.startsWith("signIn")||qe.startsWith("createUser"))&&_t.then(Vn=>_e.next(Vn))}}})}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(lo.Dh),s.LFG(lo.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(uo.HU),s.LFG(DA,8),s.LFG(EA,8),s.LFG(TA,8),s.LFG(IA,8),s.LFG(AA,8),s.LFG(SA,8),s.LFG(AE,8))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})();function RA(t){return null==t}function kA(t){return"function"==typeof t.set}function xA(t,n){return kA(n)?n:t.ref(n)}function OA(t,n){if(function(t){return"string"==typeof t}(t))return n.stringCase();if(kA(t))return n.firebaseCase();if(function(t){return"function"==typeof t.exportVal}(t))return n.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function dy(t,n,e="on",i=om.z){return new On.y(a=>{let u=null;return u=t[e](n,(p,y)=>{i.schedule(()=>{a.next({snapshot:p,prevKey:y})}),"once"===e&&i.schedule(()=>a.complete())},p=>{i.schedule(()=>a.error(p))}),"on"===e?{unsubscribe(){null!=u&&t.off(n,u)}}:{unsubscribe(){}}}).pipe((0,rt.U)(a=>{const{snapshot:u,prevKey:p}=a;let y=null;return u.exists()&&(y=u.key),{type:n,payload:u,prevKey:p,key:y}}),(0,fv.B)())}function PA(t,n){const e=t.length;for(let i=0;i<e;i++)if(t[i].payload.key===n)return i;return-1}function NR(t,n){const{payload:e,prevKey:i,key:a}=n,u=PA(t,a),p=function(t,n){if(RA(n))return 0;{const e=PA(t,n);return-1===e?t.length:e+1}}(t,i);switch(n.type){case"value":if(n.payload&&n.payload.exists()){let y=null;n.payload.forEach(w=>{const I={payload:w,type:"value",prevKey:y,key:w.key};return y=w.key,t=[...t,I],!1})}return t;case"child_added":if(u>-1){const y=t[u-1];(y&&y.key||null)!==i&&(t=t.filter(w=>w.payload.key!==e.key)).splice(p,0,n)}else{if(null==i)return[n,...t];(t=t.slice()).splice(p,0,n)}return t;case"child_removed":return t.filter(y=>y.payload.key!==e.key);case"child_changed":return t.map(y=>y.payload.key===a?n:y);case"child_moved":if(u>-1){const y=t.splice(u,1)[0];return(t=t.slice()).splice(p,0,y),t}return t;default:return t}}function FA(t){return(RA(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function LA(t,n,e){return function(t,n,e){return dy(t,"value","once",e).pipe(un(i=>{const a=[je(i)];return n.forEach(u=>a.push(dy(t,u,"on",e))),(0,Sc.T)(...a).pipe(Mr(NR,[]))}),function(t,n=pr.y){return t=null!=t?t:tw,(0,$n.e)((e,i)=>{let a,u=!0;e.subscribe(new Qt.Q(i,p=>{const y=n(p);(u||!t(a,y))&&(u=!1,a=y,i.next(p))}))})}())}(t,n=FA(n),e)}function BA(t,n,e){const i=(n=FA(n)).map(a=>dy(t,a,"on",e));return(0,Sc.T)(...i)}function VA(t,n){return function(i,a){return OA(i,{stringCase:()=>t.child(i)[n](a),firebaseCase:()=>i[n](a),snapshotCase:()=>i.ref[n](a)})}}function xR(t){return function(e){return e?OA(e,{stringCase:()=>t.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):t.remove()}}function UA(t,n){return function(){return dy(t,"value","on",n)}}const FR=new s.OlP("angularfire2.realtimeDatabaseURL"),LR=new s.OlP("angularfire2.database.use-emulator");let BR=(()=>{class t{constructor(e,i,a,u,p,y,w,I,k,R,V,J,_e,Oe,qe){this.schedulers=y;const Nt=w,_t=(0,lo.on)(e,p,i);I&&NA(_t,p,k,V,J,_e,R,Oe),this.database=(0,lo.cc)(`${_t.name}.database.${a}`,"AngularFireDatabase",_t.name,()=>{const Vn=p.runOutsideAngular(()=>_t.database(a||void 0));return Nt&&Vn.useEmulator(...Nt),Vn},[Nt])}list(e,i){const a=this.schedulers.ngZone.runOutsideAngular(()=>xA(this.database,e));let u=a;return i&&(u=i(a)),function(t,n){const e=n.schedulers.outsideAngular,i=n.schedulers.ngZone.run(()=>t.ref);return{query:t,update:VA(i,"update"),set:VA(i,"set"),push:a=>i.push(a),remove:xR(i),snapshotChanges:a=>LA(t,a,e).pipe(uo.iC),stateChanges:a=>BA(t,a,e).pipe(uo.iC),auditTrail:a=>function(t,n,e){return function(t,n,e){return function(t,n){return dy(t,"value","on",n).pipe((0,rt.U)(e=>{let i;return e.payload.forEach(a=>(i=a.key,!1)),{data:e,lastKeyToLoad:i}}))}(t,e).pipe(lm(n),(0,rt.U)(([a,u])=>{const p=a.lastKeyToLoad,y=u.map(w=>w.key);return{actions:u,lastKeyToLoad:p,loadedKeys:y}}),(0,$n.e)((n,e)=>{let i=!1;n.subscribe(new Qt.Q(e,u=>(i||(i=!(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad))(u)))&&e.next(u)))}),(0,rt.U)(a=>a.actions))}(t,BA(t,n).pipe(Mr((a,u)=>[...a,u],[])),e)}(t,a,e).pipe(uo.iC),valueChanges:(a,u)=>LA(t,a,e).pipe((0,rt.U)(y=>y.map(w=>u&&u.idField?Object.assign(Object.assign({},w.payload.val()),{[u.idField]:w.key}):w.payload.val())),uo.iC)}}(u,this)}object(e){return function(t,n){return{query:t,snapshotChanges:()=>UA(t,n.schedulers.outsideAngular)().pipe(uo.iC),update:e=>t.ref.update(e),set:e=>t.ref.set(e),remove:()=>t.ref.remove(),valueChanges:()=>UA(t,n.schedulers.outsideAngular)().pipe(uo.iC,(0,rt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>xA(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(lo.Dh),s.LFG(lo.xv,8),s.LFG(FR,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(uo.HU),s.LFG(LR,8),s.LFG(MA,8),s.LFG(DA,8),s.LFG(EA,8),s.LFG(TA,8),s.LFG(IA,8),s.LFG(AA,8),s.LFG(SA,8),s.LFG(AE,8))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),VR=(()=>{class t{constructor(){DR.Z.registerVersion("angularfire",uo.q4.full,"rtdb-compat")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({providers:[BR]}),t})(),UR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t,bootstrap:[u_]}),t.\u0275inj=s.cJS({providers:[],imports:[[Bs,hb,Zf,lb,lo.hO.initializeApp({apiKey:"AIzaSyDKFzMx-S9LorlXSrA8HxlxiVbgKjWqwvg",authDomain:"cunmovilpwa.firebaseapp.com",databaseURL:"https://cunmovilpwa.firebaseio.com",projectId:"cunmovilpwa",storageBucket:"cunmovilpwa.appspot.com",messagingSenderId:"561460101557",appId:"1:561460101557:web:1f8dab21bb06d9bb0e59fc"}),VR]]}),t})();(0,s.G48)(),qo().bootstrapModule(UR).catch(t=>console.error(t))},9162:(Ve,fe,x)=>{"use strict";function re(ee,ue,pe,me){return new(pe||(pe=Promise))(function(de,dt){function Rt(ot){try{ut(me.next(ot))}catch(gt){dt(gt)}}function Dn(ot){try{ut(me.throw(ot))}catch(gt){dt(gt)}}function ut(ot){ot.done?de(ot.value):function(de){return de instanceof pe?de:new pe(function(dt){dt(de)})}(ot.value).then(Rt,Dn)}ut((me=me.apply(ee,ue||[])).next())})}function oe(ee){return this instanceof oe?(this.v=ee,this):new oe(ee)}function Y(ee,ue,pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,me=pe.apply(ee,ue||[]),de=[];return Se={},dt("next"),dt("throw"),dt("return"),Se[Symbol.asyncIterator]=function(){return this},Se;function dt(Yt){me[Yt]&&(Se[Yt]=function(ri){return new Promise(function(hi,qt){de.push([Yt,ri,hi,qt])>1||Rt(Yt,ri)})})}function Rt(Yt,ri){try{!function(Yt){Yt.value instanceof oe?Promise.resolve(Yt.value.v).then(ut,ot):gt(de[0][2],Yt)}(me[Yt](ri))}catch(hi){gt(de[0][3],hi)}}function ut(Yt){Rt("next",Yt)}function ot(Yt){Rt("throw",Yt)}function gt(Yt,ri){Yt(ri),de.shift(),de.length&&Rt(de[0][0],de[0][1])}}function be(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe,ue=ee[Symbol.asyncIterator];return ue?ue.call(ee):(ee=function(ee){var ue="function"==typeof Symbol&&Symbol.iterator,pe=ue&&ee[ue],me=0;if(pe)return pe.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&me>=ee.length&&(ee=void 0),{value:ee&&ee[me++],done:!ee}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(ee),pe={},me("next"),me("throw"),me("return"),pe[Symbol.asyncIterator]=function(){return this},pe);function me(de){pe[de]=ee[de]&&function(dt){return new Promise(function(Rt,Dn){!function(de,dt,Rt,Dn){Promise.resolve(Dn).then(function(ut){de({value:ut,done:Rt})},dt)}(Rt,Dn,(dt=ee[de](dt)).done,dt.value)})}}}x.d(fe,{mG:()=>re,qq:()=>oe,FC:()=>Y,KL:()=>be})},3668:(Ve,fe,x)=>{"use strict";x.d(fe,{deG:()=>Ya,tb:()=>Sb,AFp:()=>Ab,ip1:()=>Op,CZH:()=>id,hGG:()=>Xh,z2F:()=>Gi,sBO:()=>_D,Sil:()=>Wh,_Vd:()=>Kc,EJc:()=>Pp,SBq:()=>Oh,qLn:()=>iu,vpe:()=>fs,gxx:()=>rm,tBr:()=>an,XFs:()=>tt,OlP:()=>Zt,zs3:()=>so,ZZ4:()=>ad,aQg:()=>wa,soG:()=>ya,YKP:()=>eb,h0i:()=>Xc,PXZ:()=>dn,R0b:()=>Er,FiY:()=>Qn,Lbi:()=>S_,g9A:()=>A_,Qsj:()=>TC,FYo:()=>EC,JOm:()=>no,q3G:()=>bn,tp0:()=>Mi,Rgc:()=>Bh,dDg:()=>x_,q4F:()=>SC,GfV:()=>Z0,s_b:()=>Ep,ifc:()=>Ue,eFA:()=>kb,G48:()=>Zh,Gpc:()=>H,X6Q:()=>B_,_c5:()=>Hb,VLi:()=>Vp,c2e:()=>Nb,zSh:()=>nv,wAp:()=>st,vHH:()=>ke,EiD:()=>Jd,mCW:()=>ea,qzn:()=>tl,JVY:()=>nl,pB0:()=>rg,eBb:()=>Jl,L6k:()=>Wd,LAX:()=>pf,cg1:()=>dp,kL8:()=>y0,yhl:()=>ql,dqk:()=>lt,sIi:()=>bh,CqO:()=>Uv,QGY:()=>ds,F4k:()=>fu,RDi:()=>Dd,AaK:()=>re,z3N:()=>Or,qOj:()=>dm,TTD:()=>Gr,_Bn:()=>Xm,xp6:()=>Mg,uIk:()=>pm,Tol:()=>Hw,DjV:()=>up,ekj:()=>gu,Suo:()=>Tp,Xpm:()=>fn,lG2:()=>po,Yz7:()=>qt,cJS:()=>gn,oAB:()=>vs,Yjl:()=>El,Y36:()=>Dh,_UZ:()=>Vv,BQk:()=>Hc,ynx:()=>Uc,qZA:()=>wm,TgZ:()=>bm,EpF:()=>An,n5z:()=>Za,Ikx:()=>Bm,SDv:()=>L0,QtT:()=>yp,pQV:()=>kh,LFG:()=>z,$8M:()=>vn,$Z:()=>Bv,NdJ:()=>ep,CRH:()=>wu,oxw:()=>ci,ALo:()=>ub,lcZ:()=>cb,Hsn:()=>Gv,F$t:()=>jv,Q6J:()=>ym,s9C:()=>Wv,MGl:()=>np,VKq:()=>ib,WLB:()=>PC,kEZ:()=>o_,iGM:()=>f_,MAs:()=>Av,CHM:()=>Sr,uOi:()=>os,LSH:()=>nc,kYT:()=>Go,Udp:()=>Xv,YNc:()=>Iv,W1O:()=>m_,_uU:()=>o0,Oqu:()=>km,hij:()=>_u,Gf:()=>yl});var s=x(273),K=x(7908),O=x(8305),ae=x(3719),ie=x(3174);function he(r){for(let o in r)if(r[o]===he)return o;throw Error("Could not find renamed property on target object.")}function ne(r,o){for(const l in o)o.hasOwnProperty(l)&&!r.hasOwnProperty(l)&&(r[l]=o[l])}function re(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(re).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const o=r.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function le(r,o){return null==r||""===r?null===o?"":o:null==o||""===o?r:r+" "+o}const $=he({__forward_ref__:he});function H(r){return r.__forward_ref__=H,r.toString=function(){return re(this())},r}function Q(r){return Re(r)?r():r}function Re(r){return"function"==typeof r&&r.hasOwnProperty($)&&r.__forward_ref__===H}class ke extends Error{constructor(o,l){super(function(r,o){return`${r?`NG0${r}: `:""}${o}`}(o,l)),this.code=o}}function Y(r){return"string"==typeof r?r:null==r?"":String(r)}function se(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Y(r)}function Te(r,o){const l=o?` in ${o}`:"";throw new ke("201",`No provider for ${se(r)} found${l}`)}function gt(r,o,l,c){throw new Error(`ASSERTION ERROR: ${r}`+(null==c?"":` [Expected=> ${l} ${c} ${o} <=Actual]`))}function qt(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function gn(r){return{providers:r.providers||[],imports:r.imports||[]}}function ki(r){return It(r,ur)||It(r,Un)}function It(r,o){return r.hasOwnProperty(o)?r[o]:null}function Zi(r){return r&&(r.hasOwnProperty(Ee)||r.hasOwnProperty(Rn))?r[Ee]:null}const ur=he({\u0275prov:he}),Ee=he({\u0275inj:he}),Un=he({ngInjectableDef:he}),Rn=he({ngInjectorDef:he});var tt=(()=>((tt=tt||{})[tt.Default=0]="Default",tt[tt.Host=1]="Host",tt[tt.Self=2]="Self",tt[tt.SkipSelf=4]="SkipSelf",tt[tt.Optional=8]="Optional",tt))();let Mt;function fi(r){const o=Mt;return Mt=r,o}function Ke(r,o,l){const c=ki(r);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:l&tt.Optional?null:void 0!==o?o:void Te(re(r),"Injector")}function yt(r){return{toString:r}.toString()}var vt=(()=>((vt=vt||{})[vt.OnPush=0]="OnPush",vt[vt.Default=1]="Default",vt))(),Ue=(()=>{return(r=Ue||(Ue={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",Ue;var r})();const Qe="undefined"!=typeof globalThis&&globalThis,Aa="undefined"!=typeof window&&window,Ur="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,lt=Qe||"undefined"!=typeof global&&global||Aa||Ur,G={},B=[],W=he({\u0275cmp:he}),ye=he({\u0275dir:he}),te=he({\u0275pipe:he}),$e=he({\u0275mod:he}),et=he({\u0275fac:he}),Pt=he({__NG_ELEMENT_ID__:he});let Zn=0;function fn(r){return yt(()=>{const l={},c={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===vt.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||B,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||Ue.Emulated,id:"c",styles:r.styles||B,_:null,setInput:null,schemas:r.schemas||null,tView:null},d=r.directives,g=r.features,_=r.pipes;return c.id+=Zn++,c.inputs=Sa(r.inputs,l),c.outputs=Sa(r.outputs),g&&g.forEach(b=>b(c)),c.directiveDefs=d?()=>("function"==typeof d?d():d).map(Dt):null,c.pipeDefs=_?()=>("function"==typeof _?_():_).map(Yn):null,c})}function Dt(r){return Jt(r)||function(r){return r[ye]||null}(r)}function Yn(r){return function(r){return r[te]||null}(r)}const fo={};function vs(r){return yt(()=>{const o={type:r.type,bootstrap:r.bootstrap||B,declarations:r.declarations||B,imports:r.imports||B,exports:r.exports||B,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(fo[r.id]=r.type),o})}function Go(r,o){return yt(()=>{const l=qn(r,!0);l.declarations=o.declarations||B,l.imports=o.imports||B,l.exports=o.exports||B})}function Sa(r,o){if(null==r)return G;const l={};for(const c in r)if(r.hasOwnProperty(c)){let d=r[c],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),l[d]=c,o&&(o[d]=g)}return l}const po=fn;function El(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function Jt(r){return r[W]||null}function qn(r,o){const l=r[$e]||null;if(!l&&!0===o)throw new Error(`Type ${re(r)} does not have '\u0275mod' property.`);return l}function cr(r){return Array.isArray(r)&&"object"==typeof r[1]}function dr(r){return Array.isArray(r)&&!0===r[1]}function Fn(r){return 0!=(8&r.flags)}function Tr(r){return 2==(2&r.flags)}function Tl(r){return 1==(1&r.flags)}function Bi(r){return null!==r.template}function Qi(r){return 0!=(512&r[2])}function hr(r,o){return r.hasOwnProperty(et)?r[et]:null}class Sl{constructor(o,l,c){this.previousValue=o,this.currentValue=l,this.firstChange=c}isFirstChange(){return this.firstChange}}function Gr(){return Zo}function Zo(r){return r.type.prototype.ngOnChanges&&(r.setInput=ai),Wr}function Wr(){const r=Jn(this),o=null==r?void 0:r.current;if(o){const l=r.previous;if(l===G)r.previous=o;else for(let c in o)l[c]=o[c];r.current=null,this.ngOnChanges(o)}}function ai(r,o,l,c){const d=Jn(r)||function(r,o){return r[Fu]=o}(r,{previous:G,current:null}),g=d.current||(d.current={}),_=d.previous,b=this.declaredInputs[l],C=_[b];g[b]=new Sl(C&&C.currentValue,o,_===G),r[c]=o}Gr.ngInherit=!0;const Fu="__ngSimpleChanges__";function Jn(r){return r[Fu]||null}let ka;function Dd(r){ka=r}function Is(){return void 0!==ka?ka:"undefined"!=typeof document?document:void 0}function Ht(r){return!!r.listen}const Rl={createRenderer:(r,o)=>Is()};function En(r){for(;Array.isArray(r);)r=r[0];return r}function er(r,o){return En(o[r])}function Tn(r,o){return En(o[r.index])}function vo(r,o){return r.data[o]}function bo(r,o){return r[o]}function Ft(r,o){const l=o[r];return cr(l)?l:l[0]}function Ar(r){return 4==(4&r[2])}function As(r){return 128==(128&r[2])}function yi(r,o){return null==o?null:r[o]}function Ss(r){r[18]=0}function zr(r,o){r[5]+=o;let l=r,c=r[3];for(;null!==c&&(1===o&&1===l[5]||-1===o&&0===l[5]);)c[5]+=o,l=c,c=c[3]}const ze={lFrame:Ol(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Pa(){return ze.bindingsEnabled}function Ce(){return ze.lFrame.lView}function bt(){return ze.lFrame.tView}function Sr(r){return ze.lFrame.contextLView=r,r[8]}function rn(){let r=Rs();for(;null!==r&&64===r.type;)r=r.parent;return r}function Rs(){return ze.lFrame.currentTNode}function Zr(){const r=ze.lFrame,o=r.currentTNode;return r.isParent?o:o.parent}function Kn(r,o){const l=ze.lFrame;l.currentTNode=r,l.isParent=o}function La(){return ze.lFrame.isParent}function Co(){ze.lFrame.isParent=!1}function ks(){return ze.isInCheckNoChangesMode}function Do(r){ze.isInCheckNoChangesMode=r}function Hn(){const r=ze.lFrame;let o=r.bindingRootIndex;return-1===o&&(o=r.bindingRootIndex=r.tView.bindingStartIndex),o}function tr(){return ze.lFrame.bindingIndex}function Yr(){return ze.lFrame.bindingIndex++}function fr(r){const o=ze.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+r,l}function Ps(r){ze.lFrame.inI18n=r}function Fs(r,o){const l=ze.lFrame;l.bindingIndex=l.bindingRootIndex=r,Ls(o)}function Ls(r){ze.lFrame.currentDirectiveIndex=r}function Va(){return ze.lFrame.currentQueryIndex}function Bs(r){ze.lFrame.currentQueryIndex=r}function Vu(r){const o=r[1];return 2===o.type?o.declTNode:1===o.type?r[6]:null}function Ua(r,o,l){if(l&tt.SkipSelf){let d=o,g=r;for(;!(d=d.parent,null!==d||l&tt.Host||(d=Vu(g),null===d||(g=g[15],10&d.type))););if(null===d)return!1;o=d,r=g}const c=ze.lFrame=Vs();return c.currentTNode=o,c.lView=r,!0}function Ha(r){const o=Vs(),l=r[1];ze.lFrame=o,o.currentTNode=l.firstChild,o.lView=r,o.tView=l,o.contextLView=r,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Vs(){const r=ze.lFrame,o=null===r?null:r.child;return null===o?Ol(r):o}function Ol(r){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=o),o}function Us(){const r=ze.lFrame;return ze.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Uu=Us;function Hs(){const r=Us();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Kt(){return ze.lFrame.selectedIndex}function qr(r){ze.lFrame.selectedIndex=r}function on(){const r=ze.lFrame;return vo(r.tView,r.selectedIndex)}function Jr(r,o){for(let l=o.directiveStart,c=o.directiveEnd;l<c;l++){const g=r.data[l].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:b,ngAfterViewInit:C,ngAfterViewChecked:A,ngOnDestroy:N}=g;_&&(r.contentHooks||(r.contentHooks=[])).push(-l,_),b&&((r.contentHooks||(r.contentHooks=[])).push(l,b),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(l,b)),C&&(r.viewHooks||(r.viewHooks=[])).push(-l,C),A&&((r.viewHooks||(r.viewHooks=[])).push(l,A),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(l,A)),null!=N&&(r.destroyHooks||(r.destroyHooks=[])).push(l,N)}}function $a(r,o,l){Fl(r,o,3,l)}function js(r,o,l,c){(3&r[2])===l&&Fl(r,o,l,c)}function $u(r,o){let l=r[2];(3&l)===o&&(l&=2047,l+=1,r[2]=l)}function Fl(r,o,l,c){const g=null!=c?c:-1,_=o.length-1;let b=0;for(let C=void 0!==c?65535&r[18]:0;C<_;C++)if("number"==typeof o[C+1]){if(b=o[C],null!=c&&b>=c)break}else o[C]<0&&(r[18]+=65536),(b<g||-1==g)&&(ju(r,l,o,C),r[18]=(4294901760&r[18])+C+2),C++}function ju(r,o,l,c){const d=l[c]<0,g=l[c+1],b=r[d?-l[c]:l[c]];if(d){if(r[2]>>11<r[18]>>16&&(3&r[2])===o){r[2]+=2048;try{g.call(b)}finally{}}}else try{g.call(b)}finally{}}class Gs{constructor(o,l,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=c}}function yn(r,o,l){const c=Ht(r);let d=0;for(;d<l.length;){const g=l[d];if("number"==typeof g){if(0!==g)break;d++;const _=l[d++],b=l[d++],C=l[d++];c?r.setAttribute(o,b,C,_):o.setAttributeNS(_,b,C)}else{const _=g,b=l[++d];je(_)?c&&r.setProperty(o,_,b):c?r.setAttribute(o,_,b):o.setAttribute(_,b),d++}}return d}function Nr(r){return 3===r||4===r||6===r}function je(r){return 64===r.charCodeAt(0)}function zt(r,o){if(null!==o&&0!==o.length)if(null===r||0===r.length)r=o.slice();else{let l=-1;for(let c=0;c<o.length;c++){const d=o[c];"number"==typeof d?l=d:0===l||xn(r,l,d,null,-1===l||2===l?o[++c]:null)}}return r}function xn(r,o,l,c,d){let g=0,_=r.length;if(-1===o)_=-1;else for(;g<r.length;){const b=r[g++];if("number"==typeof b){if(b===o){_=-1;break}if(b>o){_=g-1;break}}}for(;g<r.length;){const b=r[g];if("number"==typeof b)break;if(b===l){if(null===c)return void(null!==d&&(r[g+1]=d));if(c===r[g+1])return void(r[g+2]=d)}g++,null!==c&&g++,null!==d&&g++}-1!==_&&(r.splice(_,0,o),g=_+1),r.splice(g++,0,l),null!==c&&r.splice(g++,0,c),null!==d&&r.splice(g++,0,d)}function On(r){return-1!==r}function Ko(r){return 32767&r}function Ws(r,o){let l=function(r){return r>>16}(r),c=o;for(;l>0;)c=c[15],l--;return c}let Wa=!0;function To(r){const o=Wa;return Wa=r,o}let Nd=0;function Io(r,o){const l=Qt(r,o);if(-1!==l)return l;const c=o[1];c.firstCreatePass&&(r.injectorIndex=o.length,Qo(c.data,r),Qo(o,null),Qo(c.blueprint,null));const d=za(r,o),g=r.injectorIndex;if(On(d)){const _=Ko(d),b=Ws(d,o),C=b[1].data;for(let A=0;A<8;A++)o[g+A]=b[_+A]|C[_+A]}return o[g+8]=d,g}function Qo(r,o){r.push(0,0,0,0,0,0,0,0,o)}function Qt(r,o){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===o[r.injectorIndex+8]?-1:r.injectorIndex}function za(r,o){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let l=0,c=null,d=o;for(;null!==d;){const g=d[1],_=g.type;if(c=2===_?g.declTNode:1===_?d[6]:null,null===c)return-1;if(l++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|l<<16}return-1}function nr(r,o,l){!function(r,o,l){let c;"string"==typeof l?c=l.charCodeAt(0)||0:l.hasOwnProperty(Pt)&&(c=l[Pt]),null==c&&(c=l[Pt]=Nd++);const d=255&c;o.data[r+(d>>5)]|=1<<d}(r,o,l)}function ir(r,o,l){if(l&tt.Optional)return r;Te(o,"NodeInjector")}function Ll(r,o,l,c){if(l&tt.Optional&&void 0===c&&(c=null),0==(l&(tt.Self|tt.Host))){const d=r[9],g=fi(void 0);try{return d?d.get(o,c,l&tt.Optional):Ke(o,c,l&tt.Optional)}finally{fi(g)}}return ir(c,o,l)}function Xo(r,o,l,c=tt.Default,d){if(null!==r){const g=function(r){if("string"==typeof r)return r.charCodeAt(0)||0;const o=r.hasOwnProperty(Pt)?r[Pt]:void 0;return"number"==typeof o?o>=0?255&o:zs:o}(l);if("function"==typeof g){if(!Ua(o,r,c))return c&tt.Host?ir(d,l,c):Ll(o,l,c,d);try{const _=g(c);if(null!=_||c&tt.Optional)return _;Te(l)}finally{Uu()}}else if("number"==typeof g){let _=null,b=Qt(r,o),C=-1,A=c&tt.Host?o[16][6]:null;for((-1===b||c&tt.SkipSelf)&&(C=-1===b?za(r,o):o[b+8],-1!==C&&$n(c,!1)?(_=o[1],b=Ko(C),o=Ws(C,o)):b=-1);-1!==b;){const N=o[1];if(No(g,b,N.data)){const P=Zs(b,o,l,_,c,A);if(P!==Ao)return P}C=o[b+8],-1!==C&&$n(c,o[1].data[b+8]===A)&&No(g,b,o)?(_=N,b=Ko(C),o=Ws(C,o)):b=-1}}}return Ll(o,l,c,d)}const Ao={};function zs(){return new tn(rn(),Ce())}function Zs(r,o,l,c,d,g){const _=o[1],b=_.data[r+8],N=sn(b,_,l,null==c?Tr(b)&&Wa:c!=_&&0!=(3&b.type),d&tt.Host&&g===b);return null!==N?Qr(o,_,N,b):Ao}function sn(r,o,l,c,d){const g=r.providerIndexes,_=o.data,b=1048575&g,C=r.directiveStart,N=g>>20,j=d?b+N:r.directiveEnd;for(let q=c?b:b+N;q<j;q++){const ce=_[q];if(q<C&&l===ce||q>=C&&ce.type===l)return q}if(d){const q=_[C];if(q&&Bi(q)&&q.type===l)return C}return null}function Qr(r,o,l,c){let d=r[l];const g=o.data;if(function(r){return r instanceof Gs}(d)){const _=d;_.resolving&&function(r,o){throw new ke("200",`Circular dependency in DI detected for ${r}`)}(se(g[l]));const b=To(_.canSeeViewProviders);_.resolving=!0;const C=_.injectImpl?fi(_.injectImpl):null;Ua(r,c,tt.Default);try{d=r[l]=_.factory(void 0,g,r,c),o.firstCreatePass&&l>=c.directiveStart&&function(r,o,l){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:g}=o.type.prototype;if(c){const _=Zo(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(r,_),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(r,_)}d&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-r,d),g&&((l.preOrderHooks||(l.preOrderHooks=[])).push(r,g),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(r,g))}(l,g[l],o)}finally{null!==C&&fi(C),To(b),_.resolving=!1,Uu()}}return d}function No(r,o,l){return!!(l[o+(r>>5)]&1<<r)}function $n(r,o){return!(r&tt.Self||r&tt.Host&&o)}class tn{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,c){return Xo(this._tNode,this._lView,o,c,l)}}function Za(r){return yt(()=>{const o=r.prototype.constructor,l=o[et]||un(o),c=Object.prototype;let d=Object.getPrototypeOf(r.prototype).constructor;for(;d&&d!==c;){const g=d[et]||un(d);if(g&&g!==l)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function un(r){return Re(r)?()=>{const o=un(Q(r));return o&&o()}:hr(r)}function vn(r){return function(r,o){if("class"===o)return r.classes;if("style"===o)return r.styles;const l=r.attrs;if(l){const c=l.length;let d=0;for(;d<c;){const g=l[d];if(Nr(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<c&&"string"==typeof l[d];)d++;else{if(g===o)return l[d+1];d+=2}}}return null}(rn(),r)}const Xr="__parameters__";function Lt(r,o,l){return yt(()=>{const c=function(r){return function(...l){if(r){const c=r(...l);for(const d in c)this[d]=c[d]}}}(o);function d(...g){if(this instanceof d)return c.apply(this,g),this;const _=new d(...g);return b.annotation=_,b;function b(C,A,N){const P=C.hasOwnProperty(Xr)?C[Xr]:Object.defineProperty(C,Xr,{value:[]})[Xr];for(;P.length<=N;)P.push(null);return(P[N]=P[N]||[]).push(_),C}}return l&&(d.prototype=Object.create(l.prototype)),d.prototype.ngMetadataName=r,d.annotationCls=d,d})}class Zt{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=qt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ya=new Zt("AnalyzeForEntryComponents");function Ni(r,o){void 0===o&&(o=r);for(let l=0;l<r.length;l++){let c=r[l];Array.isArray(c)?(o===r&&(o=r.slice(0,l)),Ni(c,o)):o!==r&&o.push(c)}return o}function mr(r,o){r.forEach(l=>Array.isArray(l)?mr(l,o):o(l))}function Bl(r,o,l){o>=r.length?r.push(l):r.splice(o,0,l)}function es(r,o){return o>=r.length-1?r.pop():r.splice(o,1)[0]}function ts(r,o){const l=[];for(let c=0;c<r;c++)l.push(o);return l}function li(r,o,l){let c=ns(r,o);return c>=0?r[1|c]=l:(c=~c,function(r,o,l,c){let d=r.length;if(d==o)r.push(l,c);else if(1===d)r.push(c,r[0]),r[0]=l;else{for(d--,r.push(r[d-1],r[d]);d>o;)r[d]=r[d-2],d--;r[o]=l,r[o+1]=c}}(r,c,o,l)),c}function _r(r,o){const l=ns(r,o);if(l>=0)return r[1|l]}function ns(r,o){return function(r,o,l){let c=0,d=r.length>>l;for(;d!==c;){const g=c+(d-c>>1),_=r[g<<l];if(o===_)return g<<l;_>o?d=g:c=g+1}return~(d<<l)}(r,o,1)}const Ja={},Ka="__NG_DI_FLAG__",kr="ngTempTokenPath",Vd=/\n/gm,D="__source",E=he({provide:String,useValue:he});let M;function L(r){const o=M;return M=r,o}function Z(r,o=tt.Default){if(void 0===M)throw new Error("inject() must be called from an injection context");return null===M?Ke(r,void 0,o):M.get(r,o&tt.Optional?null:void 0,o)}function z(r,o=tt.Default){return(Mt||Z)(Q(r),o)}function Fe(r){const o=[];for(let l=0;l<r.length;l++){const c=Q(r[l]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let d,g=tt.Default;for(let _=0;_<c.length;_++){const b=c[_],C=Bt(b);"number"==typeof C?-1===C?d=b.token:g|=C:d=b}o.push(z(d,g))}else o.push(z(c))}return o}function wt(r,o){return r[Ka]=o,r.prototype[Ka]=o,r}function Bt(r){return r[Ka]}const an=wt(Lt("Inject",r=>({token:r})),-1),Qn=wt(Lt("Optional"),8),Mi=wt(Lt("SkipSelf"),4);let Vi,Xs;function xo(r){var o;return(null==(o=function(){if(void 0===Vi&&(Vi=null,lt.trustedTypes))try{Vi=lt.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return Vi}())?void 0:o.createHTML(r))||r}function zl(r){var o;return(null==(o=function(){if(void 0===Xs&&(Xs=null,lt.trustedTypes))try{Xs=lt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return Xs}())?void 0:o.createScriptURL(r))||r}class rs{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Qu extends rs{getTypeName(){return"HTML"}}class Zl extends rs{getTypeName(){return"Style"}}class ng extends rs{getTypeName(){return"Script"}}class Yl extends rs{getTypeName(){return"URL"}}class ig extends rs{getTypeName(){return"ResourceURL"}}function Or(r){return r instanceof rs?r.changingThisBreaksApplicationSecurity:r}function tl(r,o){const l=ql(r);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function ql(r){return r instanceof rs&&r.getTypeName()||null}function nl(r){return new Qu(r)}function Wd(r){return new Zl(r)}function Jl(r){return new ng(r)}function pf(r){return new Yl(r)}function rg(r){return new ig(r)}function Xu(r){const o=new sg(r);return function(){try{return!!(new window.DOMParser).parseFromString(xo(""),"text/html")}catch(r){return!1}}()?new og(o):o}class og{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(xo(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class sg{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const c=this.inertDocument.createElement("body");l.appendChild(c)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=xo(o),l;const c=this.inertDocument.createElement("body");return c.innerHTML=xo(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const l=o.attributes;for(let d=l.length-1;0<d;d--){const _=l.item(d).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&o.removeAttribute(_)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const gf=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Zd=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ea(r){return(r=String(r)).match(gf)||r.match(Zd)?r:"unsafe:"+r}function mf(r){return(r=String(r)).split(",").map(o=>ea(o.trim())).join(", ")}function Pr(r){const o={};for(const l of r.split(","))o[l]=!0;return o}function il(...r){const o={};for(const l of r)for(const c in l)l.hasOwnProperty(c)&&(o[c]=!0);return o}const _f=Pr("area,br,col,hr,img,wbr"),Yd=Pr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yf=Pr("rp,rt"),Fr=il(_f,il(Yd,Pr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),il(yf,Pr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),il(yf,Yd)),qd=Pr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Kl=Pr("srcset"),rl=il(qd,Kl,Pr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Pr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),na=Pr("script,style,template");class ug{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,c=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?c=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,c&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let d=this.checkClobberedElement(l,l.nextSibling);if(d){l=d;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!Fr.hasOwnProperty(l))return this.sanitizedSomething=!0,!na.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const c=o.attributes;for(let d=0;d<c.length;d++){const g=c.item(d),_=g.name,b=_.toLowerCase();if(!rl.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let C=g.value;qd[b]&&(C=ea(C)),Kl[b]&&(C=mf(C)),this.buf.push(" ",_,'="',bf(C),'"')}return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();Fr.hasOwnProperty(l)&&!_f.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(bf(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const ol=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ec=/([^\#-~ |!])/g;function bf(r){return r.replace(/&/g,"&amp;").replace(ol,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(ec,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ql;function Jd(r,o){let l=null;try{Ql=Ql||Xu(r);let c=o?String(o):"";l=Ql.getInertBodyElement(c);let d=5,g=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=g,g=l.innerHTML,l=Ql.getInertBodyElement(c)}while(c!==g);return xo((new ug).sanitizeChildren(wf(l)||l))}finally{if(l){const c=wf(l)||l;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function wf(r){return"content"in r&&function(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var bn=(()=>((bn=bn||{})[bn.NONE=0]="NONE",bn[bn.HTML=1]="HTML",bn[bn.STYLE=2]="STYLE",bn[bn.SCRIPT=3]="SCRIPT",bn[bn.URL=4]="URL",bn[bn.RESOURCE_URL=5]="RESOURCE_URL",bn))();function nc(r){const o=sl();return o?o.sanitize(bn.URL,r)||"":tl(r,"URL")?Or(r):ea(Y(r))}function os(r){const o=sl();if(o)return zl(o.sanitize(bn.RESOURCE_URL,r)||"");if(tl(r,"ResourceURL"))return zl(Or(r));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function sl(){const r=Ce();return r&&r[12]}const oc="__ngContext__";function Xn(r,o){r[oc]=o}function Qd(r){const o=function(r){return r[oc]||null}(r);return o?Array.isArray(o)?o:o.lView:null}function th(r){return r.ngOriginalError}function vg(r,...o){r.error(...o)}class iu{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o),c=(r=o)&&r.ngErrorLogger||vg;var r;c(this._console,"ERROR",o),l&&c(this._console,"ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&th(o);for(;l&&th(l);)l=th(l);return l||null}}const Ef=/^>|^->|<!--|-->|--!>|<!-$/g,nh=/(<|>)/;const oh=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(lt))();function wr(r){return r instanceof Function?r():r}var no=(()=>((no=no||{})[no.Important=1]="Important",no[no.DashCase=2]="DashCase",no))();let ah;function ll(r,o){return ah(r,o)}function la(r){const o=r[3];return dr(o)?o[3]:o}function ua(r){return lh(r[13])}function hc(r){return lh(r[4])}function lh(r){for(;null!==r&&!dr(r);)r=r[4];return r}function ca(r,o,l,c,d){if(null!=c){let g,_=!1;dr(c)?g=c:cr(c)&&(_=!0,c=c[0]);const b=En(c);0===r&&null!==l?null==d?fc(o,l,b):ro(o,l,b,d||null,!0):1===r&&null!==l?ro(o,l,b,d||null,!0):2===r?b1(o,b,_):3===r&&o.destroyNode(b),null!=g&&function(r,o,l,c,d){const g=l[7];g!==En(l)&&ca(o,r,c,g,d);for(let b=10;b<l.length;b++){const C=l[b];yc(C[1],C,r,o,c,g)}}(o,r,g,l,d)}}function uh(r,o){return Ht(r)?r.createText(o):r.createTextNode(o)}function Sf(r,o,l){Ht(r)?r.setValue(o,l):o.textContent=l}function sr(r,o){return r.createComment(function(r){return r.replace(Ef,o=>o.replace(nh,"\u200b$1\u200b"))}(o))}function m(r,o,l){return Ht(r)?r.createElement(o,l):null===l?r.createElement(o):r.createElementNS(l,o)}function X(r,o){const l=r[9],c=l.indexOf(o),d=o[3];1024&o[2]&&(o[2]&=-1025,zr(d,-1)),l.splice(c,1)}function Ae(r,o){if(r.length<=10)return;const l=10+o,c=r[l];if(c){const d=c[17];null!==d&&d!==r&&X(d,c),o>0&&(r[l-1][4]=c[4]);const g=es(r,10+o);!function(r,o){yc(r,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const _=g[19];null!==_&&_.detachView(g[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function Ie(r,o){if(!(256&o[2])){const l=o[11];Ht(l)&&l.destroyNode&&yc(r,o,l,3,null,null),function(r){let o=r[13];if(!o)return Ze(r[1],r);for(;o;){let l=null;if(cr(o))l=o[13];else{const c=o[10];c&&(l=c)}if(!l){for(;o&&!o[4]&&o!==r;)cr(o)&&Ze(o[1],o),o=o[3];null===o&&(o=r),cr(o)&&Ze(o[1],o),l=o&&o[4]}o=l}}(o)}}function Ze(r,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function(r,o){let l;if(null!=r&&null!=(l=r.destroyHooks))for(let c=0;c<l.length;c+=2){const d=o[l[c]];if(!(d instanceof Gs)){const g=l[c+1];if(Array.isArray(g))for(let _=0;_<g.length;_+=2){const b=d[g[_]],C=g[_+1];try{C.call(b)}finally{}}else try{g.call(d)}finally{}}}}(r,o),function(r,o){const l=r.cleanup,c=o[7];let d=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const _=l[g+1],b="function"==typeof _?_(o):En(o[_]),C=c[d=l[g+2]],A=l[g+3];"boolean"==typeof A?b.removeEventListener(l[g],C,A):A>=0?c[d=A]():c[d=-A].unsubscribe(),g+=2}else{const _=c[d=l[g+1]];l[g].call(_)}if(null!==c){for(let g=d+1;g<c.length;g++)c[g]();o[7]=null}}(r,o),1===o[1].type&&Ht(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&dr(o[3])){l!==o[3]&&X(l,o);const c=o[19];null!==c&&c.detachView(r)}}}function cn(r,o,l){return io(r,o.parent,l)}function io(r,o,l){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return l[0];if(2&c.flags){const d=r.data[c.directiveStart].encapsulation;if(d===Ue.None||d===Ue.Emulated)return null}return Tn(c,l)}function ro(r,o,l,c,d){Ht(r)?r.insertBefore(o,l,c,d):o.insertBefore(l,c,d)}function fc(r,o,l){Ht(r)?r.appendChild(o,l):o.appendChild(l)}function pc(r,o,l,c,d){null!==c?ro(r,o,l,c,d):fc(r,o,l)}function ul(r,o){return Ht(r)?r.parentNode(o):o.parentNode}function gc(r,o,l){return ch(r,o,l)}function mc(r,o,l){return 40&r.type?Tn(r,l):null}let dh,ch=mc;function cl(r,o){ch=r,dh=o}function _c(r,o,l,c){const d=cn(r,c,o),g=o[11],b=gc(c.parent||o[6],c,o);if(null!=d)if(Array.isArray(l))for(let C=0;C<l.length;C++)pc(g,d,l[C],b,!1);else pc(g,d,l,b,!1);void 0!==dh&&dh(g,c,o,l,d)}function Rf(r,o){if(null!==o){const l=o.type;if(3&l)return Tn(o,r);if(4&l)return Tg(-1,r[o.index]);if(8&l){const c=o.child;if(null!==c)return Rf(r,c);{const d=r[o.index];return dr(d)?Tg(-1,d):En(d)}}if(32&l)return ll(o,r)()||En(r[o.index]);{const c=Eg(r,o);return null!==c?Array.isArray(c)?c[0]:Rf(la(r[16]),c):Rf(r,o.next)}}return null}function Eg(r,o){return null!==o?r[16][6].projection[o.projection]:null}function Tg(r,o){const l=10+r+1;if(l<o.length){const c=o[l],d=c[1].firstChild;if(null!==d)return Rf(c,d)}return o[7]}function b1(r,o,l){const c=ul(r,o);c&&function(r,o,l,c){Ht(r)?r.removeChild(o,l,c):o.removeChild(l)}(r,c,o,l)}function Ig(r,o,l,c,d,g,_){for(;null!=l;){const b=c[l.index],C=l.type;if(_&&0===o&&(b&&Xn(En(b),c),l.flags|=4),64!=(64&l.flags))if(8&C)Ig(r,o,l.child,c,d,g,!1),ca(o,r,d,b,g);else if(32&C){const A=ll(l,c);let N;for(;N=A();)ca(o,r,d,N,g);ca(o,r,d,b,g)}else 16&C?Ci(r,o,c,l,d,g):ca(o,r,d,b,g);l=_?l.projectionNext:l.next}}function yc(r,o,l,c,d,g){Ig(l,c,r.firstChild,o,d,g,!1)}function Ci(r,o,l,c,d,g){const _=l[16],C=_[6].projection[c.projection];if(Array.isArray(C))for(let A=0;A<C.length;A++)ca(o,r,d,C[A],g);else Ig(r,o,C,_[3],d,g,!0)}function yy(r,o,l){Ht(r)?r.setAttribute(o,"style",l):o.style.cssText=l}function Ag(r,o,l){Ht(r)?""===l?r.removeAttribute(o,"class"):r.setAttribute(o,"class",l):o.className=l}function vy(r,o,l){let c=r.length;for(;;){const d=r.indexOf(o,l);if(-1===d)return d;if(0===d||r.charCodeAt(d-1)<=32){const g=o.length;if(d+g===c||r.charCodeAt(d+g)<=32)return d}l=d+1}}const da="ng-template";function wy(r,o,l){let c=0;for(;c<r.length;){let d=r[c++];if(l&&"class"===d){if(d=r[c],-1!==vy(d.toLowerCase(),o,0))return!0}else if(1===d){for(;c<r.length&&"string"==typeof(d=r[c++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function Di(r){return 4===r.type&&r.value!==da}function dl(r,o,l){return o===(4!==r.type||l?r.value:da)}function C1(r,o,l){let c=4;const d=r.attrs||[],g=function(r){for(let o=0;o<r.length;o++)if(Nr(r[o]))return o;return r.length}(d);let _=!1;for(let b=0;b<o.length;b++){const C=o[b];if("number"!=typeof C){if(!_)if(4&c){if(c=2|1&c,""!==C&&!dl(r,C,l)||""===C&&1===o.length){if(Hi(c))return!1;_=!0}}else{const A=8&c?C:o[++b];if(8&c&&null!==r.attrs){if(!wy(r.attrs,A,l)){if(Hi(c))return!1;_=!0}continue}const P=Cy(8&c?"class":C,d,Di(r),l);if(-1===P){if(Hi(c))return!1;_=!0;continue}if(""!==A){let j;j=P>g?"":d[P+1].toLowerCase();const q=8&c?j:null;if(q&&-1!==vy(q,A,0)||2&c&&A!==j){if(Hi(c))return!1;_=!0}}}}else{if(!_&&!Hi(c)&&!Hi(C))return!1;if(_&&Hi(C))continue;_=!1,c=C|1&c}}return Hi(c)||_}function Hi(r){return 0==(1&r)}function Cy(r,o,l,c){if(null===o)return-1;let d=0;if(c||!l){let g=!1;for(;d<o.length;){const _=o[d];if(_===r)return d;if(3===_||6===_)g=!0;else{if(1===_||2===_){let b=o[++d];for(;"string"==typeof b;)b=o[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=g?1:2}return-1}return function(r,o){let l=r.indexOf(4);if(l>-1)for(l++;l<r.length;){const c=r[l];if("number"==typeof c)return-1;if(c===o)return l;l++}return-1}(o,r)}function Sg(r,o,l=!1){for(let c=0;c<o.length;c++)if(C1(r,o[c],l))return!0;return!1}function Iy(r,o){e:for(let l=0;l<o.length;l++){const c=o[l];if(r.length===c.length){for(let d=0;d<r.length;d++)if(r[d]!==c[d])continue e;return!0}}return!1}function Ng(r,o){return r?":not("+o.trim()+")":o}function Ay(r){let o=r[0],l=1,c=2,d="",g=!1;for(;l<r.length;){let _=r[l];if("string"==typeof _)if(2&c){const b=r[++l];d+="["+_+(b.length>0?'="'+b+'"':"")+"]"}else 8&c?d+="."+_:4&c&&(d+=" "+_);else""!==d&&!Hi(_)&&(o+=Ng(g,d),d=""),c=_,g=g||!Hi(c);l++}return""!==d&&(o+=Ng(g,d)),o}const ft={};function Mg(r){Rg(bt(),Ce(),Kt()+r,ks())}function Rg(r,o,l,c){if(!c)if(3==(3&o[2])){const g=r.preOrderCheckHooks;null!==g&&$a(o,g,l)}else{const g=r.preOrderHooks;null!==g&&js(o,g,0,l)}qr(l)}function fh(r,o){return r<<17|o<<2}function oo(r){return r>>17&32767}function ph(r){return 2|r}function ss(r){return(131068&r)>>2}function xf(r,o){return-131069&r|o<<2}function gh(r){return 1|r}function bc(r,o){const l=r.contentQueries;if(null!==l)for(let c=0;c<l.length;c+=2){const d=l[c],g=l[c+1];if(-1!==g){const _=r.data[g];Bs(d),_.contentQueries(2,o[g],g)}}}function ha(r,o,l,c,d,g,_,b,C,A){const N=o.blueprint.slice();return N[0]=d,N[2]=140|c,Ss(N),N[3]=N[15]=r,N[8]=l,N[10]=_||r&&r[10],N[11]=b||r&&r[11],N[12]=C||r&&r[12]||null,N[9]=A||r&&r[9]||null,N[6]=g,N[16]=2==o.type?r[16]:N,N}function Cc(r,o,l,c,d){let g=r.data[o];if(null===g)g=_h(r,o,l,c,d),ze.lFrame.inI18n&&(g.flags|=64);else if(64&g.type){g.type=l,g.value=c,g.attrs=d;const _=Zr();g.injectorIndex=null===_?-1:_.injectorIndex}return Kn(g,!0),g}function _h(r,o,l,c,d){const g=Rs(),_=La(),C=r.data[o]=function(r,o,l,c,d,g){return{type:l,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?g:g&&g.parent,l,o,c,d);return null===r.firstChild&&(r.firstChild=C),null!==g&&(_?null==g.child&&null!==C.parent&&(g.child=C):null===g.next&&(g.next=C)),C}function su(r,o,l,c){if(0===l)return-1;const d=o.length;for(let g=0;g<l;g++)o.push(c),r.blueprint.push(c),r.data.push(null);return d}function au(r,o,l){Ha(o);try{const c=r.viewQuery;null!==c&&Gf(1,c,l);const d=r.template;null!==d&&Vf(r,o,d,1,l),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&bc(r,o),r.staticViewQueries&&Gf(2,r.viewQuery,l);const g=r.components;null!==g&&function(r,o){for(let l=0;l<o.length;l++)H1(r,o[l])}(o,g)}catch(c){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),c}finally{o[2]&=-5,Hs()}}function lu(r,o,l,c){const d=o[2];if(256==(256&d))return;Ha(o);const g=ks();try{Ss(o),function(r){ze.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==l&&Vf(r,o,l,2,c);const _=3==(3&d);if(!g)if(_){const A=r.preOrderCheckHooks;null!==A&&$a(o,A,null)}else{const A=r.preOrderHooks;null!==A&&js(o,A,0,null),$u(o,0)}if(function(r){for(let o=ua(r);null!==o;o=hc(o)){if(!o[2])continue;const l=o[9];for(let c=0;c<l.length;c++){const d=l[c],g=d[3];0==(1024&d[2])&&zr(g,1),d[2]|=1024}}}(o),function(r){for(let o=ua(r);null!==o;o=hc(o))for(let l=10;l<o.length;l++){const c=o[l],d=c[1];As(c)&&lu(d,c,d.template,c[8])}}(o),null!==r.contentQueries&&bc(r,o),!g)if(_){const A=r.contentCheckHooks;null!==A&&$a(o,A)}else{const A=r.contentHooks;null!==A&&js(o,A,1),$u(o,1)}!function(r,o){const l=r.hostBindingOpCodes;if(null!==l)try{for(let c=0;c<l.length;c++){const d=l[c];if(d<0)qr(~d);else{const g=d,_=l[++c],b=l[++c];Fs(_,g),b(2,o[g])}}}finally{qr(-1)}}(r,o);const b=r.components;null!==b&&function(r,o){for(let l=0;l<o.length;l++)U1(r,o[l])}(o,b);const C=r.viewQuery;if(null!==C&&Gf(2,C,c),!g)if(_){const A=r.viewCheckHooks;null!==A&&$a(o,A)}else{const A=r.viewHooks;null!==A&&js(o,A,2),$u(o,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),g||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,zr(o[3],-1))}finally{Hs()}}function zg(r,o,l,c){const d=o[10],g=!ks(),_=Ar(o);try{g&&!_&&d.begin&&d.begin(),_&&au(r,o,c),lu(r,o,l,c)}finally{g&&!_&&d.end&&d.end()}}function Vf(r,o,l,c,d){const g=Kt(),_=2&c;try{qr(-1),_&&o.length>20&&Rg(r,o,20,ks()),l(c,d)}finally{qr(g)}}function uu(r,o,l){if(Fn(o)){const d=o.directiveEnd;for(let g=o.directiveStart;g<d;g++){const _=r.data[g];_.contentQueries&&_.contentQueries(1,l[g],g)}}}function cu(r,o,l){!Pa()||(function(r,o,l,c){const d=l.directiveStart,g=l.directiveEnd;r.firstCreatePass||Io(l,o),Xn(c,o);const _=l.initialInputs;for(let b=d;b<g;b++){const C=r.data[b],A=Bi(C);A&&Xg(o,l,C);const N=Qr(o,r,b,l);Xn(N,o),null!==_&&Zy(0,b-d,N,C,0,_),A&&(Ft(l.index,o)[8]=N)}}(r,o,l,Tn(l,o)),128==(128&l.flags)&&function(r,o,l){const c=l.directiveStart,d=l.directiveEnd,_=l.index,b=ze.lFrame.currentDirectiveIndex;try{qr(_);for(let C=c;C<d;C++){const A=r.data[C],N=o[C];Ls(C),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&jy(A,N)}}finally{qr(-1),Ls(b)}}(r,o,l))}function yh(r,o,l=Tn){const c=o.localNames;if(null!==c){let d=o.index+1;for(let g=0;g<c.length;g+=2){const _=c[g+1],b=-1===_?l(o,r):r[_];r[d++]=b}}}function Fy(r){const o=r.tView;return null===o||o.incompleteFirstPass?r.tView=pl(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):o}function pl(r,o,l,c,d,g,_,b,C,A){const N=20+c,P=N+d,j=function(r,o){const l=[];for(let c=0;c<o;c++)l.push(c<r?null:ft);return l}(N,P),q="function"==typeof A?A():A;return j[1]={type:r,blueprint:j,template:l,queries:null,viewQuery:b,declTNode:o,data:j.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:C,consts:q,incompleteFirstPass:!1}}function k1(r,o,l,c){const d=Wf(o);null===l?d.push(c):(d.push(l),r.firstCreatePass&&nm(r).push(c,d.length-1))}function Ly(r,o,l){for(let c in r)if(r.hasOwnProperty(c)){const d=r[c];(l=null===l?{}:l).hasOwnProperty(c)?l[c].push(o,d):l[c]=[o,d]}return l}function Cr(r,o,l,c,d,g,_,b){const C=Tn(o,l);let N,A=o.inputs;!b&&null!=A&&(N=A[c])?(ev(r,l,N,c,d),Tr(o)&&function(r,o){const l=Ft(o,r);16&l[2]||(l[2]|=64)}(l,o.index)):3&o.type&&(c=function(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(c),d=null!=_?_(d,o.value||"",c):d,Ht(g)?g.setProperty(C,c,d):je(c)||(C.setProperty?C.setProperty(c,d):C[c]=d))}function qg(r,o,l,c){let d=!1;if(Pa()){const g=function(r,o,l){const c=r.directiveRegistry;let d=null;if(c)for(let g=0;g<c.length;g++){const _=c[g];Sg(l,_.selectors,!1)&&(d||(d=[]),nr(Io(l,o),r,_.type),Bi(_)?(Wy(r,l),d.unshift(_)):d.push(_))}return d}(r,o,l),_=null===c?null:{"":-1};if(null!==g){d=!0,Uf(l,r.data.length,g.length);for(let N=0;N<g.length;N++){const P=g[N];P.providersResolver&&P.providersResolver(P)}let b=!1,C=!1,A=su(r,o,g.length,null);for(let N=0;N<g.length;N++){const P=g[N];l.mergedAttrs=zt(l.mergedAttrs,P.hostAttrs),zy(r,l,o,A,P),L1(A,P,_),null!==P.contentQueries&&(l.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(l.flags|=128);const j=P.type.prototype;!b&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(l.index),b=!0),!C&&(j.ngOnChanges||j.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(l.index),C=!0),A++}!function(r,o){const c=o.directiveEnd,d=r.data,g=o.attrs,_=[];let b=null,C=null;for(let A=o.directiveStart;A<c;A++){const N=d[A],P=N.inputs,j=null===g||Di(o)?null:B1(P,g);_.push(j),b=Ly(P,A,b),C=Ly(N.outputs,A,C)}null!==b&&(b.hasOwnProperty("class")&&(o.flags|=16),b.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=_,o.inputs=b,o.outputs=C}(r,l)}_&&function(r,o,l){if(o){const c=r.localNames=[];for(let d=0;d<o.length;d+=2){const g=l[o[d+1]];if(null==g)throw new ke("301",`Export of name '${o[d+1]}' not found!`);c.push(o[d],g)}}}(l,c,_)}return l.mergedAttrs=zt(l.mergedAttrs,l.attrs),d}function Jg(r,o,l,c,d,g){const _=g.hostBindings;if(_){let b=r.hostBindingOpCodes;null===b&&(b=r.hostBindingOpCodes=[]);const C=~o.index;(function(r){let o=r.length;for(;o>0;){const l=r[--o];if("number"==typeof l&&l<0)return l}return 0})(b)!=C&&b.push(C),b.push(c,d,_)}}function jy(r,o){null!==r.hostBindings&&r.hostBindings(1,o)}function Wy(r,o){o.flags|=2,(r.components||(r.components=[])).push(o.index)}function L1(r,o,l){if(l){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)l[o.exportAs[c]]=r;Bi(o)&&(l[""]=r)}}function Uf(r,o,l){r.flags|=1,r.directiveStart=o,r.directiveEnd=o+l,r.providerIndexes=o}function zy(r,o,l,c,d){r.data[c]=d;const g=d.factory||(d.factory=hr(d.type)),_=new Gs(g,Bi(d),null);r.blueprint[c]=_,l[c]=_,Jg(r,o,0,c,su(r,l,d.hostVars,ft),d)}function Xg(r,o,l){const c=Tn(o,r),d=Fy(l),g=r[10],_=Dc(r,ha(r,d,null,l.onPush?64:16,c,o,g,g.createRenderer(c,l),null,null));r[o.index]=_}function em(r,o,l,c,d,g,_){if(null==g)Ht(r)?r.removeAttribute(o,d,l):o.removeAttribute(d);else{const b=null==_?Y(g):_(g,c||"",d);Ht(r)?r.setAttribute(o,d,b,l):l?o.setAttributeNS(l,d,b):o.setAttribute(d,b)}}function Zy(r,o,l,c,d,g){const _=g[o];if(null!==_){const b=c.setInput;for(let C=0;C<_.length;){const A=_[C++],N=_[C++],P=_[C++];null!==b?c.setInput(l,P,A,N):l[N]=P}}}function B1(r,o){let l=null,c=0;for(;c<o.length;){const d=o[c];if(0!==d)if(5!==d){if("number"==typeof d)break;r.hasOwnProperty(d)&&(null===l&&(l=[]),l.push(d,r[d],o[c+1])),c+=2}else c+=2;else c+=4}return l}function Yy(r,o,l,c){return new Array(r,!0,!1,o,null,0,c,l,null,null)}function U1(r,o){const l=Ft(o,r);if(As(l)){const c=l[1];80&l[2]?lu(c,l,c.template,l[8]):l[5]>0&&Hf(l)}}function Hf(r){for(let c=ua(r);null!==c;c=hc(c))for(let d=10;d<c.length;d++){const g=c[d];if(1024&g[2]){const _=g[1];lu(_,g,_.template,g[8])}else g[5]>0&&Hf(g)}const l=r[1].components;if(null!==l)for(let c=0;c<l.length;c++){const d=Ft(l[c],r);As(d)&&d[5]>0&&Hf(d)}}function H1(r,o){const l=Ft(o,r),c=l[1];(function(r,o){for(let l=o.length;l<r.blueprint.length;l++)o.push(r.blueprint[l])})(c,l),au(c,l,l[8])}function Dc(r,o){return r[13]?r[14][4]=o:r[13]=o,r[14]=o,o}function $f(r){for(;r;){r[2]|=64;const o=la(r);if(Qi(r)&&!o)return r;r=o}return null}function Ec(r,o,l){const c=o[10];c.begin&&c.begin();try{lu(r,o,r.template,l)}catch(d){throw im(o,d),d}finally{c.end&&c.end()}}function Ky(r){!function(r){for(let o=0;o<r.components.length;o++){const l=r.components[o],c=Qd(l),d=c[1];zg(d,c,d.template,l)}}(r[8])}function Gf(r,o,l){Bs(0),o(r,l)}const j1=(()=>Promise.resolve(null))();function Wf(r){return r[7]||(r[7]=[])}function nm(r){return r.cleanup||(r.cleanup=[])}function im(r,o){const l=r[9],c=l?l.get(iu,null):null;c&&c.handleError(o)}function ev(r,o,l,c,d){for(let g=0;g<l.length;){const _=l[g++],b=l[g++],C=o[_],A=r.data[_];null!==A.setInput?A.setInput(C,d,c,b):C[b]=d}}function zf(r,o,l){let c=l?r.styles:null,d=l?r.classes:null,g=0;if(null!==o)for(let _=0;_<o.length;_++){const b=o[_];"number"==typeof b?g=b:1==g?d=le(d,b):2==g&&(c=le(c,b+": "+o[++_]+";"))}l?r.styles=c:r.stylesWithoutHost=c,l?r.classes=d:r.classesWithoutHost=d}const rm=new Zt("INJECTOR",-1);class z1{get(o,l=Ja){if(l===Ja){const c=new Error(`NullInjectorError: No provider for ${re(o)}!`);throw c.name="NullInjectorError",c}return l}}const nv=new Zt("Set Injector scope."),Tc={},Z1={};let Zf;function iv(){return void 0===Zf&&(Zf=new z1),Zf}function rv(r,o=null,l=null,c){const d=Y1(r,o,l,c);return d._resolveInjectorDefTypes(),d}function Y1(r,o=null,l=null,c){return new q1(r,l,o||iv(),c)}class q1{constructor(o,l,c,d=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];l&&mr(l,b=>this.processProvider(b,o,l)),mr([o],b=>this.processInjectorType(b,[],g)),this.records.set(rm,Ic(void 0,this));const _=this.records.get(nv);this.scope=null!=_?_.value:null,this.source=d||("object"==typeof o?null:re(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,l=Ja,c=tt.Default){this.assertNotDestroyed();const d=L(this),g=fi(void 0);try{if(!(c&tt.SkipSelf)){let b=this.records.get(o);if(void 0===b){const C=("function"==typeof(r=o)||"object"==typeof r&&r instanceof Zt)&&ki(o);b=C&&this.injectableDefInScope(C)?Ic(us(o),Tc):null,this.records.set(o,b)}if(null!=b)return this.hydrate(o,b)}return(c&tt.Self?iv():this.parent).get(o,l=c&tt.Optional&&l===Ja?null:l)}catch(_){if("NullInjectorError"===_.name){if((_[kr]=_[kr]||[]).unshift(re(o)),d)throw _;return function(r,o,l,c){const d=r[kr];throw o[D]&&d.unshift(o[D]),r.message=function(r,o,l,c=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let d=re(o);if(Array.isArray(o))d=o.map(re).join(" -> ");else if("object"==typeof o){let g=[];for(let _ in o)if(o.hasOwnProperty(_)){let b=o[_];g.push(_+":"+("string"==typeof b?JSON.stringify(b):re(b)))}d=`{${g.join(", ")}}`}return`${l}${c?"("+c+")":""}[${d}]: ${r.replace(Vd,"\n  ")}`}("\n"+r.message,d,l,c),r.ngTokenPath=d,r[kr]=null,r}(_,o,"R3InjectorError",this.source)}throw _}finally{fi(g),L(d)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((c,d)=>o.push(re(d))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(o,l,c){if(!(o=Q(o)))return!1;let d=Zi(o);const g=null==d&&o.ngModule||void 0,_=void 0===g?o:g,b=-1!==c.indexOf(_);if(void 0!==g&&(d=Zi(g)),null==d)return!1;if(null!=d.imports&&!b){let N;c.push(_);try{mr(d.imports,P=>{this.processInjectorType(P,l,c)&&(void 0===N&&(N=[]),N.push(P))})}finally{}if(void 0!==N)for(let P=0;P<N.length;P++){const{ngModule:j,providers:q}=N[P];mr(q,ce=>this.processProvider(ce,j,q||B))}}this.injectorDefTypes.add(_);const C=hr(_)||(()=>new _);this.records.set(_,Ic(C,Tc));const A=d.providers;if(null!=A&&!b){const N=o;mr(A,P=>this.processProvider(P,N,A))}return void 0!==g&&void 0!==o.providers}processProvider(o,l,c){let d=Ac(o=Q(o))?o:Q(o&&o.provide);const g=(r=o,sv(r)?Ic(void 0,r.useValue):Ic(ov(r),Tc));var r;if(Ac(o)||!0!==o.multi)this.records.get(d);else{let _=this.records.get(d);_||(_=Ic(void 0,Tc,!0),_.factory=()=>Fe(_.multi),this.records.set(d,_)),d=o,_.multi.push(o)}this.records.set(d,g)}hydrate(o,l){return l.value===Tc&&(l.value=Z1,l.value=l.factory()),"object"==typeof l.value&&l.value&&null!==(r=l.value)&&"object"==typeof r&&"function"==typeof r.ngOnDestroy&&this.onDestroy.add(l.value),l.value;var r}injectableDefInScope(o){if(!o.providedIn)return!1;const l=Q(o.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function us(r){const o=ki(r),l=null!==o?o.factory:hr(r);if(null!==l)return l;if(r instanceof Zt)throw new Error(`Token ${re(r)} is missing a \u0275prov definition.`);if(r instanceof Function)return function(r){const o=r.length;if(o>0){const c=ts(o,"?");throw new Error(`Can't resolve all parameters for ${re(r)}: (${c.join(", ")}).`)}const l=function(r){const o=r&&(r[ur]||r[Un]);if(o){const l=function(r){if(r.hasOwnProperty("name"))return r.name;const o=(""+r).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(r);return null!==l?()=>l.factory(r):()=>new r}(r);throw new Error("unreachable")}function ov(r,o,l){let c;if(Ac(r)){const d=Q(r);return hr(d)||us(d)}if(sv(r))c=()=>Q(r.useValue);else if(function(r){return!(!r||!r.useFactory)}(r))c=()=>r.useFactory(...Fe(r.deps||[]));else if(function(r){return!(!r||!r.useExisting)}(r))c=()=>z(Q(r.useExisting));else{const d=Q(r&&(r.useClass||r.provide));if(!function(r){return!!r.deps}(r))return hr(d)||us(d);c=()=>new d(...Fe(r.deps))}return c}function Ic(r,o,l=!1){return{factory:r,value:o,multi:l?[]:void 0}}function sv(r){return null!==r&&"object"==typeof r&&E in r}function Ac(r){return"function"==typeof r}let so=(()=>{class r{static create(l,c){var d;if(Array.isArray(l))return rv({name:""},c,l,"");{const g=null!=(d=l.name)?d:"";return rv({name:g},l.parent,l.providers,g)}}}return r.THROW_IF_NOT_FOUND=Ja,r.NULL=new z1,r.\u0275prov=qt({token:r,providedIn:"any",factory:()=>z(rm)}),r.__NG_ELEMENT_ID__=-1,r})();function nw(r,o){Jr(Qd(r)[1],rn())}function dm(r){let o=function(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),l=!0;const c=[r];for(;o;){let d;if(Bi(r))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Error("Directives cannot inherit Components");d=o.\u0275dir}if(d){if(l){c.push(d);const _=r;_.inputs=hm(r.inputs),_.declaredInputs=hm(r.declaredInputs),_.outputs=hm(r.outputs);const b=d.hostBindings;b&&sw(r,b);const C=d.viewQuery,A=d.contentQueries;if(C&&rw(r,C),A&&ow(r,A),ne(r.inputs,d.inputs),ne(r.declaredInputs,d.declaredInputs),ne(r.outputs,d.outputs),Bi(d)&&d.data.animation){const N=r.data;N.animation=(N.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let _=0;_<g.length;_++){const b=g[_];b&&b.ngInherit&&b(r),b===dm&&(l=!1)}}o=Object.getPrototypeOf(o)}!function(r){let o=0,l=null;for(let c=r.length-1;c>=0;c--){const d=r[c];d.hostVars=o+=d.hostVars,d.hostAttrs=zt(d.hostAttrs,l=zt(l,d.hostAttrs))}}(c)}function hm(r){return r===G?{}:r===B?[]:r}function rw(r,o){const l=r.viewQuery;r.viewQuery=l?(c,d)=>{o(c,d),l(c,d)}:o}function ow(r,o){const l=r.contentQueries;r.contentQueries=l?(c,d,g)=>{o(c,d,g),l(c,d,g)}:o}function sw(r,o){const l=r.hostBindings;r.hostBindings=l?(c,d)=>{o(c,d),l(c,d)}:o}let Kf=null;function Nc(){if(!Kf){const r=lt.Symbol;if(r&&r.iterator)Kf=r.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const c=o[l];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Kf=c)}}}return Kf}function bh(r){return!!fm(r)&&(Array.isArray(r)||!(r instanceof Map)&&Nc()in r)}function fm(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function cs(r,o,l){return r[o]=l}function $i(r,o,l){return!Object.is(r[o],l)&&(r[o]=l,!0)}function hu(r,o,l,c){const d=$i(r,o,l);return $i(r,o+1,c)||d}function pm(r,o,l,c){const d=Ce();return $i(d,Yr(),o)&&(bt(),function(r,o,l,c,d,g){const _=Tn(r,o);em(o[11],_,g,r.value,l,c,d)}(on(),d,r,o,l,c)),pm}function Rc(r,o,l,c){return $i(r,Yr(),l)?o+Y(l)+c:ft}function Oc(r,o,l,c,d,g,_,b,C,A){const P=function(r,o,l,c,d,g){const _=hu(r,o,l,c);return hu(r,o+2,d,g)||_}(r,tr(),l,d,_,C);return fr(4),P?o+Y(l)+c+Y(d)+g+Y(_)+b+Y(C)+A:ft}function Iv(r,o,l,c,d,g,_,b){const C=Ce(),A=bt(),N=r+20,P=A.firstCreatePass?function(r,o,l,c,d,g,_,b,C){const A=o.consts,N=Cc(o,r,4,_||null,yi(A,b));qg(o,l,N,yi(A,C)),Jr(o,N);const P=N.tViews=pl(2,N,c,d,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,N),P.queries=o.queries.embeddedTView(N)),N}(N,A,C,o,l,c,d,g,_):A.data[N];Kn(P,!1);const j=C[11].createComment("");_c(A,C,j,P),Xn(j,C),Dc(C,C[N]=Yy(j,C,j,P)),Tl(P)&&cu(A,C,P),null!=_&&yh(C,P,b)}function Av(r){return bo(ze.lFrame.contextLView,20+r)}function Dh(r,o=tt.Default){const l=Ce();return null===l?z(r,o):Xo(rn(),l,Q(r),o)}function Bv(){throw new Error("invalid")}function ym(r,o,l){const c=Ce();return $i(c,Yr(),o)&&Cr(bt(),on(),c,r,o,c[11],l,!1),ym}function vm(r,o,l,c,d){const _=d?"class":"style";ev(r,l,o.inputs[_],_,c)}function bm(r,o,l,c){const d=Ce(),g=bt(),_=20+r,b=d[11],C=d[_]=m(b,o,ze.lFrame.currentNamespace),A=g.firstCreatePass?function(r,o,l,c,d,g,_){const b=o.consts,A=Cc(o,r,2,d,yi(b,g));return qg(o,l,A,yi(b,_)),null!==A.attrs&&zf(A,A.attrs,!1),null!==A.mergedAttrs&&zf(A,A.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,A),A}(_,g,d,0,o,l,c):g.data[_];Kn(A,!0);const N=A.mergedAttrs;null!==N&&yn(b,C,N);const P=A.classes;null!==P&&Ag(b,C,P);const j=A.styles;null!==j&&yy(b,C,j),64!=(64&A.flags)&&_c(g,d,C,A),0===ze.lFrame.elementDepthCount&&Xn(C,d),ze.lFrame.elementDepthCount++,Tl(A)&&(cu(g,d,A),uu(g,A,d)),null!==c&&yh(d,A)}function wm(){let r=rn();La()?Co():(r=r.parent,Kn(r,!1));const o=r;ze.lFrame.elementDepthCount--;const l=bt();l.firstCreatePass&&(Jr(l,r),Fn(r)&&l.queries.elementEnd(r)),null!=o.classesWithoutHost&&function(r){return 0!=(16&r.flags)}(o)&&vm(l,o,Ce(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function(r){return 0!=(32&r.flags)}(o)&&vm(l,o,Ce(),o.stylesWithoutHost,!1)}function Vv(r,o,l,c){bm(r,o,l,c),wm()}function Uc(r,o,l){const c=Ce(),d=bt(),g=r+20,_=d.firstCreatePass?function(r,o,l,c,d){const g=o.consts,_=yi(g,c),b=Cc(o,r,8,"ng-container",_);return null!==_&&zf(b,_,!0),qg(o,l,b,yi(g,d)),null!==o.queries&&o.queries.elementStart(o,b),b}(g,d,c,o,l):d.data[g];Kn(_,!0);const b=c[g]=c[11].createComment("");_c(d,c,b,_),Xn(b,c),Tl(_)&&(cu(d,c,_),uu(d,_,c)),null!=l&&yh(c,_)}function Hc(){let r=rn();const o=bt();La()?Co():(r=r.parent,Kn(r,!1)),o.firstCreatePass&&(Jr(o,r),Fn(r)&&o.queries.elementEnd(r))}function An(){return Ce()}function ds(r){return!!r&&"function"==typeof r.then}function fu(r){return!!r&&"function"==typeof r.subscribe}const Uv=fu;function ep(r,o,l,c){const d=Ce(),g=bt(),_=rn();return function(r,o,l,c,d,g,_,b){const C=Tl(c),N=r.firstCreatePass&&nm(r),P=o[8],j=Wf(o);let q=!0;if(3&c.type||b){const Pe=Tn(c,o),We=b?b(Pe):Pe,ve=j.length,Je=b?mt=>b(En(mt[c.index])):c.index;if(Ht(l)){let mt=null;if(!b&&C&&(mt=function(r,o,l,c){const d=r.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const _=d[g];if(_===l&&d[g+1]===c){const b=o[7],C=d[g+2];return b.length>C?b[C]:null}"string"==typeof _&&(g+=2)}return null}(r,o,d,c.index)),null!==mt)(mt.__ngLastListenerFn__||mt).__ngNextListenerFn__=g,mt.__ngLastListenerFn__=g,q=!1;else{g=tp(c,o,P,g,!1);const xt=l.listen(We,d,g);j.push(g,xt),N&&N.push(d,Je,ve,ve+1)}}else g=tp(c,o,P,g,!0),We.addEventListener(d,g,_),j.push(g),N&&N.push(d,Je,ve,_)}else g=tp(c,o,P,g,!1);const ce=c.outputs;let Ne;if(q&&null!==ce&&(Ne=ce[d])){const Pe=Ne.length;if(Pe)for(let We=0;We<Pe;We+=2){const ii=o[Ne[We]][Ne[We+1]].subscribe(g),Iu=j.length;j.push(g,ii),N&&N.push(d,c.index,Iu,-(Iu+1))}}}(g,d,d[11],_,r,o,!!l,c),ep}function Cm(r,o,l,c){try{return!1!==l(c)}catch(d){return im(r,d),!1}}function tp(r,o,l,c,d){return function g(_){if(_===Function)return c;const b=2&r.flags?Ft(r.index,o):o;0==(32&o[2])&&$f(b);let C=Cm(o,0,c,_),A=g.__ngNextListenerFn__;for(;A;)C=Cm(o,0,A,_)&&C,A=A.__ngNextListenerFn__;return d&&!1===C&&(_.preventDefault(),_.returnValue=!1),C}}function ci(r=1){return function(r){return(ze.lFrame.contextLView=function(r,o){for(;r>0;)o=o[15],r--;return o}(r,ze.lFrame.contextLView))[8]}(r)}function Pw(r,o){let l=null;const c=function(r){const o=r.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(r);for(let d=0;d<o.length;d++){const g=o[d];if("*"!==g){if(null===c?Sg(r,g,!0):Iy(c,g))return d}else l=d}return l}function jv(r){const o=Ce()[16][6];if(!o.projection){const c=o.projection=ts(r?r.length:1,null),d=c.slice();let g=o.child;for(;null!==g;){const _=r?Pw(g,r):0;null!==_&&(d[_]?d[_].projectionNext=g:c[_]=g,d[_]=g),g=g.next}}}function Gv(r,o=0,l){const c=Ce(),d=bt(),g=Cc(d,20+r,16,null,l||null);null===g.projection&&(g.projection=o),Co(),64!=(64&g.flags)&&function(r,o,l){Ci(o[11],0,o,l,cn(r,l,o),gc(l.parent||o[6],l,o))}(d,c,g)}function Wv(r,o,l){return np(r,"",o,"",l),Wv}function np(r,o,l,c,d){const g=Ce(),_=Rc(g,o,l,c);return _!==ft&&Cr(bt(),on(),g,r,_,g[11],d,!1),np}function Tm(r,o,l,c,d){const g=r[l+1],_=null===o;let b=c?oo(g):ss(g),C=!1;for(;0!==b&&(!1===C||_);){const N=r[b+1];KE(r[b],o)&&(C=!0,r[b+1]=c?gh(N):ph(N)),b=c?oo(N):ss(N)}C&&(r[l+1]=c?ph(g):gh(g))}function KE(r,o){return null===r||null==o||(Array.isArray(r)?r[1]:r)===o||!(!Array.isArray(r)||"string"!=typeof o)&&ns(r,o)>=0}const ti={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Jv(r){return r.substring(ti.key,ti.keyEnd)}function Im(r,o){const l=ti.textEnd;return l===o?-1:(o=ti.keyEnd=function(r,o,l){for(;o<l&&r.charCodeAt(o)>32;)o++;return o}(r,ti.key=o,l),pu(r,o,l))}function pu(r,o,l){for(;o<l&&r.charCodeAt(o)<=32;)o++;return o}function Xv(r,o,l){return Fo(r,o,l,!1),Xv}function gu(r,o){return Fo(r,o,null,!0),gu}function Hw(r){Lo(li,hs,r,!0)}function hs(r,o){for(let l=function(r){return function(r){ti.key=0,ti.keyEnd=0,ti.value=0,ti.valueEnd=0,ti.textEnd=r.length}(r),Im(r,pu(r,0,ti.textEnd))}(o);l>=0;l=Im(o,l))li(r,Jv(o),!0)}function Fo(r,o,l,c){const d=Ce(),g=bt(),_=fr(2);g.firstUpdatePass&&e0(g,r,_,c),o!==ft&&$i(d,_,o)&&r0(g,g.data[Kt()],d,d[11],r,d[_+1]=function(r,o){return null==r||("string"==typeof o?r+=o:"object"==typeof r&&(r=re(Or(r)))),r}(o,l),c,_)}function Lo(r,o,l,c){const d=bt(),g=fr(2);d.firstUpdatePass&&e0(d,null,g,c);const _=Ce();if(l!==ft&&$i(_,g,l)){const b=d.data[Kt()];if(Rm(b,c)&&!Nm(d,g)){let C=c?b.classesWithoutHost:b.stylesWithoutHost;null!==C&&(l=le(C,l||"")),vm(d,b,_,l,c)}else!function(r,o,l,c,d,g,_,b){d===ft&&(d=B);let C=0,A=0,N=0<d.length?d[0]:null,P=0<g.length?g[0]:null;for(;null!==N||null!==P;){const j=C<d.length?d[C+1]:void 0,q=A<g.length?g[A+1]:void 0;let Ne,ce=null;N===P?(C+=2,A+=2,j!==q&&(ce=P,Ne=q)):null===P||null!==N&&N<P?(C+=2,ce=N):(A+=2,ce=P,Ne=q),null!==ce&&r0(r,o,l,c,ce,Ne,_,b),N=C<d.length?d[C]:null,P=A<g.length?g[A]:null}}(d,b,_,_[11],_[g+1],_[g+1]=function(r,o,l){if(null==l||""===l)return B;const c=[],d=Or(l);if(Array.isArray(d))for(let g=0;g<d.length;g++)r(c,d[g],!0);else if("object"==typeof d)for(const g in d)d.hasOwnProperty(g)&&r(c,g,d[g]);else"string"==typeof d&&o(c,d);return c}(r,o,l),c,g)}}function Nm(r,o){return o>=r.expandoStartIndex}function e0(r,o,l,c){const d=r.data;if(null===d[l+1]){const g=d[Kt()],_=Nm(r,l);Rm(g,c)&&null===o&&!_&&(o=!1),o=function(r,o,l,c){const d=function(r){const o=ze.lFrame.currentDirectiveIndex;return-1===o?null:r[o]}(r);let g=c?o.residualClasses:o.residualStyles;if(null===d)0===(c?o.classBindings:o.styleBindings)&&(l=Gc(l=n0(null,r,o,l,c),o.attrs,c),g=null);else{const _=o.directiveStylingLast;if(-1===_||r[_]!==d)if(l=n0(d,r,o,l,c),null===g){let C=function(r,o,l){const c=l?o.classBindings:o.styleBindings;if(0!==ss(c))return r[oo(c)]}(r,o,c);void 0!==C&&Array.isArray(C)&&(C=n0(null,r,o,C[1],c),C=Gc(C,o.attrs,c),function(r,o,l,c){r[oo(l?o.classBindings:o.styleBindings)]=c}(r,o,c,C))}else g=function(r,o,l){let c;const d=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<d;g++)c=Gc(c,r[g].hostAttrs,l);return Gc(c,o.attrs,l)}(r,o,c)}return void 0!==g&&(c?o.residualClasses=g:o.residualStyles=g),l}(d,g,o,c),function(r,o,l,c,d,g){let _=g?o.classBindings:o.styleBindings,b=oo(_),C=ss(_);r[c]=l;let N,A=!1;if(Array.isArray(l)){const P=l;N=P[1],(null===N||ns(P,N)>0)&&(A=!0)}else N=l;if(d)if(0!==C){const j=oo(r[b+1]);r[c+1]=fh(j,b),0!==j&&(r[j+1]=xf(r[j+1],c)),r[b+1]=function(r,o){return 131071&r|o<<17}(r[b+1],c)}else r[c+1]=fh(b,0),0!==b&&(r[b+1]=xf(r[b+1],c)),b=c;else r[c+1]=fh(C,0),0===b?b=c:r[C+1]=xf(r[C+1],c),C=c;A&&(r[c+1]=ph(r[c+1])),Tm(r,N,c,!0),Tm(r,N,c,!1),function(r,o,l,c,d){const g=d?r.residualClasses:r.residualStyles;null!=g&&"string"==typeof o&&ns(g,o)>=0&&(l[c+1]=gh(l[c+1]))}(o,N,r,c,g),_=fh(b,C),g?o.classBindings=_:o.styleBindings=_}(d,g,o,l,_,c)}}function n0(r,o,l,c,d){let g=null;const _=l.directiveEnd;let b=l.directiveStylingLast;for(-1===b?b=l.directiveStart:b++;b<_&&(g=o[b],c=Gc(c,g.hostAttrs,d),g!==r);)b++;return null!==r&&(l.directiveStylingLast=b),c}function Gc(r,o,l){const c=l?1:2;let d=-1;if(null!==o)for(let g=0;g<o.length;g++){const _=o[g];"number"==typeof _?d=_:d===c&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),li(r,_,!!l||o[++g]))}return void 0===r?null:r}function r0(r,o,l,c,d,g,_,b){if(!(3&o.type))return;const C=r.data,A=C[b+1];ap(function(r){return 1==(1&r)}(A)?Th(C,o,l,d,ss(A),_):void 0)||(ap(g)||function(r){return 2==(2&r)}(A)&&(g=Th(C,null,l,d,b,_)),function(r,o,l,c,d){const g=Ht(r);if(o)d?g?r.addClass(l,c):l.classList.add(c):g?r.removeClass(l,c):l.classList.remove(c);else{let _=-1===c.indexOf("-")?void 0:no.DashCase;if(null==d)g?r.removeStyle(l,c,_):l.style.removeProperty(c);else{const b="string"==typeof d&&d.endsWith("!important");b&&(d=d.slice(0,-10),_|=no.Important),g?r.setStyle(l,c,d,_):l.style.setProperty(c,d,b?"important":"")}}}(c,_,er(Kt(),l),d,g))}function Th(r,o,l,c,d,g){const _=null===o;let b;for(;d>0;){const C=r[d],A=Array.isArray(C),N=A?C[1]:C,P=null===N;let j=l[d+1];j===ft&&(j=P?B:void 0);let q=P?_r(j,c):N===c?j:void 0;if(A&&!ap(q)&&(q=_r(C,c)),ap(q)&&(b=q,_))return b;const ce=r[d+1];d=_?oo(ce):ss(ce)}if(null!==o){let C=g?o.residualClasses:o.residualStyles;null!=C&&(b=_r(C,c))}return b}function ap(r){return void 0!==r}function Rm(r,o){return 0!=(r.flags&(o?16:32))}function o0(r,o=""){const l=Ce(),c=bt(),d=r+20,g=c.firstCreatePass?Cc(c,d,1,o,null):c.data[d],_=l[d]=uh(l[11],o);_c(c,l,_,g),Kn(g,!1)}function km(r){return _u("",r,""),km}function _u(r,o,l){const c=Ce(),d=Rc(c,r,o,l);return d!==ft&&function(r,o,l){const c=er(o,r);Sf(r[11],c,l)}(c,Kt(),d),_u}function up(r,o,l,c,d,g,_,b,C){Lo(li,hs,Oc(Ce(),r,o,l,c,d,g,_,b,C),!0)}function Bm(r,o,l){const c=Ce();return $i(c,Yr(),o)&&Cr(bt(),on(),c,r,o,c[11],l,!0),Bm}const gl=void 0;var eC=["en",[["a","p"],["AM","PM"],gl],[["AM","PM"],gl,gl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gl,"{1} 'at' {0}",gl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(r){const l=Math.floor(Math.abs(r)),c=r.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===c?1:5}];let vu={};function dp(r){const o=function(r){return r.toLowerCase().replace(/_/g,"-")}(r);let l=v0(o);if(l)return l;const c=o.split("-")[0];if(l=v0(c),l)return l;if("en"===c)return eC;throw new Error(`Missing locale data for the locale "${r}".`)}function y0(r){return dp(r)[st.PluralCase]}function v0(r){return r in vu||(vu[r]=lt.ng&&lt.ng.common&&lt.ng.common.locales&&lt.ng.common.locales[r]),vu[r]}var st=(()=>((st=st||{})[st.LocaleId=0]="LocaleId",st[st.DayPeriodsFormat=1]="DayPeriodsFormat",st[st.DayPeriodsStandalone=2]="DayPeriodsStandalone",st[st.DaysFormat=3]="DaysFormat",st[st.DaysStandalone=4]="DaysStandalone",st[st.MonthsFormat=5]="MonthsFormat",st[st.MonthsStandalone=6]="MonthsStandalone",st[st.Eras=7]="Eras",st[st.FirstDayOfWeek=8]="FirstDayOfWeek",st[st.WeekendRange=9]="WeekendRange",st[st.DateFormat=10]="DateFormat",st[st.TimeFormat=11]="TimeFormat",st[st.DateTimeFormat=12]="DateTimeFormat",st[st.NumberSymbols=13]="NumberSymbols",st[st.NumberFormats=14]="NumberFormats",st[st.CurrencyCode=15]="CurrencyCode",st[st.CurrencySymbol=16]="CurrencySymbol",st[st.CurrencyName=17]="CurrencyName",st[st.Currencies=18]="Currencies",st[st.Directionality=19]="Directionality",st[st.PluralCase=20]="PluralCase",st[st.ExtraData=21]="ExtraData",st))();const rT=["zero","one","two","few","many"],Vm="en-US",Um={marker:"element"},Hm={marker:"ICU"};var Wn=(()=>((Wn=Wn||{})[Wn.SHIFT=2]="SHIFT",Wn[Wn.APPEND_EAGERLY=1]="APPEND_EAGERLY",Wn[Wn.COMMENT=2]="COMMENT",Wn))();let tC=Vm;function iC(r,o,l){const c=o.insertBeforeIndex,d=Array.isArray(c)?c[0]:c;return null===d?mc(r,0,l):En(l[d])}function rC(r,o,l,c,d){const g=o.insertBeforeIndex;if(Array.isArray(g)){let _=c,b=null;if(3&o.type||(b=_,_=d),null!==_&&0==(2&o.flags))for(let C=1;C<g.length;C++)ro(r,_,l[g[C]],b,!1)}}function oC(r,o){if(r.push(o),r.length>1)for(let l=r.length-2;l>=0;l--){const c=r[l];sC(c)||lT(c,o)&&null===uT(c)&&b0(c,o.index)}}function sC(r){return!(64&r.type)}function lT(r,o){return sC(o)||r.index>o.index}function uT(r){const o=r.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function b0(r,o){const l=r.insertBeforeIndex;Array.isArray(l)?l[0]=o:(cl(iC,rC),r.insertBeforeIndex=o)}function hp(r,o){const l=r.data[o];return null===l||"string"==typeof l?null:l.hasOwnProperty("currentCaseLViewIndex")?l:l.value}function $m(r,o,l){const c=_h(r,l,64,null,null);return oC(o,c),c}function Ah(r,o){const l=o[r.currentCaseLViewIndex];return null===l?l:l<0?~l:l}function fp(r){return r>>>17}function w0(r){return(131070&r)>>>1}let pp=0,ga=0;function E0(r,o,l,c){const d=l[11];let _,g=null;for(let b=0;b<o.length;b++){const C=o[b];if("string"==typeof C){const A=o[++b];null===l[A]&&(l[A]=uh(d,C))}else if("number"==typeof C)switch(1&C){case 0:const A=fp(C);let N,P;if(null===g&&(g=A,_=ul(d,c)),A===g?(N=c,P=_):(N=null,P=En(l[A])),null!==P){const Ne=w0(C);ro(d,P,l[Ne],N,!1);const We=hp(r,Ne);if(null!==We&&"object"==typeof We){const ve=Ah(We,l);null!==ve&&E0(r,We.create[ve],l,l[We.anchorIdx])}}break;case 1:const q=o[++b],ce=o[++b];em(d,er(C>>>1,l),null,null,q,ce,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${C}"`)}else switch(C){case Hm:const A=o[++b],N=o[++b];null===l[N]&&Xn(l[N]=sr(d,A),l);break;case Um:const P=o[++b],j=o[++b];null===l[j]&&Xn(l[j]=m(d,P,null),l)}}}function T0(r,o,l,c,d){for(let g=0;g<l.length;g++){const _=l[g],b=l[++g];if(_&d){let C="";for(let A=g+1;A<=g+b;A++){const N=l[A];if("string"==typeof N)C+=N;else if("number"==typeof N)if(N<0)C+=Y(o[c-N]);else{const P=N>>>2;switch(3&N){case 1:const j=l[++A],q=l[++A],ce=r.data[P];"string"==typeof ce?em(o[11],o[P],null,ce,j,C,q):Cr(r,ce,o,j,C,o[11],q,!1);break;case 0:const Ne=o[P];null!==Ne&&Sf(o[11],Ne,C);break;case 2:Yc(r,hp(r,P),o,C);break;case 3:I0(r,hp(r,P),c,o)}}}}else{const C=l[g+1];if(C>0&&3==(3&C)){const N=hp(r,C>>>2);o[N.currentCaseLViewIndex]<0&&I0(r,N,c,o)}}g+=b}}function I0(r,o,l,c){let d=c[o.currentCaseLViewIndex];if(null!==d){let g=pp;d<0&&(d=c[o.currentCaseLViewIndex]=~d,g=-1),T0(r,c,o.update[d],l,g)}}function Yc(r,o,l,c){const d=function(r,o){let l=r.cases.indexOf(o);if(-1===l)switch(r.type){case 1:{const c=function(r,o){const l=y0(o)(parseInt(r,10)),c=rT[l];return void 0!==c?c:"other"}(o,tC);l=r.cases.indexOf(c),-1===l&&"other"!==c&&(l=r.cases.indexOf("other"));break}case 0:l=r.cases.indexOf("other")}return-1===l?null:l}(o,c);if(Ah(o,l)!==d&&(ml(r,o,l),l[o.currentCaseLViewIndex]=null===d?null:~d,null!==d)){const _=l[o.anchorIdx];_&&E0(r,o.create[d],l,_)}}function ml(r,o,l){let c=Ah(o,l);if(null!==c){const d=o.remove[c];for(let g=0;g<d.length;g++){const _=d[g];if(_>0){const b=er(_,l);null!==b&&b1(l[11],b)}else ml(r,hp(r,~_),l)}}}function mp(){const r=[];let l,c,o=-1;function g(b,C){o=0;const A=Ah(b,C);c=null!==A?b.remove[A]:B}function _(){if(o<c.length){const b=c[o++];return b>0?l[b]:(r.push(o,c),g(l[1].data[~b],l),_())}return 0===r.length?null:(c=r.pop(),o=r.pop(),_())}return function(b,C){for(l=C;r.length;)r.pop();return g(b.value,C),_}}const Wm=/\ufffd(\d+):?\d*\ufffd/gi,dT=/\ufffd(\d+)\ufffd/,dC=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,hT=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,fT=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,pT=/\uE500/g;function hC(r,o,l,c,d,g,_){const b=su(r,c,1,null);let C=b<<Wn.SHIFT,A=Zr();o===A&&(A=null),null===A&&(C|=Wn.APPEND_EAGERLY),_&&(C|=Wn.COMMENT,function(r){void 0===ah&&(ah=r())}(mp)),d.push(C,null===g?"":g);const N=_h(r,b,_?32:1,null===g?"":g,null);oC(l,N);const P=N.index;return Kn(N,!1),null!==A&&o!==A&&function(r,o){let l=r.insertBeforeIndex;null===l?(cl(iC,rC),l=r.insertBeforeIndex=[null,o]):(function(r,o,l){r!=o&&gt(l,r,o,"==")}(Array.isArray(l),!0,"Expecting array here"),l.push(o))}(A,P),N}function _T(r,o,l,c,d,g,_){const b=_.match(Wm),C=hC(r,o,l,g,c,b?null:_,!1);b&&Nh(d,_,C.index,null,0,null)}function Nh(r,o,l,c,d,g){const _=r.length,b=_+1;r.push(null,null);const C=_+2,A=o.split(Wm);let N=0;for(let P=0;P<A.length;P++){const j=A[P];if(1&P){const q=d+parseInt(j,10);r.push(-1-q),N|=S0(q)}else""!==j&&r.push(j)}return r.push(l<<2|(c?1:0)),c&&r.push(c,g),r[_]=N,r[b]=r.length-C,N}function S0(r){return 1<<Math.min(r,31)}function zm(r){let o,g,l="",c=0,d=!1;for(;null!==(o=hT.exec(r));)d?o[0]===`\ufffd/*${g}\ufffd`&&(c=o.index,d=!1):(l+=r.substring(c,o.index+o[0].length),g=o[1],d=!0);return l+=r.substr(c),l}function Mh(r,o,l,c,d,g){let _=0;const b={type:d.type,currentCaseLViewIndex:su(r,o,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function(r,o,l){r.push(S0(o.mainBinding),2,-1-o.mainBinding,l<<2|2)})(l,d,g),function(r,o,l){const c=r.data[o];null===c?r.data[o]=l:c.value=l}(r,g,b);const C=d.values;for(let A=0;A<C.length;A++){const N=C[A],P=[];for(let j=0;j<N.length;j++){const q=N[j];if("string"!=typeof q){const ce=P.push(q)-1;N[j]=`\x3c!--\ufffd${ce}\ufffd--\x3e`}}_=vT(r,b,o,l,c,d.cases[A],N.join(""),P)|_}_&&function(r,o,l){r.push(o,1,l<<2|3)}(l,_,g)}function fC(r){const o=[],l=[];let c=1,d=0;const g=Jc(r=r.replace(dC,function(_,b,C){return c="select"===C?0:1,d=parseInt(b.substr(1),10),""}));for(let _=0;_<g.length;){let b=g[_++].trim();1===c&&(b=b.replace(/\s*(?:=)?(\w+)\s*/,"$1")),b.length&&o.push(b);const C=Jc(g[_++]);o.length>l.length&&l.push(C)}return{type:c,mainBinding:d,cases:o,values:l}}function Jc(r){if(!r)return[];let o=0;const l=[],c=[],d=/[{}]/g;let g;for(d.lastIndex=0;g=d.exec(r);){const b=g.index;if("}"==g[0]){if(l.pop(),0==l.length){const C=r.substring(o,b);dC.test(C)?c.push(fC(C)):c.push(C),o=b+1}}else{if(0==l.length){const C=r.substring(o,b);c.push(C),o=b+1}l.push("{")}}const _=r.substring(o);return c.push(_),c}function vT(r,o,l,c,d,g,_,b){const C=[],A=[],N=[];o.cases.push(g),o.create.push(C),o.remove.push(A),o.update.push(N);const j=Xu(Is()).getInertBodyElement(_),q=wf(j)||j;return q?Zm(r,o,l,c,C,A,N,q,d,b,0):0}function Zm(r,o,l,c,d,g,_,b,C,A,N){let P=0,j=b.firstChild;for(;j;){const q=su(r,l,1,null);switch(j.nodeType){case Node.ELEMENT_NODE:const ce=j,Ne=ce.tagName.toLowerCase();if(Fr.hasOwnProperty(Ne)){R0(d,Um,Ne,C,q),r.data[q]=Ne;const Je=ce.attributes;for(let mt=0;mt<Je.length;mt++){const xt=Je.item(mt),ii=xt.name.toLowerCase();xt.value.match(Wm)?rl.hasOwnProperty(ii)&&Nh(_,xt.value,q,xt.name,0,qd[ii]?ea:Kl[ii]?mf:null):k0(d,q,xt)}P=Zm(r,o,l,c,d,g,_,j,q,A,N+1)|P,Ym(g,q,N)}break;case Node.TEXT_NODE:const Pe=j.textContent||"",We=Pe.match(Wm);R0(d,null,We?"":Pe,C,q),Ym(g,q,N),We&&(P=Nh(_,Pe,q,null,0,null)|P);break;case Node.COMMENT_NODE:const ve=dT.exec(j.textContent||"");if(ve){const mt=A[parseInt(ve[1],10)];R0(d,Hm,"",C,q),Mh(r,l,c,C,mt,q),bu(g,q,N)}}j=j.nextSibling}return P}function Ym(r,o,l){0===l&&r.push(o)}function bu(r,o,l){0===l&&(r.push(~o),r.push(o))}function R0(r,o,l,c,d){null!==o&&r.push(o),r.push(l,d,function(r,o,l){return 0|o<<17|l<<1}(0,c,d))}function k0(r,o,l){r.push(o<<1|1,l.name,l.value)}function Km(r,o,l=-1){const c=bt(),d=Ce(),g=20+r,_=yi(c.consts,o),b=Zr();c.firstCreatePass&&function(r,o,l,c,d,g){const _=Zr(),b=[],C=[],A=[[]];d=function(r,o){if(function(r){return-1===r}(o))return zm(r);{const l=r.indexOf(`:${o}\ufffd`)+2+o.toString().length,c=r.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return zm(r.substring(l,c))}}(d,g);const N=function(r){return r.replace(pT," ")}(d).split(fT);for(let P=0;P<N.length;P++){let j=N[P];if(0==(1&P)){const q=Jc(j);for(let ce=0;ce<q.length;ce++){let Ne=q[ce];if(0==(1&ce)){const Pe=Ne;""!==Pe&&_T(r,_,A[0],b,C,l,Pe)}else{const Pe=Ne;if("object"!=typeof Pe)throw new Error(`Unable to parse ICU expression in "${d}" message.`);Mh(r,l,C,o,Pe,hC(r,_,A[0],l,b,"",!0).index)}}}else{const q=47===j.charCodeAt(0),Ne=(j.charCodeAt(q?1:0),20+Number.parseInt(j.substring(q?2:1)));if(q)A.shift(),Kn(Zr(),!1);else{const Pe=$m(r,A[0],Ne);A.unshift([]),Kn(Pe,!0)}}}r.data[c]={create:b,update:C}}(c,null===b?0:b.index,d,g,_,l);const C=c.data[g],N=io(c,b===d[6]?null:b,d);(function(r,o,l,c){const d=r[11];for(let g=0;g<o.length;g++){const _=o[g++],b=o[g],C=(_&Wn.COMMENT)===Wn.COMMENT,A=(_&Wn.APPEND_EAGERLY)===Wn.APPEND_EAGERLY,N=_>>>Wn.SHIFT;let P=r[N];null===P&&(P=r[N]=C?d.createComment(b):uh(d,b)),A&&null!==l&&ro(d,l,P,c,!1)}})(d,C.create,N,b&&8&b.type?d[b.index]:null),Ps(!0)}function L0(r,o,l){Km(r,o,l),Ps(!1)}function kh(r){return function(r){r&&(pp|=1<<Math.min(ga,31)),ga++}($i(Ce(),Yr(),r)),kh}function yp(r){!function(r,o,l){if(ga>0){const c=r.data[l];T0(r,o,Array.isArray(c)?c:c.update,tr()-ga-1,pp)}pp=0,ga=0}(bt(),Ce(),r+20)}function Qm(r,o,l,c,d){if(r=Q(r),Array.isArray(r))for(let g=0;g<r.length;g++)Qm(r[g],o,l,c,d);else{const g=bt(),_=Ce();let b=Ac(r)?r:Q(r.provide),C=ov(r);const A=rn(),N=1048575&A.providerIndexes,P=A.directiveStart,j=A.providerIndexes>>20;if(Ac(r)||!r.multi){const q=new Gs(C,d,Dh),ce=H0(b,o,d?N:N+j,P);-1===ce?(nr(Io(A,_),g,b),xh(g,r,o.length),o.push(b),A.directiveStart++,A.directiveEnd++,d&&(A.providerIndexes+=1048576),l.push(q),_.push(q)):(l[ce]=q,_[ce]=q)}else{const q=H0(b,o,N+j,P),ce=H0(b,o,N,N+j),Ne=q>=0&&l[q],Pe=ce>=0&&l[ce];if(d&&!Pe||!d&&!Ne){nr(Io(A,_),g,b);const We=function(r,o,l,c,d){const g=new Gs(r,l,Dh);return g.multi=[],g.index=o,g.componentProviders=0,U0(g,d,c&&!l),g}(d?bC:$0,l.length,d,c,C);!d&&Pe&&(l[ce].providerFactory=We),xh(g,r,o.length,0),o.push(b),A.directiveStart++,A.directiveEnd++,d&&(A.providerIndexes+=1048576),l.push(We),_.push(We)}else xh(g,r,q>-1?q:ce,U0(l[d?ce:q],C,!d&&c));!d&&c&&Pe&&l[ce].componentProviders++}}}function xh(r,o,l,c){const d=Ac(o),g=function(r){return!!r.useClass}(o);if(d||g){const C=(g?Q(o.useClass):o).prototype.ngOnDestroy;if(C){const A=r.destroyHooks||(r.destroyHooks=[]);if(!d&&o.multi){const N=A.indexOf(l);-1===N?A.push(l,[c,C]):A[N+1].push(c,C)}else A.push(l,C)}}}function U0(r,o,l){return l&&r.componentProviders++,r.multi.push(o)-1}function H0(r,o,l,c){for(let d=l;d<c;d++)if(o[d]===r)return d;return-1}function $0(r,o,l,c){return vp(this.multi,[])}function bC(r,o,l,c){const d=this.multi;let g;if(this.providerFactory){const _=this.providerFactory.componentProviders,b=Qr(l,l[1],this.providerFactory.index,c);g=b.slice(0,_),vp(d,g);for(let C=_;C<b.length;C++)g.push(b[C])}else g=[],vp(d,g);return g}function vp(r,o){for(let l=0;l<r.length;l++)o.push((0,r[l])());return o}function Xm(r,o=[]){return l=>{l.providersResolver=(c,d)=>function(r,o,l){const c=bt();if(c.firstCreatePass){const d=Bi(r);Qm(l,c.data,c.blueprint,d,!0),Qm(o,c.data,c.blueprint,d,!1)}}(c,d?d(r):r,o)}}class e_{}class wT{resolveComponentFactory(o){throw function(r){const o=Error(`No component factory found for ${re(r)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=r,o}(o)}}let Kc=(()=>{class r{}return r.NULL=new wT,r})();function wC(){return Qc(rn(),Ce())}function Qc(r,o){return new Oh(Tn(r,o))}let Oh=(()=>{class r{constructor(l){this.nativeElement=l}}return r.__NG_ELEMENT_ID__=wC,r})();function CC(r){return r instanceof Oh?r.nativeElement:r}class EC{}let TC=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function(){const r=Ce(),l=Ft(rn().index,r);return function(r){return r[11]}(cr(l)?l:r)}(),r})(),AC=(()=>{class r{}return r.\u0275prov=qt({token:r,providedIn:"root",factory:()=>null}),r})();class Z0{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const SC=new Z0("13.0.3"),bp={};function wp(r,o,l,c,d=!1){for(;null!==l;){const g=o[l.index];if(null!==g&&c.push(En(g)),dr(g))for(let b=10;b<g.length;b++){const C=g[b],A=C[1].firstChild;null!==A&&wp(C[1],C,A,c)}const _=l.type;if(8&_)wp(r,o,l.child,c);else if(32&_){const b=ll(l,o);let C;for(;C=b();)c.push(C)}else if(16&_){const b=Eg(o,l);if(Array.isArray(b))c.push(...b);else{const C=la(o[16]);wp(C[1],C,b,c,!0)}}l=d?l.projectionNext:l.next}return c}class Cp{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return wp(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(dr(o)){const l=o[8],c=l?l.indexOf(this):-1;c>-1&&(Ae(o,c),es(l,c))}this._attachedToViewContainer=!1}Ie(this._lView[1],this._lView)}onDestroy(o){k1(this._lView[1],this._lView,null,o)}markForCheck(){$f(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ec(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(r,o,l){Do(!0);try{Ec(r,o,l)}finally{Do(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var o;this._appRef=null,yc(this._lView[1],o=this._lView,o[11],2,null,null)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=o}}class Y0 extends Cp{constructor(o){super(o),this._view=o}detectChanges(){Ky(this._view)}checkNoChanges(){!function(r){Do(!0);try{Ky(r)}finally{Do(!1)}}(this._view)}get context(){return null}}class q0 extends Kc{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=Jt(o);return new n_(l,this.ngModule)}}function NC(r){const o=[];for(let l in r)r.hasOwnProperty(l)&&o.push({propName:r[l],templateName:l});return o}const K0=new Zt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>oh});class n_ extends e_{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=o.selectors.map(Ay).join(","),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return NC(this.componentDef.inputs)}get outputs(){return NC(this.componentDef.outputs)}create(o,l,c,d){const g=(d=d||this.ngModule)?function(r,o){return{get:(l,c,d)=>{const g=r.get(l,bp,d);return g!==bp||c===bp?g:o.get(l,c,d)}}}(o,d.injector):o,_=g.get(EC,Rl),b=g.get(AC,null),C=_.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",N=c?function(r,o,l){if(Ht(r))return r.selectRootElement(o,l===Ue.ShadowDom);let c="string"==typeof o?r.querySelector(o):o;return c.textContent="",c}(C,c,this.componentDef.encapsulation):m(_.createRenderer(null,this.componentDef),A,function(r){const o=r.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(A)),P=this.componentDef.onPush?576:528,j=function(r,o){return{components:[],scheduler:r||oh,clean:j1,playerHandler:o||null,flags:0}}(),q=pl(0,null,null,1,0,null,null,null,null,null),ce=ha(null,q,j,P,null,null,_,C,b,g);let Ne,Pe;Ha(ce);try{const We=function(r,o,l,c,d,g){const _=l[1];l[20]=r;const C=Cc(_,20,2,"#host",null),A=C.mergedAttrs=o.hostAttrs;null!==A&&(zf(C,A,!0),null!==r&&(yn(d,r,A),null!==C.classes&&Ag(d,r,C.classes),null!==C.styles&&yy(d,r,C.styles)));const N=c.createRenderer(r,o),P=ha(l,Fy(o),null,o.onPush?64:16,l[20],C,c,N,g||null,null);return _.firstCreatePass&&(nr(Io(C,l),_,o.type),Wy(_,C),Uf(C,l.length,1)),Dc(l,P),l[20]=P}(N,this.componentDef,ce,_,C);if(N)if(c)yn(C,N,["ng-version",SC.full]);else{const{attrs:ve,classes:Je}=function(r){const o=[],l=[];let c=1,d=2;for(;c<r.length;){let g=r[c];if("string"==typeof g)2===d?""!==g&&o.push(g,r[++c]):8===d&&l.push(g);else{if(!Hi(d))break;d=g}c++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);ve&&yn(C,N,ve),Je&&Je.length>0&&Ag(C,N,Je.join(" "))}if(Pe=vo(q,20),void 0!==l){const ve=Pe.projection=[];for(let Je=0;Je<this.ngContentSelectors.length;Je++){const mt=l[Je];ve.push(null!=mt?Array.from(mt):null)}}Ne=function(r,o,l,c,d){const g=l[1],_=function(r,o,l){const c=rn();r.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),zy(r,c,o,su(r,o,1,null),l));const d=Qr(o,r,c.directiveStart,c);Xn(d,o);const g=Tn(c,o);return g&&Xn(g,o),d}(g,l,o);if(c.components.push(_),r[8]=_,d&&d.forEach(C=>C(_,o)),o.contentQueries){const C=rn();o.contentQueries(1,_,C.directiveStart)}const b=rn();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(qr(b.index),Jg(l[1],b,0,b.directiveStart,b.directiveEnd,o),jy(o,_)),_}(We,this.componentDef,ce,j,[nw]),au(q,ce,null)}finally{Hs()}return new RC(this.componentType,Ne,Qc(Pe,ce),ce,Pe)}}class RC extends class{}{constructor(o,l,c,d,g){super(),this.location=c,this._rootLView=d,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new Y0(d),this.componentType=o}get injector(){return new tn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Xc{}class eb{}const Ph=new Map;class i_ extends Xc{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new q0(this);const c=qn(o);this._bootstrapComponents=wr(c.bootstrap),this._r3Injector=Y1(o,l,[{provide:Xc,useValue:this},{provide:Kc,useValue:this.componentFactoryResolver}],re(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,l=so.THROW_IF_NOT_FOUND,c=tt.Default){return o===so||o===Xc||o===rm?this:this._r3Injector.get(o,l,c)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class r_ extends eb{constructor(o){super(),this.moduleType=o,null!==qn(o)&&function(r){const o=new Set;!function l(c){const d=qn(c,!0),g=d.id;null!==g&&(function(r,o,l){if(o&&o!==l)throw new Error(`Duplicate module registered for ${r} - ${re(o)} vs ${re(o.name)}`)}(g,Ph.get(g),c),Ph.set(g,c));const _=wr(d.imports);for(const b of _)o.has(b)||(o.add(b),l(b))}(r)}(o)}create(o){return new i_(this.moduleType,o)}}function ib(r,o,l,c){return sb(Ce(),Hn(),r,o,l,c)}function PC(r,o,l,c,d){return function(r,o,l,c,d,g,_){const b=o+l;return hu(r,b,d,g)?cs(r,b+2,_?c.call(_,d,g):c(d,g)):Fh(r,b+2)}(Ce(),Hn(),r,o,l,c,d)}function o_(r,o,l,c,d,g){return function(r,o,l,c,d,g,_,b){const C=o+l;return function(r,o,l,c,d){const g=hu(r,o,l,c);return $i(r,o+2,d)||g}(r,C,d,g,_)?cs(r,C+3,b?c.call(b,d,g,_):c(d,g,_)):Fh(r,C+3)}(Ce(),Hn(),r,o,l,c,d,g)}function Fh(r,o){const l=r[o];return l===ft?void 0:l}function sb(r,o,l,c,d,g){const _=o+l;return $i(r,_,d)?cs(r,_+1,g?c.call(g,d):c(d)):Fh(r,_+1)}function ub(r,o){const l=bt();let c;const d=r+20;l.firstCreatePass?(c=function(r,o){if(o)for(let l=o.length-1;l>=0;l--){const c=o[l];if(r===c.name)return c}}(o,l.pipeRegistry),l.data[d]=c,c.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(d,c.onDestroy)):c=l.data[d];const g=c.factory||(c.factory=hr(c.type)),_=fi(Dh);try{const b=To(!1),C=g();return To(b),function(r,o,l,c){l>=r.data.length&&(r.data[l]=null,r.blueprint[l]=null),o[l]=c}(l,Ce(),d,C),C}finally{fi(_)}}function cb(r,o,l){const c=r+20,d=Ce(),g=bo(d,c);return function(r,o){return r[1].data[o].pure}(d,c)?sb(d,Hn(),o,g.transform,l,g):g.transform(l)}function a_(r){return o=>{setTimeout(r,void 0,o)}}const fs=class extends s.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,c){var C,A,N;let d=o,g=l||(()=>null),_=c;if(o&&"object"==typeof o){const P=o;d=null==(C=P.next)?void 0:C.bind(P),g=null==(A=P.error)?void 0:A.bind(P),_=null==(N=P.complete)?void 0:N.bind(P)}this.__isAsync&&(g=a_(g),d&&(d=a_(d)),_&&(_=a_(_)));const b=super.subscribe({next:d,error:g,complete:_});return o instanceof K.w0&&o.add(b),b}};function ZC(){return this._results[Nc()]()}class l_{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Nc(),c=l_.prototype;c[l]||(c[l]=ZC)}get changes(){return this._changes||(this._changes=new fs)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const c=this;c.dirty=!1;const d=Ni(o);(this._changesDetected=!function(r,o,l){if(r.length!==o.length)return!1;for(let c=0;c<r.length;c++){let d=r[c],g=o[c];if(l&&(d=l(d),g=l(g)),g!==d)return!1}return!0}(c._results,d,l))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Bh=(()=>{class r{}return r.__NG_ELEMENT_ID__=JC,r})();const YC=Bh,qC=class extends YC{constructor(o,l,c){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=c}createEmbeddedView(o){const l=this._declarationTContainer.tViews,c=ha(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(c[19]=g.createEmbeddedView(l)),au(l,c,o),new Cp(c)}};function JC(){return Dp(rn(),Ce())}function Dp(r,o){return 4&r.type?new qC(o,r,Qc(r,o)):null}let Ep=(()=>{class r{}return r.__NG_ELEMENT_ID__=KC,r})();function KC(){return lo(rn(),Ce())}const ET=Ep,db=class extends ET{constructor(o,l,c){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=c}get element(){return Qc(this._hostTNode,this._hostLView)}get injector(){return new tn(this._hostTNode,this._hostLView)}get parentInjector(){const o=za(this._hostTNode,this._hostLView);if(On(o)){const l=Ws(o,this._hostLView),c=Ko(o);return new tn(l[1].data[c+8],l)}return new tn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=hb(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,c){const d=o.createEmbeddedView(l||{});return this.insert(d,c),d}createComponent(o,l,c,d,g){const _=o&&!("function"==typeof o);let b;if(_)b=l;else{const P=l||{};b=P.index,c=P.injector,d=P.projectableNodes,g=P.ngModuleRef}const C=_?o:new n_(Jt(o)),A=c||this.parentInjector;if(!g&&null==C.ngModule&&A){const P=A.get(Xc,null);P&&(g=P)}const N=C.create(A,d,void 0,g);return this.insert(N.hostView,b),N}insert(o,l){const c=o._lView,d=c[1];if(dr(c[3])){const N=this.indexOf(o);if(-1!==N)this.detach(N);else{const P=c[3],j=new db(P,P[6],P[3]);j.detach(j.indexOf(o))}}const g=this._adjustIndex(l),_=this._lContainer;!function(r,o,l,c){const d=10+c,g=l.length;c>0&&(l[d-1][4]=o),c<g-10?(o[4]=l[d],Bl(l,10+c,o)):(l.push(o),o[4]=null),o[3]=l;const _=o[17];null!==_&&l!==_&&function(r,o){const l=r[9];o[16]!==o[3][3][16]&&(r[2]=!0),null===l?r[9]=[o]:l.push(o)}(_,o);const b=o[19];null!==b&&b.insertView(r),o[2]|=128}(d,c,_,g);const b=Tg(g,_),C=c[11],A=ul(C,_[7]);return null!==A&&function(r,o,l,c,d,g){c[0]=d,c[6]=o,yc(r,c,l,1,d,g)}(d,_[6],C,c,A,b),o.attachToViewContainerRef(),Bl(u_(_),g,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=hb(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),c=Ae(this._lContainer,l);c&&(es(u_(this._lContainer),l),Ie(c[1],c))}detach(o){const l=this._adjustIndex(o,-1),c=Ae(this._lContainer,l);return c&&null!=es(u_(this._lContainer),l)?new Cp(c):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function hb(r){return r[8]}function u_(r){return r[8]||(r[8]=[])}function lo(r,o){let l;const c=o[r.index];if(dr(c))l=c;else{let d;if(8&r.type)d=En(c);else{const g=o[11];d=g.createComment("");const _=Tn(r,o);ro(g,ul(g,_),d,function(r,o){return Ht(r)?r.nextSibling(o):o.nextSibling}(g,_),!1)}o[r.index]=l=Yy(c,o,d,r),Dc(o,l)}return new db(l,r,o)}class c_{constructor(o){this.queryList=o,this.matches=null}clone(){return new c_(this.queryList)}setDirty(){this.queryList.setDirty()}}class ma{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const c=null!==o.contentQueries?o.contentQueries[0]:l.length,d=[];for(let g=0;g<c;g++){const _=l.getByIndex(g);d.push(this.queries[_.indexInDeclarationView].clone())}return new ma(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==g_(o,l).matches&&this.queries[l].setDirty()}}class _l{constructor(o,l,c=null){this.predicate=o,this.flags=l,this.read=c}}class F{constructor(o=[]){this.queries=o}elementStart(o,l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let c=0;c<this.length;c++){const d=null!==l?l.length:0,g=this.getByIndex(c).embeddedTView(o,d);g&&(g.indexInDeclarationView=c,null!==l?l.push(g):l=[g])}return null!==l?new F(l):null}template(o,l){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class ed{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new ed(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==l;)c=c.parent;return l===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const g=c[d];this.matchTNodeWithReadOption(o,l,fb(l,g)),this.matchTNodeWithReadOption(o,l,sn(l,o,g,!1,!1))}else c===Bh?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,sn(l,o,c,!1,!1))}matchTNodeWithReadOption(o,l,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===Oh||d===Ep||d===Bh&&4&l.type)this.addMatch(l.index,-2);else{const g=sn(l,o,d,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,c)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function fb(r,o){const l=r.localNames;if(null!==l)for(let c=0;c<l.length;c+=2)if(l[c]===o)return l[c+1];return null}function d_(r,o,l,c){return-1===l?function(r,o){return 11&r.type?Qc(r,o):4&r.type?Dp(r,o):null}(o,r):-2===l?function(r,o,l){return l===Oh?Qc(o,r):l===Bh?Dp(o,r):l===Ep?lo(o,r):void 0}(r,o,c):Qr(r,r[1],l,o)}function mb(r,o,l,c){const d=o[19].queries[c];if(null===d.matches){const g=r.data,_=l.matches,b=[];for(let C=0;C<_.length;C+=2){const A=_[C];b.push(A<0?null:d_(o,g[A],_[C+1],l.metadata.read))}d.matches=b}return d.matches}function h_(r,o,l,c){const d=r.queries.getByIndex(l),g=d.matches;if(null!==g){const _=mb(r,o,d,l);for(let b=0;b<g.length;b+=2){const C=g[b];if(C>0)c.push(_[b/2]);else{const A=g[b+1],N=o[-C];for(let P=10;P<N.length;P++){const j=N[P];j[17]===j[3]&&h_(j[1],j,A,c)}if(null!==N[9]){const P=N[9];for(let j=0;j<P.length;j++){const q=P[j];h_(q[1],q,A,c)}}}}}return c}function f_(r){const o=Ce(),l=bt(),c=Va();Bs(c+1);const d=g_(l,c);if(r.dirty&&Ar(o)===(2==(2&d.metadata.flags))){if(null===d.matches)r.reset([]);else{const g=d.crossesNgTemplate?h_(l,o,c,[]):mb(l,o,d,c);r.reset(g,CC),r.notifyOnChanges()}return!0}return!1}function yl(r,o,l){const c=bt();c.firstCreatePass&&(td(c,new _l(r,o,l),-1),2==(2&o)&&(c.staticViewQueries=!0)),p_(c,Ce(),o)}function Tp(r,o,l,c){const d=bt();if(d.firstCreatePass){const g=rn();td(d,new _l(o,l,c),g.index),function(r,o){const l=r.contentQueries||(r.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(r.queries.length-1,o)}(d,r),2==(2&l)&&(d.staticContentQueries=!0)}p_(d,Ce(),l)}function wu(){return r=Ce(),o=Va(),r[19].queries[o].queryList;var r,o}function p_(r,o,l){const c=new l_(4==(4&l));k1(r,o,c,c.destroy),null===o[19]&&(o[19]=new ma),o[19].queries.push(new c_(c))}function td(r,o,l){null===r.queries&&(r.queries=new F),r.queries.track(new ed(o,l))}function g_(r,o){return r.queries.getByIndex(o)}function m_(r,o){return Dp(r,o)}function jh(...r){}const Op=new Zt("Application Initializer");let id=(()=>{class r{constructor(l){this.appInits=l,this.resolve=jh,this.reject=jh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const l=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(ds(g))l.push(g);else if(Uv(g)){const _=new Promise((b,C)=>{g.subscribe({complete:b,error:C})});l.push(_)}}Promise.all(l).then(()=>{c()}).catch(d=>{this.reject(d)}),0===l.length&&c(),this.initialized=!0}}return r.\u0275fac=function(l){return new(l||r)(z(Op,8))},r.\u0275prov=qt({token:r,factory:r.\u0275fac}),r})();const Ab=new Zt("AppId"),lD={provide:Ab,useFactory:function(){return`${I_()}${I_()}${I_()}`},deps:[]};function I_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const A_=new Zt("Platform Initializer"),S_=new Zt("Platform ID"),Sb=new Zt("appBootstrapListener");let Nb=(()=>{class r{log(l){console.log(l)}warn(l){console.warn(l)}}return r.\u0275fac=function(l){return new(l||r)},r.\u0275prov=qt({token:r,factory:r.\u0275fac}),r})();const ya=new Zt("LocaleId"),Pp=new Zt("DefaultCurrencyCode");class Gh{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let Wh=(()=>{class r{compileModuleSync(l){return new r_(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const c=this.compileModuleSync(l),g=wr(qn(l).declarations).reduce((_,b)=>{const C=Jt(b);return C&&_.push(new n_(C)),_},[]);return new Gh(c,g)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return r.\u0275fac=function(l){return new(l||r)},r.\u0275prov=qt({token:r,factory:r.\u0275fac}),r})();const cD=(()=>Promise.resolve(0))();function N_(r){"undefined"==typeof Zone?cD.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class Er{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new fs(!1),this.onMicrotaskEmpty=new fs(!1),this.onStable=new fs(!1),this.onError=new fs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&l,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let r=lt.requestAnimationFrame,o=lt.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&o){const l=r[Zone.__symbol__("OriginalDelegate")];l&&(r=l);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function(r){const o=()=>{!function(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(lt,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,Bp(r),r.isCheckStableRunning=!0,Lp(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),Bp(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,c,d,g,_,b)=>{try{return R_(r),l.invokeTask(d,g,_,b)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||r.shouldCoalesceRunChangeDetection)&&o(),k_(r)}},onInvoke:(l,c,d,g,_,b,C)=>{try{return R_(r),l.invoke(d,g,_,b,C)}finally{r.shouldCoalesceRunChangeDetection&&o(),k_(r)}},onHasTask:(l,c,d,g)=>{l.hasTask(d,g),c===d&&("microTask"==g.change?(r._hasPendingMicrotasks=g.microTask,Bp(r),Lp(r)):"macroTask"==g.change&&(r.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,c,d,g)=>(l.handleError(d,g),r.runOutsideAngular(()=>r.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Er.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Er.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,c){return this._inner.run(o,l,c)}runTask(o,l,c,d){const g=this._inner,_=g.scheduleEventTask("NgZoneEvent: "+d,o,dD,jh,jh);try{return g.runTask(_,l,c)}finally{g.cancelTask(_)}}runGuarded(o,l,c){return this._inner.runGuarded(o,l,c)}runOutsideAngular(o){return this._outer.run(o)}}const dD={};function Lp(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function Bp(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function R_(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function k_(r){r._nesting--,Lp(r)}class fD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fs,this.onMicrotaskEmpty=new fs,this.onStable=new fs,this.onError=new fs}run(o,l,c){return o.apply(l,c)}runGuarded(o,l,c){return o.apply(l,c)}runOutsideAngular(o){return o()}runTask(o,l,c,d){return o.apply(l,c)}}let x_=(()=>{class r{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Er.assertNotInAngularZone(),N_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())N_(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(l)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,c,d){let g=-1;c&&c>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==g),l(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:d})}whenStable(l,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,c,d){return[]}}return r.\u0275fac=function(l){return new(l||r)(z(Er))},r.\u0275prov=qt({token:r,factory:r.\u0275fac}),r})(),O_=(()=>{class r{constructor(){this._applications=new Map,Up.addToWindow(this)}registerApplication(l,c){this._applications.set(l,c)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,c=!0){return Up.findTestabilityInTree(this,l,c)}}return r.\u0275fac=function(l){return new(l||r)},r.\u0275prov=qt({token:r,factory:r.\u0275fac}),r})();class Rb{addToWindow(o){}findTestabilityInTree(o,l,c){return null}}function Vp(r){Up=r}let co,Up=new Rb;const va=new Zt("AllowMultipleToken");class dn{constructor(o,l){this.name=o,this.token=l}}function kb(r,o,l=[]){const c=`Platform: ${o}`,d=new Zt(c);return(g=[])=>{let _=wn();if(!_||_.injector.get(va,!1))if(r)r(l.concat(g).concat({provide:d,useValue:!0}));else{const b=l.concat(g).concat({provide:d,useValue:!0},{provide:nv,useValue:"platform"});!function(r){if(co&&!co.destroyed&&!co.injector.get(va,!1))throw new ke("400","");co=r.get(Ct);const o=r.get(A_,null);o&&o.forEach(l=>l())}(so.create({providers:b,name:c}))}return function(r){const o=wn();if(!o)throw new ke("401","");return o}()}}function wn(){return co&&!co.destroyed?co:null}let Ct=(()=>{class r{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,c){const b=function(r,o){let l;return l="noop"===r?new fD:("zone.js"===r?void 0:r)||new Er({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),l}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),C=[{provide:Er,useValue:b}];return b.run(()=>{const A=so.create({providers:C,parent:this.injector,name:l.moduleType.name}),N=l.create(A),P=N.injector.get(iu,null);if(!P)throw new ke("402","");return b.runOutsideAngular(()=>{const j=b.onError.subscribe({next:q=>{P.handleError(q)}});N.onDestroy(()=>{F_(this._modules,N),j.unsubscribe()})}),function(r,o,l){try{const c=l();return ds(c)?c.catch(d=>{throw o.runOutsideAngular(()=>r.handleError(d)),d}):c}catch(c){throw o.runOutsideAngular(()=>r.handleError(c)),c}}(P,b,()=>{const j=N.injector.get(id);return j.runInitializers(),j.donePromise.then(()=>(function(r){(function(r,o){null==r&&gt(o,r,null,"!=")})(r,"Expected localeId to be defined"),"string"==typeof r&&(tC=r.toLowerCase().replace(/_/g,"-"))}(N.injector.get(ya,Vm)||Vm),this._moduleDoBootstrap(N),N))})})}bootstrapModule(l,c=[]){const d=Hp({},c);return function(r,o,l){const c=new r_(l);return Promise.resolve(c)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(l){const c=l.injector.get(Gi);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!l.instance.ngDoBootstrap)throw new ke("403","");l.instance.ngDoBootstrap(c)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ke("404","");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(l){return new(l||r)(z(so))},r.\u0275prov=qt({token:r,factory:r.\u0275fac}),r})();function Hp(r,o){return Array.isArray(o)?o.reduce(Hp,r):at(at({},r),o)}let Gi=(()=>{class r{constructor(l,c,d,g,_){this._zone=l,this._injector=c,this._exceptionHandler=d,this._componentFactoryResolver=g,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new O.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),C=new O.y(A=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{Er.assertNotInAngularZone(),N_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{Er.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{N.unsubscribe(),P.unsubscribe()}});this.isStable=(0,ae.T)(b,C.pipe((0,ie.B)()))}bootstrap(l,c){if(!this._initStatus.done)throw new ke("405","");let d;d=l instanceof e_?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(d.componentType);const g=function(r){return r.isBoundToModule}(d)?void 0:this._injector.get(Xc),b=d.create(so.NULL,[],c||d.selector,g),C=b.location.nativeElement,A=b.injector.get(x_,null),N=A&&b.injector.get(O_);return A&&N&&N.registerApplication(C,A),b.onDestroy(()=>{this.detachView(b.hostView),F_(this.components,b),N&&N.unregisterApplication(C)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new ke("101","");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const c=l;this._views.push(c),c.attachToAppRef(this)}detachView(l){const c=l;F_(this._views,c),c.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(Sb,[]).concat(this._bootstrapListeners).forEach(d=>d(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(l){return new(l||r)(z(Er),z(so),z(iu),z(Kc),z(id))},r.\u0275prov=qt({token:r,factory:r.\u0275fac}),r})();function F_(r,o){const l=r.indexOf(o);l>-1&&r.splice(l,1)}let L_=!0,bl=!1;function B_(){return bl=!0,L_}function Zh(){if(bl)throw new Error("Cannot enable prod mode after platform setup.");L_=!1}let _D=(()=>{class r{}return r.__NG_ELEMENT_ID__=yD,r})();function yD(r){return function(r,o,l){if(Tr(r)&&!l){const c=Ft(r.index,o);return new Cp(c,c)}return 47&r.type?new Cp(o[16],o):null}(rn(),Ce(),16==(16&r))}class Lb{constructor(){}supports(o){return bh(o)}create(o){return new j_(o)}}const Wp=(r,o)=>o;class j_{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Wp}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,c=this._removalsHead,d=0,g=null;for(;l||c;){const _=!c||l&&l.currentIndex<pt(c,d,g)?l:c,b=pt(_,d,g),C=_.currentIndex;if(_===c)d--,c=c._nextRemoved;else if(l=l._next,null==_.previousIndex)d++;else{g||(g=[]);const A=b-d,N=C-d;if(A!=N){for(let j=0;j<A;j++){const q=j<g.length?g[j]:g[j]=0,ce=q+j;N<=ce&&ce<A&&(g[j]=q+1)}g[_.previousIndex]=N-A}}b!==C&&o(_,b,C)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!bh(o))throw new Error(`Error trying to diff '${re(o)}'. Only arrays and iterables are allowed`);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,g,_,l=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let b=0;b<this.length;b++)g=o[b],_=this._trackByFn(b,g),null!==l&&Object.is(l.trackById,_)?(c&&(l=this._verifyReinsertion(l,g,_,b)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,_,b),c=!0),l=l._next}else d=0,function(r,o){if(Array.isArray(r))for(let l=0;l<r.length;l++)o(r[l]);else{const l=r[Nc()]();let c;for(;!(c=l.next()).done;)o(c.value)}}(o,b=>{_=this._trackByFn(d,b),null!==l&&Object.is(l.trackById,_)?(c&&(l=this._verifyReinsertion(l,b,_,d)),Object.is(l.item,b)||this._addIdentityChange(l,b)):(l=this._mismatch(l,b,_,d),c=!0),l=l._next,d++}),this.length=d;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,c,d){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,g,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,g,d)):o=this._addAfter(new od(l,c),g,d),o}_verifyReinsertion(o,l,c,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==g?o=this._reinsertAfter(g,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,g=o._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(o,l,c),this._addToMoves(o,c),o}_moveAfter(o,l,c){return this._unlink(o),this._insertAfter(o,l,c),this._addToMoves(o,c),o}_addAfter(o,l,c){return this._insertAfter(o,l,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,c){const d=null===l?this._itHead:l._next;return o._next=d,o._prev=l,null===d?this._itTail=o:d._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new sd),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,c=o._next;return null===l?this._itHead=c:l._next=c,null===c?this._itTail=l:c._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sd),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class od{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ba{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===l||l<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const l=o._prevDup,c=o._nextDup;return null===l?this._head=c:l._nextDup=c,null===c?this._tail=l:c._prevDup=l,null===this._head}}class sd{constructor(){this.map=new Map}put(o){const l=o.trackById;let c=this.map.get(l);c||(c=new ba,this.map.set(l,c)),c.add(o)}get(o,l){const d=this.map.get(o);return d?d.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pt(r,o,l){const c=r.previousIndex;if(null===c)return c;let d=0;return l&&c<l.length&&(d=l[c]),c+o+d}class Bb{constructor(){}supports(o){return o instanceof Map||fm(o)}create(){return new Jh}}class Jh{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||fm(o)))throw new Error(`Error trying to diff '${re(o)}'. Only maps and objects are allowed`)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,d)=>{if(l&&l.key===d)this._maybeAddToChanges(l,c),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(d,c);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let c=l;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const c=o._prev;return l._next=o,l._prev=c,o._prev=l,c&&(c._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,l);const g=d._prev,_=d._next;return g&&(g._next=_),_&&(_._prev=g),d._next=null,d._prev=null,d}const c=new ED(o);return this._records.set(o,c),c.currentValue=l,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(c=>l(o[c],c))}}class ED{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Nn(){return new ad([new Lb])}let ad=(()=>{class r{constructor(l){this.factories=l}static create(l,c){if(null!=c){const d=c.factories.slice();l=l.concat(d)}return new r(l)}static extend(l){return{provide:r,useFactory:c=>r.create(l,c||Nn()),deps:[[r,new Mi,new Qn]]}}find(l){const c=this.factories.find(d=>d.supports(l));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${l}' of type '${function(r){return r.name||typeof r}(l)}'`)}}return r.\u0275prov=qt({token:r,providedIn:"root",factory:Nn}),r})();function zp(){return new wa([new Bb])}let wa=(()=>{class r{constructor(l){this.factories=l}static create(l,c){if(c){const d=c.factories.slice();l=l.concat(d)}return new r(l)}static extend(l){return{provide:r,useFactory:c=>r.create(l,c||zp()),deps:[[r,new Mi,new Qn]]}}find(l){const c=this.factories.find(d=>d.supports(l));if(c)return c;throw new Error(`Cannot find a differ supporting object '${l}'`)}}return r.\u0275prov=qt({token:r,providedIn:"root",factory:zp}),r})();const G_=[new Bb],Ub=new ad([new Lb]),ID=new wa(G_),Hb=kb(null,"core",[{provide:S_,useValue:"unknown"},{provide:Ct,deps:[so]},{provide:O_,deps:[]},{provide:Nb,deps:[]}]),SD=[{provide:Gi,useClass:Gi,deps:[Er,so,iu,Kc,id]},{provide:K0,deps:[Er],useFactory:function(r){let o=[];return r.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(l){o.push(l)}}},{provide:id,useClass:id,deps:[[new Qn,Op]]},{provide:Wh,useClass:Wh,deps:[]},lD,{provide:ad,useFactory:function(){return Ub},deps:[]},{provide:wa,useFactory:function(){return ID},deps:[]},{provide:ya,useFactory:function(r){return r||"undefined"!=typeof $localize&&$localize.locale||Vm},deps:[[new an(ya),new Qn,new Mi]]},{provide:Pp,useValue:"USD"}];let Xh=(()=>{class r{constructor(l){}}return r.\u0275fac=function(l){return new(l||r)(z(Gi))},r.\u0275mod=vs({type:r}),r.\u0275inj=gn({providers:SD}),r})()},6293:(Ve,fe,x)=>{"use strict";x.d(fe,{Z:()=>ke});var s=x(4213),K=x(1177),O=x(1572),ae=x(3855);class ie{constructor(oe,Y){this._delegate=oe,this.firebase=Y,(0,O._addComponent)(oe,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=oe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(oe){this._delegate.automaticDataCollectionEnabled=oe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(oe=>{this._delegate.checkDestroyed(),oe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(oe,Y=O._DEFAULT_ENTRY_NAME){var se;this._delegate.checkDestroyed();const be=this._delegate.container.getProvider(oe);return!be.isInitialized()&&"EXPLICIT"===(null===(se=be.getComponent())||void 0===se?void 0:se.instantiationMode)&&be.initialize(),be.getImmediate({identifier:Y})}_removeServiceInstance(oe,Y=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(oe).clearInstance(Y)}_addComponent(oe){(0,O._addComponent)(this._delegate,oe)}_addOrOverwriteComponent(oe){(0,O._addOrOverwriteComponent)(this._delegate,oe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ne=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function le(){const Me=function(Me){const oe={},Y={__esModule:!0,initializeApp:function(He,Xe={}){const ee=O.initializeApp(He,Xe);if((0,s.r3)(oe,ee.name))return oe[ee.name];const ue=new Me(ee,Y);return oe[ee.name]=ue,ue},app:be,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function(He){const Xe=He.name,ee=Xe.replace("-compat","");if(O._registerComponent(He)&&"PUBLIC"===He.type){const ue=(pe=be())=>{if("function"!=typeof pe[ee])throw ne.create("invalid-app-argument",{appName:Xe});return pe[ee]()};void 0!==He.serviceProps&&(0,s.ZB)(ue,He.serviceProps),Y[ee]=ue,Me.prototype[ee]=function(...pe){return this._getService.bind(this,Xe).apply(this,He.multipleInstances?pe:[])}}return"PUBLIC"===He.type?Y[ee]:null},removeApp:function(He){delete oe[He]},useAsService:function(He,Xe){return"serverAuth"===Xe?null:Xe},modularAPIs:O}};function be(He){if(!(0,s.r3)(oe,He=He||O._DEFAULT_ENTRY_NAME))throw ne.create("no-app",{appName:He});return oe[He]}return Y.default=Y,Object.defineProperty(Y,"apps",{get:function(){return Object.keys(oe).map(He=>oe[He])}}),be.App=Me,Y}(ie);return Me.INTERNAL=Object.assign(Object.assign({},Me.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function(Y){(0,s.ZB)(Me,Y)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),Me}(),H=new ae.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Me=self.firebase.SDK_VERSION;Me&&Me.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ke=$;(0,O.registerVersion)("@firebase/app-compat","0.1.12",undefined)},1572:(Ve,fe,x)=>{"use strict";x.r(fe),x.d(fe,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>jo,_DEFAULT_ENTRY_NAME:()=>Dn,_addComponent:()=>Yt,_addOrOverwriteComponent:()=>ri,_apps:()=>ot,_clearComponents:()=>gn,_components:()=>gt,_getProvider:()=>qt,_registerComponent:()=>hi,_removeServiceInstance:()=>$o,deleteApp:()=>Un,getApp:()=>ur,getApps:()=>Ee,initializeApp:()=>Zi,onLog:()=>Mt,registerVersion:()=>tt,setLogLevel:()=>Yi});var s=x(8239),K=x(1177),O=x(3855),ae=x(4213);class ie{constructor(nt){this.container=nt}getPlatformInfoString(){return this.container.getProviders().map(yt=>{if(function(Ke){const nt=Ke.getComponent();return"VERSION"===(null==nt?void 0:nt.type)}(yt)){const vt=yt.getImmediate();return`${vt.library}/${vt.version}`}return null}).filter(yt=>yt).join(" ")}}const ne="@firebase/app",le=new O.Yd("@firebase/app"),Dn="[DEFAULT]",ut={[ne]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ot=new Map,gt=new Map;function Yt(Ke,nt){try{Ke.container.addComponent(nt)}catch(yt){le.debug(`Component ${nt.name} failed to register with FirebaseApp ${Ke.name}`,yt)}}function ri(Ke,nt){Ke.container.addOrOverwriteComponent(nt)}function hi(Ke){const nt=Ke.name;if(gt.has(nt))return le.debug(`There were multiple attempts to register component ${nt}.`),!1;gt.set(nt,Ke);for(const yt of ot.values())Yt(yt,Ke);return!0}function qt(Ke,nt){return Ke.container.getProvider(nt)}function $o(Ke,nt,yt=Dn){qt(Ke,nt).clearInstance(yt)}function gn(){gt.clear()}const It=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class hn{constructor(nt,yt,vt){this._isDeleted=!1,this._options=Object.assign({},nt),this._config=Object.assign({},yt),this._name=yt.name,this._automaticDataCollectionEnabled=yt.automaticDataCollectionEnabled,this._container=vt,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nt){this.checkDestroyed(),this._automaticDataCollectionEnabled=nt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(nt){this._isDeleted=nt}checkDestroyed(){if(this.isDeleted)throw It.create("app-deleted",{appName:this._name})}}const jo="9.6.1";function Zi(Ke,nt={}){"object"!=typeof nt&&(nt={name:nt});const yt=Object.assign({name:Dn,automaticDataCollectionEnabled:!1},nt),vt=yt.name;if("string"!=typeof vt||!vt)throw It.create("bad-app-name",{appName:String(vt)});const pi=ot.get(vt);if(pi){if((0,ae.vZ)(Ke,pi.options)&&(0,ae.vZ)(yt,pi.config))return pi;throw It.create("duplicate-app",{appName:vt})}const kt=new K.H0(vt);for(const Qe of gt.values())kt.addComponent(Qe);const Ue=new hn(Ke,yt,kt);return ot.set(vt,Ue),Ue}function ur(Ke=Dn){const nt=ot.get(Ke);if(!nt)throw It.create("no-app",{appName:Ke});return nt}function Ee(){return Array.from(ot.values())}function Un(Ke){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,s.Z)(function*(Ke){const nt=Ke.name;ot.has(nt)&&(ot.delete(nt),yield Promise.all(Ke.container.getProviders().map(yt=>yt.delete())),Ke.isDeleted=!0)})).apply(this,arguments)}function tt(Ke,nt,yt){var vt;let pi=null!==(vt=ut[Ke])&&void 0!==vt?vt:Ke;yt&&(pi+=`-${yt}`);const kt=pi.match(/\s|\//),Ue=nt.match(/\s|\//);if(kt||Ue){const Qe=[`Unable to register library "${pi}" with version "${nt}":`];return kt&&Qe.push(`library name "${pi}" contains illegal characters (whitespace or "/")`),kt&&Ue&&Qe.push("and"),Ue&&Qe.push(`version name "${nt}" contains illegal characters (whitespace or "/")`),void le.warn(Qe.join(" "))}hi(new K.wA(`${pi}-version`,()=>({library:pi,version:nt}),"VERSION"))}function Mt(Ke,nt){if(null!==Ke&&"function"!=typeof Ke)throw It.create("invalid-log-argument");(0,O.Am)(Ke,nt)}function Yi(Ke){(0,O.Ub)(Ke)}hi(new K.wA("platform-logger",nt=>new ie(nt),"PRIVATE")),tt(ne,"0.7.11",""),tt(ne,"0.7.11","esm2017"),tt("fire-js","")},1177:(Ve,fe,x)=>{"use strict";x.d(fe,{wA:()=>O,H0:()=>re,zt:()=>ie});var s=x(8239),K=x(4213);class O{constructor($,H,Q){this.name=$,this.instanceFactory=H,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const ae="[DEFAULT]";class ie{constructor($,H){this.name=$,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const H=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(H)){const Q=new K.BH;if(this.instancesDeferred.set(H,Q),this.isInitialized(H)||this.shouldAutoInitialize())try{const Re=this.getOrInitializeService({instanceIdentifier:H});Re&&Q.resolve(Re)}catch(Re){}}return this.instancesDeferred.get(H).promise}getImmediate($){var H;const Q=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),Re=null!==(H=null==$?void 0:$.optional)&&void 0!==H&&H;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Re)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(we){if(Re)return null;throw we}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if("EAGER"===$.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ae})}catch(H){}for(const[H,Q]of this.instancesDeferred.entries()){const Re=this.normalizeInstanceIdentifier(H);try{const we=this.getOrInitializeService({instanceIdentifier:Re});Q.resolve(we)}catch(we){}}}}clearInstance($=ae){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,s.Z)(function*(){const H=Array.from($.instances.values());yield Promise.all([...H.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...H.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=ae){return this.instances.has($)}getOptions($=ae){return this.instancesOptions.get($)||{}}initialize($={}){const{options:H={}}=$,Q=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Re=this.getOrInitializeService({instanceIdentifier:Q,options:H});for(const[we,ke]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(we)&&ke.resolve(Re);return Re}onInit($,H){var Q;const Re=this.normalizeInstanceIdentifier(H),we=null!==(Q=this.onInitCallbacks.get(Re))&&void 0!==Q?Q:new Set;we.add($),this.onInitCallbacks.set(Re,we);const ke=this.instances.get(Re);return ke&&$(ke,Re),()=>{we.delete($)}}invokeOnInitCallbacks($,H){const Q=this.onInitCallbacks.get(H);if(Q)for(const Re of Q)try{Re($,H)}catch(we){}}getOrInitializeService({instanceIdentifier:$,options:H={}}){let Q=this.instances.get($);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(le=$,le===ae?void 0:le),options:H}),this.instances.set($,Q),this.instancesOptions.set($,H),this.invokeOnInitCallbacks(Q,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,Q)}catch(Re){}var le;return Q||null}normalizeInstanceIdentifier($=ae){return this.component?this.component.multipleInstances?$:ae:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class re{constructor($){this.name=$,this.providers=new Map}addComponent($){const H=this.getProvider($.name);if(H.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);H.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const H=new ie($,this);return this.providers.set($,H),H}getProviders(){return Array.from(this.providers.values())}}},3855:(Ve,fe,x)=>{"use strict";x.d(fe,{in:()=>K,Yd:()=>ne,Ub:()=>re,Am:()=>le});const s=[];var K=(()=>{return($=K||(K={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",K;var $})();const O={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},ae=K.INFO,ie={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},he=($,H,...Q)=>{if(H<$.logLevel)return;const Re=(new Date).toISOString(),we=ie[H];if(!we)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[we](`[${Re}]  ${$.name}:`,...Q)};class ne{constructor(H){this.name=H,this._logLevel=ae,this._logHandler=he,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in K))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?O[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...H),this._logHandler(this,K.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...H),this._logHandler(this,K.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,K.INFO,...H),this._logHandler(this,K.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,K.WARN,...H),this._logHandler(this,K.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...H),this._logHandler(this,K.ERROR,...H)}}function re($){s.forEach(H=>{H.setLogLevel($)})}function le($,H){for(const Q of s){let Re=null;H&&H.level&&(Re=O[H.level]),Q.userLogHandler=null===$?null:(we,ke,...Me)=>{const oe=Me.map(Y=>{if(null==Y)return null;if("string"==typeof Y)return Y;if("number"==typeof Y||"boolean"==typeof Y)return Y.toString();if(Y instanceof Error)return Y.message;try{return JSON.stringify(Y)}catch(se){return null}}).filter(Y=>Y).join(" ");ke>=(null!=Re?Re:we.logLevel)&&$({level:K[ke].toLowerCase(),message:oe,args:Me,type:we.name})}}}},8239:(Ve,fe,x)=>{"use strict";function s(O,ae,ie,he,ne,re,le){try{var $=O[re](le),H=$.value}catch(Q){return void ie(Q)}$.done?ae(H):Promise.resolve(H).then(he,ne)}function K(O){return function(){var ae=this,ie=arguments;return new Promise(function(he,ne){var re=O.apply(ae,ie);function le(H){s(re,he,ne,le,$,"next",H)}function $(H){s(re,he,ne,le,$,"throw",H)}le(void 0)})}}x.d(fe,{Z:()=>K})}},Ve=>{Ve(Ve.s=8506)}]);