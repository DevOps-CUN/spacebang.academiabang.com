var WR=Object.defineProperty,zR=Object.defineProperties,ZR=Object.getOwnPropertyDescriptors,WA=Object.getOwnPropertySymbols,YR=Object.prototype.hasOwnProperty,qR=Object.prototype.propertyIsEnumerable,zA=(Ve,he,k)=>he in Ve?WR(Ve,he,{enumerable:!0,configurable:!0,writable:!0,value:k}):Ve[he]=k,at=(Ve,he)=>{for(var k in he||(he={}))YR.call(he,k)&&zA(Ve,k,he[k]);if(WA)for(var k of WA(he))qR.call(he,k)&&zA(Ve,k,he[k]);return Ve},Zi=(Ve,he)=>zR(Ve,ZR(he));(self.webpackChunkSpace_Bang=self.webpackChunkSpace_Bang||[]).push([[179],{7905:(Ve,he,k)=>{"use strict";k.d(he,{hO:()=>Re,xv:()=>le,Dh:()=>re,GT:()=>de,cc:()=>we,on:()=>$,pX:()=>ie});var s=k(3668),K=k(7892),O=k(7233);Ve=k.hmd(Ve);const ae=["ngOnDestroy"],ie=(Y,se,be,ge={})=>new Proxy(Y,{get:(Be,Te)=>be.runOutsideAngular(()=>{var Le;if(Y[Te])return(null===(Le=null==ge?void 0:ge.spy)||void 0===Le?void 0:Le.get)&&ge.spy.get(Te,Y[Te]),Y[Te];if(ae.indexOf(Te)>-1)return()=>{};const He=se.toPromise().then(Xe=>{const ee=Xe&&Xe[Te];return"function"==typeof ee?ee.bind(Xe):ee&&ee.then?ee.then(ce=>be.run(()=>ce)):be.run(()=>ee)});return new Proxy(()=>{},{get:(Xe,ee)=>He[ee],apply:(Xe,ee,ce)=>He.then(fe=>{var me;const Se=fe&&fe(...ce);return(null===(me=null==ge?void 0:ge.spy)||void 0===me?void 0:me.apply)&&ge.spy.apply(Te,ce,Se),Se})})})}),de=(Y,se)=>{se.forEach(be=>{Object.getOwnPropertyNames(be.prototype||be).forEach(ge=>{Object.defineProperty(Y.prototype,ge,Object.getOwnPropertyDescriptor(be.prototype||be,ge))})})};class ne{constructor(se){return se}}const re=new s.OlP("angularfire2.app.options"),le=new s.OlP("angularfire2.app.name");function $(Y,se,be){const Be="object"==typeof be&&be||{};Be.name=Be.name||"string"==typeof be&&be||"[DEFAULT]";const Le=K.Z.apps.filter(He=>He&&He.name===Be.name)[0]||se.runOutsideAngular(()=>K.Z.initializeApp(Y,Be));try{JSON.stringify(Y)!==JSON.stringify(Le.options)&&H("error",`${Le.name} Firebase App already initialized with different options${Ve.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(He){}return new ne(Le)}const H=(Y,...se)=>{(0,s.X6Q)()&&"undefined"!=typeof console&&console[Y](...se)},Q={provide:ne,useFactory:$,deps:[re,s.R0b,[new s.FiY,le]]};let Re=(()=>{class Y{constructor(be){K.Z.registerVersion("angularfire",O.q4.full,"core"),K.Z.registerVersion("angularfire",O.q4.full,"app-compat"),K.Z.registerVersion("angular",s.q4F.full,be.toString())}static initializeApp(be,ge){return{ngModule:Y,providers:[{provide:re,useValue:be},{provide:le,useValue:ge}]}}}return Y.\u0275fac=function(be){return new(be||Y)(s.LFG(s.Lbi))},Y.\u0275mod=s.oAB({type:Y}),Y.\u0275inj=s.cJS({providers:[Q]}),Y})();function we(Y,se,be,ge,Be){const[,Te,Le]=globalThis.\u0275AngularfireInstanceCache.find(He=>He[0]===Y)||[];if(Te)return function(Y,se){try{return Y.toString()===se.toString()}catch(be){return Y===se}}(Be,Le)||(oe("error",`${se} was already initialized on the ${be} Firebase App with different settings.${Me?" You may need to reload as Firebase is not HMR aware.":""}`),oe("warn",{is:Be,was:Le})),Te;{const He=ge();return globalThis.\u0275AngularfireInstanceCache.push([Y,He,Be]),He}}const Me=!!Ve.hot,oe=(Y,...se)=>{(0,s.X6Q)()&&"undefined"!=typeof console&&console[Y](...se)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},7233:(Ve,he,k)=>{"use strict";k.d(he,{q4:()=>Jc,iC:()=>Or,HU:()=>Zl,vb:()=>Pd,JM:()=>Kc});var s=k(3668),K=k(7713),O=k(8239),ae=k(1572),ie=k(4213),de=k(1177),ne=k(3855),re=k(4995);const le="@firebase/installations",$="0.5.4",Q=`w:${$}`,Re="FIS_v2",se=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function be(D){return D instanceof ie.ZR&&D.code.includes("request-failed")}function ge({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Be(D){return{token:D.token,requestStatus:2,expiresIn:fe(D.expiresIn),creationTime:Date.now()}}function Te(D,E){return Le.apply(this,arguments)}function Le(){return(Le=(0,O.Z)(function*(D,E){const L=(yield E.json()).error;return se.create("request-failed",{requestName:D,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function He({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function Xe(D,{refreshToken:E}){const M=He(D);return M.append("Authorization",function(D){return`${Re} ${D}`}(E)),M}function ee(D){return ce.apply(this,arguments)}function ce(){return(ce=(0,O.Z)(function*(D){const E=yield D();return E.status>=500&&E.status<600?D():E})).apply(this,arguments)}function fe(D){return Number(D.replace("s","000"))}function Se(D,E){return ue.apply(this,arguments)}function ue(){return(ue=(0,O.Z)(function*(D,{fid:E}){const M=ge(D),z={method:"POST",headers:He(D),body:JSON.stringify({fid:E,authVersion:Re,appId:D.appId,sdkVersion:Q})},De=yield ee(()=>fetch(M,z));if(De.ok){const Ge=yield De.json();return{fid:Ge.fid||E,registrationStatus:2,refreshToken:Ge.refreshToken,authToken:Be(Ge.authToken)}}throw yield Te("Create Installation",De)})).apply(this,arguments)}function dt(D){return new Promise(E=>{setTimeout(E,D)})}const Dn=/^[cdef][\w-]{21}$/;function ot(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const M=function(D){return function(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Dn.test(M)?M:""}catch(D){return""}}function Zt(D){return`${D.appName}!${D.appId}`}const ti=new Map;function ui(D,E){const M=Zt(D);mn(M,E),function(D,E){const M=(!At&&"BroadcastChannel"in self&&(At=new BroadcastChannel("[Firebase] FID Change"),At.onmessage=D=>{mn(D.data.key,D.data.fid)}),At);M&&M.postMessage({key:D,fid:E}),0===ti.size&&At&&(At.close(),At=null)}(M,E)}function mn(D,E){const M=ti.get(D);if(M)for(const L of M)L(E)}let At=null;const Ee="firebase-installations-store";let Vn=null;function Mn(){return Vn||(Vn=(0,re.openDb)("firebase-installations-database",1,D=>{0===D.oldVersion&&D.createObjectStore(Ee)})),Vn}function tt(D,E){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,O.Z)(function*(D,E){const M=Zt(D),Z=(yield Mn()).transaction(Ee,"readwrite"),z=Z.objectStore(Ee),De=yield z.get(M);return yield z.put(E,M),yield Z.complete,(!De||De.fid!==E.fid)&&ui(D,E.fid),E})).apply(this,arguments)}function qi(D){return di.apply(this,arguments)}function di(){return(di=(0,O.Z)(function*(D){const E=Zt(D),L=(yield Mn()).transaction(Ee,"readwrite");yield L.objectStore(Ee).delete(E),yield L.complete})).apply(this,arguments)}function Je(D,E){return nt.apply(this,arguments)}function nt(){return(nt=(0,O.Z)(function*(D,E){const M=Zt(D),Z=(yield Mn()).transaction(Ee,"readwrite"),z=Z.objectStore(Ee),De=yield z.get(M),Ge=E(De);return void 0===Ge?yield z.delete(M):yield z.put(Ge,M),yield Z.complete,Ge&&(!De||De.fid!==Ge.fid)&&ui(D,Ge.fid),Ge})).apply(this,arguments)}function yt(D){return vt.apply(this,arguments)}function vt(){return(vt=(0,O.Z)(function*(D){let E;const M=yield Je(D,L=>{const Z=hi(L),z=xt(D,Z);return E=z.registrationPromise,z.installationEntry});return""===M.fid?{installationEntry:yield E}:{installationEntry:M,registrationPromise:E}})).apply(this,arguments)}function hi(D){return lt(D||{fid:ot(),registrationStatus:0})}function xt(D,E){if(0===E.registrationStatus){if(!navigator.onLine)return{installationEntry:E,registrationPromise:Promise.reject(se.create("app-offline"))};const M={fid:E.fid,registrationStatus:1,registrationTime:Date.now()},L=function(D,E){return Ke.apply(this,arguments)}(D,M);return{installationEntry:M,registrationPromise:L}}return 1===E.registrationStatus?{installationEntry:E,registrationPromise:Sa(D)}:{installationEntry:E}}function Ke(){return(Ke=(0,O.Z)(function*(D,E){try{return tt(D,yield Se(D,E))}catch(M){throw be(M)&&409===M.customData.serverCode?yield qi(D):yield tt(D,{fid:E.fid,registrationStatus:0}),M}})).apply(this,arguments)}function Sa(D){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,O.Z)(function*(D){let E=yield kt(D);for(;1===E.registrationStatus;)yield dt(100),E=yield kt(D);if(0===E.registrationStatus){const{installationEntry:M,registrationPromise:L}=yield yt(D);return L||M}return E})).apply(this,arguments)}function kt(D){return Je(D,E=>{if(!E)throw se.create("installation-not-found");return lt(E)})}function lt(D){return function(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Sl(D,E){return G.apply(this,arguments)}function G(){return(G=(0,O.Z)(function*({appConfig:D,platformLoggerProvider:E},M){const L=B(D,M),Z=Xe(D,M),z=E.getImmediate({optional:!0});z&&Z.append("x-firebase-client",z.getPlatformInfoString());const Ge={method:"POST",headers:Z,body:JSON.stringify({installation:{sdkVersion:Q}})},Fe=yield ee(()=>fetch(L,Ge));if(Fe.ok)return Be(yield Fe.json());throw yield Te("Generate Auth Token",Fe)})).apply(this,arguments)}function B(D,{fid:E}){return`${ge(D)}/${E}/authTokens:generate`}function W(D){return ve.apply(this,arguments)}function ve(){return(ve=(0,O.Z)(function*(D,E=!1){let M;const L=yield Je(D.appConfig,z=>{if(!dn(z))throw se.create("not-registered");const De=z.authToken;if(!E&&Ti(De))return z;if(1===De.requestStatus)return M=te(D,E),z;{if(!navigator.onLine)throw se.create("app-offline");const Ge=Yn(z);return M=Ot(D,Ge),Ge}});return M?yield M:L.authToken})).apply(this,arguments)}function te(D,E){return $e.apply(this,arguments)}function $e(){return($e=(0,O.Z)(function*(D,E){let M=yield et(D.appConfig);for(;1===M.authToken.requestStatus;)yield dt(100),M=yield et(D.appConfig);const L=M.authToken;return 0===L.requestStatus?W(D,E):L})).apply(this,arguments)}function et(D){return Je(D,E=>{if(!dn(E))throw se.create("not-registered");return function(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(E.authToken)?Object.assign(Object.assign({},E),{authToken:{requestStatus:0}}):E})}function Ot(D,E){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,O.Z)(function*(D,E){try{const M=yield Sl(D,E),L=Object.assign(Object.assign({},E),{authToken:M});return yield tt(D.appConfig,L),M}catch(M){if(!be(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const L=Object.assign(Object.assign({},E),{authToken:{requestStatus:0}});yield tt(D.appConfig,L)}else yield qi(D.appConfig);throw M}})).apply(this,arguments)}function dn(D){return void 0!==D&&2===D.registrationStatus}function Ti(D){return 2===D.requestStatus&&!function(D){const E=Date.now();return E<D.creationTime||D.creationTime+D.expiresIn<E+36e5}(D)}function Yn(D){const E={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:E})}function Ko(){return(Ko=(0,O.Z)(function*(D){const E=D,{installationEntry:M,registrationPromise:L}=yield yt(E.appConfig);return L?L.catch(console.error):W(E).catch(console.error),M.fid})).apply(this,arguments)}function wo(){return(wo=(0,O.Z)(function*(D,E=!1){const M=D;return yield Nl(M.appConfig),(yield W(M,E)).token})).apply(this,arguments)}function Nl(D){return qt.apply(this,arguments)}function qt(){return(qt=(0,O.Z)(function*(D){const{registrationPromise:E}=yield yt(D);E&&(yield E)})).apply(this,arguments)}function Ki(D){return se.create("missing-app-config-values",{valueName:D})}const Rn="installations";(0,ae._registerComponent)(new de.wA(Rn,D=>{const E=D.getProvider("app").getImmediate(),M=function(D){if(!D||!D.options)throw Ki("App Configuration");if(!D.name)throw Ki("App Name");const E=["projectId","apiKey","appId"];for(const M of E)if(!D.options[M])throw Ki(M);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(E);return{app:E,appConfig:M,platformLoggerProvider:(0,ae._getProvider)(E,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ae._registerComponent)(new de.wA("installations-internal",D=>{const E=D.getProvider("app").getImmediate(),M=(0,ae._getProvider)(E,Rn).getImmediate();return{getId:()=>function(D){return Ko.apply(this,arguments)}(M),getToken:Z=>function(D){return wo.apply(this,arguments)}(M,Z)}},"PRIVATE")),(0,ae.registerVersion)(le,$),(0,ae.registerVersion)(le,$,"esm2017");const it="@firebase/remote-config",Bt=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Xi{constructor(E,M,L,Z){this.client=E,this.storage=M,this.storageCache=L,this.logger=Z}isCachedDataFresh(E,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-M,Z=L<=E;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${E}. Is cache hit: ${Z}.`),Z}fetch(E){var M=this;return(0,O.Z)(function*(){const[L,Z]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(Z&&M.isCachedDataFresh(E.cacheMaxAgeMillis,L))return Z;E.eTag=Z&&Z.eTag;const z=yield M.client.fetch(E),De=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===z.status&&De.push(M.storage.setLastSuccessfulFetchResponse(z)),yield Promise.all(De),z})()}}function Qh(D=navigator){return D.languages&&D.languages[0]||D.language}class er{constructor(E,M,L,Z,z,De){this.firebaseInstallations=E,this.sdkVersion=M,this.namespace=L,this.projectId=Z,this.apiKey=z,this.appId=De}fetch(E){var M=this;return(0,O.Z)(function*(){const[L,Z]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),De=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Ge={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":E.eTag||"*"},Fe={sdk_version:M.sdkVersion,app_instance_id:L,app_instance_id_token:Z,app_id:M.appId,language_code:Qh()},Ct={method:"POST",headers:Ge,body:JSON.stringify(Fe)},Lt=fetch(De,Ct),yi=new Promise((wr,Pr)=>{E.signal.addEventListener(()=>{const Bo=new Error("The operation was aborted.");Bo.name="AbortError",Pr(Bo)})});let vi;try{yield Promise.race([Lt,yi]),vi=yield Lt}catch(wr){let Pr="fetch-client-network";throw"AbortError"===wr.name&&(Pr="fetch-timeout"),Bt.create(Pr,{originalErrorMessage:wr.message})}let sn=vi.status;const Qn=vi.headers.get("ETag")||void 0;let Lo,Ni;if(200===vi.status){let wr;try{wr=yield vi.json()}catch(Pr){throw Bt.create("fetch-client-parse",{originalErrorMessage:Pr.message})}Lo=wr.entries,Ni=wr.state}if("INSTANCE_STATE_UNSPECIFIED"===Ni?sn=500:"NO_CHANGE"===Ni?sn=304:("NO_TEMPLATE"===Ni||"EMPTY_CONFIG"===Ni)&&(Lo={}),304!==sn&&200!==sn)throw Bt.create("fetch-status",{httpStatus:sn});return{status:sn,eTag:Qn,config:Lo}})()}}class kc{constructor(E,M){this.client=E,this.storage=M}fetch(E){var M=this;return(0,O.Z)(function*(){const L=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(E,L)})()}attemptFetch(E,{throttleEndTimeMillis:M,backoffCount:L}){var Z=this;return(0,O.Z)(function*(){yield function(D,E){return new Promise((M,L)=>{const Z=Math.max(E-Date.now(),0),z=setTimeout(M,Z);D.addEventListener(()=>{clearTimeout(z),L(Bt.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}(E.signal,M);try{const z=yield Z.client.fetch(E);return yield Z.storage.deleteThrottleMetadata(),z}catch(z){if(!function(D){if(!(D instanceof ie.ZR&&D.customData))return!1;const E=Number(D.customData.httpStatus);return 429===E||500===E||503===E||504===E}(z))throw z;const De={throttleEndTimeMillis:Date.now()+(0,ie.$s)(L),backoffCount:L+1};return yield Z.storage.setThrottleMetadata(De),Z.attemptFetch(E,De)}})()}}class Xh{constructor(E,M,L,Z,z){this.app=E,this._client=M,this._storageCache=L,this._storage=Z,this._logger=z,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ss(D,E){const M=D.target.error||void 0;return Bt.create(E,{originalErrorMessage:M&&M.message})}const Xo="app_namespace_store";class ef{constructor(E,M,L,Z=function(){return new Promise((D,E)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=L=>{E(Ss(L,"storage-open"))},M.onsuccess=L=>{D(L.target.result)},M.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(Xo,{keyPath:"compositeKey"})}}catch(M){E(Bt.create("storage-open",{originalErrorMessage:M}))}})}()){this.appId=E,this.appName=M,this.namespace=L,this.openDbPromise=Z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(E){return this.set("last_fetch_status",E)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(E){return this.set("last_successful_fetch_timestamp_millis",E)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(E){return this.set("last_successful_fetch_response",E)}getActiveConfig(){return this.get("active_config")}setActiveConfig(E){return this.set("active_config",E)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(E){return this.set("active_config_etag",E)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(E){return this.set("throttle_metadata",E)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(E){var M=this;return(0,O.Z)(function*(){const L=yield M.openDbPromise;return new Promise((Z,z)=>{const Ge=L.transaction([Xo],"readonly").objectStore(Xo),Fe=M.createCompositeKey(E);try{const Ct=Ge.get(Fe);Ct.onerror=Lt=>{z(Ss(Lt,"storage-get"))},Ct.onsuccess=Lt=>{const yi=Lt.target.result;Z(yi?yi.value:void 0)}}catch(Ct){z(Bt.create("storage-get",{originalErrorMessage:Ct&&Ct.message}))}})})()}set(E,M){var L=this;return(0,O.Z)(function*(){const Z=yield L.openDbPromise;return new Promise((z,De)=>{const Fe=Z.transaction([Xo],"readwrite").objectStore(Xo),Ct=L.createCompositeKey(E);try{const Lt=Fe.put({compositeKey:Ct,value:M});Lt.onerror=yi=>{De(Ss(yi,"storage-set"))},Lt.onsuccess=()=>{z()}}catch(Lt){De(Bt.create("storage-set",{originalErrorMessage:Lt&&Lt.message}))}})})()}delete(E){var M=this;return(0,O.Z)(function*(){const L=yield M.openDbPromise;return new Promise((Z,z)=>{const Ge=L.transaction([Xo],"readwrite").objectStore(Xo),Fe=M.createCompositeKey(E);try{const Ct=Ge.delete(Fe);Ct.onerror=Lt=>{z(Ss(Lt,"storage-delete"))},Ct.onsuccess=()=>{Z()}}catch(Ct){z(Bt.create("storage-delete",{originalErrorMessage:Ct&&Ct.message}))}})})()}createCompositeKey(E){return[this.appId,this.appName,this.namespace,E].join()}}class Lc{constructor(E){this.storage=E}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var E=this;return(0,O.Z)(function*(){const M=E.storage.getLastFetchStatus(),L=E.storage.getLastSuccessfulFetchTimestampMillis(),Z=E.storage.getActiveConfig(),z=yield M;z&&(E.lastFetchStatus=z);const De=yield L;De&&(E.lastSuccessfulFetchTimestampMillis=De);const Ge=yield Z;Ge&&(E.activeConfig=Ge)})()}setLastFetchStatus(E){return this.lastFetchStatus=E,this.storage.setLastFetchStatus(E)}setLastSuccessfulFetchTimestampMillis(E){return this.lastSuccessfulFetchTimestampMillis=E,this.storage.setLastSuccessfulFetchTimestampMillis(E)}setActiveConfig(E){return this.activeConfig=E,this.storage.setActiveConfig(E)}}function Ns(){return xl.apply(this,arguments)}function xl(){return(xl=(0,O.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch(D){return!1}})).apply(this,arguments)}(0,ae._registerComponent)(new de.wA("remote-config",function(E,{instanceIdentifier:M}){const L=E.getProvider("app").getImmediate(),Z=E.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Bt.create("registration-window");if(!(0,ie.hl)())throw Bt.create("indexed-db-unavailable");const{projectId:z,apiKey:De,appId:Ge}=L.options;if(!z)throw Bt.create("registration-project-id");if(!De)throw Bt.create("registration-api-key");if(!Ge)throw Bt.create("registration-app-id");const Fe=new ef(Ge,L.name,M=M||"firebase"),Ct=new Lc(Fe),Lt=new ne.Yd(it);Lt.logLevel=ne.in.ERROR;const yi=new er(Z,ae.SDK_VERSION,M,z,De,Ge),vi=new kc(yi,Fe),sn=new Xi(vi,Fe,Ct,Lt),Qn=new Xh(L,sn,Ct,Fe,Lt);return function(D){const E=(0,ie.m9)(D);E._initializePromise||(E._initializePromise=E._storageCache.loadFromStorage().then(()=>{E._isInitializationComplete=!0}))}(Qn),Qn},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(it,"0.3.3"),(0,ae.registerVersion)(it,"0.3.3","esm2017");const Bc="/firebase-messaging-sw.js",vd="/firebase-cloud-messaging-push-scope",pr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Kr="google.c.a.c_id",es="google.c.a.c_l",Qr="google.c.a.ts",ri="google.c.a.e";var Jn=(()=>{return(D=Jn||(Jn={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Jn;var D})();function Sr(D){const E=new Uint8Array(D);return btoa(String.fromCharCode(...E)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ms(D){const M=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(M),Z=new Uint8Array(L.length);for(let z=0;z<L.length;++z)Z[z]=L.charCodeAt(z);return Z}const Ol="fcm_token_details_db",Uc="fcm_token_object_Store";function Pl(D){return ka.apply(this,arguments)}function ka(){return ka=(0,O.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(z=>z.name).includes(Ol))return null;let E=null;return(yield(0,re.openDb)(Ol,5,function(){var L=(0,O.Z)(function*(Z){var z;if(Z.oldVersion<2||!Z.objectStoreNames.contains(Uc))return;const De=Z.transaction.objectStore(Uc),Ge=yield De.index("fcmSenderId").get(D);if(yield De.clear(),Ge)if(2===Z.oldVersion){const Fe=Ge;if(!Fe.auth||!Fe.p256dh||!Fe.endpoint)return;E={token:Fe.fcmToken,createTime:null!==(z=Fe.createTime)&&void 0!==z?z:Date.now(),subscriptionOptions:{auth:Fe.auth,p256dh:Fe.p256dh,endpoint:Fe.endpoint,swScope:Fe.swScope,vapidKey:"string"==typeof Fe.vapidKey?Fe.vapidKey:Sr(Fe.vapidKey)}}}else if(3===Z.oldVersion){const Fe=Ge;E={token:Fe.fcmToken,createTime:Fe.createTime,subscriptionOptions:{auth:Sr(Fe.auth),p256dh:Sr(Fe.p256dh),endpoint:Fe.endpoint,swScope:Fe.swScope,vapidKey:Sr(Fe.vapidKey)}}}else if(4===Z.oldVersion){const Fe=Ge;E={token:Fe.fcmToken,createTime:Fe.createTime,subscriptionOptions:{auth:Sr(Fe.auth),p256dh:Sr(Fe.p256dh),endpoint:Fe.endpoint,swScope:Fe.swScope,vapidKey:Sr(Fe.vapidKey)}}}});return function(Z){return L.apply(this,arguments)}}())).close(),yield(0,re.deleteDb)(Ol),yield(0,re.deleteDb)("fcm_vapid_details_db"),yield(0,re.deleteDb)("undefined"),bd(E)?E:null}),ka.apply(this,arguments)}function bd(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:E}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof E.auth&&E.auth.length>0&&"string"==typeof E.p256dh&&E.p256dh.length>0&&"string"==typeof E.endpoint&&E.endpoint.length>0&&"string"==typeof E.swScope&&E.swScope.length>0&&"string"==typeof E.vapidKey&&E.vapidKey.length>0}const Ut="firebase-messaging-store";let Fl=null;function Eo(){return Fl||(Fl=(0,re.openDb)("firebase-messaging-database",1,D=>{0===D.oldVersion&&D.createObjectStore(Ut)})),Fl}function En(D){return To.apply(this,arguments)}function To(){return(To=(0,O.Z)(function*(D){const E=Io(D),L=yield(yield Eo()).transaction(Ut).objectStore(Ut).get(E);if(L)return L;{const Z=yield Pl(D.appConfig.senderId);if(Z)return yield gi(D,Z),Z}})).apply(this,arguments)}function gi(D,E){return tr.apply(this,arguments)}function tr(){return(tr=(0,O.Z)(function*(D,E){const M=Io(D),Z=(yield Eo()).transaction(Ut,"readwrite");return yield Z.objectStore(Ut).put(E,M),yield Z.complete,E})).apply(this,arguments)}function Tn(D){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,O.Z)(function*(D){const E=Io(D),L=(yield Eo()).transaction(Ut,"readwrite");yield L.objectStore(Ut).delete(E),yield L.complete})).apply(this,arguments)}function Io({appConfig:D}){return D.appId}const Pt=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Nr(D,E){return xs.apply(this,arguments)}function xs(){return(xs=(0,O.Z)(function*(D,E){const M=yield Pa(D),L=ts(E),Z={method:"POST",headers:M,body:JSON.stringify(L)};let z;try{z=yield(yield fetch(We(D.appConfig),Z)).json()}catch(De){throw Pt.create("token-subscribe-failed",{errorInfo:De})}if(z.error)throw Pt.create("token-subscribe-failed",{errorInfo:z.error.message});if(!z.token)throw Pt.create("token-subscribe-no-token");return z.token})).apply(this,arguments)}function So(D,E){return mi.apply(this,arguments)}function mi(){return(mi=(0,O.Z)(function*(D,E){const M=yield Pa(D),L=ts(E.subscriptionOptions),Z={method:"PATCH",headers:M,body:JSON.stringify(L)};let z;try{z=yield(yield fetch(`${We(D.appConfig)}/${E.token}`,Z)).json()}catch(De){throw Pt.create("token-update-failed",{errorInfo:De})}if(z.error)throw Pt.create("token-update-failed",{errorInfo:z.error.message});if(!z.token)throw Pt.create("token-update-no-token");return z.token})).apply(this,arguments)}function ks(D,E){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,O.Z)(function*(D,E){const L={method:"DELETE",headers:yield Pa(D)};try{const z=yield(yield fetch(`${We(D.appConfig)}/${E}`,L)).json();if(z.error)throw Pt.create("token-unsubscribe-failed",{errorInfo:z.error.message})}catch(Z){throw Pt.create("token-unsubscribe-failed",{errorInfo:Z})}})).apply(this,arguments)}function We({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Pa(D){return Os.apply(this,arguments)}function Os(){return(Os=(0,O.Z)(function*({appConfig:D,installations:E}){const M=yield E.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function ts({p256dh:D,auth:E,endpoint:M,vapidKey:L}){const Z={web:{endpoint:M,auth:E,p256dh:D}};return L!==pr&&(Z.web.applicationPubKey=L),Z}const Ps=6048e5;function Fa(D){return La.apply(this,arguments)}function La(){return(La=(0,O.Z)(function*(D){const E=yield eo(D.swRegistration,D.vapidKey),M={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:E.endpoint,auth:Sr(E.getKey("auth")),p256dh:Sr(E.getKey("p256dh"))},L=yield En(D.firebaseDependencies);if(L){if(Ba(L.subscriptionOptions,M))return Date.now()>=L.createTime+Ps?wt(D,{token:L.token,createTime:Date.now(),subscriptionOptions:M}):L.token;try{yield ks(D.firebaseDependencies,L.token)}catch(Z){console.warn(Z)}return nn(D.firebaseDependencies,M)}return nn(D.firebaseDependencies,M)})).apply(this,arguments)}function Hc(D){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,O.Z)(function*(D){const E=yield En(D.firebaseDependencies);E&&(yield ks(D.firebaseDependencies,E.token),yield Tn(D.firebaseDependencies));const M=yield D.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function wt(D,E){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,O.Z)(function*(D,E){try{const M=yield So(D.firebaseDependencies,E),L=Object.assign(Object.assign({},E),{token:M,createTime:Date.now()});return yield gi(D.firebaseDependencies,L),M}catch(M){throw yield Hc(D),M}})).apply(this,arguments)}function nn(D,E){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,O.Z)(function*(D,E){const L={token:yield Nr(D,E),createTime:Date.now(),subscriptionOptions:E};return yield gi(D,L),L.token})).apply(this,arguments)}function eo(D,E){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,O.Z)(function*(D,E){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ms(E)})})).apply(this,arguments)}function Ba(D,E){return E.vapidKey===D.vapidKey&&E.endpoint===D.endpoint&&E.auth===D.auth&&E.p256dh===D.p256dh}function No(D){const E={from:D.from,collapseKey:D.collapse_key,messageId:D.fcm_message_id};return function(D,E){if(!E.notification)return;D.notification={};const M=E.notification.title;M&&(D.notification.title=M);const L=E.notification.body;L&&(D.notification.body=L);const Z=E.notification.image;Z&&(D.notification.image=Z)}(E,D),function(D,E){!E.data||(D.data=E.data)}(E,D),function(D,E){if(!E.fcmOptions)return;D.fcmOptions={};const M=E.fcmOptions.link;M&&(D.fcmOptions.link=M);const L=E.fcmOptions.analytics_label;L&&(D.fcmOptions.analyticsLabel=L)}(E,D),E}function Mo(D){return"object"==typeof D&&!!D&&Kr in D}function Un(D,E){const M=[];for(let L=0;L<D.length;L++)M.push(D.charAt(L)),L<E.length&&M.push(E.charAt(L));return M.join("")}function Bs(D){return Pt.create("missing-app-config-values",{valueName:D})}Un("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Un("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class to{constructor(E,M,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Z=function(D){if(!D||!D.options)throw Bs("App Configuration Object");if(!D.name)throw Bs("App Name");const E=["projectId","apiKey","appId","messagingSenderId"],{options:M}=D;for(const L of E)if(!M[L])throw Bs(L);return{appName:D.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(E);this.firebaseDependencies={app:E,appConfig:Z,installations:M,analyticsProvider:L}}_delete(){return Promise.resolve()}}function gr(D){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,O.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Bc,{scope:vd}),D.swRegistration.update().catch(()=>{})}catch(E){throw Pt.create("failed-service-worker-registration",{browserErrorMessage:E.message})}})).apply(this,arguments)}function Us(D,E){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,O.Z)(function*(D,E){if(!E&&!D.swRegistration&&(yield gr(D)),E||!D.swRegistration){if(!(E instanceof ServiceWorkerRegistration))throw Pt.create("invalid-sw-registration");D.swRegistration=E}})).apply(this,arguments)}function Va(D,E){return $s.apply(this,arguments)}function $s(){return($s=(0,O.Z)(function*(D,E){E?D.vapidKey=E:D.vapidKey||(D.vapidKey=pr)})).apply(this,arguments)}function Ua(){return(Ua=(0,O.Z)(function*(D,E){if(!navigator)throw Pt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Pt.create("permission-blocked");return yield Va(D,null==E?void 0:E.vapidKey),yield Us(D,null==E?void 0:E.serviceWorkerRegistration),Fa(D)})).apply(this,arguments)}function js(D,E,M){return $c.apply(this,arguments)}function $c(){return($c=(0,O.Z)(function*(D,E,M){const L=Ha(E);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:M[Kr],message_name:M[es],message_time:M[Qr],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ha(D){switch(D){case Jn.NOTIFICATION_CLICKED:return"notification_open";case Jn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Gs(){return(Gs=(0,O.Z)(function*(D,E){const M=E.data;if(!M.isFirebaseMessaging)return;D.onMessageHandler&&M.messageType===Jn.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(No(M)):D.onMessageHandler.next(No(M)));const L=M.data;Mo(L)&&"1"===L[ri]&&(yield js(D,M.messageType,L))})).apply(this,arguments)}const Vl="@firebase/messaging";function Ul(){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,O.Z)(function*(){return"undefined"!=typeof window&&(0,ie.hl)()&&(yield(0,ie.eu)())&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ae._registerComponent)(new de.wA("messaging",D=>{const E=new to(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function(D,E){return Gs.apply(this,arguments)}(E,M)),E},"PUBLIC")),(0,ae._registerComponent)(new de.wA("messaging-internal",D=>{const E=D.getProvider("messaging").getImmediate();return{getToken:L=>function(D,E){return Ua.apply(this,arguments)}(E,L)}},"PRIVATE")),(0,ae.registerVersion)(Vl,"0.9.4"),(0,ae.registerVersion)(Vl,"0.9.4","esm2017");const io="analytics",ja="firebase_id",Hl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zc="https://www.googletagmanager.com/gtag/js",Xt=new ne.Yd("@firebase/analytics");function qs(D){return Promise.all(D.map(E=>E.catch(M=>M)))}function of(D,E){const M=document.createElement("script");M.src=`${zc}?l=${D}&id=${E}`,M.async=!0,document.head.appendChild(M)}function is(D,E,M,L,Z,z){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,O.Z)(function*(D,E,M,L,Z,z){const De=L[Z];try{if(De)yield E[De];else{const Fe=(yield qs(M)).find(Ct=>Ct.measurementId===Z);Fe&&(yield E[Fe.appId])}}catch(Ge){Xt.error(Ge)}D("config",Z,z)})).apply(this,arguments)}function Ro(D,E,M,L,Z){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,O.Z)(function*(D,E,M,L,Z){try{let z=[];if(Z&&Z.send_to){let De=Z.send_to;Array.isArray(De)||(De=[De]);const Ge=yield qs(M);for(const Fe of De){const Ct=Ge.find(yi=>yi.measurementId===Fe),Lt=Ct&&E[Ct.appId];if(!Lt){z=[];break}z.push(Lt)}}0===z.length&&(z=Object.values(E)),yield Promise.all(z),D("event",L,Z||{})}catch(z){Xt.error(z)}})).apply(this,arguments)}function vn(){const D=window.document.getElementsByTagName("script");for(const E of Object.values(D))if(E.src&&E.src.includes(zc))return E;return null}const je=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),rs=new class{constructor(E={},M=1e3){this.throttleMetadata=E,this.intervalMillis=M}getThrottleMetadata(E){return this.throttleMetadata[E]}setThrottleMetadata(E,M){this.throttleMetadata[E]=M}deleteThrottleMetadata(E){delete this.throttleMetadata[E]}};function sf(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Js(D){return za.apply(this,arguments)}function za(){return(za=(0,O.Z)(function*(D){var E;const{appId:M,apiKey:L}=D,Z={method:"GET",headers:sf(L)},z=Hl.replace("{app-id}",M),De=yield fetch(z,Z);if(200!==De.status&&304!==De.status){let Ge="";try{const Fe=yield De.json();(null===(E=Fe.error)||void 0===E?void 0:E.message)&&(Ge=Fe.error.message)}catch(Fe){}throw je.create("config-fetch-failed",{httpStatus:De.status,responseMessage:Ge})}return De.json()})).apply(this,arguments)}function xo(D){return ro.apply(this,arguments)}function ro(){return(ro=(0,O.Z)(function*(D,E=rs,M){const{appId:L,apiKey:Z,measurementId:z}=D.options;if(!L)throw je.create("no-app-id");if(!Z){if(z)return{measurementId:z,appId:L};throw je.create("no-api-key")}const De=E.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ge=new ko;return setTimeout((0,O.Z)(function*(){Ge.abort()}),void 0!==M?M:6e4),mr({appId:L,apiKey:Z,measurementId:z},De,Ge,E)})).apply(this,arguments)}function mr(D,E,M){return rt.apply(this,arguments)}function rt(){return(rt=(0,O.Z)(function*(D,{throttleEndTimeMillis:E,backoffCount:M},L,Z=rs){const{appId:z,measurementId:De}=D;try{yield Id(L,E)}catch(Ge){if(De)return Xt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${De} provided in the "measurementId" field in the local Firebase config. [${Ge.message}]`),{appId:z,measurementId:De};throw Ge}try{const Ge=yield Js(D);return Z.deleteThrottleMetadata(z),Ge}catch(Ge){if(!Ad(Ge)){if(Z.deleteThrottleMetadata(z),De)return Xt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${De} provided in the "measurementId" field in the local Firebase config. [${Ge.message}]`),{appId:z,measurementId:De};throw Ge}const Fe=503===Number(Ge.customData.httpStatus)?(0,ie.$s)(M,Z.intervalMillis,30):(0,ie.$s)(M,Z.intervalMillis),Ct={throttleEndTimeMillis:Date.now()+Fe,backoffCount:M+1};return Z.setThrottleMetadata(z,Ct),Xt.debug(`Calling attemptFetch again in ${Fe} millis`),mr(D,Ct,L,Z)}})).apply(this,arguments)}function Id(D,E){return new Promise((M,L)=>{const Z=Math.max(E-Date.now(),0),z=setTimeout(M,Z);D.addEventListener(()=>{clearTimeout(z),L(je.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}function Ad(D){if(!(D instanceof ie.ZR&&D.customData))return!1;const E=Number(D.customData.httpStatus);return 429===E||500===E||503===E||504===E}class ko{constructor(){this.listeners=[]}addEventListener(E){this.listeners.push(E)}abort(){this.listeners.forEach(E=>E())}}function os(){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,O.Z)(function*(){if(!(0,ie.hl)())return Xt.warn(je.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(D){return Xt.warn(je.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function ir(){return(ir=(0,O.Z)(function*(D,E,M,L,Z,z,De){var Ge;const Fe=xo(D);Fe.then(sn=>{M[sn.measurementId]=sn.appId,D.options.measurementId&&sn.measurementId!==D.options.measurementId&&Xt.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${sn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(sn=>Xt.error(sn)),E.push(Fe);const Ct=os().then(sn=>{if(sn)return L.getId()}),[Lt,yi]=yield Promise.all([Fe,Ct]);vn()||of(z,Lt.measurementId),Z("js",new Date);const vi=null!==(Ge=null==De?void 0:De.config)&&void 0!==Ge?Ge:{};return vi.origin="firebase",vi.update=!0,null!=yi&&(vi[ja]=yi),Z("config",Lt.measurementId,vi),Lt.measurementId})).apply(this,arguments)}class Zc{constructor(E){this.app=E}_delete(){return delete rr[this.app.options.appId],Promise.resolve()}}let rr={},$l=[];const ss={};let Qs,on,Oo="dataLayer",oo=!1;function Hn(D,E,M){!function(){const D=[];if((0,ie.ru)()&&D.push("This is a browser extension environment."),(0,ie.zI)()||D.push("Cookies are not available."),D.length>0){const E=D.map((L,Z)=>`(${Z+1}) ${L}`).join(" "),M=je.create("invalid-analytics-context",{errorInfo:E});Xt.warn(M.message)}}();const L=D.options.appId;if(!L)throw je.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw je.create("no-api-key");Xt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=rr[L])throw je.create("already-exists",{id:L});if(!oo){!function(D){let E=[];Array.isArray(window[D])?E=window[D]:window[D]=E}(Oo);const{wrappedGtag:z,gtagCore:De}=function(D,E,M,L,Z){let z=function(...De){window[L].push(arguments)};return window[Z]&&"function"==typeof window[Z]&&(z=window[Z]),window[Z]=function(D,E,M,L){function z(){return(z=(0,O.Z)(function*(De,Ge,Fe){try{"event"===De?yield Ro(D,E,M,Ge,Fe):"config"===De?yield is(D,E,M,L,Ge,Fe):D("set",Ge)}catch(Ct){Xt.error(Ct)}})).apply(this,arguments)}return function(De,Ge,Fe){return z.apply(this,arguments)}}(z,D,E,M),{gtagCore:z,wrappedGtag:window[Z]}}(rr,$l,ss,Oo,"gtag");on=z,Qs=De,oo=!0}return rr[L]=function(D,E,M,L,Z,z,De){return ir.apply(this,arguments)}(D,$l,ss,E,Qs,Oo,M),new Zc(D)}function Ya(){return(Ya=(0,O.Z)(function*(D,E,M,L,Z){if(Z&&Z.global)D("event",M,L);else{const z=yield E;D("event",M,Object.assign(Object.assign({},L),{send_to:z}))}})).apply(this,arguments)}function zt(){return qa.apply(this,arguments)}function qa(){return(qa=(0,O.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch(D){return!1}})).apply(this,arguments)}const Yc="@firebase/analytics";(0,ae._registerComponent)(new de.wA(io,(E,{options:M})=>Hn(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,ae._registerComponent)(new de.wA("analytics-internal",function(E){try{const M=E.getProvider(io).getImmediate();return{logEvent:(L,Z,z)=>function(D,E,M,L){D=(0,ie.m9)(D),function(D,E,M,L,Z){return Ya.apply(this,arguments)}(on,rr[D.app.options.appId],E,M,L).catch(Z=>Xt.error(Z))}(M,L,Z,z)}}catch(M){throw je.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,ae.registerVersion)(Yc,"0.7.4"),(0,ae.registerVersion)(Yc,"0.7.4","esm2017");var hn=k(2869),ea=k(8843);const Rd=new class extends ea.v{}(class extends hn.o{constructor(E,M){super(E,M),this.scheduler=E,this.work=M}schedule(E,M=0){return M>0?super.schedule(E,M):(this.delay=M,this.state=E,this.scheduler.flush(this),this)}execute(E,M){return M>0||this.closed?super.execute(E,M):this._execute(E,M)}requestAsyncId(E,M,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(E,M,L):E.flush(this)}});var yr=k(2210),jl=k(7384),as=k(5222),ls=k(4763);const Jc=new s.GfV("7.2.0"),Gl="__angularfire_symbol__analyticsIsSupported",Wl="__angularfire_symbol__remoteConfigIsSupported",oi="__angularfire_symbol__messagingIsSupported";function Kc(D,E,M){if(E){if(1===E.length)return E[0];const z=E.filter(De=>De.app===M);if(1===z.length)return z[0]}return M.container.getProvider(D).getImmediate({optional:!0})}globalThis[Gl]||(globalThis[Gl]=zt().then(D=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=D)),globalThis[oi]||(globalThis[oi]=Ul().then(D=>globalThis.__angularfire_symbol__messagingIsSupportedValue=D)),globalThis[Wl]||(globalThis[Wl]=Ns().then(D=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=D));const Pd=(D,E)=>{const M=E?[E]:(0,K.C6)(),L=[];return M.forEach(Z=>{Z.container.getProvider(D).instances.forEach(De=>{L.includes(De)||L.push(De)})}),L};function si(){}class zl{constructor(E,M=Rd){this.zone=E,this.delegate=M}now(){return this.delegate.now()}schedule(E,M,L){const Z=this.zone;return this.delegate.schedule(function(De){Z.runGuarded(()=>{E.apply(this,[De])})},M,L)}}class Ja{constructor(E){this.zone=E,this.task=null}call(E,M){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",si,{},si,si)),M.pipe((0,jl.b)({next:L,complete:L,error:L})).subscribe(E).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Zl=(()=>{class D{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new zl(Zone.current)),this.insideAngular=M.run(()=>new zl(Zone.current,yr.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(M){return new(M||D)(s.LFG(s.R0b))},D.\u0275prov=s.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function br(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Or(D){return br(),function(D){return function(M){return(M=M.lift(new Ja(D.ngZone))).pipe((0,as.R)(D.outsideAngular),(0,ls.Q)(D.insideAngular))}}(br())(D)}},4213:(Ve,he,k)=>{"use strict";k.d(he,{BH:()=>Re,LL:()=>ue,ZR:()=>Se,gQ:()=>Ee,zI:()=>ce,hu:()=>K,g5:()=>O,US:()=>de,tV:()=>le,h$:()=>ne,$s:()=>kt,r3:()=>Yt,Sg:()=>we,ne:()=>Vn,p$:()=>$,vZ:()=>At,ZB:()=>H,gK:()=>Je,pd:()=>dr,m9:()=>Sl,z$:()=>xe,GJ:()=>ui,jU:()=>Y,ru:()=>se,xb:()=>mn,w1:()=>Be,hl:()=>Xe,uI:()=>Me,UG:()=>oe,Yr:()=>Le,b$:()=>be,w9:()=>ti,cI:()=>Dn,UI:()=>ki,xO:()=>Jo,zd:()=>Yi,DV:()=>qo,ug:()=>xt,dS:()=>hi,Pz:()=>ct,Dv:()=>di,Wj:()=>yt,lb:()=>vt,eu:()=>ee});const K=function(G,B){if(!G)throw O(B)},O=function(G){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+G)},ae=function(G){const B=[];let W=0;for(let ve=0;ve<G.length;ve++){let te=G.charCodeAt(ve);te<128?B[W++]=te:te<2048?(B[W++]=te>>6|192,B[W++]=63&te|128):55296==(64512&te)&&ve+1<G.length&&56320==(64512&G.charCodeAt(ve+1))?(te=65536+((1023&te)<<10)+(1023&G.charCodeAt(++ve)),B[W++]=te>>18|240,B[W++]=te>>12&63|128,B[W++]=te>>6&63|128,B[W++]=63&te|128):(B[W++]=te>>12|224,B[W++]=te>>6&63|128,B[W++]=63&te|128)}return B},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,B){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,ve=[];for(let te=0;te<G.length;te+=3){const $e=G[te],et=te+1<G.length,Ot=et?G[te+1]:0,Zn=te+2<G.length,dn=Zn?G[te+2]:0;let Yn=(15&Ot)<<2|dn>>6,bo=63&dn;Zn||(bo=64,et||(Yn=64)),ve.push(W[$e>>2],W[(3&$e)<<4|Ot>>4],W[Yn],W[bo])}return ve.join("")},encodeString(G,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(G):this.encodeByteArray(ae(G),B)},decodeString(G,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(G):function(G){const B=[];let W=0,ve=0;for(;W<G.length;){const te=G[W++];if(te<128)B[ve++]=String.fromCharCode(te);else if(te>191&&te<224){const $e=G[W++];B[ve++]=String.fromCharCode((31&te)<<6|63&$e)}else if(te>239&&te<365){const Zn=((7&te)<<18|(63&G[W++])<<12|(63&G[W++])<<6|63&G[W++])-65536;B[ve++]=String.fromCharCode(55296+(Zn>>10)),B[ve++]=String.fromCharCode(56320+(1023&Zn))}else{const $e=G[W++],et=G[W++];B[ve++]=String.fromCharCode((15&te)<<12|(63&$e)<<6|63&et)}}return B.join("")}(this.decodeStringToByteArray(G,B))},decodeStringToByteArray(G,B){this.init_();const W=B?this.charToByteMapWebSafe_:this.charToByteMap_,ve=[];for(let te=0;te<G.length;){const $e=W[G.charAt(te++)],Ot=te<G.length?W[G.charAt(te)]:0;++te;const dn=te<G.length?W[G.charAt(te)]:64;++te;const Et=te<G.length?W[G.charAt(te)]:64;if(++te,null==$e||null==Ot||null==dn||null==Et)throw Error();ve.push($e<<2|Ot>>4),64!==dn&&(ve.push(Ot<<4&240|dn>>2),64!==Et&&ve.push(dn<<6&192|Et))}return ve},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},ne=function(G){const B=ae(G);return de.encodeByteArray(B,!0)},re=function(G){return ne(G).replace(/\./g,"")},le=function(G){try{return de.decodeString(G,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function $(G){return H(void 0,G)}function H(G,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return B}for(const W in B)!B.hasOwnProperty(W)||!Q(W)||(G[W]=H(G[W],B[W]));return G}function Q(G){return"__proto__"!==G}class Re{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,W)=>{this.resolve=B,this.reject=W})}wrapCallback(B){return(W,ve)=>{W?this.reject(W):this.resolve(ve),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(W):B(W,ve))}}}function we(G,B){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ve=B||"demo-project",te=G.iat||0,$e=G.sub||G.user_id;if(!$e)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const et=Object.assign({iss:`https://securetoken.google.com/${ve}`,aud:ve,iat:te,exp:te+3600,auth_time:te,sub:$e,user_id:$e,firebase:{sign_in_provider:"custom",identities:{}}},G);return[re(JSON.stringify({alg:"none",type:"JWT"})),re(JSON.stringify(et)),""].join(".")}function xe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Me(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xe())}function oe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(G){return!1}}function Y(){return"object"==typeof self&&self.self===self}function se(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function be(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Be(){const G=xe();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Le(){return!1}function Xe(){return"object"==typeof indexedDB}function ee(){return new Promise((G,B)=>{try{let W=!0;const ve="validate-browser-context-for-indexeddb-analytics-module",te=self.indexedDB.open(ve);te.onsuccess=()=>{te.result.close(),W||self.indexedDB.deleteDatabase(ve),G(!0)},te.onupgradeneeded=()=>{W=!1},te.onerror=()=>{var $e;B((null===($e=te.error)||void 0===$e?void 0:$e.message)||"")}}catch(W){B(W)}})}function ce(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Se extends Error{constructor(B,W,ve){super(W),this.code=B,this.customData=ve,this.name="FirebaseError",Object.setPrototypeOf(this,Se.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ue.prototype.create)}}class ue{constructor(B,W,ve){this.service=B,this.serviceName=W,this.errors=ve}create(B,...W){const ve=W[0]||{},te=`${this.service}/${B}`,$e=this.errors[B],et=$e?function(G,B){return G.replace(Rt,(W,ve)=>{const te=B[ve];return null!=te?String(te):`<${ve}?>`})}($e,ve):"Error";return new Se(te,`${this.serviceName}: ${et} (${te}).`,ve)}}const Rt=/\{\$([^}]+)}/g;function Dn(G){return JSON.parse(G)}function ct(G){return JSON.stringify(G)}const ot=function(G){let B={},W={},ve={},te="";try{const $e=G.split(".");B=Dn(le($e[0])||""),W=Dn(le($e[1])||""),te=$e[2],ve=W.d||{},delete W.d}catch($e){}return{header:B,claims:W,data:ve,signature:te}},ti=function(G){const W=ot(G).claims;return!!W&&"object"==typeof W&&W.hasOwnProperty("iat")},ui=function(G){const B=ot(G).claims;return"object"==typeof B&&!0===B.admin};function Yt(G,B){return Object.prototype.hasOwnProperty.call(G,B)}function qo(G,B){if(Object.prototype.hasOwnProperty.call(G,B))return G[B]}function mn(G){for(const B in G)if(Object.prototype.hasOwnProperty.call(G,B))return!1;return!0}function ki(G,B,W){const ve={};for(const te in G)Object.prototype.hasOwnProperty.call(G,te)&&(ve[te]=B.call(W,G[te],te,G));return ve}function At(G,B){if(G===B)return!0;const W=Object.keys(G),ve=Object.keys(B);for(const te of W){if(!ve.includes(te))return!1;const $e=G[te],et=B[te];if(un($e)&&un(et)){if(!At($e,et))return!1}else if($e!==et)return!1}for(const te of ve)if(!W.includes(te))return!1;return!0}function un(G){return null!==G&&"object"==typeof G}function Jo(G){const B=[];for(const[W,ve]of Object.entries(G))Array.isArray(ve)?ve.forEach(te=>{B.push(encodeURIComponent(W)+"="+encodeURIComponent(te))}):B.push(encodeURIComponent(W)+"="+encodeURIComponent(ve));return B.length?"&"+B.join("&"):""}function Yi(G){const B={};return G.replace(/^\?/,"").split("&").forEach(ve=>{if(ve){const[te,$e]=ve.split("=");B[decodeURIComponent(te)]=decodeURIComponent($e)}}),B}function dr(G){const B=G.indexOf("?");if(!B)return"";const W=G.indexOf("#",B);return G.substring(B,W>0?W:void 0)}class Ee{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let B=1;B<this.blockSize;++B)this.pad_[B]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(B,W){W||(W=0);const ve=this.W_;if("string"==typeof B)for(let Et=0;Et<16;Et++)ve[Et]=B.charCodeAt(W)<<24|B.charCodeAt(W+1)<<16|B.charCodeAt(W+2)<<8|B.charCodeAt(W+3),W+=4;else for(let Et=0;Et<16;Et++)ve[Et]=B[W]<<24|B[W+1]<<16|B[W+2]<<8|B[W+3],W+=4;for(let Et=16;Et<80;Et++){const Yn=ve[Et-3]^ve[Et-8]^ve[Et-14]^ve[Et-16];ve[Et]=4294967295&(Yn<<1|Yn>>>31)}let dn,Ti,te=this.chain_[0],$e=this.chain_[1],et=this.chain_[2],Ot=this.chain_[3],Zn=this.chain_[4];for(let Et=0;Et<80;Et++){Et<40?Et<20?(dn=Ot^$e&(et^Ot),Ti=1518500249):(dn=$e^et^Ot,Ti=1859775393):Et<60?(dn=$e&et|Ot&($e|et),Ti=2400959708):(dn=$e^et^Ot,Ti=3395469782);const Yn=(te<<5|te>>>27)+dn+Zn+Ti+ve[Et]&4294967295;Zn=Ot,Ot=et,et=4294967295&($e<<30|$e>>>2),$e=te,te=Yn}this.chain_[0]=this.chain_[0]+te&4294967295,this.chain_[1]=this.chain_[1]+$e&4294967295,this.chain_[2]=this.chain_[2]+et&4294967295,this.chain_[3]=this.chain_[3]+Ot&4294967295,this.chain_[4]=this.chain_[4]+Zn&4294967295}update(B,W){if(null==B)return;void 0===W&&(W=B.length);const ve=W-this.blockSize;let te=0;const $e=this.buf_;let et=this.inbuf_;for(;te<W;){if(0===et)for(;te<=ve;)this.compress_(B,te),te+=this.blockSize;if("string"==typeof B){for(;te<W;)if($e[et]=B.charCodeAt(te),++et,++te,et===this.blockSize){this.compress_($e),et=0;break}}else for(;te<W;)if($e[et]=B[te],++et,++te,et===this.blockSize){this.compress_($e),et=0;break}}this.inbuf_=et,this.total_+=W}digest(){const B=[];let W=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let te=this.blockSize-1;te>=56;te--)this.buf_[te]=255&W,W/=256;this.compress_(this.buf_);let ve=0;for(let te=0;te<5;te++)for(let $e=24;$e>=0;$e-=8)B[ve]=this.chain_[te]>>$e&255,++ve;return B}}function Vn(G,B){const W=new Mn(G,B);return W.subscribe.bind(W)}class Mn{constructor(B,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{B(this)}).catch(ve=>{this.error(ve)})}next(B){this.forEachObserver(W=>{W.next(B)})}error(B){this.forEachObserver(W=>{W.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,W,ve){let te;if(void 0===B&&void 0===W&&void 0===ve)throw new Error("Missing Observer.");te=function(G,B){if("object"!=typeof G||null===G)return!1;for(const W of["next","error","complete"])if(W in G&&"function"==typeof G[W])return!0;return!1}(B)?B:{next:B,error:W,complete:ve},void 0===te.next&&(te.next=qi),void 0===te.error&&(te.error=qi),void 0===te.complete&&(te.complete=qi);const $e=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?te.error(this.finalError):te.complete()}catch(et){}}),this.observers.push(te),$e}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,B)}sendOne(B,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{W(this.observers[B])}catch(ve){"undefined"!=typeof console&&console.error&&console.error(ve)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qi(){}const di=function(G,B,W,ve){let te;if(ve<B?te="at least "+B:ve>W&&(te=0===W?"none":"no more than "+W),te)throw new Error(G+" failed: Was called with "+ve+(1===ve?" argument.":" arguments.")+" Expects "+te+".")};function Je(G,B){return`${G} failed: ${B} argument `}function yt(G,B,W,ve){if((!ve||W)&&"function"!=typeof W)throw new Error(Je(G,B)+"must be a valid function.")}function vt(G,B,W,ve){if((!ve||W)&&("object"!=typeof W||null===W))throw new Error(Je(G,B)+"must be a valid context object.")}const hi=function(G){const B=[];let W=0;for(let ve=0;ve<G.length;ve++){let te=G.charCodeAt(ve);if(te>=55296&&te<=56319){const $e=te-55296;ve++,K(ve<G.length,"Surrogate pair missing trail surrogate."),te=65536+($e<<10)+(G.charCodeAt(ve)-56320)}te<128?B[W++]=te:te<2048?(B[W++]=te>>6|192,B[W++]=63&te|128):te<65536?(B[W++]=te>>12|224,B[W++]=te>>6&63|128,B[W++]=63&te|128):(B[W++]=te>>18|240,B[W++]=te>>12&63|128,B[W++]=te>>6&63|128,B[W++]=63&te|128)}return B},xt=function(G){let B=0;for(let W=0;W<G.length;W++){const ve=G.charCodeAt(W);ve<128?B++:ve<2048?B+=2:ve>=55296&&ve<=56319?(B+=4,W++):B+=3}return B};function kt(G,B=1e3,W=2){const ve=B*Math.pow(W,G),te=Math.round(.5*ve*(Math.random()-.5)*2);return Math.min(144e5,ve+te)}function Sl(G){return G&&G._delegate?G._delegate:G}},7713:(Ve,he,k)=>{"use strict";k.d(he,{Mq:()=>s.getApp,C6:()=>s.getApps});var s=k(1572);(0,s.registerVersion)("firebase","9.6.1","app")},7892:(Ve,he,k)=>{"use strict";k.d(he,{Z:()=>s.Z});var s=k(6293);s.Z.registerVersion("firebase","9.6.1","app-compat")},9766:(Ve,he,k)=>{"use strict";k.r(he);var s=k(8239),K=k(6293),O=k(4213),ae=k(1572);function re(m,h){var f={};for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&h.indexOf(v)<0&&(f[v]=m[v]);if(null!=m&&"function"==typeof Object.getOwnPropertySymbols){var T=0;for(v=Object.getOwnPropertySymbols(m);T<v.length;T++)h.indexOf(v[T])<0&&Object.prototype.propertyIsEnumerable.call(m,v[T])&&(f[v[T]]=m[v[T]])}return f}var Se=k(3855),ue=k(1177);const ti=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ui=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Yt=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),mn=new Se.Yd("@firebase/auth");function ki(m,...h){mn.logLevel<=Se.in.ERROR&&mn.error(`Auth (${ae.SDK_VERSION}): ${m}`,...h)}function At(m,...h){throw dr(m,...h)}function un(m,...h){return dr(m,...h)}function Jo(m,h,f){const v=Object.assign(Object.assign({},ui()),{[h]:f});return new O.LL("auth","Firebase",v).create(h,{appName:m.name})}function Yi(m,h,f){if(!(h instanceof f))throw f.name!==h.constructor.name&&At(m,"argument-error"),Jo(m,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dr(m,...h){if("string"!=typeof m){const f=h[0],v=[...h.slice(1)];return v[0]&&(v[0].appName=m.name),m._errorFactory.create(f,...v)}return Yt.create(m,...h)}function Ee(m,h,...f){if(!m)throw dr(h,...f)}function Vn(m){const h="INTERNAL ASSERTION FAILED: "+m;throw ki(h),new Error(h)}function Mn(m,h){m||Vn(h)}const tt=new Map;function Mt(m){Mn(m instanceof Function,"Expected a class definition");let h=tt.get(m);return h?(Mn(h instanceof m,"Instance stored in cache mismatched with class"),h):(h=new m,tt.set(m,h),h)}function Je(){var m;return"undefined"!=typeof self&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function nt(){return"http:"===yt()||"https:"===yt()}function yt(){var m;return"undefined"!=typeof self&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class xt{constructor(h,f){this.shortDelay=h,this.longDelay=f,Mn(f>h,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(nt()||(0,O.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ue(m,h){Mn(m.emulator,"Emulator should always be set here");const{url:f}=m.emulator;return h?`${f}${h.startsWith("/")?h.slice(1):h}`:f}class Ke{static initialize(h,f,v){this.fetchImpl=h,f&&(this.headersImpl=f),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Vn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Vn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Vn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Sa={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Zr=new xt(3e4,6e4);function kt(m,h){return m.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:m.tenantId}):h}function lt(m,h,f,v){return fi.apply(this,arguments)}function fi(){return(fi=(0,s.Z)(function*(m,h,f,v,T={}){return Sl(m,T,(0,s.Z)(function*(){let S={},U={};v&&("GET"===h?U=v:S={body:JSON.stringify(v)});const X=(0,O.xO)(Object.assign({key:m.config.apiKey},U)).slice(1),Ae=yield m._getAdditionalHeaders();return Ae["Content-Type"]="application/json",m.languageCode&&(Ae["X-Firebase-Locale"]=m.languageCode),Ke.fetch()(ve(m,m.config.apiHost,f,X),Object.assign({method:h,headers:Ae,referrerPolicy:"no-referrer"},S))}))})).apply(this,arguments)}function Sl(m,h,f){return G.apply(this,arguments)}function G(){return(G=(0,s.Z)(function*(m,h,f){m._canInitEmulator=!1;const v=Object.assign(Object.assign({},Sa),h);try{const T=new te(m),S=yield Promise.race([f(),T.promise]);T.clearNetworkTimeout();const U=yield S.json();if("needConfirmation"in U)throw $e(m,"account-exists-with-different-credential",U);if(S.ok&&!("errorMessage"in U))return U;{const X=S.ok?U.errorMessage:U.error.message,[Ae,Ie]=X.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ae)throw $e(m,"credential-already-in-use",U);if("EMAIL_EXISTS"===Ae)throw $e(m,"email-already-in-use",U);const ze=v[Ae]||Ae.toLowerCase().replace(/[_\s]+/g,"-");if(Ie)throw Jo(m,ze,Ie);At(m,ze)}}catch(T){if(T instanceof O.ZR)throw T;At(m,"network-request-failed")}})).apply(this,arguments)}function B(m,h,f,v){return W.apply(this,arguments)}function W(){return(W=(0,s.Z)(function*(m,h,f,v,T={}){const S=yield lt(m,h,f,v,T);return"mfaPendingCredential"in S&&At(m,"multi-factor-auth-required",{_serverResponse:S}),S})).apply(this,arguments)}function ve(m,h,f,v){const T=`${h}${f}?${v}`;return m.config.emulator?Ue(m.config,T):`${m.config.apiScheme}://${T}`}class te{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((f,v)=>{this.timer=setTimeout(()=>v(un(this.auth,"timeout")),Zr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $e(m,h,f){const v={appName:m.name};f.email&&(v.email=f.email),f.phoneNumber&&(v.phoneNumber=f.phoneNumber);const T=un(m,h,v);return T.customData._tokenResponse=f,T}function Ot(){return(Ot=(0,s.Z)(function*(m,h){return lt(m,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Zn(m,h){return dn.apply(this,arguments)}function dn(){return(dn=(0,s.Z)(function*(m,h){return lt(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ti(m,h){return Et.apply(this,arguments)}function Et(){return(Et=(0,s.Z)(function*(m,h){return lt(m,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Yn(m){if(m)try{const h=new Date(Number(m));if(!isNaN(h.getTime()))return h.toUTCString()}catch(h){}}function Ko(){return(Ko=(0,s.Z)(function*(m,h=!1){const f=(0,O.m9)(m),v=yield f.getIdToken(h),T=wo(v);Ee(T&&T.exp&&T.auth_time&&T.iat,f.auth,"internal-error");const S="object"==typeof T.firebase?T.firebase:void 0,U=null==S?void 0:S.sign_in_provider;return{claims:T,token:v,authTime:Yn(Na(T.auth_time)),issuedAtTime:Yn(Na(T.iat)),expirationTime:Yn(Na(T.exp)),signInProvider:U||null,signInSecondFactor:(null==S?void 0:S.sign_in_second_factor)||null}})).apply(this,arguments)}function Na(m){return 1e3*Number(m)}function wo(m){const[h,f,v]=m.split(".");if(void 0===h||void 0===f||void 0===v)return ki("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,O.tV)(f);return T?JSON.parse(T):(ki("Failed to decode base64 JWT payload"),null)}catch(T){return ki("Caught error parsing JWT payload as JSON",T),null}}function qt(m,h){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,s.Z)(function*(m,h,f=!1){if(f)return h;try{return yield h}catch(v){throw v instanceof O.ZR&&Oi(v)&&m.auth.currentUser===m&&(yield m.auth.signOut()),v}})).apply(this,arguments)}function Oi({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}class qn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var f;if(h){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const T=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(h=!1){var f=this;if(!this.isRunning)return;const v=this.getInterval(h);this.timerId=setTimeout((0,s.Z)(function*(){yield f.iteration()}),v)}iteration(){var h=this;return(0,s.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f.code&&h.schedule(!0))}h.schedule()})()}}class Pi{constructor(h,f){this.createdAt=h,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yn(this.lastLoginAt),this.creationTime=Yn(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ke(m){return ht.apply(this,arguments)}function ht(){return(ht=(0,s.Z)(function*(m){var h;const f=m.auth,v=yield m.getIdToken(),T=yield qt(m,Ti(f,{idToken:v}));Ee(null==T?void 0:T.users.length,f,"internal-error");const S=T.users[0];m._notifyReloadListener(S);const U=(null===(h=S.providerUserInfo)||void 0===h?void 0:h.length)?Rn(S.providerUserInfo):[],X=Ki(m.providerData,U),ze=!!m.isAnonymous&&!(m.email&&S.passwordHash||(null==X?void 0:X.length)),Ze={uid:S.localId,displayName:S.displayName||null,photoURL:S.photoUrl||null,email:S.email||null,emailVerified:S.emailVerified||!1,phoneNumber:S.phoneNumber||null,tenantId:S.tenantId||null,providerData:X,metadata:new Pi(S.createdAt,S.lastLoginAt),isAnonymous:ze};Object.assign(m,Ze)})).apply(this,arguments)}function ni(){return(ni=(0,s.Z)(function*(m){const h=(0,O.m9)(m);yield ke(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Ki(m,h){return[...m.filter(v=>!h.some(T=>T.providerId===v.providerId)),...h]}function Rn(m){return m.map(h=>{var{providerId:f}=h,v=re(h,["providerId"]);return{providerId:f,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function an(){return(an=(0,s.Z)(function*(m,h){const f=yield Sl(m,{},(0,s.Z)(function*(){const v=(0,O.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:T,apiKey:S}=m.config,U=ve(m,T,"/v1/token",`key=${S}`),X=yield m._getAdditionalHeaders();return X["Content-Type"]="application/x-www-form-urlencoded",Ke.fetch()(U,{method:"POST",headers:X,body:v})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class Qi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Ee(h.idToken,"internal-error"),Ee(void 0!==h.idToken,"internal-error"),Ee(void 0!==h.refreshToken,"internal-error");const f="expiresIn"in h&&void 0!==h.expiresIn?Number(h.expiresIn):function(m){const h=wo(m);return Ee(h,"internal-error"),Ee(void 0!==h.exp,"internal-error"),Ee(void 0!==h.iat,"internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,f)}getToken(h,f=!1){var v=this;return(0,s.Z)(function*(){return Ee(!v.accessToken||v.refreshToken,h,"user-token-expired"),f||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(h,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,f){var v=this;return(0,s.Z)(function*(){const{accessToken:T,refreshToken:S,expiresIn:U}=yield function(m,h){return an.apply(this,arguments)}(h,f);v.updateTokensAndExpiration(T,S,Number(U))})()}updateTokensAndExpiration(h,f,v){this.refreshToken=f||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(h,f){const{refreshToken:v,accessToken:T,expirationTime:S}=f,U=new Qi;return v&&(Ee("string"==typeof v,"internal-error",{appName:h}),U.refreshToken=v),T&&(Ee("string"==typeof T,"internal-error",{appName:h}),U.accessToken=T),S&&(Ee("number"==typeof S,"internal-error",{appName:h}),U.expirationTime=S),U}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Qi,this.toJSON())}_performRefresh(){return Vn("not implemented")}}function Ii(m,h){Ee("string"==typeof m||void 0===m,"internal-error",{appName:h})}class it{constructor(h){var{uid:f,auth:v,stsTokenManager:T}=h,S=re(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new qn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=v,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=S.displayName||null,this.email=S.email||null,this.emailVerified=S.emailVerified||!1,this.phoneNumber=S.phoneNumber||null,this.photoURL=S.photoURL||null,this.isAnonymous=S.isAnonymous||!1,this.tenantId=S.tenantId||null,this.metadata=new Pi(S.createdAt||void 0,S.lastLoginAt||void 0)}getIdToken(h){var f=this;return(0,s.Z)(function*(){const v=yield qt(f,f.stsTokenManager.getToken(f.auth,h));return Ee(v,f.auth,"internal-error"),f.accessToken!==v&&(f.accessToken=v,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),v})()}getIdTokenResult(h){return function(m){return Ko.apply(this,arguments)}(this,h)}reload(){return function(m){return ni.apply(this,arguments)}(this)}_assign(h){this!==h&&(Ee(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(f=>Object.assign({},f)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new it(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,f=!1){var v=this;return(0,s.Z)(function*(){let T=!1;h.idToken&&h.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(h),T=!0),f&&(yield ke(v)),yield v.auth._persistUserIfCurrent(v),T&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var h=this;return(0,s.Z)(function*(){const f=yield h.getIdToken();return yield qt(h,function(m,h){return Ot.apply(this,arguments)}(h.auth,{idToken:f})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,f){var v,T,S,U,X,Ae,Ie,ze;const Ze=null!==(v=f.displayName)&&void 0!==v?v:void 0,St=null!==(T=f.email)&&void 0!==T?T:void 0,cn=null!==(S=f.phoneNumber)&&void 0!==S?S:void 0,uo=null!==(U=f.photoURL)&&void 0!==U?U:void 0,ho=null!==(X=f.tenantId)&&void 0!==X?X:void 0,mu=null!==(Ae=f._redirectEventId)&&void 0!==Ae?Ae:void 0,_u=null!==(Ie=f.createdAt)&&void 0!==Ie?Ie:void 0,Df=null!==(ze=f.lastLoginAt)&&void 0!==ze?ze:void 0,{uid:ul,emailVerified:Ef,isAnonymous:yu,providerData:vu,stsTokenManager:ah}=f;Ee(ul&&ah,h,"internal-error");const lh=Qi.fromJSON(this.name,ah);Ee("string"==typeof ul,h,"internal-error"),Ii(Ze,h.name),Ii(St,h.name),Ee("boolean"==typeof Ef,h,"internal-error"),Ee("boolean"==typeof yu,h,"internal-error"),Ii(cn,h.name),Ii(uo,h.name),Ii(ho,h.name),Ii(mu,h.name),Ii(_u,h.name),Ii(Df,h.name);const dl=new it({uid:ul,auth:h,email:St,emailVerified:Ef,displayName:Ze,isAnonymous:yu,photoURL:uo,phoneNumber:cn,tenantId:ho,stsTokenManager:lh,createdAt:_u,lastLoginAt:Df});return vu&&Array.isArray(vu)&&(dl.providerData=vu.map(bu=>Object.assign({},bu))),mu&&(dl._redirectEventId=mu),dl}static _fromIdTokenResponse(h,f,v=!1){return(0,s.Z)(function*(){const T=new Qi;T.updateFromServerResponse(f);const S=new it({uid:f.localId,auth:h,stsTokenManager:T,isAnonymous:v});return yield ke(S),S})()}}const Fi=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(f,v){var T=this;return(0,s.Z)(function*(){T.storage[f]=v})()}_get(f){var v=this;return(0,s.Z)(function*(){const T=v.storage[f];return void 0===T?null:T})()}_remove(f){var v=this;return(0,s.Z)(function*(){delete v.storage[f]})()}_addListener(f,v){}_removeListener(f,v){}}return m.type="NONE",m})();function Ai(m,h,f){return`firebase:${m}:${h}:${f}`}class Li{constructor(h,f,v){this.persistence=h,this.auth=f,this.userKey=v;const{config:T,name:S}=this.auth;this.fullUserKey=Ai(this.userKey,T.apiKey,S),this.fullPersistenceKey=Ai("persistence",T.apiKey,S),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,s.Z)(function*(){const f=yield h.persistence._get(h.fullUserKey);return f?it._fromJSON(h.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var f=this;return(0,s.Z)(function*(){if(f.persistence===h)return;const v=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=h,v?f.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,f,v="authUser"){return(0,s.Z)(function*(){if(!f.length)return new Li(Mt(Fi),h,v);const T=(yield Promise.all(f.map(function(){var Ie=(0,s.Z)(function*(ze){if(yield ze._isAvailable())return ze});return function(ze){return Ie.apply(this,arguments)}}()))).filter(Ie=>Ie);let S=T[0]||Mt(Fi);const U=Ai(v,h.config.apiKey,h.name);let X=null;for(const Ie of f)try{const ze=yield Ie._get(U);if(ze){const Ze=it._fromJSON(h,ze);Ie!==S&&(X=Ze),S=Ie;break}}catch(ze){}const Ae=T.filter(Ie=>Ie._shouldAllowMigration);return S._shouldAllowMigration&&Ae.length?(S=Ae[0],X&&(yield S._set(U,X.toJSON())),yield Promise.all(f.map(function(){var Ie=(0,s.Z)(function*(ze){if(ze!==S)try{yield ze._remove(U)}catch(Ze){}});return function(ze){return Ie.apply(this,arguments)}}())),new Li(S,h,v)):new Li(S,h,v)})()}}function Bt(m){const h=m.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Vt(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Ts(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(ii(h))return"Blackberry";if(As(h))return"Webos";if(Yr(h))return"Safari";if((h.includes("chrome/")||Bi(h))&&!h.includes("edge/"))return"Chrome";if(Is(h))return"Android";{const v=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==v?void 0:v.length))return v[1]}return"Other"}function Ts(m=(0,O.z$)()){return/firefox\//i.test(m)}function Yr(m=(0,O.z$)()){const h=m.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Bi(m=(0,O.z$)()){return/crios\//i.test(m)}function Vt(m=(0,O.z$)()){return/iemobile/i.test(m)}function Is(m=(0,O.z$)()){return/android/i.test(m)}function ii(m=(0,O.z$)()){return/blackberry/i.test(m)}function As(m=(0,O.z$)()){return/webos/i.test(m)}function qr(m=(0,O.z$)()){return/iphone|ipad|ipod/i.test(m)}function yn(m=(0,O.z$)()){return qr(m)||Is(m)||As(m)||ii(m)||/windows phone/i.test(m)||Vt(m)}function hr(m,h=[]){let f;switch(m){case"Browser":f=Bt((0,O.z$)());break;case"Worker":f=`${Bt((0,O.z$)())}-${m}`;break;default:f=m}const v=h.length?h.join(","):"FirebaseCore-web";return`${f}/JsCore/${ae.SDK_VERSION}/${v}`}class fr{constructor(h,f){this.app=h,this.config=f,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ar(this),this.idTokenSubscription=new Ar(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=f.sdkClientVersion}_initializeWithPersistence(h,f){var v=this;return f&&(this._popupRedirectResolver=Mt(f)),this._initializationPromise=this.queue((0,s.Z)(function*(){var T,S;if(!v._deleted&&(v.persistenceManager=yield Li.create(v,h),!v._deleted)){if(null===(T=v._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch(U){}yield v.initializeCurrentUser(f),v.lastNotifiedUid=(null===(S=v.currentUser)||void 0===S?void 0:S.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,s.Z)(function*(){if(h._deleted)return;const f=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||f){if(h.currentUser&&f&&h.currentUser.uid===f.uid)return h._currentUser._assign(f),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(f)}})()}initializeCurrentUser(h){var f=this;return(0,s.Z)(function*(){var v;let T=yield f.assertedPersistence.getCurrentUser();if(h&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const S=null===(v=f.redirectUser)||void 0===v?void 0:v._redirectEventId,U=null==T?void 0:T._redirectEventId,X=yield f.tryRedirectSignIn(h);(!S||S===U)&&(null==X?void 0:X.user)&&(T=X.user)}return T?T._redirectEventId?(Ee(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===T._redirectEventId?f.directlySetCurrentUser(T):f.reloadAndSetCurrentUserOrClear(T)):f.reloadAndSetCurrentUserOrClear(T):f.directlySetCurrentUser(null)})()}tryRedirectSignIn(h){var f=this;return(0,s.Z)(function*(){let v=null;try{v=yield f._popupRedirectResolver._completeRedirectFn(f,h,!0)}catch(T){yield f._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(h){var f=this;return(0,s.Z)(function*(){try{yield ke(h)}catch(v){if("auth/network-request-failed"!==v.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var h=this;return(0,s.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var f=this;return(0,s.Z)(function*(){const v=h?(0,O.m9)(h):null;return v&&Ee(v.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(v&&v._clone(f))})()}_updateCurrentUser(h){var f=this;return(0,s.Z)(function*(){if(!f._deleted)return h&&Ee(f.tenantId===h.tenantId,f,"tenant-id-mismatch"),f.queue((0,s.Z)(function*(){yield f.directlySetCurrentUser(h),f.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,s.Z)(function*(){return(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null)})()}setPersistence(h){var f=this;return this.queue((0,s.Z)(function*(){yield f.assertedPersistence.setPersistence(Mt(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new O.LL("auth","Firebase",h())}onAuthStateChanged(h,f,v){return this.registerStateListener(this.authStateSubscription,h,f,v)}onIdTokenChanged(h,f,v){return this.registerStateListener(this.idTokenSubscription,h,f,v)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,f){var v=this;return(0,s.Z)(function*(){const T=yield v.getOrInitRedirectPersistenceManager(f);return null===h?T.removeCurrentUser():T.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var f=this;return(0,s.Z)(function*(){if(!f.redirectPersistenceManager){const v=h&&Mt(h)||f._popupRedirectResolver;Ee(v,f,"argument-error"),f.redirectPersistenceManager=yield Li.create(f,[Mt(v._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(h){var f=this;return(0,s.Z)(function*(){var v,T;return f._isInitialized&&(yield f.queue((0,s.Z)(function*(){}))),(null===(v=f._currentUser)||void 0===v?void 0:v._redirectEventId)===h?f._currentUser:(null===(T=f.redirectUser)||void 0===T?void 0:T._redirectEventId)===h?f.redirectUser:null})()}_persistUserIfCurrent(h){var f=this;return(0,s.Z)(function*(){if(h===f.currentUser)return f.queue((0,s.Z)(function*(){return f.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(f=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,f,v,T){if(this._deleted)return()=>{};const S="function"==typeof f?f:f.next.bind(f),U=this._isInitialized?Promise.resolve():this._initializationPromise;return Ee(U,this,"internal-error"),U.then(()=>S(this.currentUser)),"function"==typeof f?h.addObserver(f,v,T):h.addObserver(f)}directlySetCurrentUser(h){var f=this;return(0,s.Z)(function*(){f.currentUser&&f.currentUser!==h&&(f._currentUser._stopProactiveRefresh(),h&&f.isProactiveRefreshEnabled&&h._startProactiveRefresh()),f.currentUser=h,h?yield f.assertedPersistence.setCurrentUser(h):yield f.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=hr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,s.Z)(function*(){const f={"X-Client-Version":h.clientVersion};return h.app.options.appId&&(f["X-Firebase-gmpid"]=h.app.options.appId),f})()}}function Fn(m){return(0,O.m9)(m)}class Ar{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,O.ne)(f=>this.observer=f)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Vi(m){const h=m.indexOf(":");return h<0?"":m.substr(0,h+1)}function Qh(m){if(!m)return null;const h=Number(m);return isNaN(h)?null:h}class Qo{constructor(h,f){this.providerId=h,this.signInMethod=f}toJSON(){return Vn("not implemented")}_getIdTokenResponse(h){return Vn("not implemented")}_linkToIdToken(h,f){return Vn("not implemented")}_getReauthenticationResolver(h){return Vn("not implemented")}}function md(m,h){return kc.apply(this,arguments)}function kc(){return(kc=(0,s.Z)(function*(m,h){return lt(m,"POST","/v1/accounts:resetPassword",kt(m,h))})).apply(this,arguments)}function _d(m,h){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,s.Z)(function*(m,h){return lt(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Xh(m,h){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,s.Z)(function*(m,h){return lt(m,"POST","/v1/accounts:update",kt(m,h))})).apply(this,arguments)}function Pc(){return(Pc=(0,s.Z)(function*(m,h){return B(m,"POST","/v1/accounts:signInWithPassword",kt(m,h))})).apply(this,arguments)}function Rl(m,h){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,s.Z)(function*(m,h){return lt(m,"POST","/v1/accounts:sendOobCode",kt(m,h))})).apply(this,arguments)}function ef(m,h){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,s.Z)(function*(m,h){return Rl(m,h)})).apply(this,arguments)}function tf(m,h){return yd.apply(this,arguments)}function yd(){return(yd=(0,s.Z)(function*(m,h){return Rl(m,h)})).apply(this,arguments)}function xa(m,h){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,s.Z)(function*(m,h){return Rl(m,h)})).apply(this,arguments)}function xl(m,h){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,s.Z)(function*(m,h){return Rl(m,h)})).apply(this,arguments)}function pr(){return(pr=(0,s.Z)(function*(m,h){return B(m,"POST","/v1/accounts:signInWithEmailLink",kt(m,h))})).apply(this,arguments)}function Kr(){return(Kr=(0,s.Z)(function*(m,h){return B(m,"POST","/v1/accounts:signInWithEmailLink",kt(m,h))})).apply(this,arguments)}class es extends Qo{constructor(h,f,v,T=null){super("password",v),this._email=h,this._password=f,this._tenantId=T}static _fromEmailAndPassword(h,f){return new es(h,f,"password")}static _fromEmailAndCode(h,f,v=null){return new es(h,f,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h;if((null==f?void 0:f.email)&&(null==f?void 0:f.password)){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(h){var f=this;return(0,s.Z)(function*(){switch(f.signInMethod){case"password":return function(m,h){return Pc.apply(this,arguments)}(h,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function(m,h){return pr.apply(this,arguments)}(h,{email:f._email,oobCode:f._password});default:At(h,"internal-error")}})()}_linkToIdToken(h,f){var v=this;return(0,s.Z)(function*(){switch(v.signInMethod){case"password":return _d(h,{idToken:f,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function(m,h){return Kr.apply(this,arguments)}(h,{idToken:f,email:v._email,oobCode:v._password});default:At(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Qr(m,h){return ri.apply(this,arguments)}function ri(){return(ri=(0,s.Z)(function*(m,h){return B(m,"POST","/v1/accounts:signInWithIdp",kt(m,h))})).apply(this,arguments)}class Jn extends Qo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const f=new Jn(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(f.idToken=h.idToken),h.accessToken&&(f.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(f.nonce=h.nonce),h.pendingToken&&(f.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(f.accessToken=h.oauthToken,f.secret=h.oauthTokenSecret):At("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:T}=f,S=re(f,["providerId","signInMethod"]);if(!v||!T)return null;const U=new Jn(v,T);return U.idToken=S.idToken||void 0,U.accessToken=S.accessToken||void 0,U.secret=S.secret,U.nonce=S.nonce,U.pendingToken=S.pendingToken||null,U}_getIdTokenResponse(h){return Qr(h,this.buildRequest())}_linkToIdToken(h,f){const v=this.buildRequest();return v.idToken=f,Qr(h,v)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,Qr(h,f)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),h.postBody=(0,O.xO)(f)}return h}}function Sr(m,h){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,s.Z)(function*(m,h){return lt(m,"POST","/v1/accounts:sendVerificationCode",kt(m,h))})).apply(this,arguments)}function pi(){return(pi=(0,s.Z)(function*(m,h){return B(m,"POST","/v1/accounts:signInWithPhoneNumber",kt(m,h))})).apply(this,arguments)}function Pl(){return(Pl=(0,s.Z)(function*(m,h){const f=yield B(m,"POST","/v1/accounts:signInWithPhoneNumber",kt(m,h));if(f.temporaryProof)throw $e(m,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const ka={USER_NOT_FOUND:"user-not-found"};function Rs(){return(Rs=(0,s.Z)(function*(m,h){return B(m,"POST","/v1/accounts:signInWithPhoneNumber",kt(m,Object.assign(Object.assign({},h),{operation:"REAUTH"})),ka)})).apply(this,arguments)}class Do extends Qo{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,f){return new Do({verificationId:h,verificationCode:f})}static _fromTokenResponse(h,f){return new Do({phoneNumber:h,temporaryProof:f})}_getIdTokenResponse(h){return function(m,h){return pi.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,f){return function(m,h){return Pl.apply(this,arguments)}(h,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function(m,h){return Rs.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:f,verificationId:v,verificationCode:T}=this.params;return h&&f?{temporaryProof:h,phoneNumber:f}:{sessionInfo:v,code:T}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:f,verificationCode:v,phoneNumber:T,temporaryProof:S}=h;return v||f||T||S?new Do({verificationId:f,verificationCode:v,phoneNumber:T,temporaryProof:S}):null}}class Eo{constructor(h){var f,v,T,S,U,X;const Ae=(0,O.zd)((0,O.pd)(h)),Ie=null!==(f=Ae.apiKey)&&void 0!==f?f:null,ze=null!==(v=Ae.oobCode)&&void 0!==v?v:null,Ze=function(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Ae.mode)&&void 0!==T?T:null);Ee(Ie&&ze&&Ze,"argument-error"),this.apiKey=Ie,this.operation=Ze,this.code=ze,this.continueUrl=null!==(S=Ae.continueUrl)&&void 0!==S?S:null,this.languageCode=null!==(U=Ae.languageCode)&&void 0!==U?U:null,this.tenantId=null!==(X=Ae.tenantId)&&void 0!==X?X:null}static parseLink(h){const f=function(m){const h=(0,O.zd)((0,O.pd)(m)).link,f=h?(0,O.zd)((0,O.pd)(h)).deep_link_id:null,v=(0,O.zd)((0,O.pd)(m)).deep_link_id;return(v?(0,O.zd)((0,O.pd)(v)).link:null)||v||f||h||m}(h);try{return new Eo(f)}catch(v){return null}}}let To=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(f,v){return es._fromEmailAndPassword(f,v)}static credentialWithLink(f,v){const T=Eo.parseLink(v);return Ee(T,"argument-error"),es._fromEmailAndCode(f,T.code,T.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class gi{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class tr extends gi{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Tn extends tr{static credentialFromJSON(h){const f="string"==typeof h?JSON.parse(h):h;return Ee("providerId"in f&&"signInMethod"in f,"argument-error"),Jn._fromParams(f)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return Ee(h.idToken||h.accessToken,"argument-error"),Jn._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Tn.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Tn.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:f,oauthAccessToken:v,oauthTokenSecret:T,pendingToken:S,nonce:U,providerId:X}=h;if(!v&&!T&&!f&&!S||!X)return null;try{return new Tn(X)._credential({idToken:f,accessToken:v,nonce:U,pendingToken:S})}catch(Ae){return null}}}let Oa=(()=>{class m extends tr{constructor(){super("facebook.com")}static credential(f){return Jn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch(v){return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),Io=(()=>{class m extends tr{constructor(){super("google.com"),this.addScope("profile")}static credential(f,v){return Jn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:v})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:v,oauthAccessToken:T}=f;if(!v&&!T)return null;try{return m.credential(v,T)}catch(S){return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),Ao=(()=>{class m extends tr{constructor(){super("github.com")}static credential(f){return Jn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch(v){return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class Nr extends Qo{constructor(h,f){super(h,h),this.pendingToken=f}_getIdTokenResponse(h){return Qr(h,this.buildRequest())}_linkToIdToken(h,f){const v=this.buildRequest();return v.idToken=f,Qr(h,v)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,Qr(h,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:T,pendingToken:S}=f;return v&&T&&S&&v===T?new Nr(v,S):null}static _create(h,f){return new Nr(h,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class So extends gi{constructor(h){Ee(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return So.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return So.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const f=Nr.fromJSON(h);return Ee(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:f,providerId:v}=h;if(!f||!v)return null;try{return Nr._create(v,f)}catch(T){return null}}}let mi=(()=>{class m extends tr{constructor(){super("twitter.com")}static credential(f,v){return Jn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:v})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:v,oauthTokenSecret:T}=f;if(!v||!T)return null;try{return m.credential(v,T)}catch(S){return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function ks(m,h){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,s.Z)(function*(m,h){return B(m,"POST","/v1/accounts:signUp",kt(m,h))})).apply(this,arguments)}class We{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,f,v,T=!1){return(0,s.Z)(function*(){const S=yield it._fromIdTokenResponse(h,v,T),U=Pa(v);return new We({user:S,providerId:U,_tokenResponse:v,operationType:f})})()}static _forOperation(h,f,v){return(0,s.Z)(function*(){yield h._updateTokensIfNecessary(v,!0);const T=Pa(v);return new We({user:h,providerId:T,_tokenResponse:v,operationType:f})})()}}function Pa(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function ts(){return(ts=(0,s.Z)(function*(m){var h;const f=Fn(m);if(yield f._initializationPromise,null===(h=f.currentUser)||void 0===h?void 0:h.isAnonymous)return new We({user:f.currentUser,providerId:null,operationType:"signIn"});const v=yield ks(f,{returnSecureToken:!0}),T=yield We._fromIdTokenResponse(f,"signIn",v,!0);return yield f._updateCurrentUser(T.user),T})).apply(this,arguments)}class Ps extends O.ZR{constructor(h,f,v,T){var S;super(f.code,f.message),this.operationType=v,this.user=T,Object.setPrototypeOf(this,Ps.prototype),this.customData={appName:h.name,tenantId:null!==(S=h.tenantId)&&void 0!==S?S:void 0,_serverResponse:f.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(h,f,v,T){return new Ps(h,f,v,T)}}function Fa(m,h,f,v){return("reauthenticate"===h?f._getReauthenticationResolver(m):f._getIdTokenResponse(m)).catch(S=>{throw"auth/multi-factor-auth-required"===S.code?Ps._fromErrorAndOperation(m,S,h,v):S})}function La(m){return new Set(m.map(({providerId:h})=>h).filter(h=>!!h))}function Ce(){return(Ce=(0,s.Z)(function*(m,h){const f=(0,O.m9)(m);yield nn(!0,f,h);const{providerUserInfo:v}=yield Zn(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[h]}),T=La(v||[]);return f.providerData=f.providerData.filter(S=>T.has(S.providerId)),T.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function wt(m,h){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,s.Z)(function*(m,h,f=!1){const v=yield qt(m,h._linkToIdToken(m.auth,yield m.getIdToken()),f);return We._forOperation(m,"link",v)})).apply(this,arguments)}function nn(m,h,f){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,s.Z)(function*(m,h,f){yield ke(h);const T=!1===m?"provider-already-linked":"no-such-provider";Ee(La(h.providerData).has(f)===m,h.auth,T)})).apply(this,arguments)}function eo(m,h){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,s.Z)(function*(m,h,f=!1){const{auth:v}=m,T="reauthenticate";try{const S=yield qt(m,Fa(v,T,h,m),f);Ee(S.idToken,v,"internal-error");const U=wo(S.idToken);Ee(U,v,"internal-error");const{sub:X}=U;return Ee(m.uid===X,v,"user-mismatch"),We._forOperation(m,T,S)}catch(S){throw"auth/user-not-found"===(null==S?void 0:S.code)&&At(v,"user-mismatch"),S}})).apply(this,arguments)}function Ba(m,h){return No.apply(this,arguments)}function No(){return(No=(0,s.Z)(function*(m,h,f=!1){const v="signIn",T=yield Fa(m,v,h),S=yield We._fromIdTokenResponse(m,v,T);return f||(yield m._updateCurrentUser(S.user)),S})).apply(this,arguments)}function Ll(m,h){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,s.Z)(function*(m,h){return Ba(Fn(m),h)})).apply(this,arguments)}function Ls(m,h){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,s.Z)(function*(m,h){const f=(0,O.m9)(m);return yield nn(!1,f,h.providerId),wt(f,h)})).apply(this,arguments)}function Un(m,h){return nr.apply(this,arguments)}function nr(){return(nr=(0,s.Z)(function*(m,h){return eo((0,O.m9)(m),h)})).apply(this,arguments)}function Bs(m,h){return to.apply(this,arguments)}function to(){return(to=(0,s.Z)(function*(m,h){return B(m,"POST","/v1/accounts:signInWithCustomToken",kt(m,h))})).apply(this,arguments)}function Vs(){return(Vs=(0,s.Z)(function*(m,h){const f=Fn(m),v=yield Bs(f,{token:h,returnSecureToken:!0}),T=yield We._fromIdTokenResponse(f,"signIn",v);return yield f._updateCurrentUser(T.user),T})).apply(this,arguments)}class Us{constructor(h,f){this.factorId=h,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(h,f){return"phoneInfo"in f?Hs._fromServerResponse(h,f):At(h,"internal-error")}}class Hs extends Us{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,f){return new Hs(f)}}function Va(m,h,f){var v;Ee((null===(v=f.url)||void 0===v?void 0:v.length)>0,m,"invalid-continue-uri"),Ee(void 0===f.dynamicLinkDomain||f.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),h.continueUrl=f.url,h.dynamicLinkDomain=f.dynamicLinkDomain,h.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(Ee(f.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),h.iOSBundleId=f.iOS.bundleId),f.android&&(Ee(f.android.packageName.length>0,m,"missing-android-pkg-name"),h.androidInstallApp=f.android.installApp,h.androidMinimumVersionCode=f.android.minimumVersion,h.androidPackageName=f.android.packageName)}function ns(){return(ns=(0,s.Z)(function*(m,h,f){const v=(0,O.m9)(m),T={requestType:"PASSWORD_RESET",email:h};f&&Va(v,T,f),yield tf(v,T)})).apply(this,arguments)}function js(){return(js=(0,s.Z)(function*(m,h,f){yield md((0,O.m9)(m),{oobCode:h,newPassword:f})})).apply(this,arguments)}function Ha(){return(Ha=(0,s.Z)(function*(m,h){yield Xh((0,O.m9)(m),{oobCode:h})})).apply(this,arguments)}function $a(m,h){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,s.Z)(function*(m,h){const f=(0,O.m9)(m),v=yield md(f,{oobCode:h}),T=v.requestType;switch(Ee(T,f,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ee(v.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ee(v.mfaInfo,f,"internal-error");default:Ee(v.email,f,"internal-error")}let S=null;return v.mfaInfo&&(S=Us._fromServerResponse(Fn(f),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:S},operation:T}})).apply(this,arguments)}function Ws(){return(Ws=(0,s.Z)(function*(m,h){const{data:f}=yield $a((0,O.m9)(m),h);return f.email})).apply(this,arguments)}function zs(){return(zs=(0,s.Z)(function*(m,h,f){const v=Fn(m),T=yield ks(v,{returnSecureToken:!0,email:h,password:f}),S=yield We._fromIdTokenResponse(v,"signIn",T);return yield v._updateCurrentUser(S.user),S})).apply(this,arguments)}function Jt(){return(Jt=(0,s.Z)(function*(m,h,f){const v=(0,O.m9)(m),T={requestType:"EMAIL_SIGNIN",email:h};Ee(f.handleCodeInApp,v,"argument-error"),f&&Va(v,T,f),yield xa(v,T)})).apply(this,arguments)}function Zs(){return(Zs=(0,s.Z)(function*(m,h,f){const v=(0,O.m9)(m),T=To.credentialWithLink(h,f||Je());return Ee(T._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),Ll(v,T)})).apply(this,arguments)}function wd(m,h){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,s.Z)(function*(m,h){return lt(m,"POST","/v1/accounts:createAuthUri",kt(m,h))})).apply(this,arguments)}function Dd(){return(Dd=(0,s.Z)(function*(m,h){const v={identifier:h,continueUri:nt()?Je():"http://localhost"},{signinMethods:T}=yield wd((0,O.m9)(m),v);return T||[]})).apply(this,arguments)}function io(){return(io=(0,s.Z)(function*(m,h){const f=(0,O.m9)(m),T={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};h&&Va(f.auth,T,h);const{email:S}=yield ef(f.auth,T);S!==m.email&&(yield m.reload())})).apply(this,arguments)}function Ys(){return(Ys=(0,s.Z)(function*(m,h,f){const v=(0,O.m9)(m),S={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:h};f&&Va(v.auth,S,f);const{email:U}=yield xl(v.auth,S);U!==m.email&&(yield m.reload())})).apply(this,arguments)}function Wc(m,h){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,s.Z)(function*(m,h){return lt(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Xt(){return(Xt=(0,s.Z)(function*(m,{displayName:h,photoURL:f}){if(void 0===h&&void 0===f)return;const v=(0,O.m9)(m),S={idToken:yield v.getIdToken(),displayName:h,photoUrl:f,returnSecureToken:!0},U=yield qt(v,Wc(v.auth,S));v.displayName=U.displayName||null,v.photoURL=U.photoUrl||null;const X=v.providerData.find(({providerId:Ae})=>"password"===Ae);X&&(X.displayName=v.displayName,X.photoURL=v.photoURL),yield v._updateTokensIfNecessary(U)})).apply(this,arguments)}function Ed(m,h,f){return is.apply(this,arguments)}function is(){return(is=(0,s.Z)(function*(m,h,f){const{auth:v}=m,S={idToken:yield m.getIdToken(),returnSecureToken:!0};h&&(S.email=h),f&&(S.password=f);const U=yield qt(m,_d(v,S));yield m._updateTokensIfNecessary(U,!0)})).apply(this,arguments)}class Ro{constructor(h,f,v={}){this.isNewUser=h,this.providerId=f,this.profile=v}}class Wa extends Ro{constructor(h,f,v,T){super(h,f,v),this.username=T}}class Td extends Ro{constructor(h,f){super(h,"facebook.com",f)}}class Hp extends Wa{constructor(h,f){super(h,"github.com",f,"string"==typeof(null==f?void 0:f.login)?null==f?void 0:f.login:null)}}class vn extends Ro{constructor(h,f){super(h,"google.com",f)}}class Rr extends Wa{constructor(h,f,v){super(h,"twitter.com",f,v)}}function je(m){const{user:h,_tokenResponse:f}=m;return h.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function(m){var h,f;if(!m)return null;const{providerId:v}=m,T=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},S=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!v&&(null==m?void 0:m.idToken)){const U=null===(f=null===(h=wo(m.idToken))||void 0===h?void 0:h.firebase)||void 0===f?void 0:f.sign_in_provider;if(U)return new Ro(S,"anonymous"!==U&&"custom"!==U?U:null)}if(!v)return null;switch(v){case"facebook.com":return new Td(S,T);case"github.com":return new Hp(S,T);case"google.com":return new vn(S,T);case"twitter.com":return new Rr(S,T,m.screenName||null);case"custom":case"anonymous":return new Ro(S,null);default:return new Ro(S,v,T)}}(f)}class ro{constructor(h,f){this.type=h,this.credential=f}static _fromIdtoken(h){return new ro("enroll",h)}static _fromMfaPendingCredential(h){return new ro("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var f,v;if(null==h?void 0:h.multiFactorSession){if(null===(f=h.multiFactorSession)||void 0===f?void 0:f.pendingCredential)return ro._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null===(v=h.multiFactorSession)||void 0===v?void 0:v.idToken)return ro._fromIdtoken(h.multiFactorSession.idToken)}return null}}class mr{constructor(h,f,v){this.session=h,this.hints=f,this.signInResolver=v}static _fromError(h,f){const v=Fn(h),T=f.customData._serverResponse,S=(T.mfaInfo||[]).map(X=>Us._fromServerResponse(v,X));Ee(T.mfaPendingCredential,v,"internal-error");const U=ro._fromMfaPendingCredential(T.mfaPendingCredential);return new mr(U,S,function(){var X=(0,s.Z)(function*(Ae){const Ie=yield Ae._process(v,U);delete T.mfaInfo,delete T.mfaPendingCredential;const ze=Object.assign(Object.assign({},T),{idToken:Ie.idToken,refreshToken:Ie.refreshToken});switch(f.operationType){case"signIn":const Ze=yield We._fromIdTokenResponse(v,f.operationType,ze);return yield v._updateCurrentUser(Ze.user),Ze;case"reauthenticate":return Ee(f.user,v,"internal-error"),We._forOperation(f.user,f.operationType,ze);default:At(v,"internal-error")}});return function(Ae){return X.apply(this,arguments)}}())}resolveSignIn(h){var f=this;return(0,s.Z)(function*(){return f.signInResolver(h)})()}}function Id(m,h){return lt(m,"POST","/v2/accounts/mfaEnrollment:start",kt(m,h))}class os{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(v=>Us._fromServerResponse(h.auth,v)))})}static _fromUser(h){return new os(h)}getSession(){var h=this;return(0,s.Z)(function*(){return ro._fromIdtoken(yield h.user.getIdToken())})()}enroll(h,f){var v=this;return(0,s.Z)(function*(){const T=h,S=yield v.getSession(),U=yield qt(v.user,T._process(v.user.auth,S,f));return yield v.user._updateTokensIfNecessary(U),v.user.reload()})()}unenroll(h){var f=this;return(0,s.Z)(function*(){const v="string"==typeof h?h:h.uid,T=yield f.user.getIdToken(),S=yield qt(f.user,function(m,h){return lt(m,"POST","/v2/accounts/mfaEnrollment:withdraw",kt(m,h))}(f.user.auth,{idToken:T,mfaEnrollmentId:v}));f.enrolledFactors=f.enrolledFactors.filter(({uid:U})=>U!==v),yield f.user._updateTokensIfNecessary(S);try{yield f.user.reload()}catch(U){if("auth/user-token-expired"!==U.code)throw U}})()}}const Kt=new WeakMap,ir="__sak";class Zc{constructor(h,f){this.storageRetriever=h,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(ir,"1"),this.storage.removeItem(ir),Promise.resolve(!0)):Promise.resolve(!1)}catch(h){return Promise.resolve(!1)}}_set(h,f){return this.storage.setItem(h,JSON.stringify(f)),Promise.resolve()}_get(h){const f=this.storage.getItem(h);return Promise.resolve(f?JSON.parse(f):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ks=(()=>{class m extends Zc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,v)=>this.onStorageEvent(f,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const m=(0,O.z$)();return Yr(m)||qr(m)}()&&function(){try{return!(!window||window===window.top)}catch(m){return!1}}(),this.fallbackToPolling=yn(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const v of Object.keys(this.listeners)){const T=this.storage.getItem(v),S=this.localCache[v];T!==S&&f(v,S,T)}}onStorageEvent(f,v=!1){if(!f.key)return void this.forAllChangedKeys((X,Ae,Ie)=>{this.notifyListeners(X,Ie)});const T=f.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const X=this.storage.getItem(T);if(f.newValue!==X)null!==f.newValue?this.storage.setItem(T,f.newValue):this.storage.removeItem(T);else if(this.localCache[T]===f.newValue&&!v)return}const S=()=>{const X=this.storage.getItem(T);!v&&this.localCache[T]===X||this.notifyListeners(T,X)},U=this.storage.getItem(T);(0,O.w1)()&&10===document.documentMode&&U!==f.newValue&&f.newValue!==f.oldValue?setTimeout(S,10):S()}notifyListeners(f,v){this.localCache[f]=v;const T=this.listeners[f];if(T)for(const S of Array.from(T))S(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,v,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:v,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(v)}_removeListener(f,v){this.listeners[f]&&(this.listeners[f].delete(v),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,v){var T=()=>super._set,S=this;return(0,s.Z)(function*(){yield T().call(S,f,v),S.localCache[f]=JSON.stringify(v)})()}_get(f){var v=()=>super._get,T=this;return(0,s.Z)(function*(){const S=yield v().call(T,f);return T.localCache[f]=JSON.stringify(S),S})()}_remove(f){var v=()=>super._remove,T=this;return(0,s.Z)(function*(){yield v().call(T,f),delete T.localCache[f]})()}}return m.type="LOCAL",m})(),on=(()=>{class m extends Zc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,v){}_removeListener(f,v){}}return m.type="SESSION",m})();let Po=(()=>{class m{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const v=this.receivers.find(S=>S.isListeningto(f));if(v)return v;const T=new m(f);return this.receivers.push(T),T}isListeningto(f){return this.eventTarget===f}handleEvent(f){var v=this;return(0,s.Z)(function*(){const T=f,{eventId:S,eventType:U,data:X}=T.data,Ae=v.handlersMap[U];if(!(null==Ae?void 0:Ae.size))return;T.ports[0].postMessage({status:"ack",eventId:S,eventType:U});const Ie=Array.from(Ae).map(function(){var Ze=(0,s.Z)(function*(St){return St(T.origin,X)});return function(St){return Ze.apply(this,arguments)}}()),ze=yield function(m){return Promise.all(m.map(function(){var h=(0,s.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(v){return{fulfilled:!1,reason:v}}});return function(f){return h.apply(this,arguments)}}()))}(Ie);T.ports[0].postMessage({status:"done",eventId:S,eventType:U,response:ze})})()}_subscribe(f,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(v)}_unsubscribe(f,v){this.handlersMap[f]&&v&&this.handlersMap[f].delete(v),(!v||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function Fo(m="",h=10){let f="";for(let v=0;v<h;v++)f+=Math.floor(10*Math.random());return m+f}class Hn{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,f,v=50){var T=this;return(0,s.Z)(function*(){const S="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!S)throw new Error("connection_unavailable");let U,X;return new Promise((Ae,Ie)=>{const ze=Fo("",20);S.port1.start();const Ze=setTimeout(()=>{Ie(new Error("unsupported_event"))},v);X={messageChannel:S,onMessage(St){const cn=St;if(cn.data.eventId===ze)switch(cn.data.status){case"ack":clearTimeout(Ze),U=setTimeout(()=>{Ie(new Error("timeout"))},3e3);break;case"done":clearTimeout(U),Ae(cn.data.response);break;default:clearTimeout(Ze),clearTimeout(U),Ie(new Error("invalid_response"))}}},T.handlers.add(X),S.port1.addEventListener("message",X.onMessage),T.target.postMessage({eventType:h,eventId:ze,data:f},[S.port2])}).finally(()=>{X&&T.removeMessageHandler(X)})})()}}function en(){return window}function ln(){return void 0!==en().WorkerGlobalScope&&"function"==typeof en().importScripts}function or(){return(or=(0,s.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(m){return null}})).apply(this,arguments)}const Ht="firebaseLocalStorageDb",Ft="firebaseLocalStorage",ao="fbase_key";class kr{constructor(h){this.request=h}toPromise(){return new Promise((h,f)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function zt(m,h){return m.transaction([Ft],h?"readwrite":"readonly").objectStore(Ft)}function Sd(){const m=indexedDB.open(Ht,1);return new Promise((h,f)=>{m.addEventListener("error",()=>{f(m.error)}),m.addEventListener("upgradeneeded",()=>{const v=m.result;try{v.createObjectStore(Ft,{keyPath:ao})}catch(T){f(T)}}),m.addEventListener("success",(0,s.Z)(function*(){const v=m.result;v.objectStoreNames.contains(Ft)?h(v):(v.close(),yield function(){const m=indexedDB.deleteDatabase(Ht);return new kr(m).toPromise()}(),h(yield Sd()))}))})}function Nd(m,h,f){return Md.apply(this,arguments)}function Md(){return(Md=(0,s.Z)(function*(m,h,f){const v=zt(m,!0).put({[ao]:h,value:f});return new kr(v).toPromise()})).apply(this,arguments)}function Ln(){return(Ln=(0,s.Z)(function*(m,h){const f=zt(m,!1).get(h),v=yield new kr(f).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function Yc(m,h){const f=zt(m,!0).delete(h);return new kr(f).toPromise()}const lo=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,s.Z)(function*(){return f.db||(f.db=yield Sd()),f.db})()}_withRetries(f){var v=this;return(0,s.Z)(function*(){let T=0;for(;;)try{const S=yield v._openDb();return yield f(S)}catch(S){if(T++>3)throw S;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,s.Z)(function*(){return ln()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,s.Z)(function*(){f.receiver=Po._getInstance(ln()?self:null),f.receiver._subscribe("keyChanged",function(){var v=(0,s.Z)(function*(T,S){return{keyProcessed:(yield f._poll()).includes(S.key)}});return function(T,S){return v.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var v=(0,s.Z)(function*(T,S){return["keyChanged"]});return function(T,S){return v.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,s.Z)(function*(){var v,T;if(f.activeServiceWorker=yield function(){return or.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new Hn(f.activeServiceWorker);const S=yield f.sender._send("ping",{},800);!S||(null===(v=S[0])||void 0===v?void 0:v.fulfilled)&&(null===(T=S[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var v=this;return(0,s.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function(){var m;return(null===(m=null==navigator?void 0:navigator.serviceWorker)||void 0===m?void 0:m.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:f},v.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const f=yield Sd();return yield Nd(f,ir,"1"),yield Yc(f,ir),!0}catch(f){}return!1})()}_withPendingWrite(f){var v=this;return(0,s.Z)(function*(){v.pendingWrites++;try{yield f()}finally{v.pendingWrites--}})()}_set(f,v){var T=this;return(0,s.Z)(function*(){return T._withPendingWrite((0,s.Z)(function*(){return yield T._withRetries(S=>Nd(S,f,v)),T.localCache[f]=v,T.notifyServiceWorker(f)}))})()}_get(f){var v=this;return(0,s.Z)(function*(){const T=yield v._withRetries(S=>function(m,h){return Ln.apply(this,arguments)}(S,f));return v.localCache[f]=T,T})()}_remove(f){var v=this;return(0,s.Z)(function*(){return v._withPendingWrite((0,s.Z)(function*(){return yield v._withRetries(T=>Yc(T,f)),delete v.localCache[f],v.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,s.Z)(function*(){const v=yield f._withRetries(U=>{const X=zt(U,!1).getAll();return new kr(X).toPromise()});if(!v)return[];if(0!==f.pendingWrites)return[];const T=[],S=new Set;for(const{fbase_key:U,value:X}of v)S.add(U),JSON.stringify(f.localCache[U])!==JSON.stringify(X)&&(f.notifyListeners(U,X),T.push(U));for(const U of Object.keys(f.localCache))f.localCache[U]&&!S.has(U)&&(f.notifyListeners(U,null),T.push(U));return T})()}notifyListeners(f,v){this.localCache[f]=v;const T=this.listeners[f];if(T)for(const S of Array.from(T))S(v)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(v)}_removeListener(f,v){this.listeners[f]&&(this.listeners[f].delete(v),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})();function ea(m,h){return lt(m,"POST","/v2/accounts/mfaSignIn:start",kt(m,h))}function Si(){return(Si=(0,s.Z)(function*(m){return(yield lt(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function jl(m){return new Promise((h,f)=>{const v=document.createElement("script");v.setAttribute("src",m),v.onload=h,v.onerror=T=>{const S=un("internal-error");S.customData=T,f(S)},v.type="text/javascript",v.charset="UTF-8",function(){var m,h;return null!==(h=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==h?h:document}().appendChild(v)})}function as(m){return`__${m}${Math.floor(1e6*Math.random())}`}const ta=1e12;class Gl{constructor(h){this.auth=h,this.counter=ta,this._widgets=new Map}render(h,f){const v=this.counter;return this._widgets.set(v,new xd(h,this.auth.name,f||{})),this.counter++,v}reset(h){var f;const v=h||ta;null===(f=this._widgets.get(v))||void 0===f||f.delete(),this._widgets.delete(v)}getResponse(h){var f;return(null===(f=this._widgets.get(h||ta))||void 0===f?void 0:f.getResponse())||""}execute(h){var f=this;return(0,s.Z)(function*(){var v;return null===(v=f._widgets.get(h||ta))||void 0===v||v.execute(),""})()}}class xd{constructor(h,f,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof h?document.getElementById(h):h;Ee(T,"argument-error",{appName:f}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(m){const h=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<50;v++)h.push(f.charAt(Math.floor(Math.random()*f.length)));return h.join("")}();const{callback:h,"expired-callback":f}=this.params;if(h)try{h(this.responseToken)}catch(v){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch(v){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ut=as("rcb"),oi=new xt(3e4,6e4);class cs{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!en().grecaptcha}load(h,f=""){return Ee((m=f).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m),h,"argument-error"),this.shouldResolveImmediately(f)?Promise.resolve(en().grecaptcha):new Promise((v,T)=>{const S=en().setTimeout(()=>{T(un(h,"network-request-failed"))},oi.get());en()[ut]=()=>{en().clearTimeout(S),delete en()[ut];const X=en().grecaptcha;if(!X)return void T(un(h,"internal-error"));const Ae=X.render;X.render=(Ie,ze)=>{const Ze=Ae(Ie,ze);return this.counter++,Ze},this.hostLanguage=f,v(X)},jl(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:ut,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(S),T(un(h,"internal-error"))})});var m}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){return!!en().grecaptcha&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Od{load(h){return(0,s.Z)(function*(){return new Gl(h)})()}clearedOneInstance(){}}const Kc="recaptcha",Pd={theme:"light",type:"image"};class si{constructor(h,f=Object.assign({},Pd),v){this.parameters=f,this.type=Kc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Fn(v),this.isInvisible="invisible"===this.parameters.size,Ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof h?document.getElementById(h):h;Ee(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Od:new cs,this.validateStartingState()}verify(){var h=this;return(0,s.Z)(function*(){h.assertNotDestroyed();const f=yield h.render(),v=h.getAssertedRecaptcha();return v.getResponse(f)||new Promise(S=>{const U=X=>{!X||(h.tokenChangeListeners.delete(U),S(X))};h.tokenChangeListeners.add(U),h.isInvisible&&v.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){Ee(!this.parameters.sitekey,this.auth,"argument-error"),Ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return f=>{if(this.tokenChangeListeners.forEach(v=>v(f)),"function"==typeof h)h(f);else if("string"==typeof h){const v=en()[h];"function"==typeof v&&v(f)}}}assertNotDestroyed(){Ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,s.Z)(function*(){if(yield h.init(),!h.widgetId){let f=h.container;if(!h.isInvisible){const v=document.createElement("div");f.appendChild(v),f=v}h.widgetId=h.getAssertedRecaptcha().render(f,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,s.Z)(function*(){Ee(nt()&&!ln(),h.auth,"internal-error"),yield function(){let m=null;return new Promise(h=>{"complete"!==document.readyState?(m=()=>h(),window.addEventListener("load",m)):h()}).catch(h=>{throw m&&window.removeEventListener("load",m),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const f=yield function(m){return Si.apply(this,arguments)}(h.auth);Ee(f,h.auth,"internal-error"),h.parameters.sitekey=f})()}getAssertedRecaptcha(){return Ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ja{constructor(h,f){this.verificationId=h,this.onConfirmation=f}confirm(h){const f=Do._fromVerification(this.verificationId,h);return this.onConfirmation(f)}}function br(){return(br=(0,s.Z)(function*(m,h,f){const v=Fn(m),T=yield Or(v,h,(0,O.m9)(f));return new Ja(T,S=>Ll(v,S))})).apply(this,arguments)}function $n(){return($n=(0,s.Z)(function*(m,h,f){const v=(0,O.m9)(m);yield nn(!1,v,"phone");const T=yield Or(v.auth,h,(0,O.m9)(f));return new Ja(T,S=>Ls(v,S))})).apply(this,arguments)}function Qa(){return(Qa=(0,s.Z)(function*(m,h,f){const v=(0,O.m9)(m),T=yield Or(v.auth,h,(0,O.m9)(f));return new Ja(T,S=>Un(v,S))})).apply(this,arguments)}function Or(m,h,f){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,s.Z)(function*(m,h,f){var v;const T=yield f.verify();try{let S;if(Ee("string"==typeof T,m,"argument-error"),Ee(f.type===Kc,m,"argument-error"),S="string"==typeof h?{phoneNumber:h}:h,"session"in S){const U=S.session;if("phoneNumber"in S)return Ee("enroll"===U.type,m,"internal-error"),(yield Id(m,{idToken:U.credential,phoneEnrollmentInfo:{phoneNumber:S.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{Ee("signin"===U.type,m,"internal-error");const X=(null===(v=S.multiFactorHint)||void 0===v?void 0:v.uid)||S.multiFactorUid;return Ee(X,m,"missing-multi-factor-info"),(yield ea(m,{mfaPendingCredential:U.credential,mfaEnrollmentId:X,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:U}=yield Sr(m,{phoneNumber:S.phoneNumber,recaptchaToken:T});return U}}finally{f._reset()}})).apply(this,arguments)}function Yl(){return(Yl=(0,s.Z)(function*(m,h){yield wt((0,O.m9)(m),h)})).apply(this,arguments)}let D=(()=>{class m{constructor(f){this.providerId=m.PROVIDER_ID,this.auth=Fn(f)}verifyPhoneNumber(f,v){return Or(this.auth,f,(0,O.m9)(v))}static credential(f,v){return Do._fromVerification(f,v)}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:v,temporaryProof:T}=f;return v&&T?Do._fromTokenResponse(v,T):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function E(m,h){return h?Mt(h):(Ee(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class M extends Qo{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Qr(h,this._buildIdpRequest())}_linkToIdToken(h,f){return Qr(h,this._buildIdpRequest(f))}_getReauthenticationResolver(h){return Qr(h,this._buildIdpRequest())}_buildIdpRequest(h){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(f.idToken=h),f}}function L(m){return Ba(m.auth,new M(m),m.bypassAuthState)}function Z(m){const{auth:h,user:f}=m;return Ee(f,h,"internal-error"),eo(f,new M(m),m.bypassAuthState)}function z(m){return De.apply(this,arguments)}function De(){return(De=(0,s.Z)(function*(m){const{auth:h,user:f}=m;return Ee(f,h,"internal-error"),wt(f,new M(m),m.bypassAuthState)})).apply(this,arguments)}class Ge{constructor(h,f,v,T,S=!1){this.auth=h,this.resolver=v,this.user=T,this.bypassAuthState=S,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var h=this;return new Promise(function(){var f=(0,s.Z)(function*(v,T){h.pendingPromise={resolve:v,reject:T};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(S){h.reject(S)}});return function(v,T){return f.apply(this,arguments)}}())}onAuthEvent(h){var f=this;return(0,s.Z)(function*(){const{urlResponse:v,sessionId:T,postBody:S,tenantId:U,error:X,type:Ae}=h;if(X)return void f.reject(X);const Ie={auth:f.auth,requestUri:v,sessionId:T,tenantId:U||void 0,postBody:S||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(Ae)(Ie))}catch(ze){f.reject(ze)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return L;case"linkViaPopup":case"linkViaRedirect":return z;case"reauthViaPopup":case"reauthViaRedirect":return Z;default:At(this.auth,"internal-error")}}resolve(h){Mn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Mn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Fe=new xt(2e3,1e4);function Lt(){return(Lt=(0,s.Z)(function*(m,h,f){const v=Fn(m);Yi(m,h,gi);const T=E(v,f);return new Lo(v,"signInViaPopup",h,T).executeNotNull()})).apply(this,arguments)}function vi(){return(vi=(0,s.Z)(function*(m,h,f){const v=(0,O.m9)(m);Yi(v.auth,h,gi);const T=E(v.auth,f);return new Lo(v.auth,"reauthViaPopup",h,T,v).executeNotNull()})).apply(this,arguments)}function Qn(){return(Qn=(0,s.Z)(function*(m,h,f){const v=(0,O.m9)(m);Yi(v.auth,h,gi);const T=E(v.auth,f);return new Lo(v.auth,"linkViaPopup",h,T,v).executeNotNull()})).apply(this,arguments)}let Lo=(()=>{class m extends Ge{constructor(f,v,T,S,U){super(f,v,S,U),this.provider=T,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var f=this;return(0,s.Z)(function*(){const v=yield f.execute();return Ee(v,f.auth,"internal-error"),v})()}onExecution(){var f=this;return(0,s.Z)(function*(){Mn(1===f.filter.length,"Popup operations only handle one event");const v=Fo();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],v),f.authWindow.associatedEvent=v,f.resolver._originValidation(f.auth).catch(T=>{f.reject(T)}),f.resolver._isIframeWebStorageSupported(f.auth,T=>{T||f.reject(un(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(un(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const f=()=>{var v,T;this.pollId=(null===(T=null===(v=this.authWindow)||void 0===v?void 0:v.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(un(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,Fe.get())};f()}}return m.currentPopupAction=null,m})();const wr=new Map;class Pr extends Ge{constructor(h,f,v=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,v),this.eventId=null}execute(){var h=()=>super.execute,f=this;return(0,s.Z)(function*(){let v=wr.get(f.auth._key());if(!v){try{const S=(yield function(m,h){return na.apply(this,arguments)}(f.resolver,f.auth))?yield h().call(f):null;v=()=>Promise.resolve(S)}catch(T){v=()=>Promise.reject(T)}wr.set(f.auth._key(),v)}return f.bypassAuthState||wr.set(f.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(h){var f=()=>super.onAuthEvent,v=this;return(0,s.Z)(function*(){if("signInViaRedirect"===h.type)return f().call(v,h);if("unknown"!==h.type){if(h.eventId){const T=yield v.auth._redirectUserForId(h.eventId);if(T)return v.user=T,f().call(v,h);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function na(){return(na=(0,s.Z)(function*(m,h){const f=Vo(h),v=ia(m);if(!(yield v._isAvailable()))return!1;const T="true"===(yield v._get(f));return yield v._remove(f),T})).apply(this,arguments)}function ql(m,h){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,s.Z)(function*(m,h){return ia(m)._set(Vo(h),"true")})).apply(this,arguments)}function ia(m){return Mt(m._redirectPersistence)}function Vo(m){return Ai("pendingRedirect",m.config.apiKey,m.name)}function Qc(){return(Qc=(0,s.Z)(function*(m,h,f){const v=Fn(m);Yi(m,h,gi);const T=E(v,f);return yield ql(T,v),T._openRedirect(v,h,"signInViaRedirect")})).apply(this,arguments)}function Xc(){return(Xc=(0,s.Z)(function*(m,h,f){const v=(0,O.m9)(m);Yi(v.auth,h,gi);const T=E(v.auth,f);yield ql(T,v.auth);const S=yield el(v);return T._openRedirect(v.auth,h,"reauthViaRedirect",S)})).apply(this,arguments)}function Ui(){return(Ui=(0,s.Z)(function*(m,h,f){const v=(0,O.m9)(m);Yi(v.auth,h,gi);const T=E(v.auth,f);yield nn(!1,v,h.providerId),yield ql(T,v.auth);const S=yield el(v);return T._openRedirect(v.auth,h,"linkViaRedirect",S)})).apply(this,arguments)}function Uo(){return(Uo=(0,s.Z)(function*(m,h){return yield Fn(m)._initializationPromise,Jl(m,h,!1)})).apply(this,arguments)}function Jl(m,h){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,s.Z)(function*(m,h,f=!1){const v=Fn(m),T=E(v,h),U=yield new Pr(v,T,f).execute();return U&&!f&&(delete U.user._redirectEventId,yield v._persistUserIfCurrent(U.user),yield v._setRedirectUser(null,h)),U})).apply(this,arguments)}function el(m){return ra.apply(this,arguments)}function ra(){return(ra=(0,s.Z)(function*(m){const h=Fo(`${m.uid}:::`);return m._redirectEventId=h,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),h})).apply(this,arguments)}class tl{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let f=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(h,v)&&(f=!0,this.sendToConsumer(h,v),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Kl(m);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=h,f=!0)),f}sendToConsumer(h,f){var v;if(h.error&&!Kl(h)){const T=(null===(v=h.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";f.onError(un(this.auth,T))}else f.onAuthEvent(h)}isEventForConsumer(h,f){const v=null===f.eventId||!!h.eventId&&h.eventId===f.eventId;return f.filter.includes(h.type)&&v}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(eu(h))}saveEventToCache(h){this.cachedEventUids.add(eu(h)),this.lastProcessedEventTime=Date.now()}}function eu(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(h=>h).join("-")}function Kl({type:m,error:h}){return"unknown"===m&&"auth/no-auth-event"===(null==h?void 0:h.code)}function tu(m){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,s.Z)(function*(m,h={}){return lt(m,"GET","/v1/projects",h)})).apply(this,arguments)}const Wp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xl=/^https?/;function Fr(){return(Fr=(0,s.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:h}=yield tu(m);for(const f of h)try{if(nl(f))return}catch(v){}At(m,"unauthorized-domain")})).apply(this,arguments)}function nl(m){const h=Je(),{protocol:f,hostname:v}=new URL(h);if(m.startsWith("chrome-extension://")){const U=new URL(m);return""===U.hostname&&""===v?"chrome-extension:"===f&&m.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===f&&U.hostname===v}if(!Xl.test(f))return!1;if(Wp.test(m))return v===m;const T=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(v)}const ec=new xt(3e4,6e4);function il(){const m=en().___jsl;if(null==m?void 0:m.H)for(const h of Object.keys(m.H))if(m.H[h].r=m.H[h].r||[],m.H[h].L=m.H[h].L||[],m.H[h].r=[...m.H[h].L],m.CP)for(let f=0;f<m.CP.length;f++)m.CP[f]=null}let tc=null;function lf(m){return tc=tc||function(m){return new Promise((h,f)=>{var v,T,S;function U(){il(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{il(),f(un(m,"network-request-failed"))},timeout:ec.get()})}if(null===(T=null===(v=en().gapi)||void 0===v?void 0:v.iframes)||void 0===T?void 0:T.Iframe)h(gapi.iframes.getContext());else{if(!(null===(S=en().gapi)||void 0===S?void 0:S.load)){const X=as("iframefcb");return en()[X]=()=>{gapi.load?U():f(un(m,"network-request-failed"))},jl(`https://apis.google.com/js/api.js?onload=${X}`).catch(Ae=>f(Ae))}U()}}).catch(h=>{throw tc=null,h})}(m),tc}const Zp=new xt(5e3,15e3),qp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cf(m){const h=m.config;Ee(h.authDomain,m,"auth-domain-config-required");const f=h.emulator?Ue(h,"emulator/auth/iframe"):`https://${m.config.authDomain}/__/auth/iframe`,v={apiKey:h.apiKey,appName:m.name,v:ae.SDK_VERSION},T=Jp.get(m.config.apiHost);T&&(v.eid=T);const S=m._getFrameworks();return S.length&&(v.fw=S.join(",")),`${f}?${(0,O.xO)(v).slice(1)}`}function Gd(){return Gd=(0,s.Z)(function*(m){const h=yield lf(m),f=en().gapi;return Ee(f,m,"internal-error"),h.open({where:document.body,url:cf(m),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qp,dontclear:!0},v=>new Promise(function(){var T=(0,s.Z)(function*(S,U){yield v.restyle({setHideOnLeave:!1});const X=un(m,"network-request-failed"),Ae=en().setTimeout(()=>{U(X)},Zp.get());function Ie(){en().clearTimeout(Ae),S(v)}v.ping(Ie).then(Ie,()=>{U(X)})});return function(S,U){return T.apply(this,arguments)}}()))}),Gd.apply(this,arguments)}const oa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Wd{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(h){}}}function Br(m,h,f,v,T,S){Ee(m.config.authDomain,m,"auth-domain-config-required"),Ee(m.config.apiKey,m,"invalid-api-key");const U={apiKey:m.config.apiKey,appName:m.name,authType:f,redirectUrl:v,v:ae.SDK_VERSION,eventId:T};if(h instanceof gi){h.setDefaultLanguage(m.languageCode),U.providerId=h.providerId||"",(0,O.xb)(h.getCustomParameters())||(U.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Ae,Ie]of Object.entries(S||{}))U[Ae]=Ie}if(h instanceof tr){const Ae=h.getScopes().filter(Ie=>""!==Ie);Ae.length>0&&(U.scopes=Ae.join(","))}m.tenantId&&(U.tid=m.tenantId);const X=U;for(const Ae of Object.keys(X))void 0===X[Ae]&&delete X[Ae];return`${function({config:m}){return m.emulator?Ue(m,"emulator/auth/handler"):`https://${m.authDomain}/__/auth/handler`}(m)}?${(0,O.xO)(X).slice(1)}`}const nc="webStorageSupport";class aa extends class{constructor(h){this.factorId=h}_process(h,f,v){switch(f.type){case"enroll":return this._finalizeEnroll(h,f.credential,v);case"signin":return this._finalizeSignIn(h,f.credential);default:return Vn("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new aa(h)}_finalizeEnroll(h,f,v){return function(m,h){return lt(m,"POST","/v2/accounts/mfaEnrollment:finalize",kt(m,h))}(h,{idToken:f,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,f){return function(m,h){return lt(m,"POST","/v2/accounts/mfaSignIn:finalize",kt(m,h))}(h,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Qp=(()=>{class m{constructor(){}static assertion(f){return aa._fromCredential(f)}}return m.FACTOR_ID="phone",m})();var m,sl="@firebase/auth";class pf{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var f=this;return(0,s.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const f=this.auth.onIdTokenChanged(v=>{var T;h((null===(T=v)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,f),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const f=this.internalListeners.get(h);!f||(this.internalListeners.delete(h),f(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function la(){return window}function ru(){return ru=(0,s.Z)(function*(m,h,f){var v;const{BuildInfo:T}=la();Mn(h.sessionId,"AuthEvent did not contain a session ID");const S=yield tg(h.sessionId),U={};return qr()?U.ibi=T.packageName:Is()?U.apn=T.packageName:At(m,"operation-not-supported-in-this-environment"),T.displayName&&(U.appDisplayName=T.displayName),U.sessionId=S,Br(m,f,h.type,void 0,null!==(v=h.eventId)&&void 0!==v?v:void 0,U)}),ru.apply(this,arguments)}function hs(){return hs=(0,s.Z)(function*(m){const{BuildInfo:h}=la(),f={};qr()?f.iosBundleId=h.packageName:Is()?f.androidPackageName=h.packageName:At(m,"operation-not-supported-in-this-environment"),yield tu(m,f)}),hs.apply(this,arguments)}function Yd(){return Yd=(0,s.Z)(function*(m,h,f){const{cordova:v}=la();let T=()=>{};try{yield new Promise((S,U)=>{let X=null;function Ae(){var Ze;S();const St=null===(Ze=v.plugins.browsertab)||void 0===Ze?void 0:Ze.close;"function"==typeof St&&St(),"function"==typeof(null==f?void 0:f.close)&&f.close()}function Ie(){X||(X=window.setTimeout(()=>{U(un(m,"redirect-cancelled-by-user"))},2e3))}function ze(){"visible"===(null==document?void 0:document.visibilityState)&&Ie()}h.addPassiveListener(Ae),document.addEventListener("resume",Ie,!1),Is()&&document.addEventListener("visibilitychange",ze,!1),T=()=>{h.removePassiveListener(Ae),document.removeEventListener("resume",Ie,!1),document.removeEventListener("visibilitychange",ze,!1),X&&window.clearTimeout(X)}})}finally{T()}}),Yd.apply(this,arguments)}function tg(m){return rc.apply(this,arguments)}function rc(){return rc=(0,s.Z)(function*(m){const h=ng(m),f=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(f)).map(T=>T.toString(16).padStart(2,"0")).join("")}),rc.apply(this,arguments)}function ng(m){if(Mn(/[0-9a-zA-Z]+/.test(m),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(m);const h=new ArrayBuffer(m.length),f=new Uint8Array(h);for(let v=0;v<m.length;v++)f[v]=m.charCodeAt(v);return f}m="Browser",(0,ae._registerComponent)(new ue.wA("auth",(h,{options:f})=>{const v=h.getProvider("app").getImmediate(),{apiKey:T,authDomain:S}=v.options;return(U=>{Ee(T&&!T.includes(":"),"invalid-api-key",{appName:U.name}),Ee(!(null==S?void 0:S.includes(":")),"argument-error",{appName:U.name});const X={apiKey:T,authDomain:S,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hr(m)},Ae=new fr(U,X);return function(m,h){const f=(null==h?void 0:h.persistence)||[],v=(Array.isArray(f)?f:[f]).map(Mt);(null==h?void 0:h.errorMap)&&m._updateErrorMap(h.errorMap),m._initializeWithPersistence(v,null==h?void 0:h.popupRedirectResolver)}(Ae,f),Ae})(v)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,f,v)=>{h.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new ue.wA("auth-internal",h=>{const f=Fn(h.getProvider("auth").getImmediate());return new pf(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(sl,"0.19.4",void 0),(0,ae.registerVersion)(sl,"0.19.4","esm2017");class jn extends tl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(h)),super.onEvent(h)}initialized(){var h=this;return(0,s.Z)(function*(){yield h.initPromise})()}}function lu(m){return Xn.apply(this,arguments)}function Xn(){return Xn=(0,s.Z)(function*(m){const h=yield Jd()._get(Kd(m));return h&&(yield Jd()._remove(Kd(m))),h}),Xn.apply(this,arguments)}function qd(){const m=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<20;f++){const v=Math.floor(Math.random()*h.length);m.push(h.charAt(v))}return m.join("")}function Jd(){return Mt(Ks)}function Kd(m){return Ai("authEvent",m.config.apiKey,m.name)}function ll(m){if(!(null==m?void 0:m.includes("?")))return{};const[h,...f]=m.split("?");return(0,O.zd)(f.join("?"))}function ac(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:un("no-auth-event")}}function ua(){var m;return(null===(m=null==self?void 0:self.location)||void 0===m?void 0:m.protocol)||null}function _f(m=(0,O.z$)()){return!("file:"!==ua()&&"ionic:"!==ua()||!m.toLowerCase().match(/iphone|ipad|ipod|android/))}function yf(){try{const m=self.localStorage,h=Fo();if(m)return m.setItem(h,"1"),m.removeItem(h),!function(m=(0,O.z$)()){return(0,O.w1)()&&11===(null==document?void 0:document.documentMode)||function(m=(0,O.z$)()){return/Edge\/\d+/.test(m)}(m)}()||(0,O.hl)()}catch(m){return Xd()&&(0,O.hl)()}return!1}function Xd(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function eh(){return("http:"===ua()||"https:"===ua()||(0,O.ru)()||_f())&&!((0,O.b$)()||(0,O.UG)())&&yf()&&!Xd()}function du(){return _f()&&"undefined"!=typeof document}function th(){return th=(0,s.Z)(function*(){return!!du()&&new Promise(m=>{const h=setTimeout(()=>{m(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),m(!0)})})}),th.apply(this,arguments)}const sr={LOCAL:"local",NONE:"none",SESSION:"session"},cc=Ee,nh="persistence";function bf(m){return hu.apply(this,arguments)}function hu(){return hu=(0,s.Z)(function*(m){yield m._initializationPromise;const h=Dr(),f=Ai(nh,m.config.apiKey,m.name);(null==h?void 0:h.sessionStorage)&&h.sessionStorage.setItem(f,m._getPersistence())}),hu.apply(this,arguments)}function Dr(){return"undefined"!=typeof window?window:null}const hg=Ee;class ha{constructor(){this.browserResolver=Mt(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=on,this._completeRedirectFn=Jl}_openPopup(h,f,v,T){var S=this;return(0,s.Z)(function*(){var U;Mn(null===(U=S.eventManagers[h._key()])||void 0===U?void 0:U.manager,"_initialize() not called before _openPopup()");const X=Br(h,f,v,Je(),T);return function(m,h,f,v=500,T=600){const S=Math.max((window.screen.availHeight-T)/2,0).toString(),U=Math.max((window.screen.availWidth-v)/2,0).toString();let X="";const Ae=Object.assign(Object.assign({},oa),{width:v.toString(),height:T.toString(),top:S,left:U}),Ie=(0,O.z$)().toLowerCase();f&&(X=Bi(Ie)?"_blank":f),Ts(Ie)&&(h=h||"http://localhost",Ae.scrollbars="yes");const ze=Object.entries(Ae).reduce((St,[cn,uo])=>`${St}${cn}=${uo},`,"");if(function(m=(0,O.z$)()){var h;return qr(m)&&!!(null===(h=window.navigator)||void 0===h?void 0:h.standalone)}(Ie)&&"_self"!==X)return function(m,h){const f=document.createElement("a");f.href=m,f.target=h;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(v)}(h||"",X),new Wd(null);const Ze=window.open(h||"",X,ze);Ee(Ze,m,"popup-blocked");try{Ze.focus()}catch(St){}return new Wd(Ze)}(h,X,Fo())})()}_openRedirect(h,f,v,T){var S=this;return(0,s.Z)(function*(){return yield S._originValidation(h),m=Br(h,f,v,Je(),T),en().location.href=m,new Promise(()=>{});var m})()}_initialize(h){const f=h._key();if(this.eventManagers[f]){const{manager:T,promise:S}=this.eventManagers[f];return T?Promise.resolve(T):(Mn(S,"If manager is not set, promise should be"),S)}const v=this.initAndGetManager(h);return this.eventManagers[f]={promise:v},v.catch(()=>{delete this.eventManagers[f]}),v}initAndGetManager(h){var f=this;return(0,s.Z)(function*(){const v=yield function(m){return Gd.apply(this,arguments)}(h),T=new tl(h);return v.register("authEvent",S=>(Ee(null==S?void 0:S.authEvent,h,"invalid-auth-event"),{status:T.onEvent(S.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[h._key()]={manager:T},f.iframes[h._key()]=v,T})()}_isIframeWebStorageSupported(h,f){this.iframes[h._key()].send(nc,{type:nc},T=>{var S;const U=null===(S=null==T?void 0:T[0])||void 0===S?void 0:S[nc];void 0!==U&&f(!!U),At(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const f=h._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function(m){return Fr.apply(this,arguments)}(h)),this.originValidationPromises[f]}get _shouldInitProactively(){return yn()||Yr()||qr()}}),this.cordovaResolver=Mt(class{constructor(){this._redirectPersistence=on,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Jl}_initialize(h){var f=this;return(0,s.Z)(function*(){const v=h._key();let T=f.eventManagers.get(v);return T||(T=new jn(h),f.eventManagers.set(v,T),f.attachCallbackListeners(h,T)),T})()}_openPopup(h){At(h,"operation-not-supported-in-this-environment")}_openRedirect(h,f,v,T){var S=this;return(0,s.Z)(function*(){!function(m){var h,f,v,T,S,U,X,Ae,Ie,ze;const Ze=la();Ee("function"==typeof(null===(h=null==Ze?void 0:Ze.universalLinks)||void 0===h?void 0:h.subscribe),m,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ee(void 0!==(null===(f=null==Ze?void 0:Ze.BuildInfo)||void 0===f?void 0:f.packageName),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ee("function"==typeof(null===(S=null===(T=null===(v=null==Ze?void 0:Ze.cordova)||void 0===v?void 0:v.plugins)||void 0===T?void 0:T.browsertab)||void 0===S?void 0:S.openUrl),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ee("function"==typeof(null===(Ae=null===(X=null===(U=null==Ze?void 0:Ze.cordova)||void 0===U?void 0:U.plugins)||void 0===X?void 0:X.browsertab)||void 0===Ae?void 0:Ae.isAvailable),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ee("function"==typeof(null===(ze=null===(Ie=null==Ze?void 0:Ze.cordova)||void 0===Ie?void 0:Ie.InAppBrowser)||void 0===ze?void 0:ze.open),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const U=yield S._initialize(h);yield U.initialized(),U.resetRedirect(),wr.clear(),yield S._originValidation(h);const X=function(m,h,f=null){return{type:h,eventId:f,urlResponse:null,sessionId:qd(),postBody:null,tenantId:m.tenantId,error:un(m,"no-auth-event")}}(h,v,T);yield function(m,h){return Jd()._set(Kd(m),h)}(h,X);const Ae=yield function(m,h,f){return ru.apply(this,arguments)}(h,X,f),Ie=yield function(m){const{cordova:h}=la();return new Promise(f=>{h.plugins.browsertab.isAvailable(v=>{let T=null;v?h.plugins.browsertab.openUrl(m):T=h.InAppBrowser.open(m,function(m=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}()?"_blank":"_system","location=yes"),f(T)})})}(Ae);return function(m,h,f){return Yd.apply(this,arguments)}(h,U,Ie)})()}_isIframeWebStorageSupported(h,f){throw new Error("Method not implemented.")}_originValidation(h){const f=h._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function(m){return hs.apply(this,arguments)}(h)),this.originValidationPromises[f]}attachCallbackListeners(h,f){const{universalLinks:v,handleOpenURL:T,BuildInfo:S}=la(),U=setTimeout((0,s.Z)(function*(){yield lu(h),f.onEvent(ac())}),500),X=function(){var ze=(0,s.Z)(function*(Ze){clearTimeout(U);const St=yield lu(h);let cn=null;St&&(null==Ze?void 0:Ze.url)&&(cn=function(m,h){var f,v;const T=function(m){const h=ll(m),f=h.link?decodeURIComponent(h.link):void 0,v=ll(f).link,T=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return ll(T).link||T||v||f||m}(h);if(T.includes("/__/auth/callback")){const S=ll(T),U=S.firebaseError?function(m){try{return JSON.parse(m)}catch(h){return null}}(decodeURIComponent(S.firebaseError)):null,X=null===(v=null===(f=null==U?void 0:U.code)||void 0===f?void 0:f.split("auth/"))||void 0===v?void 0:v[1],Ae=X?un(X):null;return Ae?{type:m.type,eventId:m.eventId,tenantId:m.tenantId,error:Ae,urlResponse:null,sessionId:null,postBody:null}:{type:m.type,eventId:m.eventId,tenantId:m.tenantId,sessionId:m.sessionId,urlResponse:T,postBody:null}}return null}(St,Ze.url)),f.onEvent(cn||ac())});return function(St){return ze.apply(this,arguments)}}();void 0!==v&&"function"==typeof v.subscribe&&v.subscribe(null,X);const Ae=T,Ie=`${S.packageName.toLowerCase()}://`;la().handleOpenURL=function(){var ze=(0,s.Z)(function*(Ze){if(Ze.toLowerCase().startsWith(Ie)&&X({url:Ze}),"function"==typeof Ae)try{Ae(Ze)}catch(St){console.error(St)}});return function(Ze){return ze.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=on,this._completeRedirectFn=Jl}_initialize(h){var f=this;return(0,s.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,f,v,T){var S=this;return(0,s.Z)(function*(){return yield S.selectUnderlyingResolver(),S.assertedUnderlyingResolver._openPopup(h,f,v,T)})()}_openRedirect(h,f,v,T){var S=this;return(0,s.Z)(function*(){return yield S.selectUnderlyingResolver(),S.assertedUnderlyingResolver._openRedirect(h,f,v,T)})()}_isIframeWebStorageSupported(h,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,f)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return du()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return hg(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,s.Z)(function*(){if(h.underlyingResolver)return;const f=yield function(){return th.apply(this,arguments)}();h.underlyingResolver=f?h.cordovaResolver:h.browserResolver})()}}function ih(m){return m.unwrap()}function co(m){return cl(m)}function cl(m){const{_tokenResponse:h}=m instanceof O.ZR?m.customData:m;if(!h)return null;if(!(m instanceof O.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return D.credentialFromResult(m);const f=h.providerId;if(!f||"password"===f)return null;let v;switch(f){case"google.com":v=Io;break;case"facebook.com":v=Oa;break;case"github.com":v=Ao;break;case"twitter.com":v=mi;break;default:const{oauthIdToken:T,oauthAccessToken:S,oauthTokenSecret:U,pendingToken:X,nonce:Ae}=h;return S||U||T||X?X?f.startsWith("saml.")?Nr._create(f,X):Jn._fromParams({providerId:f,signInMethod:f,pendingToken:X,idToken:T,accessToken:S}):new Tn(f).credential({idToken:T,accessToken:S,rawNonce:Ae}):null}return m instanceof O.ZR?v.credentialFromError(m):v.credentialFromResult(m)}function Hi(m,h){return h.catch(f=>{throw f instanceof O.ZR&&function(m,h){var f;const v=null===(f=h.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===h.code)h.resolver=new pu(m,function(m,h){var f;const v=(0,O.m9)(m),T=h;return Ee(h.customData.operationType,v,"argument-error"),Ee(null===(f=T.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,v,"argument-error"),mr._fromError(v,T)}(m,h));else if(v){const T=cl(h),S=h;T&&(S.credential=T,S.tenantId=v.tenantId||void 0,S.email=v.email||void 0,S.phoneNumber=v.phoneNumber||void 0)}}(m,f),f}).then(f=>{const T=f.user;return{operationType:f.operationType,credential:co(f),additionalUserInfo:je(f),user:Vr.getOrCreate(T)}})}function fu(m,h){return fa.apply(this,arguments)}function fa(){return fa=(0,s.Z)(function*(m,h){const f=yield h;return{verificationId:f.verificationId,confirm:v=>Hi(m,f.confirm(v))}}),fa.apply(this,arguments)}class pu{constructor(h,f){this.resolver=f,this.auth=function(m){return m.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return Hi(ih(this.auth),this.resolver.resolveSignIn(h))}}class Vr{constructor(h){this._delegate=h,this.multiFactor=function(m){const h=(0,O.m9)(m);return Kt.has(h)||Kt.set(h,os._fromUser(h)),Kt.get(h)}(h)}static getOrCreate(h){return Vr.USER_MAP.has(h)||Vr.USER_MAP.set(h,new Vr(h)),Vr.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var f=this;return(0,s.Z)(function*(){return Hi(f.auth,Ls(f._delegate,h))})()}linkWithPhoneNumber(h,f){var v=this;return(0,s.Z)(function*(){return fu(v.auth,function(m,h,f){return $n.apply(this,arguments)}(v._delegate,h,f))})()}linkWithPopup(h){var f=this;return(0,s.Z)(function*(){return Hi(f.auth,function(m,h,f){return Qn.apply(this,arguments)}(f._delegate,h,ha))})()}linkWithRedirect(h){var f=this;return(0,s.Z)(function*(){return yield bf(Fn(f.auth)),function(m,h,f){return function(m,h,f){return Ui.apply(this,arguments)}(m,h,f)}(f._delegate,h,ha)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var f=this;return(0,s.Z)(function*(){return Hi(f.auth,Un(f._delegate,h))})()}reauthenticateWithPhoneNumber(h,f){return fu(this.auth,function(m,h,f){return Qa.apply(this,arguments)}(this._delegate,h,f))}reauthenticateWithPopup(h){return Hi(this.auth,function(m,h,f){return vi.apply(this,arguments)}(this._delegate,h,ha))}reauthenticateWithRedirect(h){var f=this;return(0,s.Z)(function*(){return yield bf(Fn(f.auth)),function(m,h,f){return function(m,h,f){return Xc.apply(this,arguments)}(m,h,f)}(f._delegate,h,ha)})()}sendEmailVerification(h){return function(m,h){return io.apply(this,arguments)}(this._delegate,h)}unlink(h){var f=this;return(0,s.Z)(function*(){return yield function(m,h){return Ce.apply(this,arguments)}(f._delegate,h),f})()}updateEmail(h){return function(m,h){return Ed((0,O.m9)(m),h,null)}(this._delegate,h)}updatePassword(h){return function(m,h){return Ed((0,O.m9)(m),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function(m,h){return Yl.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function(m,h){return Xt.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,f){return function(m,h,f){return Ys.apply(this,arguments)}(this._delegate,h,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Vr.USER_MAP=new WeakMap;const pa=Ee;let gu=(()=>{class m{constructor(f,v){if(this.app=f,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=f.options;pa(T,"invalid-api-key",{appName:f.name});let S=[Fi];if("undefined"!=typeof window){S=function(m,h){const f=Dr();if(!(null==f?void 0:f.sessionStorage))return[];const v=Ai(nh,m,h);switch(f.sessionStorage.getItem(v)){case sr.NONE:return[Fi];case sr.LOCAL:return[lo,on];case sr.SESSION:return[on];default:return[]}}(T,f.name);for(const X of[lo,Ks,on])S.includes(X)||S.push(X)}pa(T,"invalid-api-key",{appName:f.name});const U="undefined"!=typeof window?ha:void 0;this._delegate=v.initialize({options:{persistence:S,popupRedirectResolver:U}}),this._delegate._updateErrorMap(ti),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Vr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,v){!function(m,h,f){const v=Fn(m);Ee(v._canInitEmulator,v,"emulator-config-failed"),Ee(/^https?:\/\//.test(h),v,"invalid-emulator-scheme");const T=!!(null==f?void 0:f.disableWarnings),S=Vi(h),{host:U,port:X}=function(m){const h=Vi(m),f=/(\/\/)?([^?#/]+)/.exec(m.substr(h.length));if(!f)return{host:"",port:null};const v=f[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(v);if(T){const S=T[1];return{host:S,port:Qh(v.substr(S.length+1))}}{const[S,U]=v.split(":");return{host:S,port:Qh(U)}}}(h);v.config.emulator={url:`${S}//${U}${null===X?"":`:${X}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:U,port:X,protocol:S.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function(){function m(){const h=document.createElement("p"),f=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}(this._delegate,f,v)}applyActionCode(f){return function(m,h){return Ha.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return $a(this._delegate,f)}confirmPasswordReset(f,v){return function(m,h,f){return js.apply(this,arguments)}(this._delegate,f,v)}createUserWithEmailAndPassword(f,v){var T=this;return(0,s.Z)(function*(){return Hi(T._delegate,function(m,h,f){return zs.apply(this,arguments)}(T._delegate,f,v))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function(m,h){return Dd.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function(m,h){const f=Eo.parseLink(h);return"EMAIL_SIGNIN"===(null==f?void 0:f.operation)}(0,f)}getRedirectResult(){var f=this;return(0,s.Z)(function*(){pa(eh(),f._delegate,"operation-not-supported-in-this-environment");const v=yield function(m,h){return Uo.apply(this,arguments)}(f._delegate,ha);return v?Hi(f._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function(m,h){Fn(m)._logFramework(h)}(this._delegate,f)}onAuthStateChanged(f,v,T){const{next:S,error:U,complete:X}=oh(f,v,T);return this._delegate.onAuthStateChanged(S,U,X)}onIdTokenChanged(f,v,T){const{next:S,error:U,complete:X}=oh(f,v,T);return this._delegate.onIdTokenChanged(S,U,X)}sendSignInLinkToEmail(f,v){return function(m,h,f){return Jt.apply(this,arguments)}(this._delegate,f,v)}sendPasswordResetEmail(f,v){return function(m,h,f){return ns.apply(this,arguments)}(this._delegate,f,v||void 0)}setPersistence(f){var v=this;return(0,s.Z)(function*(){let T;switch(function(m,h){cc(Object.values(sr).includes(h),m,"invalid-persistence-type"),(0,O.b$)()?cc(h!==sr.SESSION,m,"unsupported-persistence-type"):(0,O.UG)()?cc(h===sr.NONE,m,"unsupported-persistence-type"):Xd()?cc(h===sr.NONE||h===sr.LOCAL&&(0,O.hl)(),m,"unsupported-persistence-type"):cc(h===sr.NONE||yf(),m,"unsupported-persistence-type")}(v._delegate,f),f){case sr.SESSION:T=on;break;case sr.LOCAL:T=(yield Mt(lo)._isAvailable())?lo:Ks;break;case sr.NONE:T=Fi;break;default:return At("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return Hi(this._delegate,function(m){return ts.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return Hi(this._delegate,Ll(this._delegate,f))}signInWithCustomToken(f){return Hi(this._delegate,function(m,h){return Vs.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,v){return Hi(this._delegate,function(m,h,f){return Ll((0,O.m9)(m),To.credential(h,f))}(this._delegate,f,v))}signInWithEmailLink(f,v){return Hi(this._delegate,function(m,h,f){return Zs.apply(this,arguments)}(this._delegate,f,v))}signInWithPhoneNumber(f,v){return fu(this._delegate,function(m,h,f){return br.apply(this,arguments)}(this._delegate,f,v))}signInWithPopup(f){var v=this;return(0,s.Z)(function*(){return pa(eh(),v._delegate,"operation-not-supported-in-this-environment"),Hi(v._delegate,function(m,h,f){return Lt.apply(this,arguments)}(v._delegate,f,ha))})()}signInWithRedirect(f){var v=this;return(0,s.Z)(function*(){return pa(eh(),v._delegate,"operation-not-supported-in-this-environment"),yield bf(v._delegate),function(m,h,f){return function(m,h,f){return Qc.apply(this,arguments)}(m,h,f)}(v._delegate,f,ha)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function(m,h){return Ws.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return m.Persistence=sr,m})();function oh(m,h,f){let v=m;"function"!=typeof m&&({next:v,error:h,complete:f}=m);const T=v;return{next:U=>T(U&&Vr.getOrCreate(U)),error:h,complete:f}}class wf{constructor(){this.providerId="phone",this._delegate=new D(ih(K.Z.auth()))}static credential(h,f){return D.credential(h,f)}verifyPhoneNumber(h,f){return this._delegate.verifyPhoneNumber(h,f)}unwrap(){return this._delegate}}wf.PHONE_SIGN_IN_METHOD=D.PHONE_SIGN_IN_METHOD,wf.PROVIDER_ID=D.PROVIDER_ID;const ga=Ee;class sh{constructor(h,f,v=K.Z.app()){var T;ga(null===(T=v.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new si(h,f,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(m){m.INTERNAL.registerComponent(new ue.wA("auth-compat",h=>{const f=h.getProvider("app-compat").getImmediate(),v=h.getProvider("auth");return new gu(f,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:To,FacebookAuthProvider:Oa,GithubAuthProvider:Ao,GoogleAuthProvider:Io,OAuthProvider:Tn,SAMLAuthProvider:So,PhoneAuthProvider:wf,PhoneMultiFactorGenerator:Qp,RecaptchaVerifier:sh,TwitterAuthProvider:mi,Auth:gu,AuthCredential:Qo,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),m.registerVersion("@firebase/auth-compat","0.2.4")}(K.Z)},4995:function(Ve,he){!function(k){"use strict";function s(oe){return Array.prototype.slice.call(oe)}function K(oe){return new Promise(function(Y,se){oe.onsuccess=function(){Y(oe.result)},oe.onerror=function(){se(oe.error)}})}function O(oe,Y,se){var be,ge=new Promise(function(Be,Te){K(be=oe[Y].apply(oe,se)).then(Be,Te)});return ge.request=be,ge}function ae(oe,Y,se){var be=O(oe,Y,se);return be.then(function(ge){if(ge)return new $(ge,be.request)})}function ie(oe,Y,se){se.forEach(function(be){Object.defineProperty(oe.prototype,be,{get:function(){return this[Y][be]},set:function(ge){this[Y][be]=ge}})})}function de(oe,Y,se,be){be.forEach(function(ge){ge in se.prototype&&(oe.prototype[ge]=function(){return O(this[Y],ge,arguments)})})}function ne(oe,Y,se,be){be.forEach(function(ge){ge in se.prototype&&(oe.prototype[ge]=function(){return this[Y][ge].apply(this[Y],arguments)})})}function re(oe,Y,se,be){be.forEach(function(ge){ge in se.prototype&&(oe.prototype[ge]=function(){return ae(this[Y],ge,arguments)})})}function le(oe){this._index=oe}function $(oe,Y){this._cursor=oe,this._request=Y}function H(oe){this._store=oe}function Q(oe){this._tx=oe,this.complete=new Promise(function(Y,se){oe.oncomplete=function(){Y()},oe.onerror=function(){se(oe.error)},oe.onabort=function(){se(oe.error)}})}function Re(oe,Y,se){this._db=oe,this.oldVersion=Y,this.transaction=new Q(se)}function we(oe){this._db=oe}ie(le,"_index",["name","keyPath","multiEntry","unique"]),de(le,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),re(le,"_index",IDBIndex,["openCursor","openKeyCursor"]),ie($,"_cursor",["direction","key","primaryKey","value"]),de($,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(oe){oe in IDBCursor.prototype&&($.prototype[oe]=function(){var Y=this,se=arguments;return Promise.resolve().then(function(){return Y._cursor[oe].apply(Y._cursor,se),K(Y._request).then(function(be){if(be)return new $(be,Y._request)})})})}),H.prototype.createIndex=function(){return new le(this._store.createIndex.apply(this._store,arguments))},H.prototype.index=function(){return new le(this._store.index.apply(this._store,arguments))},ie(H,"_store",["name","keyPath","indexNames","autoIncrement"]),de(H,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),re(H,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ne(H,"_store",IDBObjectStore,["deleteIndex"]),Q.prototype.objectStore=function(){return new H(this._tx.objectStore.apply(this._tx,arguments))},ie(Q,"_tx",["objectStoreNames","mode"]),ne(Q,"_tx",IDBTransaction,["abort"]),Re.prototype.createObjectStore=function(){return new H(this._db.createObjectStore.apply(this._db,arguments))},ie(Re,"_db",["name","version","objectStoreNames"]),ne(Re,"_db",IDBDatabase,["deleteObjectStore","close"]),we.prototype.transaction=function(){return new Q(this._db.transaction.apply(this._db,arguments))},ie(we,"_db",["name","version","objectStoreNames"]),ne(we,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(oe){[H,le].forEach(function(Y){oe in Y.prototype&&(Y.prototype[oe.replace("open","iterate")]=function(){var se=s(arguments),be=se[se.length-1],ge=this._store||this._index,Be=ge[oe].apply(ge,se.slice(0,-1));Be.onsuccess=function(){be(Be.result)}})})}),[le,H].forEach(function(oe){oe.prototype.getAll||(oe.prototype.getAll=function(Y,se){var be=this,ge=[];return new Promise(function(Be){be.iterateCursor(Y,function(Te){Te?(ge.push(Te.value),void 0===se||ge.length!=se?Te.continue():Be(ge)):Be(ge)})})})}),k.openDb=function(oe,Y,se){var be=O(indexedDB,"open",[oe,Y]),ge=be.request;return ge&&(ge.onupgradeneeded=function(Be){se&&se(new Re(ge.result,Be.oldVersion,ge.transaction))}),be.then(function(Be){return new we(Be)})},k.deleteDb=function(oe){return O(indexedDB,"deleteDatabase",[oe])},Object.defineProperty(k,"__esModule",{value:!0})}(he)},8305:(Ve,he,k)=>{"use strict";k.d(he,{y:()=>$});var s=k(584),K=k(7908),O=k(4816),ae=k(4623);var ne=k(5367),re=k(5044),le=k(8706);let $=(()=>{class we{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const oe=new we;return oe.source=this,oe.operator=Me,oe}subscribe(Me,oe,Y){const se=function(we){return we&&we instanceof s.Lv||function(we){return we&&(0,re.m)(we.next)&&(0,re.m)(we.error)&&(0,re.m)(we.complete)}(we)&&(0,K.Nn)(we)}(Me)?Me:new s.Hp(Me,oe,Y);return(0,le.x)(()=>{const{operator:be,source:ge}=this;se.add(be?be.call(se,ge):ge?this._subscribe(se):this._trySubscribe(se))}),se}_trySubscribe(Me){try{return this._subscribe(Me)}catch(oe){Me.error(oe)}}forEach(Me,oe){return new(oe=H(oe))((Y,se)=>{let be;be=this.subscribe(ge=>{try{Me(ge)}catch(Be){se(Be),null==be||be.unsubscribe()}},se,Y)})}_subscribe(Me){var oe;return null===(oe=this.source)||void 0===oe?void 0:oe.subscribe(Me)}[O.L](){return this}pipe(...Me){return function(we){return 0===we.length?ae.y:1===we.length?we[0]:function(Me){return we.reduce((oe,Y)=>Y(oe),Me)}}(Me)(this)}toPromise(Me){return new(Me=H(Me))((oe,Y)=>{let se;this.subscribe(be=>se=be,be=>Y(be),()=>oe(se))})}}return we.create=xe=>new we(xe),we})();function H(we){var xe;return null!==(xe=null!=we?we:ne.v.Promise)&&void 0!==xe?xe:Promise}},273:(Ve,he,k)=>{"use strict";k.d(he,{x:()=>ne});var s=k(8305),K=k(7908);const ae=(0,k(4893).d)(le=>function(){le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=k(3980),de=k(8706);let ne=(()=>{class le extends s.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const Q=new re(this,this);return Q.operator=H,Q}_throwIfClosed(){if(this.closed)throw new ae}next(H){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const Q=this.observers.slice();for(const Re of Q)Re.next(H)}})}error(H){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:Q}=this;for(;Q.length;)Q.shift().error(H)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:Q,isStopped:Re,observers:we}=this;return Q||Re?K.Lc:(we.push(H),new K.w0(()=>(0,ie.P)(we,H)))}_checkFinalizedStatuses(H){const{hasError:Q,thrownError:Re,isStopped:we}=this;Q?H.error(Re):we&&H.complete()}asObservable(){const H=new s.y;return H.source=this,H}}return le.create=($,H)=>new re($,H),le})();class re extends ne{constructor($,H){super(),this.destination=$,this.source=H}next($){var H,Q;null===(Q=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===Q||Q.call(H,$)}error($){var H,Q;null===(Q=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===Q||Q.call(H,$)}complete(){var $,H;null===(H=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===H||H.call($)}_subscribe($){var H,Q;return null!==(Q=null===(H=this.source)||void 0===H?void 0:H.subscribe($))&&void 0!==Q?Q:K.Lc}}},584:(Ve,he,k)=>{"use strict";k.d(he,{Hp:()=>Re,Lv:()=>Q});var s=k(5044),K=k(7908),O=k(5367),ae=k(5160),ie=k(6921);const de=le("C",void 0,void 0);function le(Y,se,be){return{kind:Y,value:se,error:be}}var $=k(2496),H=k(8706);class Q extends K.w0{constructor(se){super(),this.isStopped=!1,se?(this.destination=se,(0,K.Nn)(se)&&se.add(this)):this.destination=oe}static create(se,be,ge){return new Re(se,be,ge)}next(se){this.isStopped?Me(le("N",se,void 0),this):this._next(se)}error(se){this.isStopped?Me(le("E",void 0,se),this):(this.isStopped=!0,this._error(se))}complete(){this.isStopped?Me(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(se){this.destination.next(se)}_error(se){try{this.destination.error(se)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Re extends Q{constructor(se,be,ge){let Be;if(super(),(0,s.m)(se))Be=se;else if(se){let Te;({next:Be,error:be,complete:ge}=se),this&&O.v.useDeprecatedNextContext?(Te=Object.create(se),Te.unsubscribe=()=>this.unsubscribe()):Te=se,Be=null==Be?void 0:Be.bind(Te),be=null==be?void 0:be.bind(Te),ge=null==ge?void 0:ge.bind(Te)}this.destination={next:Be?we(Be):ie.Z,error:we(null!=be?be:xe),complete:ge?we(ge):ie.Z}}}function we(Y,se){return(...be)=>{try{Y(...be)}catch(ge){O.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(ge):(0,ae.h)(ge)}}}function xe(Y){throw Y}function Me(Y,se){const{onStoppedNotification:be}=O.v;be&&$.z.setTimeout(()=>be(Y,se))}const oe={closed:!0,next:ie.Z,error:xe,complete:ie.Z}},7908:(Ve,he,k)=>{"use strict";k.d(he,{Lc:()=>de,w0:()=>ie,Nn:()=>ne});var s=k(5044);const O=(0,k(4893).d)(le=>function(H){le(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((Q,Re)=>`${Re+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var ae=k(3980);class ie{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const we of H)we.remove(this);else H.remove(this);const{initialTeardown:Q}=this;if((0,s.m)(Q))try{Q()}catch(we){$=we instanceof O?we.errors:[we]}const{_teardowns:Re}=this;if(Re){this._teardowns=null;for(const we of Re)try{re(we)}catch(xe){$=null!=$?$:[],xe instanceof O?$=[...$,...xe.errors]:$.push(xe)}}if($)throw new O($)}}add($){var H;if($&&$!==this)if(this.closed)re($);else{if($ instanceof ie){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._teardowns=null!==(H=this._teardowns)&&void 0!==H?H:[]).push($)}}_hasParent($){const{_parentage:H}=this;return H===$||Array.isArray(H)&&H.includes($)}_addParent($){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push($),H):H?[H,$]:$}_removeParent($){const{_parentage:H}=this;H===$?this._parentage=null:Array.isArray(H)&&(0,ae.P)(H,$)}remove($){const{_teardowns:H}=this;H&&(0,ae.P)(H,$),$ instanceof ie&&$._removeParent(this)}}ie.EMPTY=(()=>{const le=new ie;return le.closed=!0,le})();const de=ie.EMPTY;function ne(le){return le instanceof ie||le&&"closed"in le&&(0,s.m)(le.remove)&&(0,s.m)(le.add)&&(0,s.m)(le.unsubscribe)}function re(le){(0,s.m)(le)?le():le.unsubscribe()}},5367:(Ve,he,k)=>{"use strict";k.d(he,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5583:(Ve,he,k)=>{"use strict";k.d(he,{E:()=>K});const K=new(k(8305).y)(ie=>ie.complete())},5947:(Ve,he,k)=>{"use strict";k.d(he,{D:()=>Be});var s=k(9985),K=k(4763),O=k(5222),de=k(8305),re=k(5497),le=k(5044),$=k(8395);function Q(Te,Le){if(!Te)throw new Error("Iterable cannot be null");return new de.y(He=>{(0,$.f)(He,Le,()=>{const Xe=Te[Symbol.asyncIterator]();(0,$.f)(He,Le,()=>{Xe.next().then(ee=>{ee.done?He.complete():He.next(ee.value)})},0,!0)})})}var Re=k(1073),we=k(2442),xe=k(1537),Me=k(2317),oe=k(9908),Y=k(3754),se=k(7751);function Be(Te,Le){return Le?function(Te,Le){if(null!=Te){if((0,Re.c)(Te))return function(Te,Le){return(0,s.Xf)(Te).pipe((0,O.R)(Le),(0,K.Q)(Le))}(Te,Le);if((0,xe.z)(Te))return function(Te,Le){return new de.y(He=>{let Xe=0;return Le.schedule(function(){Xe===Te.length?He.complete():(He.next(Te[Xe++]),He.closed||this.schedule())})})}(Te,Le);if((0,we.t)(Te))return function(Te,Le){return(0,s.Xf)(Te).pipe((0,O.R)(Le),(0,K.Q)(Le))}(Te,Le);if((0,oe.D)(Te))return Q(Te,Le);if((0,Me.T)(Te))return function(Te,Le){return new de.y(He=>{let Xe;return(0,$.f)(He,Le,()=>{Xe=Te[re.h](),(0,$.f)(He,Le,()=>{let ee,ce;try{({value:ee,done:ce}=Xe.next())}catch(fe){return void He.error(fe)}ce?He.complete():He.next(ee)},0,!0)}),()=>(0,le.m)(null==Xe?void 0:Xe.return)&&Xe.return()})}(Te,Le);if((0,se.L)(Te))return function(Te,Le){return Q((0,se.Q)(Te),Le)}(Te,Le)}throw(0,Y.z)(Te)}(Te,Le):(0,s.Xf)(Te)}},9985:(Ve,he,k)=>{"use strict";k.d(he,{Xf:()=>Re});var s=k(9162),K=k(1537),O=k(2442),ae=k(8305),ie=k(1073),de=k(9908),ne=k(3754),re=k(2317),le=k(7751),$=k(5044),H=k(5160),Q=k(4816);function Re(ge){if(ge instanceof ae.y)return ge;if(null!=ge){if((0,ie.c)(ge))return function(ge){return new ae.y(Be=>{const Te=ge[Q.L]();if((0,$.m)(Te.subscribe))return Te.subscribe(Be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ge);if((0,K.z)(ge))return function(ge){return new ae.y(Be=>{for(let Te=0;Te<ge.length&&!Be.closed;Te++)Be.next(ge[Te]);Be.complete()})}(ge);if((0,O.t)(ge))return function(ge){return new ae.y(Be=>{ge.then(Te=>{Be.closed||(Be.next(Te),Be.complete())},Te=>Be.error(Te)).then(null,H.h)})}(ge);if((0,de.D)(ge))return Y(ge);if((0,re.T)(ge))return function(ge){return new ae.y(Be=>{for(const Te of ge)if(Be.next(Te),Be.closed)return;Be.complete()})}(ge);if((0,le.L)(ge))return function(ge){return Y((0,le.Q)(ge))}(ge)}throw(0,ne.z)(ge)}function Y(ge){return new ae.y(Be=>{(function(ge,Be){var Te,Le,He,Xe;return(0,s.mG)(this,void 0,void 0,function*(){try{for(Te=(0,s.KL)(ge);!(Le=yield Te.next()).done;)if(Be.next(Le.value),Be.closed)return}catch(ee){He={error:ee}}finally{try{Le&&!Le.done&&(Xe=Te.return)&&(yield Xe.call(Te))}finally{if(He)throw He.error}}Be.complete()})})(ge,Be).catch(Te=>Be.error(Te))})}},3719:(Ve,he,k)=>{"use strict";k.d(he,{T:()=>de});var s=k(5373),K=k(9985),O=k(5583),ae=k(7613),ie=k(5947);function de(...ne){const re=(0,ae.yG)(ne),le=(0,ae._6)(ne,1/0),$=ne;return $.length?1===$.length?(0,K.Xf)($[0]):(0,s.J)(le)((0,ie.D)($,re)):O.E}},8889:(Ve,he,k)=>{"use strict";k.d(he,{Q:()=>K});var s=k(584);class K extends s.Lv{constructor(ae,ie,de,ne,re){super(ae),this.onFinalize=re,this._next=ie?function(le){try{ie(le)}catch($){ae.error($)}}:super._next,this._error=ne?function(le){try{ne(le)}catch($){ae.error($)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(le){ae.error(le)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;const{closed:ie}=this;super.unsubscribe(),!ie&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}},4753:(Ve,he,k)=>{"use strict";k.d(he,{U:()=>O});var s=k(9947),K=k(8889);function O(ae,ie){return(0,s.e)((de,ne)=>{let re=0;de.subscribe(new K.Q(ne,le=>{ne.next(ae.call(ie,le,re++))}))})}},5373:(Ve,he,k)=>{"use strict";k.d(he,{J:()=>O});var s=k(5724),K=k(4623);function O(ae=1/0){return(0,s.z)(K.y,ae)}},5724:(Ve,he,k)=>{"use strict";k.d(he,{z:()=>re});var s=k(4753),K=k(9985),O=k(9947),ie=(k(8395),k(8889)),ne=k(5044);function re(le,$,H=1/0){return(0,ne.m)($)?re((Q,Re)=>(0,s.U)((we,xe)=>$(Q,we,Re,xe))((0,K.Xf)(le(Q,Re))),H):("number"==typeof $&&(H=$),(0,O.e)((Q,Re)=>function(le,$,H,Q,Re,we,xe,Me){const oe=[];let Y=0,se=0,be=!1;const ge=()=>{be&&!oe.length&&!Y&&$.complete()},Be=Le=>Y<Q?Te(Le):oe.push(Le),Te=Le=>{Y++;let He=!1;(0,K.Xf)(H(Le,se++)).subscribe(new ie.Q($,Xe=>{$.next(Xe)},()=>{He=!0},void 0,()=>{if(He)try{for(Y--;oe.length&&Y<Q;){const Xe=oe.shift();Te(Xe)}ge()}catch(Xe){$.error(Xe)}}))};return le.subscribe(new ie.Q($,Be,()=>{be=!0,ge()})),()=>{}}(Q,Re,le,H)))}},4763:(Ve,he,k)=>{"use strict";k.d(he,{Q:()=>ae});var s=k(8395),K=k(9947),O=k(8889);function ae(ie,de=0){return(0,K.e)((ne,re)=>{ne.subscribe(new O.Q(re,le=>(0,s.f)(re,ie,()=>re.next(le),de),()=>(0,s.f)(re,ie,()=>re.complete(),de),le=>(0,s.f)(re,ie,()=>re.error(le),de)))})}},3174:(Ve,he,k)=>{"use strict";k.d(he,{B:()=>de});var s=k(5947),K=k(9468),O=k(273),ae=k(584),ie=k(9947);function de(re={}){const{connector:le=(()=>new O.x),resetOnError:$=!0,resetOnComplete:H=!0,resetOnRefCountZero:Q=!0}=re;return Re=>{let we=null,xe=null,Me=null,oe=0,Y=!1,se=!1;const be=()=>{null==xe||xe.unsubscribe(),xe=null},ge=()=>{be(),we=Me=null,Y=se=!1},Be=()=>{const Te=we;ge(),null==Te||Te.unsubscribe()};return(0,ie.e)((Te,Le)=>{oe++,!se&&!Y&&be();const He=Me=null!=Me?Me:le();Le.add(()=>{oe--,0===oe&&!se&&!Y&&(xe=ne(Be,Q))}),He.subscribe(Le),we||(we=new ae.Hp({next:Xe=>He.next(Xe),error:Xe=>{se=!0,be(),xe=ne(ge,$,Xe),He.error(Xe)},complete:()=>{Y=!0,be(),xe=ne(ge,H),He.complete()}}),(0,s.D)(Te).subscribe(we))})(Re)}}function ne(re,le,...$){return!0===le?(re(),null):!1===le?null:le(...$).pipe((0,K.q)(1)).subscribe(()=>re())}},5222:(Ve,he,k)=>{"use strict";k.d(he,{R:()=>K});var s=k(9947);function K(O,ae=0){return(0,s.e)((ie,de)=>{de.add(O.schedule(()=>ie.subscribe(de),ae))})}},9468:(Ve,he,k)=>{"use strict";k.d(he,{q:()=>ae});var s=k(5583),K=k(9947),O=k(8889);function ae(ie){return ie<=0?()=>s.E:(0,K.e)((de,ne)=>{let re=0;de.subscribe(new O.Q(ne,le=>{++re<=ie&&(ne.next(le),ie<=re&&ne.complete())}))})}},7384:(Ve,he,k)=>{"use strict";k.d(he,{b:()=>ie});var s=k(5044),K=k(9947),O=k(8889),ae=k(4623);function ie(de,ne,re){const le=(0,s.m)(de)||ne||re?{next:de,error:ne,complete:re}:de;return le?(0,K.e)(($,H)=>{var Q;null===(Q=le.subscribe)||void 0===Q||Q.call(le);let Re=!0;$.subscribe(new O.Q(H,we=>{var xe;null===(xe=le.next)||void 0===xe||xe.call(le,we),H.next(we)},()=>{var we;Re=!1,null===(we=le.complete)||void 0===we||we.call(le),H.complete()},we=>{var xe;Re=!1,null===(xe=le.error)||void 0===xe||xe.call(le,we),H.error(we)},()=>{var we,xe;Re&&(null===(we=le.unsubscribe)||void 0===we||we.call(le)),null===(xe=le.finalize)||void 0===xe||xe.call(le)}))}):ae.y}},2869:(Ve,he,k)=>{"use strict";k.d(he,{o:()=>ie});var s=k(7908);class K extends s.w0{constructor(ne,re){super()}schedule(ne,re=0){return this}}const O={setInterval(...de){const{delegate:ne}=O;return((null==ne?void 0:ne.setInterval)||setInterval)(...de)},clearInterval(de){const{delegate:ne}=O;return((null==ne?void 0:ne.clearInterval)||clearInterval)(de)},delegate:void 0};var ae=k(3980);class ie extends K{constructor(ne,re){super(ne,re),this.scheduler=ne,this.work=re,this.pending=!1}schedule(ne,re=0){if(this.closed)return this;this.state=ne;const le=this.id,$=this.scheduler;return null!=le&&(this.id=this.recycleAsyncId($,le,re)),this.pending=!0,this.delay=re,this.id=this.id||this.requestAsyncId($,this.id,re),this}requestAsyncId(ne,re,le=0){return O.setInterval(ne.flush.bind(ne,this),le)}recycleAsyncId(ne,re,le=0){if(null!=le&&this.delay===le&&!1===this.pending)return re;O.clearInterval(re)}execute(ne,re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(ne,re);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,re){let $,le=!1;try{this.work(ne)}catch(H){le=!0,$=H||new Error("Scheduled action threw falsy error")}if(le)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:ne,scheduler:re}=this,{actions:le}=re;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(le,this),null!=ne&&(this.id=this.recycleAsyncId(re,ne,null)),this.delay=null,super.unsubscribe()}}}},8843:(Ve,he,k)=>{"use strict";k.d(he,{v:()=>O});var s=k(1733);class K{constructor(ie,de=K.now){this.schedulerActionCtor=ie,this.now=de}schedule(ie,de=0,ne){return new this.schedulerActionCtor(this,ie).schedule(ne,de)}}K.now=s.l.now;class O extends K{constructor(ie,de=K.now){super(ie,de),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ie){const{actions:de}=this;if(this._active)return void de.push(ie);let ne;this._active=!0;do{if(ne=ie.execute(ie.state,ie.delay))break}while(ie=de.shift());if(this._active=!1,ne){for(;ie=de.shift();)ie.unsubscribe();throw ne}}}},2210:(Ve,he,k)=>{"use strict";k.d(he,{z:()=>O,P:()=>ae});var s=k(2869);const O=new(k(8843).v)(s.o),ae=O},1733:(Ve,he,k)=>{"use strict";k.d(he,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},2496:(Ve,he,k)=>{"use strict";k.d(he,{z:()=>s});const s={setTimeout(...K){const{delegate:O}=s;return((null==O?void 0:O.setTimeout)||setTimeout)(...K)},clearTimeout(K){const{delegate:O}=s;return((null==O?void 0:O.clearTimeout)||clearTimeout)(K)},delegate:void 0}},5497:(Ve,he,k)=>{"use strict";k.d(he,{h:()=>K});const K="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},4816:(Ve,he,k)=>{"use strict";k.d(he,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},7613:(Ve,he,k)=>{"use strict";k.d(he,{jO:()=>ae,yG:()=>ie,_6:()=>de});var s=k(5044),K=k(7398);function O(ne){return ne[ne.length-1]}function ae(ne){return(0,s.m)(O(ne))?ne.pop():void 0}function ie(ne){return(0,K.K)(O(ne))?ne.pop():void 0}function de(ne,re){return"number"==typeof O(ne)?ne.pop():re}},3980:(Ve,he,k)=>{"use strict";function s(K,O){if(K){const ae=K.indexOf(O);0<=ae&&K.splice(ae,1)}}k.d(he,{P:()=>s})},4893:(Ve,he,k)=>{"use strict";function s(K){const ae=K(ie=>{Error.call(ie),ie.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}k.d(he,{d:()=>s})},8706:(Ve,he,k)=>{"use strict";k.d(he,{x:()=>O,O:()=>ae});var s=k(5367);let K=null;function O(ie){if(s.v.useDeprecatedSynchronousErrorHandling){const de=!K;if(de&&(K={errorThrown:!1,error:null}),ie(),de){const{errorThrown:ne,error:re}=K;if(K=null,ne)throw re}}else ie()}function ae(ie){s.v.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=ie)}},8395:(Ve,he,k)=>{"use strict";function s(K,O,ae,ie=0,de=!1){const ne=O.schedule(function(){ae(),de?K.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(K.add(ne),!de)return ne}k.d(he,{f:()=>s})},4623:(Ve,he,k)=>{"use strict";function s(K){return K}k.d(he,{y:()=>s})},1537:(Ve,he,k)=>{"use strict";k.d(he,{z:()=>s});const s=K=>K&&"number"==typeof K.length&&"function"!=typeof K},9908:(Ve,he,k)=>{"use strict";k.d(he,{D:()=>K});var s=k(5044);function K(O){return Symbol.asyncIterator&&(0,s.m)(null==O?void 0:O[Symbol.asyncIterator])}},5044:(Ve,he,k)=>{"use strict";function s(K){return"function"==typeof K}k.d(he,{m:()=>s})},1073:(Ve,he,k)=>{"use strict";k.d(he,{c:()=>O});var s=k(4816),K=k(5044);function O(ae){return(0,K.m)(ae[s.L])}},2317:(Ve,he,k)=>{"use strict";k.d(he,{T:()=>O});var s=k(5497),K=k(5044);function O(ae){return(0,K.m)(null==ae?void 0:ae[s.h])}},2442:(Ve,he,k)=>{"use strict";k.d(he,{t:()=>K});var s=k(5044);function K(O){return(0,s.m)(null==O?void 0:O.then)}},7751:(Ve,he,k)=>{"use strict";k.d(he,{Q:()=>O,L:()=>ae});var s=k(9162),K=k(5044);function O(ie){return(0,s.FC)(this,arguments,function*(){const ne=ie.getReader();try{for(;;){const{value:re,done:le}=yield(0,s.qq)(ne.read());if(le)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(re)}}finally{ne.releaseLock()}})}function ae(ie){return(0,K.m)(null==ie?void 0:ie.getReader)}},7398:(Ve,he,k)=>{"use strict";k.d(he,{K:()=>K});var s=k(5044);function K(O){return O&&(0,s.m)(O.schedule)}},9947:(Ve,he,k)=>{"use strict";k.d(he,{A:()=>K,e:()=>O});var s=k(5044);function K(ae){return(0,s.m)(null==ae?void 0:ae.lift)}function O(ae){return ie=>{if(K(ie))return ie.lift(function(de){try{return ae(de,this)}catch(ne){this.error(ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},6921:(Ve,he,k)=>{"use strict";function s(){}k.d(he,{Z:()=>s})},5160:(Ve,he,k)=>{"use strict";k.d(he,{h:()=>O});var s=k(5367),K=k(2496);function O(ae){K.z.setTimeout(()=>{const{onUnhandledError:ie}=s.v;if(!ie)throw ae;ie(ae)})}},3754:(Ve,he,k)=>{"use strict";function s(K){return new TypeError(`You provided ${null!==K&&"object"==typeof K?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(he,{z:()=>s})},8149:(Ve,he,k)=>{"use strict";var s=k(3668);let K=null;function O(){return K}const ne=new s.OlP("DocumentToken");let re=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Yz7({token:t,factory:function(){return(0,s.LFG)(H)},providedIn:"platform"}),t})();const $=new s.OlP("Location Initialized");let H=(()=>{class t extends re{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(e){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,a){Q()?this._history.pushState(e,i,a):this.location.hash=a}replaceState(e,i,a){Q()?this._history.replaceState(e,i,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(ne))},t.\u0275prov=s.Yz7({token:t,factory:function(){return new H((0,s.LFG)(ne))},providedIn:"platform"}),t})();function Q(){return!!window.history.pushState}function we(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function xe(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function Me(t){return t&&"?"!==t[0]?"?"+t:t}let oe=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Yz7({token:t,factory:function(){return function(t){const n=(0,s.LFG)(ne).location;return new be((0,s.LFG)(re),n&&n.origin||"")}()},providedIn:"root"}),t})();const se=new s.OlP("appBaseHref");let be=(()=>{class t extends oe{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return we(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Me(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${i}${a}`:i}pushState(e,i,a,c){const p=this.prepareExternalUrl(a+Me(c));this._platformLocation.pushState(e,i,p)}replaceState(e,i,a,c){const p=this.prepareExternalUrl(a+Me(c));this._platformLocation.replaceState(e,i,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,a;null==(a=(i=this._platformLocation).historyGo)||a.call(i,e)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(re),s.LFG(se,8))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})(),ge=(()=>{class t extends oe{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=we(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,a,c){let p=this.prepareExternalUrl(a+Me(c));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(e,i,p)}replaceState(e,i,a,c){let p=this.prepareExternalUrl(a+Me(c));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,a;null==(a=(i=this._platformLocation).historyGo)||a.call(i,e)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(re),s.LFG(se,8))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})(),Be=(()=>{class t{constructor(e,i){this._subject=new s.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const a=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=xe(He(a)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Me(i))}normalize(e){return t.stripTrailingSlash(function(t,n){return t&&n.startsWith(t)?n.substring(t.length):n}(this._baseHref,He(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",a=null){this._platformStrategy.pushState(a,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Me(i)),a)}replaceState(e,i="",a=null){this._platformStrategy.replaceState(a,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Me(i)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,a;null==(a=(i=this._platformStrategy).historyGo)||a.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(a=>a(e,i))}subscribe(e,i,a){return this._subject.subscribe({next:e,error:i,complete:a})}}return t.normalizeQueryParams=Me,t.joinWithSlash=we,t.stripTrailingSlash=xe,t.\u0275fac=function(e){return new(e||t)(s.LFG(oe),s.LFG(re))},t.\u0275prov=s.Yz7({token:t,factory:function(){return new Be((0,s.LFG)(oe),(0,s.LFG)(re))},providedIn:"root"}),t})();function He(t){return t.replace(/\/index.html$/,"")}var ce=(()=>((ce=ce||{})[ce.Zero=0]="Zero",ce[ce.One=1]="One",ce[ce.Two=2]="Two",ce[ce.Few=3]="Few",ce[ce.Many=4]="Many",ce[ce.Other=5]="Other",ce))();const dr=s.kL8;class Ai{}let Bt=(()=>{class t extends Ai{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(dr(i||this.locale)(e)){case ce.Zero:return"zero";case ce.One:return"one";case ce.Two:return"two";case ce.Few:return"few";case ce.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(s.soG))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})(),_n=(()=>{class t{constructor(e,i){this._viewContainer=e,this._context=new Ra,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Jr("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Jr("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.s_b),s.Y36(s.Rgc))},t.\u0275dir=s.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Ra{constructor(){this.$implicit=null,this.ngIf=null}}function Jr(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,s.AaK)(n)}'.`)}let ri=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({providers:[{provide:Ai,useClass:Bt}]}),t})();let bd=(()=>{class t{}return t.\u0275prov=(0,s.Yz7)({token:t,providedIn:"root",factory:()=>new Rs((0,s.LFG)(ne),window)}),t})();class Rs{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let a=i.currentNode;for(;a;){const c=a.shadowRoot;if(c){const p=c.getElementById(n)||c.querySelector(`[name="${n}"]`);if(p)return p}a=i.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),i=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(i-c[0],a-c[1])}attemptFocus(n){return n.focus(),this.document.activeElement===n}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=Do(this.window.history)||Do(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function Do(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class To extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new To,K||(K=t)}onAndCancel(n,e,i){return n.addEventListener(e,i,!1),()=>{n.removeEventListener(e,i,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=(gi=gi||document.querySelector("base"),gi?gi.getAttribute("href"):null);return null==e?null:function(t){Tn=Tn||document.createElement("a"),Tn.setAttribute("href",t);const n=Tn.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){gi=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const i=e.indexOf("="),[a,c]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(a.trim()===n)return decodeURIComponent(c)}return null}(document.cookie,n)}}let Tn,gi=null;const Io=new s.OlP("TRANSITION_ID"),Pt=[{provide:s.ip1,useFactory:function(t,n,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=O(),a=n.querySelectorAll(`style[ng-transition="${t}"]`);for(let c=0;c<a.length;c++)i.remove(a[c])})}},deps:[Io,ne,s.zs3],multi:!0}];class Nr{static init(){(0,s.VLi)(new Nr)}addToWindow(n){s.dqk.getAngularTestability=(i,a=!0)=>{const c=n.findTestabilityInTree(i,a);if(null==c)throw new Error("Could not find testability for element.");return c},s.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const a=s.dqk.getAllAngularTestabilities();let c=a.length,p=!1;const y=function(w){p=p||w,c--,0==c&&i(p)};a.forEach(function(w){w.whenStable(y)})})}findTestabilityInTree(n,e,i){if(null==e)return null;const a=n.getTestability(e);return null!=a?a:i?O().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null}}let xs=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})();const So=new s.OlP("EventManagerPlugins");let mi=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,a){return this._findPluginFor(i).addEventListener(e,i,a)}addGlobalEventListener(e,i,a){return this._findPluginFor(i).addGlobalEventListener(e,i,a)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const a=this._plugins;for(let c=0;c<a.length;c++){const p=a[c];if(p.supports(e))return this._eventNameToPlugin.set(e,p),p}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(So),s.LFG(s.R0b))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})();class ks{constructor(n){this._doc=n}addGlobalEventListener(n,e,i){const a=O().getGlobalEventTarget(this._doc,n);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,i)}}let Xr=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),i.add(a))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})(),We=(()=>{class t extends Xr{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,a){e.forEach(c=>{const p=this._doc.createElement("style");p.textContent=c,a.push(i.appendChild(p))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Pa),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,a)=>{this._addStylesToHost(e,a,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Pa))}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(ne))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})();function Pa(t){O().remove(t)}const Os={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ts=/%COMP%/g;function Mr(t,n,e){for(let i=0;i<n.length;i++){let a=n[i];Array.isArray(a)?Mr(t,a,e):(a=a.replace(ts,t),e.push(a))}return e}function nn(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&(n.preventDefault(),n.returnValue=!1)}}let eo=(()=>{class t{constructor(e,i,a){this.eventManager=e,this.sharedStylesHost=i,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new Kn(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let a=this.rendererByCompId.get(i.id);return a||(a=new Ll(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,a)),a.applyToHost(e),a}case 1:case s.ifc.ShadowDom:return new Bl(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const a=Mr(i.id,i.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(mi),s.LFG(We),s.LFG(s.AFp))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})();class Kn{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(Os[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){n.appendChild(e)}insertBefore(n,e,i){n&&n.insertBefore(e,i)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let i="string"==typeof n?document.querySelector(n):n;if(!i)throw new Error(`The selector "${n}" did not match any elements`);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,a){if(a){e=a+":"+e;const c=Os[a];c?n.setAttributeNS(c,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){const a=Os[i];a?n.removeAttributeNS(a,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,a){a&(s.JOm.DashCase|s.JOm.Important)?n.style.setProperty(e,i,a&s.JOm.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&s.JOm.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n[e]=i}setValue(n,e){n.nodeValue=e}listen(n,e,i){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,nn(i)):this.eventManager.addEventListener(n,e,nn(i))}}class Ll extends Kn{constructor(n,e,i,a){super(n),this.component=i;const c=Mr(a+"-"+i.id,i.styles,[]);e.addStyles(c),this.contentAttr="_ngcontent-%COMP%".replace(ts,a+"-"+i.id),this.hostAttr="_nghost-%COMP%".replace(ts,a+"-"+i.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,e){const i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}}class Bl extends Kn{constructor(n,e,i,a){super(n),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Mr(a.id,a.styles,[]);for(let p=0;p<c.length;p++){const y=document.createElement("style");y.textContent=c[p],this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let Ls=(()=>{class t extends ks{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,a){return e.addEventListener(i,a,!1),()=>this.removeEventListener(e,i,a)}removeEventListener(e,i,a){return e.removeEventListener(i,a)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(ne))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})();const Mo=["alt","control","meta","shift"],nr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Bs={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},to={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let gr=(()=>{class t extends ks{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,i,a){const c=t.parseEventName(i),p=t.eventCallback(c.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(e,c.domEventName,p))}static parseEventName(e){const i=e.toLowerCase().split("."),a=i.shift();if(0===i.length||"keydown"!==a&&"keyup"!==a)return null;const c=t._normalizeKey(i.pop());let p="";if(Mo.forEach(w=>{const A=i.indexOf(w);A>-1&&(i.splice(A,1),p+=w+".")}),p+=c,0!=i.length||0===c.length)return null;const y={};return y.domEventName=a,y.fullKey=p,y}static getEventFullKey(e){let i="",a=function(t){let n=t.key;if(null==n){if(n=t.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===t.location&&Bs.hasOwnProperty(n)&&(n=Bs[n]))}return nr[n]||n}(e);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Mo.forEach(c=>{c!=a&&to[c](e)&&(i+=c+".")}),i+=a,i}static eventCallback(e,i,a){return c=>{t.getEventFullKey(c)===e&&a.runGuarded(()=>i(c))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(ne))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})();const ns=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:"browser"},{provide:s.g9A,useValue:function(){To.makeCurrent(),Nr.init()},multi:!0},{provide:ne,useFactory:function(){return(0,s.RDi)(document),document},deps:[]}]),Ua=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function(){return new s.qLn},deps:[]},{provide:So,useClass:Ls,multi:!0,deps:[ne,s.R0b,s.Lbi]},{provide:So,useClass:gr,multi:!0,deps:[ne]},{provide:eo,useClass:eo,deps:[mi,We,s.AFp]},{provide:s.FYo,useExisting:eo},{provide:Xr,useExisting:We},{provide:We,useClass:We,deps:[ne]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b]},{provide:mi,useClass:mi,deps:[So,s.R0b]},{provide:class{},useClass:xs,deps:[]}];let js=(()=>{class t{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:s.AFp,useValue:e.appId},{provide:Io,useExisting:s.AFp},Pt]}}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(t,12))},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({providers:Ua,imports:[ri,s.hGG]}),t})();"undefined"!=typeof window&&window;let Ro=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Yz7({token:t,factory:function(e){let i=null;return i=e?new(e||t):s.LFG(Td),i},providedIn:"root"}),t})(),Td=(()=>{class t extends Ro{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case s.q3G.NONE:return i;case s.q3G.HTML:return(0,s.qzn)(i,"HTML")?(0,s.z3N)(i):(0,s.EiD)(this._doc,String(i)).toString();case s.q3G.STYLE:return(0,s.qzn)(i,"Style")?(0,s.z3N)(i):i;case s.q3G.SCRIPT:if((0,s.qzn)(i,"Script"))return(0,s.z3N)(i);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.yhl)(i),(0,s.qzn)(i,"URL")?(0,s.z3N)(i):(0,s.mCW)(String(i));case s.q3G.RESOURCE_URL:if((0,s.qzn)(i,"ResourceURL"))return(0,s.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(ne))},t.\u0275prov=s.Yz7({token:t,factory:function(e){let i=null;return i=e?new e:function(t){return new Td(t.get(ne))}(s.LFG(s.zs3)),i},providedIn:"root"}),t})();var vn=k(5947),Rr=k(7613);function je(...t){const n=(0,Rr.yG)(t);return(0,vn.D)(t,n)}var Wt=k(273);class xn extends Wt.x{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:i}=this;if(n)throw e;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}}var kn=k(8305);const{isArray:rs}=Array,{getPrototypeOf:sf,prototype:Js,keys:za}=Object;function xo(t){if(1===t.length){const n=t[0];if(rs(n))return{args:n,keys:null};if(function(t){return t&&"object"==typeof t&&sf(t)===Js}(n)){const e=za(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}var mr=k(4623),rt=k(4753);const{isArray:Id}=Array;function ko(t){return(0,rt.U)(n=>function(t,n){return Id(n)?t(...n):t(n)}(t,n))}function os(t,n){return t.reduce((e,i,a)=>(e[i]=n[a],e),{})}var Kt=k(8889),Za=k(8395);function rr(t,n,e){t?(0,Za.f)(e,t,n):n()}const ss=(0,k(4893).d)(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});var Oo=k(5373);function Qs(...t){return(0,Oo.J)(1)((0,vn.D)(t,(0,Rr.yG)(t)))}var on=k(9985);function oo(t){return new kn.y(n=>{(0,on.Xf)(t()).subscribe(n)})}var Po=k(5583),Fo=k(7908),Hn=k(9947);function en(){return(0,Hn.e)((t,n)=>{let e=null;t._refCount++;const i=new Kt.Q(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const a=t._connection,c=e;e=null,a&&(!c||a===c)&&a.unsubscribe(),n.unsubscribe()});t.subscribe(i),i.closed||(e=t.connect())})}class Ya extends kn.y{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Hn.A)(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,null==n||n.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Fo.w0;const e=this.getSubject();n.add(this.source.subscribe(new Kt.Q(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Fo.w0.EMPTY)}return n}refCount(){return en()(this)}}function ln(t,n){return(0,Hn.e)((e,i)=>{let a=null,c=0,p=!1;const y=()=>p&&!a&&i.complete();e.subscribe(new Kt.Q(i,w=>{null==a||a.unsubscribe();let A=0;const x=c++;(0,on.Xf)(t(w,x)).subscribe(a=new Kt.Q(i,R=>i.next(n?n(w,R,x,A++):R),()=>{a=null,y()}))},()=>{p=!0,y()}))})}var bn=k(9468);function so(t,n,e,i,a){return(c,p)=>{let y=e,w=n,A=0;c.subscribe(new Kt.Q(p,x=>{const R=A++;w=y?t(w,x,R):(y=!0,x),i&&p.next(w)},a&&(()=>{y&&p.next(w),p.complete()})))}}function xr(t,n){return(0,Hn.e)(so(t,n,arguments.length>=2,!0))}function Ht(t,n){return(0,Hn.e)((e,i)=>{let a=0;e.subscribe(new Kt.Q(i,c=>t.call(n,c,a++)&&i.next(c)))})}function _r(t){return(0,Hn.e)((n,e)=>{let c,i=null,a=!1;i=n.subscribe(new Kt.Q(e,void 0,void 0,p=>{c=(0,on.Xf)(t(p,_r(t)(n))),i?(i.unsubscribe(),i=null,c.subscribe(e)):a=!0})),a&&(i.unsubscribe(),i=null,c.subscribe(e))})}var Ft=k(5724),ao=k(5044);function kr(t,n){return(0,ao.m)(n)?(0,Ft.z)(t,n,1):(0,Ft.z)(t,1)}function zt(t){return t<=0?()=>Po.E:(0,Hn.e)((n,e)=>{let i=[];n.subscribe(new Kt.Q(e,a=>{i.push(a),t<i.length&&i.shift()},()=>{for(const a of i)e.next(a);e.complete()},void 0,()=>{i=null}))})}function qa(t=Sd){return(0,Hn.e)((n,e)=>{let i=!1;n.subscribe(new Kt.Q(e,a=>{i=!0,e.next(a)},()=>i?e.complete():e.error(t())))})}function Sd(){return new ss}function Nd(t){return(0,Hn.e)((n,e)=>{let i=!1;n.subscribe(new Kt.Q(e,a=>{i=!0,e.next(a)},()=>{i||e.next(t),e.complete()}))})}function Xs(t,n){const e=arguments.length>=2;return i=>i.pipe(t?Ht((a,c)=>t(a,c,i)):mr.y,(0,bn.q)(1),e?Nd(n):qa(()=>new ss))}var Ln=k(7384);class _i{constructor(n,e){this.id=n,this.url=e}}class qc extends _i{constructor(n,e,i="imperative",a=null){super(n,e),this.navigationTrigger=i,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class hn extends _i{constructor(n,e,i){super(n,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class lo extends _i{constructor(n,e,i){super(n,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ea extends _i{constructor(n,e,i){super(n,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class af extends _i{constructor(n,e,i,a){super(n,e),this.urlAfterRedirects=i,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rd extends _i{constructor(n,e,i,a){super(n,e),this.urlAfterRedirects=i,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Si extends _i{constructor(n,e,i,a,c){super(n,e),this.urlAfterRedirects=i,this.state=a,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yr extends _i{constructor(n,e,i,a){super(n,e),this.urlAfterRedirects=i,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jl extends _i{constructor(n,e,i,a){super(n,e),this.urlAfterRedirects=i,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class as{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ls{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Jc{constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ta{constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gl{constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xd{constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wl{constructor(n,e,i){this.routerEvent=n,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ut="primary";class oi{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function vr(t){return new oi(t)}const cs="ngNavigationCancelingError";function kd(t){const n=Error("NavigationCancelingError: "+t);return n[cs]=!0,n}function Kc(t,n,e){const i=e.path.split("/");if(i.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||i.length<t.length))return null;const a={};for(let c=0;c<i.length;c++){const p=i[c],y=t[c];if(p.startsWith(":"))a[p.substring(1)]=y;else if(p!==y.path)return null}return{consumed:t.slice(0,i.length),posParams:a}}function si(t,n){const e=t?Object.keys(t):void 0,i=n?Object.keys(n):void 0;if(!e||!i||e.length!=i.length)return!1;let a;for(let c=0;c<e.length;c++)if(a=e[c],!zl(t[a],n[a]))return!1;return!0}function zl(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),i=[...n].sort();return e.every((a,c)=>i[c]===a)}return t===n}function Ja(t){return Array.prototype.concat.apply([],t)}function Zl(t){return t.length>0?t[t.length-1]:null}function In(t,n){for(const e in t)t.hasOwnProperty(e)&&n(t[e],e)}function $n(t){return(0,s.CqO)(t)?t:(0,s.QGY)(t)?(0,vn.D)(Promise.resolve(t)):je(t)}const Qa={exact:function Yl(t,n,e){if(!Fe(t.segments,n.segments)||!L(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!t.children[i]||!Yl(t.children[i],n.children[i],e))return!1;return!0},subset:E},Or={exact:function(t,n){return si(t,n)},subset:function(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>zl(t[e],n[e]))},ignored:()=>!0};function Xa(t,n,e){return Qa[e.paths](t.root,n.root,e.matrixParams)&&Or[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function E(t,n,e){return M(t,n,n.segments,e)}function M(t,n,e,i){if(t.segments.length>e.length){const a=t.segments.slice(0,e.length);return!(!Fe(a,e)||n.hasChildren()||!L(a,e,i))}if(t.segments.length===e.length){if(!Fe(t.segments,e)||!L(t.segments,e,i))return!1;for(const a in n.children)if(!t.children[a]||!E(t.children[a],n.children[a],i))return!1;return!0}{const a=e.slice(0,t.segments.length),c=e.slice(t.segments.length);return!!(Fe(t.segments,a)&&L(t.segments,a,i)&&t.children[ut])&&M(t.children[ut],n,c,i)}}function L(t,n,e){return n.every((i,a)=>Or[e](t[a].parameters,i.parameters))}class Z{constructor(n,e,i){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vr(this.queryParams)),this._queryParamMap}toString(){return vi.serialize(this)}}class z{constructor(n,e){this.segments=n,this.children=e,this.parent=null,In(e,(i,a)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sn(this)}}class De{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=vr(this.parameters)),this._parameterMap}toString(){return ql(this)}}function Fe(t,n){return t.length===n.length&&t.every((e,i)=>e.path===n[i].path)}class Lt{}class yi{parse(n){const e=new iy(n);return new Z(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${Qn(n.root,!0)}`,i=function(t){const n=Object.keys(t).map(e=>{const i=t[e];return Array.isArray(i)?i.map(a=>`${Ni(e)}=${Ni(a)}`).join("&"):`${Ni(e)}=${Ni(i)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);var t;return`${e}${i}${"string"==typeof n.fragment?`#${t=n.fragment,encodeURI(t)}`:""}`}}const vi=new yi;function sn(t){return t.segments.map(n=>ql(n)).join("/")}function Qn(t,n){if(!t.hasChildren())return sn(t);if(n){const e=t.children[ut]?Qn(t.children[ut],!1):"",i=[];return In(t.children,(a,c)=>{c!==ut&&i.push(`${c}:${Qn(a,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function(t,n){let e=[];return In(t.children,(i,a)=>{a===ut&&(e=e.concat(n(i,a)))}),In(t.children,(i,a)=>{a!==ut&&(e=e.concat(n(i,a)))}),e}(t,(i,a)=>a===ut?[Qn(t.children[ut],!1)]:[`${a}:${Qn(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ut]?`${sn(t)}/${e[0]}`:`${sn(t)}/(${e.join("//")})`}}function Lo(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ni(t){return Lo(t).replace(/%3B/gi,";")}function Pr(t){return Lo(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bo(t){return decodeURIComponent(t)}function na(t){return Bo(t.replace(/\+/g,"%20"))}function ql(t){return`${Pr(t.path)}${function(t){return Object.keys(t).map(n=>`;${Pr(n)}=${Pr(t[n])}`).join("")}(t.parameters)}`}const ia=/^[^\/()?;=#]+/;function Vo(t){const n=t.match(ia);return n?n[0]:""}const jp=/^[^=?&#]+/,Qc=/^[^&#]+/;class iy{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new z([],{}):new z([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[ut]=new z(n,e)),i}parseSegment(){const n=Vo(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new De(Bo(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=Vo(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=Vo(this.remaining);a&&(i=a,this.capture(i))}n[Bo(e)]=Bo(i)}parseQueryParam(n){const e=function(t){const n=t.match(jp);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const p=function(t){const n=t.match(Qc);return n?n[0]:""}(this.remaining);p&&(i=p,this.capture(i))}const a=na(e),c=na(i);if(n.hasOwnProperty(a)){let p=n[a];Array.isArray(p)||(p=[p],n[a]=p),p.push(c)}else n[a]=c}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Vo(this.remaining),a=this.remaining[i.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let c;i.indexOf(":")>-1?(c=i.substr(0,i.indexOf(":")),this.capture(c),this.capture(":")):n&&(c=ut);const p=this.parseChildren();e[c]=1===Object.keys(p).length?p[ut]:new z([],p),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class Xc{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=Bd(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){const e=Bd(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=Vd(n,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==n)}pathFromRoot(n){return Vd(n,this._root).map(e=>e.value)}}function Bd(t,n){if(t===n.value)return n;for(const e of n.children){const i=Bd(t,e);if(i)return i}return null}function Vd(t,n){if(t===n.value)return[n];for(const e of n.children){const i=Vd(t,e);if(i.length)return i.unshift(n),i}return[]}class Ui{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function us(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class Uo extends Xc{constructor(n,e){super(n),this.snapshot=e,Kl(this,n)}toString(){return this.snapshot.toString()}}function Jl(t,n){const e=function(t,n){const p=new tl([],{},{},"",{},ut,n,null,t.root,-1,{});return new eu("",new Ui(p,[]))}(t,n),i=new xn([new De("",{})]),a=new xn({}),c=new xn({}),p=new xn({}),y=new xn(""),w=new el(i,a,p,y,c,ut,n,e.root);return w.snapshot=e.root,new Uo(new Ui(w,[]),e)}class el{constructor(n,e,i,a,c,p,y,w){this.url=n,this.params=e,this.queryParams=i,this.fragment=a,this.data=c,this.outlet=p,this.component=y,this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,rt.U)(n=>vr(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,rt.U)(n=>vr(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ra(t,n="emptyOnly"){const e=t.pathFromRoot;let i=0;if("always"!==n)for(i=e.length-1;i>=1;){const a=e[i],c=e[i-1];if(a.routeConfig&&""===a.routeConfig.path)i--;else{if(c.component)break;i--}}return function(t){return t.reduce((n,e)=>({params:at(at({},n.params),e.params),data:at(at({},n.data),e.data),resolve:at(at({},n.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class tl{constructor(n,e,i,a,c,p,y,w,A,x,R){this.url=n,this.params=e,this.queryParams=i,this.fragment=a,this.data=c,this.outlet=p,this.component=y,this.routeConfig=w,this._urlSegment=A,this._lastPathIndex=x,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=vr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class eu extends Xc{constructor(n,e){super(e),this.url=n,Kl(this,e)}toString(){return ds(this._root)}}function Kl(t,n){n.value._routerState=t,n.children.forEach(e=>Kl(t,e))}function ds(t){const n=t.children.length>0?` { ${t.children.map(ds).join(", ")} } `:"";return`${t.value}${n}`}function tu(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,si(n.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),n.fragment!==e.fragment&&t.fragment.next(e.fragment),si(n.params,e.params)||t.params.next(e.params),function(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!si(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.url.next(e.url),si(n.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Ql(t,n){const e=si(t.params,n.params)&&function(t,n){return Fe(t,n)&&t.every((e,i)=>si(e.parameters,n[i].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||Ql(t.parent,n.parent))}function Xl(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=n.value;const a=function(t,n,e){return n.children.map(i=>{for(const a of e.children)if(t.shouldReuseRoute(i.value,a.value.snapshot))return Xl(t,i,a);return Xl(t,i)})}(t,n,e);return new Ui(i,a)}{if(t.shouldAttach(n.value)){const c=t.retrieve(n.value);if(null!==c){const p=c.route;return p.value._futureSnapshot=n.value,p.children=n.children.map(y=>Xl(t,y)),p}}const i=function(t){return new el(new xn(t.url),new xn(t.params),new xn(t.queryParams),new xn(t.fragment),new xn(t.data),t.outlet,t.component,t)}(n.value),a=n.children.map(c=>Xl(t,c));return new Ui(i,a)}}function ec(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function il(t){return"object"==typeof t&&null!=t&&t.outlets}function $d(t,n,e,i,a){let c={};return i&&In(i,(p,y)=>{c[y]=Array.isArray(p)?p.map(w=>`${w}`):`${p}`}),new Z(e.root===t?n:tc(e.root,t,n),c,a)}function tc(t,n,e){const i={};return In(t.children,(a,c)=>{i[c]=a===n?e:tc(a,n,e)}),new z(t.segments,i)}class lf{constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&ec(i[0]))throw new Error("Root segment cannot have matrix parameters");const a=i.find(il);if(a&&a!==Zl(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class nu{constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}}function cf(t,n,e){if(t||(t=new z([],{})),0===t.segments.length&&t.hasChildren())return jd(t,n,e);const i=function(t,n,e){let i=0,a=n;const c={match:!1,pathIndex:0,commandIndex:0};for(;a<t.segments.length;){if(i>=e.length)return c;const p=t.segments[a],y=e[i];if(il(y))break;const w=`${y}`,A=i<e.length-1?e[i+1]:null;if(a>0&&void 0===w)break;if(w&&A&&"object"==typeof A&&void 0===A.outlets){if(!rl(w,A,p))return c;i+=2}else{if(!rl(w,{},p))return c;i++}a++}return{match:!0,pathIndex:a,commandIndex:i}}(t,n,e),a=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const c=new z(t.segments.slice(0,i.pathIndex),{});return c.children[ut]=new z(t.segments.slice(i.pathIndex),t.children),jd(c,0,a)}return i.match&&0===a.length?new z(t.segments,{}):i.match&&!t.hasChildren()?oa(t,n,e):i.match?jd(t,0,a):oa(t,n,e)}function jd(t,n,e){if(0===e.length)return new z(t.segments,{});{const i=function(t){return il(t[0])?t[0].outlets:{[ut]:t}}(e),a={};return In(i,(c,p)=>{"string"==typeof c&&(c=[c]),null!==c&&(a[p]=cf(t.children[p],n,c))}),In(t.children,(c,p)=>{void 0===i[p]&&(a[p]=c)}),new z(t.segments,a)}}function oa(t,n,e){const i=t.segments.slice(0,n);let a=0;for(;a<e.length;){const c=e[a];if(il(c)){const w=uf(c.outlets);return new z(i,w)}if(0===a&&ec(e[0])){i.push(new De(t.segments[n].path,Lr(e[0]))),a++;continue}const p=il(c)?c.outlets[ut]:`${c}`,y=a<e.length-1?e[a+1]:null;p&&y&&ec(y)?(i.push(new De(p,Lr(y))),a+=2):(i.push(new De(p,{})),a++)}return new z(i,{})}function uf(t){const n={};return In(t,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(n[i]=oa(new z([],{}),0,e))}),n}function Lr(t){const n={};return In(t,(e,i)=>n[i]=`${e}`),n}function rl(t,n,e){return t==e.path&&si(n,e.parameters)}class Wd{constructor(n,e,i,a){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=a}activate(n){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),tu(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){const a=us(e);n.children.forEach(c=>{const p=c.value.outlet;this.deactivateRoutes(c,a[p],i),delete a[p]}),In(a,(c,p)=>{this.deactivateRouteAndItsChildren(c,i)})}deactivateRoutes(n,e,i){const a=n.value,c=e?e.value:null;if(a===c)if(a.component){const p=i.getContext(a.outlet);p&&this.deactivateChildRoutes(n,e,p.children)}else this.deactivateChildRoutes(n,e,i);else c&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const i=e.getContext(n.value.outlet),a=i&&n.value.component?i.children:e,c=us(n);for(const p of Object.keys(c))this.deactivateRouteAndItsChildren(c[p],a);if(i&&i.outlet){const p=i.outlet.detach(),y=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:p,route:n,contexts:y})}}deactivateRouteAndOutlet(n,e){const i=e.getContext(n.value.outlet),a=i&&n.value.component?i.children:e,c=us(n);for(const p of Object.keys(c))this.deactivateRouteAndItsChildren(c[p],a);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(n,e,i){const a=us(e);n.children.forEach(c=>{this.activateRoutes(c,a[c.value.outlet],i),this.forwardEvent(new xd(c.value.snapshot))}),n.children.length&&this.forwardEvent(new ta(n.value.snapshot))}activateRoutes(n,e,i){const a=n.value,c=e?e.value:null;if(tu(a),a===c)if(a.component){const p=i.getOrCreateContext(a.outlet);this.activateChildRoutes(n,e,p.children)}else this.activateChildRoutes(n,e,i);else if(a.component){const p=i.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const y=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),p.children.onOutletReAttached(y.contexts),p.attachRef=y.componentRef,p.route=y.route.value,p.outlet&&p.outlet.attach(y.componentRef,y.route.value),tu(y.route.value),this.activateChildRoutes(n,null,p.children)}else{const y=function(t){for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(a.snapshot),w=y?y.module.componentFactoryResolver:null;p.attachRef=null,p.route=a,p.resolver=w,p.outlet&&p.outlet.activateWith(a,w),this.activateChildRoutes(n,null,p.children)}}else this.activateChildRoutes(n,null,i)}}class ff{constructor(n,e){this.routes=n,this.module=e}}function sa(t){return"function"==typeof t}function Br(t){return t instanceof Z}const ol=Symbol("INITIAL_VALUE");function aa(){return ln(t=>function(...t){const n=(0,Rr.yG)(t),e=(0,Rr.jO)(t),{args:i,keys:a}=xo(t);if(0===i.length)return(0,vn.D)([],n);const c=new kn.y(function(t,n,e=mr.y){return i=>{rr(n,()=>{const{length:a}=t,c=new Array(a);let p=a,y=a;for(let w=0;w<a;w++)rr(n,()=>{const A=(0,vn.D)(t[w],n);let x=!1;A.subscribe(new Kt.Q(i,R=>{c[w]=R,x||(x=!0,y--),y||i.next(e(c.slice()))},()=>{--p||i.complete()}))},i)},i)}}(i,n,a?p=>os(a,p):mr.y));return e?c.pipe(ko(e)):c}(t.map(n=>n.pipe((0,bn.q)(1),function(...t){const n=(0,Rr.yG)(t);return(0,Hn.e)((e,i)=>{(n?Qs(t,e,n):Qs(t,e)).subscribe(i)})}(ol)))).pipe(xr((n,e)=>{let i=!1;return e.reduce((a,c,p)=>a!==ol?a:(c===ol&&(i=!0),i||!1!==c&&p!==e.length-1&&!Br(c)?a:c),n)},ol),Ht(n=>n!==ol),(0,rt.U)(n=>Br(n)?n:!0===n),(0,bn.q)(1)))}class Qp{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new sl,this.attachRef=null}}class sl{constructor(){this.contexts=new Map}onChildOutletCreated(n,e){const i=this.getOrCreateContext(n);i.outlet=e,this.contexts.set(n,i)}onChildOutletDestroyed(n){const e=this.getContext(n);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let e=this.getContext(n);return e||(e=new Qp,this.contexts.set(n,e)),e}getContext(n){return this.contexts.get(n)||null}}let iu=(()=>{class t{constructor(e,i,a,c,p){this.parentContexts=e,this.location=i,this.resolver=a,this.changeDetector=p,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=c||ut,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const p=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),y=this.parentContexts.getOrCreateContext(this.name).children,w=new pf(e,y,this.location.injector);this.activated=this.location.createComponent(p,this.location.length,w),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(sl),s.Y36(s.s_b),s.Y36(s._Vd),s.$8M("name"),s.Y36(s.sBO))},t.\u0275dir=s.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class pf{constructor(n,e,i){this.route=n,this.childContexts=e,this.parent=i}get(n,e){return n===el?this.route:n===sl?this.childContexts:this.parent.get(n,e)}}let ic=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},directives:[iu],encapsulation:2}),t})();function Zd(t,n=""){for(let e=0;e<t.length;e++){const i=t[e];gf(i,la(n,i))}}function gf(t,n){t.children&&Zd(t.children,n)}function la(t,n){return n?t||n.path?t&&!n.path?`${t}/`:!t&&n.path?n.path:`${t}/${n.path}`:"":t}function wn(t){const n=t.children&&t.children.map(wn),e=n?Zi(at({},t),{children:n}):at({},t);return!e.component&&(n||e.loadChildren)&&e.outlet&&e.outlet!==ut&&(e.component=ic),e}function Cr(t){return t.outlet||ut}function ru(t,n){const e=t.filter(i=>Cr(i)===n);return e.push(...t.filter(i=>Cr(i)!==n)),e}const ou={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function hs(t,n,e){var y;if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?at({},ou):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const a=(n.matcher||Kc)(e,t,n);if(!a)return at({},ou);const c={};In(a.posParams,(w,A)=>{c[A]=w.path});const p=a.consumed.length>0?at(at({},c),a.consumed[a.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:a.consumed,lastChild:a.consumed.length,parameters:p,positionalParamSegments:null!=(y=a.posParams)?y:{}}}function su(t,n,e,i,a="corrected"){if(e.length>0&&function(t,n,e){return e.some(i=>rc(t,n,i)&&Cr(i)!==ut)}(t,e,i)){const p=new z(n,function(t,n,e,i){const a={};a[ut]=i,i._sourceSegment=t,i._segmentIndexShift=n.length;for(const c of e)if(""===c.path&&Cr(c)!==ut){const p=new z([],{});p._sourceSegment=t,p._segmentIndexShift=n.length,a[Cr(c)]=p}return a}(t,n,i,new z(e,t.children)));return p._sourceSegment=t,p._segmentIndexShift=n.length,{segmentGroup:p,slicedSegments:[]}}if(0===e.length&&function(t,n,e){return e.some(i=>rc(t,n,i))}(t,e,i)){const p=new z(t.segments,function(t,n,e,i,a,c){const p={};for(const y of i)if(rc(t,e,y)&&!a[Cr(y)]){const w=new z([],{});w._sourceSegment=t,w._segmentIndexShift="legacy"===c?t.segments.length:n.length,p[Cr(y)]=w}return at(at({},a),p)}(t,n,e,i,t.children,a));return p._sourceSegment=t,p._segmentIndexShift=n.length,{segmentGroup:p,slicedSegments:e}}const c=new z(t.segments,t.children);return c._sourceSegment=t,c._segmentIndexShift=n.length,{segmentGroup:c,slicedSegments:e}}function rc(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}function ng(t,n,e,i){return!!(Cr(t)===i||i!==ut&&rc(n,e,t))&&("**"===t.path||hs(n,t,e).matched)}function al(t,n,e){return 0===n.length&&!t.children[e]}class jn{constructor(n){this.segmentGroup=n||null}}class au{constructor(n){this.urlTree=n}}function oc(t){return new kn.y(n=>n.error(new jn(t)))}function lu(t){return new kn.y(n=>n.error(new au(t)))}function Xn(t){return new kn.y(n=>n.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Jd{constructor(n,e,i,a,c){this.configLoader=e,this.urlSerializer=i,this.urlTree=a,this.config=c,this.allowRedirects=!0,this.ngModule=n.get(s.h0i)}apply(){const n=su(this.urlTree.root,[],[],this.config).segmentGroup,e=new z(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,e,ut).pipe((0,rt.U)(c=>this.createUrlTree(cu(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(_r(c=>{if(c instanceof au)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof jn?this.noMatchError(c):c}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,ut).pipe((0,rt.U)(a=>this.createUrlTree(cu(a),n.queryParams,n.fragment))).pipe(_r(a=>{throw a instanceof jn?this.noMatchError(a):a}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,e,i){const a=n.segments.length>0?new z([],{[ut]:n}):n;return new Z(a,e,i)}expandSegmentGroup(n,e,i,a){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(n,e,i).pipe((0,rt.U)(c=>new z([],c))):this.expandSegment(n,i,e,i.segments,a,!0)}expandChildren(n,e,i){const a=[];for(const c of Object.keys(i.children))"primary"===c?a.unshift(c):a.push(c);return(0,vn.D)(a).pipe(kr(c=>{const p=i.children[c],y=ru(e,c);return this.expandSegmentGroup(n,y,p,c).pipe((0,rt.U)(w=>({segment:w,outlet:c})))}),xr((c,p)=>(c[p.outlet]=p.segment,c),{}),function(t,n){const e=arguments.length>=2;return i=>i.pipe(t?Ht((a,c)=>t(a,c,i)):mr.y,zt(1),e?Nd(n):qa(()=>new ss))}())}expandSegment(n,e,i,a,c,p){return(0,vn.D)(i).pipe(kr(y=>this.expandSegmentAgainstRoute(n,e,i,y,a,c,p).pipe(_r(A=>{if(A instanceof jn)return je(null);throw A}))),Xs(y=>!!y),_r((y,w)=>{if(y instanceof ss||"EmptyError"===y.name){if(al(e,a,c))return je(new z([],{}));throw new jn(e)}throw y}))}expandSegmentAgainstRoute(n,e,i,a,c,p,y){return ng(a,e,c,p)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(n,e,a,c,p):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,i,a,c,p):oc(e):oc(e)}expandSegmentAgainstRouteUsingRedirect(n,e,i,a,c,p){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,i,a,p):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,a,c,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,i,a){const c=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?lu(c):this.lineralizeSegments(i,c).pipe((0,Ft.z)(p=>{const y=new z(p,{});return this.expandSegment(n,y,e,p,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,a,c,p){const{matched:y,consumedSegments:w,lastChild:A,positionalParamSegments:x}=hs(e,a,c);if(!y)return oc(e);const R=this.applyRedirectCommands(w,a.redirectTo,x);return a.redirectTo.startsWith("/")?lu(R):this.lineralizeSegments(a,R).pipe((0,Ft.z)(V=>this.expandSegment(n,e,i,V.concat(c.slice(A)),p,!1)))}matchSegmentAgainstRoute(n,e,i,a,c){if("**"===i.path)return i.loadChildren?(i._loadedConfig?je(i._loadedConfig):this.configLoader.load(n.injector,i)).pipe((0,rt.U)(V=>(i._loadedConfig=V,new z(a,{})))):je(new z(a,{}));const{matched:p,consumedSegments:y,lastChild:w}=hs(e,i,a);if(!p)return oc(e);const A=a.slice(w);return this.getChildConfig(n,i,a).pipe((0,Ft.z)(R=>{const V=R.module,J=R.routes,{segmentGroup:ye,slicedSegments:Oe}=su(e,y,A,J),qe=new z(ye.segments,ye.children);if(0===Oe.length&&qe.hasChildren())return this.expandChildren(V,J,qe).pipe((0,rt.U)(Gt=>new z(y,Gt)));if(0===J.length&&0===Oe.length)return je(new z(y,{}));const Nt=Cr(i)===c;return this.expandSegment(V,qe,J,Oe,Nt?ut:c,!0).pipe((0,rt.U)(Bn=>new z(y.concat(Bn.segments),Bn.children)))}))}getChildConfig(n,e,i){return e.children?je(new ff(e.children,n)):e.loadChildren?void 0!==e._loadedConfig?je(e._loadedConfig):this.runCanLoadGuards(n.injector,e,i).pipe((0,Ft.z)(a=>{return a?this.configLoader.load(n.injector,e).pipe((0,rt.U)(c=>(e._loadedConfig=c,c))):(t=e,new kn.y(n=>n.error(kd(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))));var t})):je(new ff([],n))}runCanLoadGuards(n,e,i){const a=e.canLoad;return a&&0!==a.length?je(a.map(p=>{const y=n.get(p);let w;if((t=y)&&sa(t.canLoad))w=y.canLoad(e,i);else{if(!sa(y))throw new Error("Invalid CanLoad guard");w=y(e,i)}var t;return $n(w)})).pipe(aa(),(0,Ln.b)(p=>{if(!Br(p))return;const y=kd(`Redirecting to "${this.urlSerializer.serialize(p)}"`);throw y.url=p,y}),(0,rt.U)(p=>!0===p)):je(!0)}lineralizeSegments(n,e){let i=[],a=e.root;for(;;){if(i=i.concat(a.segments),0===a.numberOfChildren)return je(i);if(a.numberOfChildren>1||!a.children[ut])return Xn(n.redirectTo);a=a.children[ut]}}applyRedirectCommands(n,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),n,i)}applyRedirectCreatreUrlTree(n,e,i,a){const c=this.createSegmentGroup(n,e.root,i,a);return new Z(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const i={};return In(n,(a,c)=>{if("string"==typeof a&&a.startsWith(":")){const y=a.substring(1);i[c]=e[y]}else i[c]=a}),i}createSegmentGroup(n,e,i,a){const c=this.createSegments(n,e.segments,i,a);let p={};return In(e.children,(y,w)=>{p[w]=this.createSegmentGroup(n,y,i,a)}),new z(c,p)}createSegments(n,e,i,a){return e.map(c=>c.path.startsWith(":")?this.findPosParam(n,c,a):this.findOrReturn(c,i))}findPosParam(n,e,i){const a=i[e.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${n}'. Cannot find '${e.path}'.`);return a}findOrReturn(n,e){let i=0;for(const a of e){if(a.path===n.path)return e.splice(i),a;i++}return n}}function cu(t){const n={};for(const i of Object.keys(t.children)){const c=cu(t.children[i]);(c.segments.length>0||c.hasChildren())&&(n[i]=c)}return function(t){if(1===t.numberOfChildren&&t.children[ut]){const n=t.children[ut];return new z(t.segments.concat(n.segments),n.children)}return t}(new z(t.segments,n))}class ll{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class uu{constructor(n,e){this.component=n,this.route=e}}function mf(t,n,e){const i=t._root;return ca(i,n?n._root:null,e,[i.value])}function ac(t,n,e){const i=function(t){if(!t)return null;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(n);return(i?i.module.injector:e).get(t)}function ca(t,n,e,i,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=us(n);return t.children.forEach(p=>{(function(t,n,e,i,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=t.value,p=n?n.value:null,y=e?e.getContext(t.value.outlet):null;if(p&&c.routeConfig===p.routeConfig){const w=function(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!Fe(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Fe(t.url,n.url)||!si(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ql(t,n)||!si(t.queryParams,n.queryParams);default:return!Ql(t,n)}}(p,c,c.routeConfig.runGuardsAndResolvers);w?a.canActivateChecks.push(new ll(i)):(c.data=p.data,c._resolvedData=p._resolvedData),ca(t,n,c.component?y?y.children:null:e,i,a),w&&y&&y.outlet&&y.outlet.isActivated&&a.canDeactivateChecks.push(new uu(y.outlet.component,p))}else p&&ua(n,y,a),a.canActivateChecks.push(new ll(i)),ca(t,null,c.component?y?y.children:null:e,i,a)})(p,c[p.value.outlet],e,i.concat([p.value]),a),delete c[p.value.outlet]}),In(c,(p,y)=>ua(p,e.getContext(y),a)),a}function ua(t,n,e){const i=us(t),a=t.value;In(i,(c,p)=>{ua(c,a.component?n?n.children.getContext(p):null:n,e)}),e.canDeactivateChecks.push(new uu(a.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,a))}class eh{}function du(t){return new kn.y(n=>n.error(t))}class th{constructor(n,e,i,a,c,p){this.rootComponentType=n,this.config=e,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=p}recognize(){const n=su(this.urlTree.root,[],[],this.config.filter(p=>void 0===p.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,n,ut);if(null===e)return null;const i=new tl([],Object.freeze({}),Object.freeze(at({},this.urlTree.queryParams)),this.urlTree.fragment,{},ut,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Ui(i,e),c=new eu(this.url,a);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(n){const e=n.value,i=ra(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),n.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(n,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(n,e):this.processSegment(n,e,e.segments,i)}processChildren(n,e){const i=[];for(const c of Object.keys(e.children)){const p=e.children[c],y=ru(n,c),w=this.processSegmentGroup(y,p,c);if(null===w)return null;i.push(...w)}const a=vf(i);return a.sort((n,e)=>n.value.outlet===ut?-1:e.value.outlet===ut?1:n.value.outlet.localeCompare(e.value.outlet)),a}processSegment(n,e,i,a){for(const c of n){const p=this.processSegmentAgainstRoute(c,e,i,a);if(null!==p)return p}return al(e,i,a)?[]:null}processSegmentAgainstRoute(n,e,i,a){if(n.redirectTo||!ng(n,e,i,a))return null;let c,p=[],y=[];if("**"===n.path){const J=i.length>0?Zl(i).parameters:{};c=new tl(i,J,Object.freeze(at({},this.urlTree.queryParams)),this.urlTree.fragment,Dr(n),Cr(n),n.component,n,hu(e),da(e)+i.length,hg(n))}else{const J=hs(e,n,i);if(!J.matched)return null;p=J.consumedSegments,y=i.slice(J.lastChild),c=new tl(p,J.parameters,Object.freeze(at({},this.urlTree.queryParams)),this.urlTree.fragment,Dr(n),Cr(n),n.component,n,hu(e),da(e)+p.length,hg(n))}const w=(t=n).children?t.children:t.loadChildren?t._loadedConfig.routes:[],{segmentGroup:A,slicedSegments:x}=su(e,p,y,w.filter(J=>void 0===J.redirectTo),this.relativeLinkResolution);var t;if(0===x.length&&A.hasChildren()){const J=this.processChildren(w,A);return null===J?null:[new Ui(c,J)]}if(0===w.length&&0===x.length)return[new Ui(c,[])];const R=Cr(n)===a,V=this.processSegment(w,A,x,R?ut:a);return null===V?null:[new Ui(c,V)]}}function nh(t){const n=t.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function vf(t){const n=[],e=new Set;for(const i of t){if(!nh(i)){n.push(i);continue}const a=n.find(c=>i.value.routeConfig===c.value.routeConfig);void 0!==a?(a.children.push(...i.children),e.add(a)):n.push(i)}for(const i of e){const a=vf(i.children);n.push(new Ui(i.value,a))}return n.filter(i=>!e.has(i))}function hu(t){let n=t;for(;n._sourceSegment;)n=n._sourceSegment;return n}function da(t){let n=t,e=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,e+=n._segmentIndexShift?n._segmentIndexShift:0;return e-1}function Dr(t){return t.data||{}}function hg(t){return t.resolve||{}}function cl(t){return ln(n=>{const e=t(n);return e?(0,vn.D)(e).pipe((0,rt.U)(()=>n)):je(n)})}class fa extends class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}{}const pu=new s.OlP("ROUTES");class Vr{constructor(n,e,i,a){this.injector=n,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=a}load(n,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const a=this.loadModuleFactory(e.loadChildren).pipe((0,rt.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(e);const p=c.create(n);return new ff(Ja(p.injector.get(pu,void 0,s.XFs.Self|s.XFs.Optional)).map(wn),p)}),_r(c=>{throw e._loader$=void 0,c}));return e._loader$=new Ya(a,()=>new Wt.x).pipe(en()),e._loader$}loadModuleFactory(n){return $n(n()).pipe((0,Ft.z)(e=>e instanceof s.YKP?je(e):(0,vn.D)(this.compiler.compileModuleAsync(e))))}}class gu{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,e){return n}}function oh(t){throw t}function wf(t,n,e){return n.parse("/")}function ga(t,n){return je(null)}const sh={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Cf={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ar=(()=>{class t{constructor(e,i,a,c,p,y,w){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=a,this.location=c,this.config=w,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Wt.x,this.errorHandler=oh,this.malformedUriErrorHandler=wf,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ga,afterPreactivation:ga},this.urlHandlingStrategy=new gu,this.routeReuseStrategy=new fa,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=p.get(s.h0i),this.console=p.get(s.c2e);const R=p.get(s.R0b);this.isNgZoneEnabled=R instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(w),this.currentUrlTree=new Z(new z([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Vr(p,y,V=>this.triggerEvent(new as(V)),V=>this.triggerEvent(new ls(V))),this.routerState=Jl(this.currentUrlTree,this.rootComponentType),this.transitions=new xn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null==(e=this.location.getState())?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Ht(a=>0!==a.id),(0,rt.U)(a=>Zi(at({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),ln(a=>{let c=!1,p=!1;return je(a).pipe((0,Ln.b)(y=>{this.currentNavigation={id:y.id,initialUrl:y.currentRawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?Zi(at({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ln(y=>{const w=this.browserUrlTree.toString(),A=!this.navigated||y.extractedUrl.toString()!==w||w!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||A)&&this.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return h(y.source)&&(this.browserUrlTree=y.extractedUrl),je(y).pipe(ln(R=>{const V=this.transitions.getValue();return i.next(new qc(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),V!==this.transitions.getValue()?Po.E:Promise.resolve(R)}),function(t,n,e,i){return ln(a=>function(t,n,e,i,a){return new Jd(t,n,e,i,a).apply()}(t,n,e,a.extractedUrl,i).pipe((0,rt.U)(c=>Zi(at({},a),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ln.b)(R=>{this.currentNavigation=Zi(at({},this.currentNavigation),{finalUrl:R.urlAfterRedirects})}),function(t,n,e,i,a){return(0,Ft.z)(c=>function(t,n,e,i,a="emptyOnly",c="legacy"){try{const p=new th(t,n,e,i,a,c).recognize();return null===p?du(new eh):je(p)}catch(p){return du(p)}}(t,n,c.urlAfterRedirects,e(c.urlAfterRedirects),i,a).pipe((0,rt.U)(p=>Zi(at({},c),{targetSnapshot:p}))))}(this.rootComponentType,this.config,R=>this.serializeUrl(R),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ln.b)(R=>{if("eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const J=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(J,R)}this.browserUrlTree=R.urlAfterRedirects}const V=new af(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);i.next(V)}));if(A&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:J,source:ye,restoredState:Oe,extras:qe}=y,Nt=new qc(V,this.serializeUrl(J),ye,Oe);i.next(Nt);const _t=Jl(J,this.rootComponentType).snapshot;return je(Zi(at({},y),{targetSnapshot:_t,urlAfterRedirects:J,extras:Zi(at({},qe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=y.rawUrl,y.resolve(null),Po.E}),cl(y=>{const{targetSnapshot:w,id:A,extractedUrl:x,rawUrl:R,extras:{skipLocationChange:V,replaceUrl:J}}=y;return this.hooks.beforePreactivation(w,{navigationId:A,appliedUrlTree:x,rawUrlTree:R,skipLocationChange:!!V,replaceUrl:!!J})}),(0,Ln.b)(y=>{const w=new Rd(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}),(0,rt.U)(y=>Zi(at({},y),{guards:mf(y.targetSnapshot,y.currentSnapshot,this.rootContexts)})),function(t,n){return(0,Ft.z)(e=>{const{targetSnapshot:i,currentSnapshot:a,guards:{canActivateChecks:c,canDeactivateChecks:p}}=e;return 0===p.length&&0===c.length?je(Zi(at({},e),{guardsResult:!0})):function(t,n,e,i){return(0,vn.D)(t).pipe((0,Ft.z)(a=>function(t,n,e,i,a){const c=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return c&&0!==c.length?je(c.map(y=>{const w=ac(y,n,a);let A;if(function(t){return t&&sa(t.canDeactivate)}(w))A=$n(w.canDeactivate(t,n,e,i));else{if(!sa(w))throw new Error("Invalid CanDeactivate guard");A=$n(w(t,n,e,i))}return A.pipe(Xs())})).pipe(aa()):je(!0)}(a.component,a.route,e,n,i)),Xs(a=>!0!==a,!0))}(p,i,a,t).pipe((0,Ft.z)(y=>y&&function(t){return"boolean"==typeof t}(y)?function(t,n,e,i){return(0,vn.D)(n).pipe(kr(a=>Qs(function(t,n){return null!==t&&n&&n(new Jc(t)),je(!0)}(a.route.parent,i),function(t,n){return null!==t&&n&&n(new Gl(t)),je(!0)}(a.route,i),function(t,n,e){const i=n[n.length-1],c=n.slice(0,n.length-1).reverse().map(p=>function(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(p)).filter(p=>null!==p).map(p=>oo(()=>je(p.guards.map(w=>{const A=ac(w,p.node,e);let x;if(function(t){return t&&sa(t.canActivateChild)}(A))x=$n(A.canActivateChild(i,t));else{if(!sa(A))throw new Error("Invalid CanActivateChild guard");x=$n(A(i,t))}return x.pipe(Xs())})).pipe(aa())));return je(c).pipe(aa())}(t,a.path,e),function(t,n,e){const i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||0===i.length)return je(!0);const a=i.map(c=>oo(()=>{const p=ac(c,n,e);let y;if(function(t){return t&&sa(t.canActivate)}(p))y=$n(p.canActivate(n,t));else{if(!sa(p))throw new Error("Invalid CanActivate guard");y=$n(p(n,t))}return y.pipe(Xs())}));return je(a).pipe(aa())}(t,a.route,e))),Xs(a=>!0!==a,!0))}(i,c,t,n):je(y)),(0,rt.U)(y=>Zi(at({},e),{guardsResult:y})))})}(this.ngModule.injector,y=>this.triggerEvent(y)),(0,Ln.b)(y=>{if(Br(y.guardsResult)){const A=kd(`Redirecting to "${this.serializeUrl(y.guardsResult)}"`);throw A.url=y.guardsResult,A}const w=new Si(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.triggerEvent(w)}),Ht(y=>!!y.guardsResult||(this.restoreHistory(y),this.cancelNavigationTransition(y,""),!1)),cl(y=>{if(y.guards.canActivateChecks.length)return je(y).pipe((0,Ln.b)(w=>{const A=new yr(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(A)}),ln(w=>{let A=!1;return je(w).pipe(function(t,n){return(0,Ft.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:a}}=e;if(!a.length)return je(e);let c=0;return(0,vn.D)(a).pipe(kr(p=>function(t,n,e,i){return function(t,n,e,i){const a=Object.keys(t);if(0===a.length)return je({});const c={};return(0,vn.D)(a).pipe((0,Ft.z)(p=>function(t,n,e,i){const a=ac(t,n,i);return $n(a.resolve?a.resolve(n,e):a(n,e))}(t[p],n,e,i).pipe((0,Ln.b)(y=>{c[p]=y}))),zt(1),(0,Ft.z)(()=>Object.keys(c).length===a.length?je(c):Po.E))}(t._resolve,t,n,i).pipe((0,rt.U)(c=>(t._resolvedData=c,t.data=at(at({},t.data),ra(t,e).resolve),null)))}(p.route,i,t,n)),(0,Ln.b)(()=>c++),zt(1),(0,Ft.z)(p=>c===a.length?je(e):Po.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ln.b)({next:()=>A=!0,complete:()=>{A||(this.restoreHistory(w),this.cancelNavigationTransition(w,"At least one route resolver didn't emit any value."))}}))}),(0,Ln.b)(w=>{const A=new jl(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(A)}))}),cl(y=>{const{targetSnapshot:w,id:A,extractedUrl:x,rawUrl:R,extras:{skipLocationChange:V,replaceUrl:J}}=y;return this.hooks.afterPreactivation(w,{navigationId:A,appliedUrlTree:x,rawUrlTree:R,skipLocationChange:!!V,replaceUrl:!!J})}),(0,rt.U)(y=>{const w=function(t,n,e){const i=Xl(t,n._root,e?e._root:void 0);return new Uo(i,n)}(this.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return Zi(at({},y),{targetRouterState:w})}),(0,Ln.b)(y=>{this.currentUrlTree=y.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl),this.routerState=y.targetRouterState,"deferred"===this.urlUpdateStrategy&&(y.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,y),this.browserUrlTree=y.urlAfterRedirects)}),((t,n,e)=>(0,rt.U)(i=>(new Wd(n,i.targetRouterState,i.currentRouterState,e).activate(t),i)))(this.rootContexts,this.routeReuseStrategy,y=>this.triggerEvent(y)),(0,Ln.b)({next(){c=!0},complete(){c=!0}}),function(t){return(0,Hn.e)((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}(()=>{var y;c||p||this.cancelNavigationTransition(a,`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`),(null==(y=this.currentNavigation)?void 0:y.id)===a.id&&(this.currentNavigation=null)}),_r(y=>{if(p=!0,function(t){return t&&t[cs]}(y)){const w=Br(y.url);w||(this.navigated=!0,this.restoreHistory(a,!0));const A=new lo(a.id,this.serializeUrl(a.extractedUrl),y.message);i.next(A),w?setTimeout(()=>{const x=this.urlHandlingStrategy.merge(y.url,this.rawUrlTree),R={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||h(a.source)};this.scheduleNavigation(x,"imperative",null,R,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const w=new ea(a.id,this.serializeUrl(a.extractedUrl),y);i.next(w);try{a.resolve(this.errorHandler(y))}catch(A){a.reject(A)}}return Po.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(at(at({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var y;const a={replaceUrl:!0},c=(null==(y=e.state)?void 0:y.navigationId)?e.state:null;if(c){const w=at({},c);delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(a.state=w)}const p=this.parseUrl(e.url);this.scheduleNavigation(p,i,c,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Zd(e),this.config=e.map(wn),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:a,queryParams:c,fragment:p,queryParamsHandling:y,preserveFragment:w}=i,A=a||this.routerState.root,x=w?this.currentUrlTree.fragment:p;let R=null;switch(y){case"merge":R=at(at({},this.currentUrlTree.queryParams),c);break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=c||null}return null!==R&&(R=this.removeEmptyProps(R)),function(t,n,e,i,a){if(0===e.length)return $d(n.root,n.root,n,i,a);const c=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new lf(!0,0,t);let n=0,e=!1;const i=t.reduce((a,c,p)=>{if("object"==typeof c&&null!=c){if(c.outlets){const y={};return In(c.outlets,(w,A)=>{y[A]="string"==typeof w?w.split("/"):w}),[...a,{outlets:y}]}if(c.segmentPath)return[...a,c.segmentPath]}return"string"!=typeof c?[...a,c]:0===p?(c.split("/").forEach((y,w)=>{0==w&&"."===y||(0==w&&""===y?e=!0:".."===y?n++:""!=y&&a.push(y))}),a):[...a,c]},[]);return new lf(e,n,i)}(e);if(c.toRoot())return $d(n.root,new z([],{}),n,i,a);const p=function(t,n,e){if(t.isAbsolute)return new nu(n.root,!0,0);if(-1===e.snapshot._lastPathIndex){const c=e.snapshot._urlSegment;return new nu(c,c===n.root,0)}const i=ec(t.commands[0])?0:1;return function(t,n,e){let i=t,a=n,c=e;for(;c>a;){if(c-=a,i=i.parent,!i)throw new Error("Invalid number of '../'");a=i.segments.length}return new nu(i,!1,a-c)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(c,n,t),y=p.processChildren?jd(p.segmentGroup,p.index,c.commands):cf(p.segmentGroup,p.index,c.commands);return $d(p.segmentGroup,y,n,i,a)}(A,this.currentUrlTree,e,R,null!=x?x:null)}navigateByUrl(e,i={skipLocationChange:!1}){const a=Br(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function(t){for(let n=0;n<t.length;n++){const e=t[n];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${n}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(a){i=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return i}isActive(e,i){let a;if(a=!0===i?at({},sh):!1===i?at({},Cf):i,Br(e))return Xa(this.currentUrlTree,e,a);const c=this.parseUrl(e);return Xa(this.currentUrlTree,c,a)}removeEmptyProps(e){return Object.keys(e).reduce((i,a)=>{const c=e[a];return null!=c&&(i[a]=c),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new hn(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,a,c,p){var Nt,_t,Bn;if(this.disposed)return Promise.resolve(!1);const y=this.transitions.value,w=h(i)&&y&&!h(y.source),A=y.rawUrl.toString()===e.toString(),x=y.id===(null==(Nt=this.currentNavigation)?void 0:Nt.id);if(w&&A&&x)return Promise.resolve(!0);let V,J,ye;p?(V=p.resolve,J=p.reject,ye=p.promise):ye=new Promise((Gt,xi)=>{V=Gt,J=xi});const Oe=++this.navigationId;let qe;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),qe=a&&a.\u0275routerPageId?a.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!=(_t=this.browserPageId)?_t:0:(null!=(Bn=this.browserPageId)?Bn:0)+1):qe=0,this.setTransition({id:Oe,targetPageId:qe,source:i,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:c,resolve:V,reject:J,promise:ye,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ye.catch(Gt=>Promise.reject(Gt))}setBrowserUrl(e,i){const a=this.urlSerializer.serialize(e),c=at(at({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(a)||i.extras.replaceUrl?this.location.replaceState(a,"",c):this.location.go(a,"",c)}restoreHistory(e,i=!1){var a,c;if("computed"===this.canceledNavigationResolution){const p=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(a=this.currentNavigation)?void 0:a.finalUrl)||0===p?this.currentUrlTree===(null==(c=this.currentNavigation)?void 0:c.finalUrl)&&0===p&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(p)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const a=new lo(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(a),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return t.\u0275fac=function(e){s.$Z()},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})();function h(t){return"imperative"!==t}class X{}class Ie{preload(n,e){return je(null)}}let ze=(()=>{class t{constructor(e,i,a,c){this.router=e,this.injector=a,this.preloadingStrategy=c,this.loader=new Vr(a,i,w=>e.triggerEvent(new as(w)),w=>e.triggerEvent(new ls(w)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ht(e=>e instanceof hn),kr(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(s.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const a=[];for(const c of i)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const p=c._loadedConfig;a.push(this.processRoutes(p.module,p.routes))}else c.loadChildren&&!c.canLoad?a.push(this.preloadConfig(e,c)):c.children&&a.push(this.processRoutes(e,c.children));return(0,vn.D)(a).pipe((0,Oo.J)(),(0,rt.U)(c=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?je(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,Ft.z)(c=>(i._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(ar),s.LFG(s.Sil),s.LFG(s.zs3),s.LFG(X))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})(),Ze=(()=>{class t{constructor(e,i,a={}){this.router=e,this.viewportScroller=i,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof qc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof hn&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Wl&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Wl(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){s.$Z()},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})();const cn=new s.OlP("ROUTER_CONFIGURATION"),uo=new s.OlP("ROUTER_FORROOT_GUARD"),ho=[Be,{provide:Lt,useClass:yi},{provide:ar,useFactory:function(t,n,e,i,a,c,p={},y,w){const A=new ar(null,t,n,e,i,a,Ja(c));return y&&(A.urlHandlingStrategy=y),w&&(A.routeReuseStrategy=w),function(t,n){t.errorHandler&&(n.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(n.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(n.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(n.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(n.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(n.canceledNavigationResolution=t.canceledNavigationResolution)}(p,A),p.enableTracing&&A.events.subscribe(x=>{var R,V;null==(R=console.group)||R.call(console,`Router Event: ${x.constructor.name}`),console.log(x.toString()),console.log(x),null==(V=console.groupEnd)||V.call(console)}),A},deps:[Lt,sl,Be,s.zs3,s.Sil,pu,cn,[class{},new s.FiY],[class{},new s.FiY]]},sl,{provide:el,useFactory:function(t){return t.routerState.root},deps:[ar]},ze,Ie,class{preload(n,e){return e().pipe(_r(()=>je(null)))}},{provide:cn,useValue:{enableTracing:!1}}];function mu(){return new s.PXZ("Router",ar)}let _u=(()=>{class t{constructor(e,i){}static forRoot(e,i){return{ngModule:t,providers:[ho,yu(e),{provide:uo,useFactory:Ef,deps:[[ar,new s.FiY,new s.tp0]]},{provide:cn,useValue:i||{}},{provide:oe,useFactory:ul,deps:[re,[new s.tBr(se),new s.FiY],cn]},{provide:Ze,useFactory:Df,deps:[ar,bd,cn]},{provide:X,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Ie},{provide:s.PXZ,multi:!0,useFactory:mu},[dl,{provide:s.ip1,multi:!0,useFactory:bu,deps:[dl]},{provide:fg,useFactory:Tf,deps:[dl]},{provide:s.tb,multi:!0,useExisting:fg}]]}}static forChild(e){return{ngModule:t,providers:[yu(e)]}}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(uo,8),s.LFG(ar,8))},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({}),t})();function Df(t,n,e){return e.scrollOffset&&n.setOffset(e.scrollOffset),new Ze(t,n,e)}function ul(t,n,e={}){return e.useHash?new ge(t,n):new be(t,n)}function Ef(t){return"guarded"}function yu(t){return[{provide:s.deG,multi:!0,useValue:t},{provide:pu,multi:!0,useValue:t}]}let dl=(()=>{class t{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Wt.x}appInitializer(){return this.injector.get($,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const a=new Promise(y=>i=y),c=this.injector.get(ar),p=this.injector.get(cn);return"disabled"===p.initialNavigation?(c.setUpLocationChangeListener(),i(!0)):"enabled"===p.initialNavigation||"enabledBlocking"===p.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?je(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),c.initialNavigation()):i(!0),a})}bootstrapListener(e){const i=this.injector.get(cn),a=this.injector.get(ze),c=this.injector.get(Ze),p=this.injector.get(ar),y=this.injector.get(s.z2F);e===y.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&p.initialNavigation(),a.setUpPreloading(),c.init(),p.resetRootComponentType(y.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(s.zs3))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})();function bu(t){return t.appInitializer.bind(t)}function Tf(t){return t.bootstrapListener.bind(t)}const fg=new s.OlP("Router Initializer");function ma(t){return null==t||0===t.length}function dy(t){return null!=t&&"number"==typeof t.length}const T1=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class $i{static min(n){return t=n,n=>{if(ma(n.value)||ma(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null};var t}static max(n){return t=n,n=>{if(ma(n.value)||ma(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null};var t}static required(n){return ma(n.value)?{required:!0}:null}static requiredTrue(n){return!0===n.value?null:{required:!0}}static email(n){return ma((t=n).value)||T1.test(t.value)?null:{email:!0};var t}static minLength(n){return t=n,n=>ma(n.value)||!dy(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null;var t}static maxLength(n){return t=n,n=>dy(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null;var t}static pattern(n){return function(t){if(!t)return ch;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),i=>{if(ma(i.value))return null;const a=i.value;return n.test(a)?null:{pattern:{requiredPattern:e,actualValue:a}}}}(n)}static nullValidator(n){return null}static compose(n){return fo(n)}static composeAsync(n){return by(n)}}function ch(t){return null}function yy(t){return null!=t}function ft(t){const n=(0,s.QGY)(t)?(0,vn.D)(t):t;return(0,s.CqO)(n),n}function vg(t){let n={};return t.forEach(e=>{n=null!=e?at(at({},n),e):n}),0===Object.keys(n).length?null:n}function bg(t,n){return n.map(e=>e(t))}function uh(t){return t.map(n=>function(t){return!t.validate}(n)?n:e=>n.validate(e))}function fo(t){if(!t)return null;const n=t.filter(yy);return 0==n.length?null:function(e){return vg(bg(e,n))}}function by(t){if(!t)return null;const n=t.filter(yy);return 0==n.length?null:function(e){return function(...t){const n=(0,Rr.jO)(t),{args:e,keys:i}=xo(t),a=new kn.y(c=>{const{length:p}=e;if(!p)return void c.complete();const y=new Array(p);let w=p,A=p;for(let x=0;x<p;x++){let R=!1;(0,on.Xf)(e[x]).subscribe(new Kt.Q(c,V=>{R||(R=!0,A--),y[x]=V},()=>w--,void 0,()=>{(!w||!R)&&(A||c.next(i?os(i,y):y),c.complete())}))}});return n?a.pipe(ko(n)):a}(bg(e,n).map(ft)).pipe((0,rt.U)(vg))}}function hh(t){return t?Array.isArray(t)?t:[t]:[]}function Cg(t,n){return Array.isArray(t)?t.includes(n):t===n}function Dg(t,n){const e=hh(n);return hh(t).forEach(a=>{Cg(e,a)||e.push(a)}),e}function I1(t,n){return hh(n).filter(e=>!Cg(t,e))}function Cu(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}const Du="VALID",xf="INVALID",Eu="PENDING",_a="DISABLED";function ph(t){return(Pg(t)?t.validators:t)||null}function dc(t){return Array.isArray(t)?function(t){return null!=t?fo(uh(t)):null}(t):t||null}function hc(t,n){return(Pg(n)?n.asyncValidators:t)||null}function fc(t){return Array.isArray(t)?function(t){return null!=t?by(uh(t)):null}(t):t||null}function Pg(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class kf{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=e,this._composedValidatorFn=dc(this._rawValidators),this._composedAsyncValidatorFn=fc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Du}get invalid(){return this.status===xf}get pending(){return this.status==Eu}get disabled(){return this.status===_a}get enabled(){return this.status!==_a}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=dc(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=fc(n)}addValidators(n){this.setValidators(Dg(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(Dg(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(I1(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(I1(n,this._rawAsyncValidators))}hasValidator(n){return Cg(this._rawValidators,n)}hasAsyncValidator(n){return Cg(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Eu,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=_a,this.errors=null,this._forEachChild(i=>{i.disable(Zi(at({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Zi(at({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Du,this._forEachChild(i=>{i.enable(Zi(at({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Zi(at({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Du||this.status===Eu)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_a:Du}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Eu,this._hasOwnPendingAsyncValidator=!0;const e=ft(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){return function(t,n,e){if(null==n||(Array.isArray(n)||(n=n.split(".")),Array.isArray(n)&&0===n.length))return null;let i=t;return n.forEach(a=>{i=i instanceof gc?i.controls.hasOwnProperty(a)?i.controls[a]:null:i instanceof gh&&i.at(a)||null}),i}(this,n)}getError(n,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?_a:this.errors?xf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Eu)?Eu:this._anyControlsHaveStatus(xf)?xf:Du}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Pg(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class pc extends kf{constructor(n=null,e,i){super(ph(e),hc(i,e)),this._onChange=[],this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=null,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Cu(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Cu(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class gc extends kf{constructor(n,e,i){super(ph(e),hc(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,i={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){this._checkAllValuesPresent(n),Object.keys(n).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((i,a)=>{i.reset(n[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,i)=>(n[i]=e instanceof pc?e.value:e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[n])throw new Error(`Cannot find form control with name: ${n}.`)}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&n(i,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&n(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,e,i)=>((e.enabled||this.disabled)&&(n[i]=e.value),n))}_reduceChildren(n,e){let i=n;return this._forEachChild((a,c)=>{i=e(i,a,c)}),i}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(n){this._forEachChild((e,i)=>{if(void 0===n[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class gh extends kf{constructor(n,e,i){super(ph(e),hc(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,i={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),e&&(this.controls.splice(n,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){this._checkAllValuesPresent(n),n.forEach((i,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(n.forEach((i,a)=>{this.at(a)&&this.at(a).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((i,a)=>{i.reset(n[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n instanceof pc?n.value:n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(n))throw new Error(`Cannot find form control at index ${n}`)}_forEachChild(n){this.controls.forEach((e,i)=>{n(e,i)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_checkAllValuesPresent(n){this._forEachChild((e,i)=>{if(void 0===n[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}let Ry=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({}),t})();const Ug=new s.OlP("NgModelWithFormControlWarning");let Su=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[Ry]]}),t})(),J1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[Su]}),t})(),Hf=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Ug,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[Su]}),t})(),Yy=(()=>{class t{group(e,i=null){const a=this._reduceControls(e);let y,c=null,p=null;return null!=i&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(i)?(c=null!=i.validators?i.validators:null,p=null!=i.asyncValidators?i.asyncValidators:null,y=null!=i.updateOn?i.updateOn:void 0):(c=null!=i.validator?i.validator:null,p=null!=i.asyncValidator?i.asyncValidator:null)),new gc(a,{asyncValidators:p,updateOn:y,validators:c})}control(e,i,a){return new pc(e,i,a)}array(e,i,a){const c=e.map(p=>this._createControl(p));return new gh(c,i,a)}_reduceControls(e){const i={};return Object.keys(e).forEach(a=>{i[a]=this._createControl(e[a])}),i}_createControl(e){return e instanceof pc||e instanceof gc||e instanceof gh?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:Hf}),t})(),Q1=(()=>{class t{constructor(e){this.fB=e,this.registerForm=this.fB.group({email:["",[$i.required,$i.email]],password:["",[$i.required,$i.minLength(8)]],passwordC:["",[$i.required,$i.minLength(8)]]})}ngOnInit(){}get email(){return this.registerForm.get("email")}get password(){return this.registerForm.get("password")}get password1(){return this.registerForm.get("passwordC")}registerFormSubmit(){const e=this.registerForm.value;delete e.password1,console.log(e)}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(Yy))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-home"]],decls:4,vars:0,consts:[[1,"Background"],["src","../../assets/Inicio/Titulo.png","id","Title"],["src","../../assets/Inicio/INGRESAR.png","id","signIn"],["src","../../assets/Inicio/REGISTRATE.png","id","signUp"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"img",1),s._UZ(2,"img",2),s._UZ(3,"img",3),s.qZA())},styles:[".Background[_ngcontent-%COMP%]{background:url(Fondo.55407936fe632ee0.jpg) no-repeat center/cover fixed;height:100vh;width:100vw;margin:0}#Title[_ngcontent-%COMP%]{position:absolute;width:30%;left:35%;top:10%}#signIn[_ngcontent-%COMP%]{position:absolute;top:40%;left:10%;width:22%;cursor:pointer}#signUp[_ngcontent-%COMP%]{position:absolute;top:40%;right:10%;width:22%;cursor:pointer}"]}),t})();var ms=k(8239),X1=k(1537);const ew=["addListener","removeListener"],qy=["addEventListener","removeEventListener"],Nu=["on","off"];function ai(t,n,e,i){if((0,ao.m)(e)&&(i=e,e=void 0),i)return ai(t,n,e).pipe(ko(i));const[a,c]=function(t){return(0,ao.m)(t.addEventListener)&&(0,ao.m)(t.removeEventListener)}(t)?qy.map(p=>y=>t[p](n,y,e)):function(t){return(0,ao.m)(t.addListener)&&(0,ao.m)(t.removeListener)}(t)?ew.map(Jy(t,n)):function(t){return(0,ao.m)(t.on)&&(0,ao.m)(t.off)}(t)?Nu.map(Jy(t,n)):[];if(!a&&(0,X1.z)(t))return(0,Ft.z)(p=>ai(p,n,e))((0,on.Xf)(t));if(!a)throw new TypeError("Invalid event target");return new kn.y(p=>{const y=(...w)=>p.next(1<w.length?w:w[0]);return a(y),()=>c(y)})}function Jy(t,n){return e=>i=>t[e](n,i)}var Yg=k(2210),iw=k(7398);const{isArray:qg}=Array;function Jg(t){return 1===t.length&&qg(t[0])?t[0]:t}var mh=k(6921);function $f(...t){const n=(0,Rr.jO)(t),e=Jg(t);return e.length?new kn.y(i=>{let a=e.map(()=>[]),c=e.map(()=>!1);i.add(()=>{a=c=null});for(let p=0;!i.closed&&p<e.length;p++)(0,on.Xf)(e[p]).subscribe(new Kt.Q(i,y=>{if(a[p].push(y),a.every(w=>w.length)){const w=a.map(A=>A.shift());i.next(n?n(...w):w),a.some((A,x)=>!A.length&&c[x])&&i.complete()}},()=>{c[p]=!0,!a[p].length&&i.complete()}));return()=>{a=c=null}}):Po.E}new kn.y(mh.Z);var _h=k(3719);function Gn(t){return(0,Hn.e)((n,e)=>{(0,on.Xf)(t).subscribe(new Kt.Q(e,()=>e.complete(),mh.Z)),!e.closed&&n.subscribe(e)})}function ow(t,n){return t===n}function jf(...t){const n=(0,Rr.jO)(t);return(0,Hn.e)((e,i)=>{const a=t.length,c=new Array(a);let p=t.map(()=>!1),y=!1;for(let w=0;w<a;w++)(0,on.Xf)(t[w]).subscribe(new Kt.Q(i,A=>{c[w]=A,!y&&!p[w]&&(p[w]=!0,(y=p.every(mr.y))&&(p=null))},mh.Z));e.subscribe(new Kt.Q(i,w=>{if(y){const A=[w,...c];i.next(n?n(...A):A)}}))})}var Wf=k(3174);const vh=["*"],sv=["dialog"];function ya(t){return null!=t}function _c(t){return(t||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let n=this;if(!document.documentElement.contains(n))return null;do{if(n.matches(t))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null});const pm={animation:!0,transitionTimerDelayMs:5};let ei=(()=>{class t{constructor(){this.animation=pm.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Mv=()=>{},{transitionTimerDelayMs:gm}=pm,_l=new Map,Wn=(t,n,e,i)=>{let a=i.context||{};const c=_l.get(n);if(c)switch(i.runningTransition){case"continue":return Po.E;case"stop":t.run(()=>c.transition$.complete()),a=Object.assign(c.context,a),_l.delete(n)}const p=e(n,i.animation,a)||Mv;if(!i.animation||"none"===window.getComputedStyle(n).transitionProperty)return t.run(()=>p()),je(void 0).pipe(function(t){return n=>new kn.y(e=>n.subscribe(p=>t.run(()=>e.next(p)),p=>t.run(()=>e.error(p)),()=>t.run(()=>e.complete())))}(t));const y=new Wt.x,w=new Wt.x,A=y.pipe(function(...t){return n=>Qs(n,je(...t))}(!0));_l.set(n,{transition$:y,complete:()=>{w.next(),w.complete()},context:a});const x=function(t){const{transitionDelay:n,transitionDuration:e}=window.getComputedStyle(t);return 1e3*(parseFloat(n)+parseFloat(e))}(n);return t.runOutsideAngular(()=>{const R=ai(n,"transitionend").pipe(Gn(A),Ht(({target:J})=>J===n));(function(...t){return 1===(t=Jg(t)).length?(0,on.Xf)(t[0]):new kn.y(function(t){return n=>{let e=[];for(let i=0;e&&!n.closed&&i<t.length;i++)e.push((0,on.Xf)(t[i]).subscribe(new Kt.Q(n,a=>{if(e){for(let c=0;c<e.length;c++)c!==i&&e[c].unsubscribe();e=null}n.next(a)})))}}(t))})(function(t=0,n,e=Yg.P){let i=-1;return null!=n&&((0,iw.K)(n)?e=n:i=n),new kn.y(a=>{let c=function(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;c<0&&(c=0);let p=0;return e.schedule(function(){a.closed||(a.next(p++),0<=i?this.schedule(void 0,i):a.complete())},c)})}(x+gm).pipe(Gn(A)),R,w).pipe(Gn(A)).subscribe(()=>{_l.delete(n),t.run(()=>{p(),y.next(),y.complete()})})}),y.asObservable()};let Lv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[ri]]}),t})(),Vv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[ri]]}),t})(),Hv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({}),t})(),zv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[ri]]}),t})(),ep=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({}),t})();var Tt=(()=>{return(t=Tt||(Tt={}))[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",Tt;var t})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Dm=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Em(t){const n=Array.from(t.querySelectorAll(Dm)).filter(e=>-1!==e.tabIndex);return[n[0],n[n.length-1]]}new class{getAllStyles(n){return window.getComputedStyle(n)}getStyle(n,e){return this.getAllStyles(n)[e]}isStaticPositioned(n){return"static"===(this.getStyle(n,"position")||"static")}offsetParent(n){let e=n.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(n,e=!0){let i,a={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(n,"position"))i=n.getBoundingClientRect(),i={top:i.top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{const c=this.offsetParent(n);i=this.offset(n,!1),c!==document.documentElement&&(a=this.offset(c,!1)),a.top+=c.clientTop,a.left+=c.clientLeft}return i.top-=a.top,i.bottom-=a.top,i.left-=a.left,i.right-=a.left,e&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i}offset(n,e=!0){const i=n.getBoundingClientRect(),a_top=window.pageYOffset-document.documentElement.clientTop,a_left=window.pageXOffset-document.documentElement.clientLeft;let c={height:i.height||n.offsetHeight,width:i.width||n.offsetWidth,top:i.top+a_top,bottom:i.bottom+a_top,left:i.left+a_left,right:i.right+a_left};return e&&(c.height=Math.round(c.height),c.width=Math.round(c.width),c.top=Math.round(c.top),c.bottom=Math.round(c.bottom),c.left=Math.round(c.left),c.right=Math.round(c.right)),c}positionElements(n,e,i,a){const[c="top",p="center"]=i.split("-"),y=a?this.offset(n,!1):this.position(n,!1),w=this.getAllStyles(e),A=parseFloat(w.marginTop),x=parseFloat(w.marginBottom),R=parseFloat(w.marginLeft),V=parseFloat(w.marginRight);let J=0,ye=0;switch(c){case"top":J=y.top-(e.offsetHeight+A+x);break;case"bottom":J=y.top+y.height;break;case"left":ye=y.left-(e.offsetWidth+R+V);break;case"right":ye=y.left+y.width}switch(p){case"top":J=y.top;break;case"bottom":J=y.top+y.height-e.offsetHeight;break;case"left":ye=y.left;break;case"right":ye=y.left+y.width-e.offsetWidth;break;case"center":"top"===c||"bottom"===c?ye=y.left+y.width/2-e.offsetWidth/2:J=y.top+y.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(ye)}px, ${Math.round(J)}px)`;const Oe=e.getBoundingClientRect(),qe=document.documentElement,Nt=window.innerHeight||qe.clientHeight,_t=window.innerWidth||qe.clientWidth;return Oe.left>=0&&Oe.top>=0&&Oe.right<=_t&&Oe.bottom<=Nt}},new Date(1882,10,12),new Date(2174,10,25);let Dc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[ri,J1]]}),t})(),I0=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({}),t})(),Fm=(()=>{class t{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(ei))},t.\u0275prov=s.Yz7({factory:function(){return new t(s.LFG(ei))},token:t,providedIn:"root"}),t})();class wl{constructor(n,e,i){this.nodes=n,this.viewRef=e,this.componentRef=i}}const mC=()=>{};let ap=(()=>{class t{constructor(e){this._document=e}compensate(){const e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):mC}_adjustBody(e){const i=this._document.body,a=i.style.paddingRight,c=parseFloat(window.getComputedStyle(i)["padding-right"]);return i.style["padding-right"]=`${c+e}px`,()=>i.style["padding-right"]=a}_isPresent(e){const i=this._document.body.getBoundingClientRect();return window.innerWidth-(i.left+i.right)>=e-.1*e}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const i=this._document.body;i.appendChild(e);const a=e.getBoundingClientRect().width-e.clientWidth;return i.removeChild(e),a}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(ne))},t.\u0275prov=s.Yz7({factory:function(){return new t(s.LFG(ne))},token:t,providedIn:"root"}),t})(),_C=(()=>{class t{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe((0,bn.q)(1)).subscribe(()=>{Wn(this._zone,this._el.nativeElement,(e,i)=>{i&&_c(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Wn(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.SBq),s.Y36(s.R0b))},t.\u0275cmp=s.Xpm({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,i){2&e&&(s.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),s.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),t})();class Bm{close(n){}dismiss(n){}}class yC{constructor(n,e,i,a){this._windowCmptRef=n,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=a,this._closed=new Wt.x,this._dismissed=new Wt.x,this._hidden=new Wt.x,n.instance.dismissEvent.subscribe(c=>{this.dismiss(c)}),this.result=new Promise((c,p)=>{this._resolve=c,this._reject=p}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Gn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Gn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(i=>{!1!==i&&this._dismiss(n)},()=>{}):!1!==e&&this._dismiss(n)}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():je(void 0);n.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),$f(n,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Th=(()=>{return(t=Th||(Th={}))[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",Th;var t})();let vC=(()=>{class t{constructor(e,i,a){this._document=e,this._elRef=i,this._zone=a,this._closed$=new Wt.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new s.vpe,this.shown=new Wt.x,this.hidden=new Wt.x}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,bn.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},p=$f(Wn(this._zone,e,()=>e.classList.remove("show"),i),Wn(this._zone,this._dialogEl.nativeElement,()=>{},i));return p.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),p}_show(){const e={animation:this.animation,runningTransition:"continue"};$f(Wn(this._zone,this._elRef.nativeElement,(c,p)=>{p&&_c(c),c.classList.add("show")},e),Wn(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{ai(e,"keydown").pipe(Gn(this._closed$),Ht(a=>a.which===Tt.Escape)).subscribe(a=>{this.keyboard?requestAnimationFrame(()=>{a.defaultPrevented||this._zone.run(()=>this.dismiss(Th.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;ai(this._dialogEl.nativeElement,"mousedown").pipe(Gn(this._closed$),(0,Ln.b)(()=>i=!1),ln(()=>ai(e,"mouseup").pipe(Gn(this._closed$),(0,bn.q)(1))),Ht(({target:a})=>e===a)).subscribe(()=>{i=!0}),ai(e,"click").pipe(Gn(this._closed$)).subscribe(({target:a})=>{e===a&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(Th.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),a=Em(e)[0];(i||a||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let a;a=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>a.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Wn(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(ne),s.Y36(s.SBq),s.Y36(s.R0b))},t.\u0275cmp=s.Xpm({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&s.Gf(sv,7),2&e){let a;s.iGM(a=s.CRH())&&(i._dialogEl=a.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),s.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),s.ekj("fade",i.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:vh,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.TgZ(2,"div",2),s.Hsn(3),s.qZA(),s.qZA()),2&e&&s.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),A0=(()=>{class t{constructor(e,i,a,c,p,y){this._applicationRef=e,this._injector=i,this._document=a,this._scrollBar=c,this._rendererFactory=p,this._ngZone=y,this._activeWindowCmptHasChanged=new Wt.x,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new s.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const w=this._windowCmpts[this._windowCmpts.length-1];((t,n,e,i=!1)=>{t.runOutsideAngular(()=>{const a=ai(n,"focusin").pipe(Gn(e),(0,rt.U)(c=>c.target));ai(n,"keydown").pipe(Gn(e),Ht(c=>c.which===Tt.Tab),jf(a)).subscribe(([c,p])=>{const[y,w]=Em(n);(p===y||p===n)&&c.shiftKey&&(w.focus(),c.preventDefault()),p===w&&!c.shiftKey&&(y.focus(),c.preventDefault())}),i&&ai(n,"click").pipe(Gn(e),jf(a),(0,rt.U)(c=>c[1])).subscribe(c=>c.focus())})})(this._ngZone,w.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(w.location.nativeElement)}})}open(e,i,a,c){const p=c.container instanceof HTMLElement?c.container:ya(c.container)?this._document.querySelector(c.container):this._document.body,y=this._rendererFactory.createRenderer(null,null),w=this._scrollBar.compensate(),A=()=>{this._modalRefs.length||(y.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!p)throw new Error(`The specified modal container "${c.container||"body"}" was not found in the DOM.`);const x=new Bm,R=this._getContentRef(e,c.injector||i,a,x,c);let V=!1!==c.backdrop?this._attachBackdrop(e,p):void 0,J=this._attachWindowComponent(e,p,R),ye=new yC(J,R,V,c.beforeDismiss);return this._registerModalRef(ye),this._registerWindowCmpt(J),ye.result.then(w,w),ye.result.then(A,A),x.close=Oe=>{ye.close(Oe)},x.dismiss=Oe=>{ye.dismiss(Oe)},this._applyWindowOptions(J.instance,c),1===this._modalRefs.length&&y.addClass(this._document.body,"modal-open"),V&&V.instance&&(this._applyBackdropOptions(V.instance,c),V.changeDetectorRef.detectChanges()),J.changeDetectorRef.detectChanges(),ye}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,i){let c=e.resolveComponentFactory(_C).create(this._injector);return this._applicationRef.attachView(c.hostView),i.appendChild(c.location.nativeElement),c}_attachWindowComponent(e,i,a){let p=e.resolveComponentFactory(vC).create(this._injector,a.nodes);return this._applicationRef.attachView(p.hostView),i.appendChild(p.location.nativeElement),p}_applyWindowOptions(e,i){this._windowAttributes.forEach(a=>{ya(i[a])&&(e[a]=i[a])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(a=>{ya(i[a])&&(e[a]=i[a])})}_getContentRef(e,i,a,c,p){return a?a instanceof s.Rgc?this._createFromTemplateRef(a,c):function(t){return"string"==typeof t}(a)?this._createFromString(a):this._createFromComponent(e,i,a,c,p):new wl([])}_createFromTemplateRef(e,i){const c=e.createEmbeddedView({$implicit:i,close(p){i.close(p)},dismiss(p){i.dismiss(p)}});return this._applicationRef.attachView(c),new wl([c.rootNodes],c)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new wl([[i]])}_createFromComponent(e,i,a,c,p){const y=e.resolveComponentFactory(a),w=s.zs3.create({providers:[{provide:Bm,useValue:c}],parent:i}),A=y.create(w),x=A.location.nativeElement;return p.scrollable&&x.classList.add("component-host-scrollable"),this._applicationRef.attachView(A.hostView),new wl([[x]],A.hostView,A)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(a=>{a!==e&&"SCRIPT"!==a.nodeName&&(this._ariaHiddenValues.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const a=this._modalRefs.indexOf(e);a>-1&&(this._modalRefs.splice(a,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(s.z2F),s.LFG(s.zs3),s.LFG(ne),s.LFG(ap),s.LFG(s.FYo),s.LFG(s.R0b))},t.\u0275prov=s.Yz7({factory:function(){return new t(s.LFG(s.z2F),s.LFG(s.gxx),s.LFG(ne),s.LFG(ap),s.LFG(s.FYo),s.LFG(s.R0b))},token:t,providedIn:"root"}),t})(),Vm=(()=>{class t{constructor(e,i,a,c){this._moduleCFR=e,this._injector=i,this._modalStack=a,this._config=c}open(e,i={}){const a=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,e,a)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(s._Vd),s.LFG(s.zs3),s.LFG(A0),s.LFG(Fm))},t.\u0275prov=s.Yz7({factory:function(){return new t(s.LFG(s._Vd),s.LFG(s.gxx),s.LFG(A0),s.LFG(Fm))},token:t,providedIn:"root"}),t})(),S0=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({providers:[Vm]}),t})(),lp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[ri]]}),t})(),F0=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[ri]]}),t})(),zm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[ri]]}),t})(),Qu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[ri]]}),t})(),qm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[ri]]}),t})(),Ec=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[ri]]}),t})(),UC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[ri]]}),t})(),Km=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({}),t})();new s.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let Qm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[ri]]}),t})();const Z0=[Lv,Vv,Hv,zv,ep,Dc,I0,S0,lp,F0,zm,Qu,qm,Ec,UC,Km,Qm];let Y0=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[Z0,Lv,Vv,Hv,zv,ep,Dc,I0,S0,lp,F0,zm,Qu,qm,Ec,UC,Km,Qm]}),t})();function q0(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"div",4),s._UZ(1,"img",5),s.TgZ(2,"img",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="bangColombia"}),s.qZA(),s.TgZ(3,"img",7),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="meteoroGame"}),s.qZA(),s.qZA()}}function J0(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"div",4),s.TgZ(1,"img",8),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="meteoroGameInfo"}),s.qZA(),s.TgZ(2,"img",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="home"}),s.qZA(),s.TgZ(3,"img",7),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="superNova"}),s.qZA(),s.qZA()}}function YC(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"div",4),s._UZ(1,"img",9),s.TgZ(2,"img",10),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),c=s.MAs(18);return a.selectSrcGame("https://view.genial.ly/6172b8aed4be160deac3c8e5"),a.openXL(c)}),s.qZA(),s.TgZ(3,"img",11),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),c=s.MAs(18);return a.selectSrcGame("https://view.genial.ly/619bd1fdf9582a0d915802de"),a.openXL(c)}),s.qZA(),s.TgZ(4,"img",12),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),c=s.MAs(18);return a.selectSrcGame("https://view.genial.ly/619c1dd2d690800d642448ed"),a.openXL(c)}),s.qZA(),s.TgZ(5,"img",13),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),c=s.MAs(18);return a.selectSrcGame("https://view.genial.ly/619ce85578ad330d92bcf578"),a.openXL(c)}),s.qZA(),s._UZ(6,"img",14),s.TgZ(7,"img",15),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),c=s.MAs(18);return a.selectSrcGame("https://view.genial.ly/619cf3c033ef7a0d9523d5aa"),a.openXL(c)}),s.qZA(),s._UZ(8,"img",16),s._UZ(9,"img",17),s._UZ(10,"img",18),s._UZ(11,"img",19),s._UZ(12,"img",20),s._UZ(13,"img",21),s.TgZ(14,"img",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="meteoroGame"}),s.qZA(),s.qZA()}}function K0(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"div",4),s.TgZ(1,"img",22),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="superNovaInfo"}),s.qZA(),s.TgZ(2,"img",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="meteoroGame"}),s.qZA(),s.TgZ(3,"img",7),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="Orion"}),s.qZA(),s.qZA()}}function qC(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"div",4),s.TgZ(1,"img",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="superNova"}),s.qZA(),s.TgZ(2,"img",23),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),c=s.MAs(18);return a.selectSrcVideo("https://firebasestorage.googleapis.com/v0/b/crud-b437f.appspot.com/o/Capacitaci%C3%B3n_BANG_Parte_1_Editado.mp4?alt=media&token=8dc3fa32-3b88-4917-8102-14dbbee36f4a"),a.openXL(c)}),s.qZA(),s.TgZ(3,"img",24),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),c=s.MAs(18);return a.selectSrcVideo("https://firebasestorage.googleapis.com/v0/b/crud-b437f.appspot.com/o/Capacitaci%C3%B3n_BANG_Parte_2_Editado.mp4?alt=media&token=c4470bce-26a5-40f4-a1c1-1007fee36397"),a.openXL(c)}),s.qZA(),s.TgZ(4,"img",25),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),c=s.MAs(18);return a.selectSrcVideo("https://firebasestorage.googleapis.com/v0/b/crud-b437f.appspot.com/o/Capacitaci%C3%B3n_BANG_Parte_3_Editado.mp4?alt=media&token=7a95f48c-684e-49d0-9be7-f410c0aff8f4"),a.openXL(c)}),s.qZA(),s.TgZ(5,"img",26),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),c=s.MAs(18);return a.selectSrcVideo("https://firebasestorage.googleapis.com/v0/b/crud-b437f.appspot.com/o/Grupo%2017_%20D%C3%ADa%20de%20la%20innovaci%C3%B3n_Editado.mp4?alt=media&token=0a5841ca-d527-4298-8ef3-e479981b20f9"),a.openXL(c)}),s.qZA(),s.qZA()}}function JC(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"div",4),s.TgZ(1,"img",27),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="orionInfo"}),s.qZA(),s.TgZ(2,"img",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="superNova"}),s.qZA(),s.TgZ(3,"img",7),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="nebulosaInnova"}),s.qZA(),s.qZA()}}function KC(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"div",4),s._UZ(1,"img",28),s.TgZ(2,"img",29),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),c=s.MAs(18);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n2.png"),a.openXL(c)}),s.qZA(),s.TgZ(3,"img",30),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),c=s.MAs(18);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n3.png"),a.openXL(c)}),s.qZA(),s.TgZ(4,"img",31),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),c=s.MAs(18);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n4.png"),a.openXL(c)}),s.qZA(),s.TgZ(5,"img",32),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),c=s.MAs(18);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n5.png"),a.openXL(c)}),s.qZA(),s.TgZ(6,"img",33),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),c=s.MAs(18);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n6.png"),a.openXL(c)}),s.qZA(),s.TgZ(7,"img",34),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),c=s.MAs(18);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n6A.png"),a.openXL(c)}),s.qZA(),s.TgZ(8,"img",35),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),c=s.MAs(18);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n7A.png"),a.openXL(c)}),s.qZA(),s.TgZ(9,"img",36),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),c=s.MAs(18);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n7B.png"),a.openXL(c)}),s.qZA(),s.TgZ(10,"img",37),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),c=s.MAs(18);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n8A.png"),a.openXL(c)}),s.qZA(),s.TgZ(11,"img",38),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),c=s.MAs(18);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n8B.png"),a.openXL(c)}),s.qZA(),s.TgZ(12,"img",39),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),c=s.MAs(18);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n9A.png"),a.openXL(c)}),s.qZA(),s.TgZ(13,"img",40),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),c=s.MAs(18);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n9B.png"),a.openXL(c)}),s.qZA(),s.TgZ(14,"img",41),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),c=s.MAs(18);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n10A.png"),a.openXL(c)}),s.qZA(),s.TgZ(15,"img",42),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),c=s.MAs(18);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n10B.png"),a.openXL(c)}),s.qZA(),s.TgZ(16,"img",43),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),c=s.MAs(18);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n11.png"),a.openXL(c)}),s.qZA(),s.TgZ(17,"img",44),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),c=s.MAs(18);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n11A.png"),a.openXL(c)}),s.qZA(),s.TgZ(18,"img",45),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),c=s.MAs(18);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n12.png"),a.openXL(c)}),s.qZA(),s.TgZ(19,"img",46),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),c=s.MAs(18);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n13.png"),a.openXL(c)}),s.qZA(),s.TgZ(20,"img",47),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(),c=s.MAs(18);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n14.png"),a.openXL(c)}),s.qZA(),s.TgZ(21,"img",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="Orion"}),s.qZA(),s.qZA()}}function QC(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"div",4),s.TgZ(1,"img",48),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="nebulosaInnovaInfo"}),s.qZA(),s.TgZ(2,"img",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="Orion"}),s.qZA(),s.TgZ(3,"img",7),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="bangLite"}),s.qZA(),s.qZA()}}function Rh(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"div",4),s._UZ(1,"img",49),s._UZ(2,"img",50),s._UZ(3,"img",51),s.TgZ(4,"img",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="nebulosaInnova"}),s.qZA(),s.qZA()}}function XC(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"div",4),s.TgZ(1,"img",52),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="bangLiteInfo"}),s.qZA(),s.TgZ(2,"img",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="nebulosaInnova"}),s.qZA(),s.TgZ(3,"img",7),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="bangColombia"}),s.qZA(),s.qZA()}}function Xm(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"div",4),s.TgZ(1,"img",53),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return a.selectCharacterLite("crispi"),a.section="tarjetaLite"}),s.qZA(),s.TgZ(2,"img",54),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return a.selectCharacterLite("cristal"),a.section="tarjetaLite"}),s.qZA(),s.TgZ(3,"img",55),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return a.selectCharacterLite("cori"),a.section="tarjetaLite"}),s.qZA(),s.TgZ(4,"img",56),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return a.selectCharacterLite("cesia"),a.section="tarjetaLite"}),s.qZA(),s.TgZ(5,"img",57),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return a.selectCharacterLite("carmel"),a.section="tarjetaLite"}),s.qZA(),s.TgZ(6,"img",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="bangLite"}),s.qZA(),s.qZA()}}function vs(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"div",4),s.TgZ(1,"img",58),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="bangColombiaInfo"}),s.qZA(),s.TgZ(2,"img",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="bangLite"}),s.qZA(),s.TgZ(3,"img",7),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="home"}),s.qZA(),s.qZA()}}function eD(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"div",4),s.TgZ(1,"img",59),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return a.selectCharacterLite("quillero"),a.section="tarjetaColombiaLite"}),s.qZA(),s.TgZ(2,"img",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="bangColombia"}),s.qZA(),s.qZA()}}function e_(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"img",61),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).random(10)}),s.qZA()}if(2&t){const e=s.oxw(2);s.MGl("src","../../assets/imgs/Tarjetas/",e.personaje,".png",s.LSH)}}function xh(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"img",61),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).changed()}),s.qZA()}if(2&t){const e=s.oxw(2);s.hYB("src","../../assets/imgs/Tarjetas/",e.personaje,"-",e.num,".png",s.LSH)}}function tD(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"div",4),s.YNc(1,e_,1,1,"img",60),s.YNc(2,xh,1,2,"img",60),s.TgZ(3,"img",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="bangLiteInfo"}),s.qZA(),s.qZA()}if(2&t){const e=s.oxw();s.xp6(1),s.Q6J("ngIf",e.tarjeta),s.xp6(1),s.Q6J("ngIf",e.carta)}}function nD(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"img",61),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).random(10)}),s.qZA()}if(2&t){const e=s.oxw(2);s.MGl("src","../../assets/imgs/BangLiteColombia/t-",e.personaje,".png",s.LSH)}}function iD(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"img",61),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).changed()}),s.qZA()}if(2&t){const e=s.oxw(2);s.hYB("src","../../assets/imgs/BangLiteColombia/t-",e.personaje,"-",e.num,".png",s.LSH)}}function dp(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"div",4),s.YNc(1,nD,1,1,"img",60),s.YNc(2,iD,1,2,"img",60),s.TgZ(3,"img",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().section="bangColombiaInfo"}),s.qZA(),s.qZA()}if(2&t){const e=s.oxw();s.xp6(1),s.Q6J("ngIf",e.tarjeta),s.xp6(1),s.Q6J("ngIf",e.carta)}}function hp(t,n){if(1&t&&(s.TgZ(0,"div"),s._UZ(1,"video",66),s.qZA()),2&t){const e=s.oxw(2);s.xp6(1),s.s9C("src",e.srcVideo,s.LSH)}}function rD(t,n){if(1&t&&(s.TgZ(0,"div"),s._UZ(1,"img",67),s.qZA()),2&t){const e=s.oxw(2);s.xp6(1),s.s9C("src",e.srcImage,s.LSH)}}function oD(t,n){if(1&t&&(s.TgZ(0,"div",68),s.TgZ(1,"div",69),s._UZ(2,"iframe",70),s.qZA(),s.qZA()),2&t){const e=s.oxw(2);s.xp6(2),s.uIk("src",e.srcGame,s.uOi)}}function Q0(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"div",62),s.TgZ(1,"button",63),s.NdJ("click",function(){return s.CHM(e).$implicit.close()}),s._uU(2,"X"),s.qZA(),s.YNc(3,hp,2,1,"div",64),s.YNc(4,rD,2,1,"div",64),s.YNc(5,oD,3,1,"div",65),s.qZA()}if(2&t){const e=s.oxw();s.xp6(3),s.Q6J("ngIf",e.video),s.xp6(1),s.Q6J("ngIf",e.image),s.xp6(1),s.Q6J("ngIf",e.game)}}let X0=(()=>{class t{constructor(e,i){this.modal=e,this.sanitizer=i,this.aux=["","","","","","","","",""],this.personajesArr=["crispi","cesia","cori","carmel","cristal"],this.carta=!1,this.tarjeta=!1,this.video=!1,this.game=!1,this.image=!1,this.tarjetaLite=!1,this.tarjetaColombiaLite=!1,this.closeModal="",this.video=!1,this.game=!1,this.image=!1}ngOnInit(){this.section="home",this.tarjeta=!0}openXL(e){var i=this;return(0,ms.Z)(function*(){i.modal.open(e,{size:"xl"})})()}selectSrcImage(e){this.video=!1,this.game=!1,this.image=!0,this.srcImage=e}selectSrcGame(e){this.urlGame=this.sanitizer.bypassSecurityTrustResourceUrl(e),this.video=!1,this.srcGame=this.urlGame,this.image=!1,this.game=!0}selectSrcVideo(e){this.srcVideo=e,this.image=!1,this.game=!1,this.video=!0}random(e){let i=Math.floor(Math.random()*e+1);this.num=i.toString(),console.log("random[]"," =  ",i),this.carta=!0,this.tarjeta=!1}changed(){this.carta=!1,this.tarjeta=!0}selectCharacterLite(e){this.personaje=e}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(Vm),s.Y36(Ro))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-start"]],decls:19,vars:15,consts:[[1,"embed-container"],["allow","accelerometer; magnetometer; gyroscope","src","https://panoraven.com/es/embed/nhCLZaVWc6"],["class","cont",4,"ngIf"],["contenido",""],[1,"cont"],["src","../../assets/Inicio/Titulo.png","id","Title"],["src","../../assets/imgs/flecha.png",1,"leftArrow",3,"click"],["src","../../assets/imgs/flecha.png",1,"rightArrow",3,"click"],["src","../../assets/imgs/meteoro-game.png","id","Title",3,"click"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 1.png","id","BotonG1"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 2.png","id","BotonG2",3,"click"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 3.png","id","BotonG3",3,"click"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 4.png","id","BotonG4",3,"click"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 5.png","id","BotonG5",3,"click"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 6.png","id","BotonG6"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 8.png","id","BotonG7",3,"click"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 9.png","id","BotonG8"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 13.png","id","BotonG9"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 14.png","id","BotonG10"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 15.png","id","BotonG11"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 16.png","id","BotonG12"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 17.png","id","BotonG13"],["src","../../assets/imgs/supernova.png","id","Title",3,"click"],["src","../../assets/imgs/BOTON1.png","id","BotonV",3,"click"],["src","../../assets/imgs/BOTON2.png","id","BotonV1",3,"click"],["src","../../assets/imgs/BOTON3.png","id","BotonV2",3,"click"],["src","../../assets/imgs/BOTON3.png","id","BotonV3",3,"click"],["src","../../assets/imgs/Librer\xeda ori\xf3n.png","id","Title",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 1.png","id","Boton1"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 2.png","id","Boton2",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 3.png","id","Boton3",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 4.png","id","Boton4",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 5.png","id","Boton5",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 6.png","id","Boton6",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 6A.png","id","Boton6a",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 7A.png","id","Boton7A",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 7B.png","id","Boton7B",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 8A.png","id","Boton8A",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 8B.png","id","Boton8B",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 9A.png","id","Boton9A",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 9B.png","id","Boton9B",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 10A.png","id","Boton10A",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 10B.png","id","Boton10B",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 11.png","id","Boton11",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 11A.png","id","Boton11A",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 12.png","id","Boton12",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 13.png","id","Boton13",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 14.png","id","Boton14",3,"click"],["src","../../assets/imgs/Nebulosa Innova.png","id","Title",3,"click"],["src","../../assets/imgs/Logo_master.png","id","BotonMaster"],["src","../../assets/imgs/Logo_intraemprendedor.png","id","BotonIntraE"],["src","../../assets/imgs/Logo_trainer.png","id","BotonTrainer"],["src","../../assets/imgs/BangLite.png","id","Title",3,"click"],["src","../../assets/imgs/Circulo_CRISPI.png","id","CirculoCrispi",3,"click"],["src","../../assets/imgs/Circulo_CRISTAL.png","id","CirculoCristal",3,"click"],["src","../../assets/imgs/Circulo_CORI.png","id","CirculoCori",3,"click"],["src","../../assets/imgs/Circulo_CESIA.png","id","CirculoCesia",3,"click"],["src","../../assets/imgs/Circulo_CARMEL.png","id","CirculoCarmel",3,"click"],["src","../../assets/imgs/bangColombia.png","id","Title",3,"click"],["src","../../assets/imgs/QUILLERO.png","id","quillero",3,"click"],["id","tarjetaLite",3,"src","click",4,"ngIf"],["id","tarjetaLite",3,"src","click"],[1,"modal-body",2,"margin","0 0 0 -10%"],["type","button",1,"boton","btn","btn-danger",3,"click"],[4,"ngIf"],["class","game",4,"ngIf"],["controls","",1,"image",3,"src"],[1,"infografia",3,"src"],[1,"game"],[2,"position","relative","padding-bottom","56.25%","padding-top","0","height","0"],["frameborder","0","width","1200","height","675","type","text/html","allowscriptaccess","always","allowfullscreen","true","scrolling","yes","allownetworking","all",2,"position","absolute","top","0","left","0","width","100%","height","100%"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"iframe",1),s.YNc(2,q0,4,0,"div",2),s.YNc(3,J0,4,0,"div",2),s.YNc(4,YC,15,0,"div",2),s.YNc(5,K0,4,0,"div",2),s.YNc(6,qC,6,0,"div",2),s.YNc(7,JC,4,0,"div",2),s.YNc(8,KC,22,0,"div",2),s.YNc(9,QC,4,0,"div",2),s.YNc(10,Rh,5,0,"div",2),s.YNc(11,XC,4,0,"div",2),s.YNc(12,Xm,7,0,"div",2),s.YNc(13,vs,4,0,"div",2),s.YNc(14,eD,3,0,"div",2),s.YNc(15,tD,4,2,"div",2),s.YNc(16,dp,4,2,"div",2),s.YNc(17,Q0,6,3,"ng-template",null,3,s.W1O),s.qZA()),2&e&&(s.xp6(2),s.Q6J("ngIf","home"==i.section),s.xp6(1),s.Q6J("ngIf","meteoroGame"==i.section),s.xp6(1),s.Q6J("ngIf","meteoroGameInfo"==i.section),s.xp6(1),s.Q6J("ngIf","superNova"==i.section),s.xp6(1),s.Q6J("ngIf","superNovaInfo"==i.section),s.xp6(1),s.Q6J("ngIf","Orion"==i.section),s.xp6(1),s.Q6J("ngIf","orionInfo"==i.section),s.xp6(1),s.Q6J("ngIf","nebulosaInnova"==i.section),s.xp6(1),s.Q6J("ngIf","nebulosaInnovaInfo"==i.section),s.xp6(1),s.Q6J("ngIf","bangLite"==i.section),s.xp6(1),s.Q6J("ngIf","bangLiteInfo"==i.section),s.xp6(1),s.Q6J("ngIf","bangColombia"==i.section),s.xp6(1),s.Q6J("ngIf","bangColombiaInfo"==i.section),s.xp6(1),s.Q6J("ngIf","tarjetaLite"==i.section),s.xp6(1),s.Q6J("ngIf","tarjetaColombiaLite"==i.section))},directives:[_n],styles:[".embed-container[_ngcontent-%COMP%]{position:relative;padding-bottom:48.79%;height:0;overflow:hidden}.embed-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}iframe[_ngcontent-%COMP%]{width:100%;height:auto}.cont[_ngcontent-%COMP%]{position:fixed;z-index:20}#Title[_ngcontent-%COMP%]{z-index:20;position:fixed;width:30%;left:35%;top:10%}.leftArrow[_ngcontent-%COMP%]{z-index:20;position:fixed;left:10%;bottom:10%;width:11vw;height:auto;transform:scaleX(-1)}.rightArrow[_ngcontent-%COMP%]{z-index:20;position:fixed;right:10%;bottom:10%;width:11vw;height:auto}#orionLib[_ngcontent-%COMP%]{z-index:20;position:fixed;width:80%;left:10%;top:14%}.infografia[_ngcontent-%COMP%]{width:90%}.image[_ngcontent-%COMP%]{width:90%}.game[_ngcontent-%COMP%]{width:90%}.modal-body[_ngcontent-%COMP%]{width:140%;padding:0;margin:0}.MODAL[_ngcontent-%COMP%]{position:absolute}.modal-footer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-shrink:0;align-items:center;justify-content:flex-end;border-top:1px solid #dee2e6;border-bottom-right-radius:calc(0.3rem - 1px);border-bottom-left-radius:calc(0.3rem - 1px);position:absolute;padding-top:1%}.boton[_ngcontent-%COMP%]{position:absolute;z-index:25}#Boton1[_ngcontent-%COMP%]{position:fixed;width:6%;z-index:30;top:43%;left:10.4%}#Boton2[_ngcontent-%COMP%]{position:fixed;width:6%;z-index:30;top:43%;left:17%}#Boton3[_ngcontent-%COMP%]{position:fixed;width:6%;z-index:30;top:43%;left:30.15%}#Boton4[_ngcontent-%COMP%]{position:fixed;width:6%;z-index:30;top:18%;left:50.4%}#Boton5[_ngcontent-%COMP%]{position:fixed;width:6%;z-index:30;top:46%;left:23.6%}#Boton6[_ngcontent-%COMP%]{position:fixed;width:9%;z-index:30;top:57.3%;left:12.5%}#Boton6a[_ngcontent-%COMP%]{position:fixed;width:5.6%;z-index:30;top:57.2%;left:30.4%}#Boton7A[_ngcontent-%COMP%]{position:fixed;width:9%;z-index:30;top:29.2%;left:39%}#Boton7B[_ngcontent-%COMP%]{position:fixed;width:5.6%;z-index:30;top:15.2%;left:44%}#Boton8A[_ngcontent-%COMP%]{position:fixed;width:6%;z-index:30;top:46.5%;left:77.1%}#Boton8B[_ngcontent-%COMP%]{position:fixed;width:9%;z-index:30;top:57.2%;left:66%}#Boton9A[_ngcontent-%COMP%]{position:fixed;width:5.5%;z-index:30;top:29.1%;left:57.2%}#Boton9B[_ngcontent-%COMP%]{position:fixed;width:6%;z-index:30;top:15%;left:57%}#Boton10A[_ngcontent-%COMP%]{position:fixed;width:9%;z-index:30;top:44%;left:39%}#Boton10B[_ngcontent-%COMP%]{position:fixed;width:6%;z-index:30;top:46%;left:83.8%}#Boton11[_ngcontent-%COMP%]{position:fixed;width:5.5%;z-index:30;top:43.5%;left:70.8%}#Boton11A[_ngcontent-%COMP%]{position:fixed;width:5.5%;z-index:30;top:43.5%;left:64.2%}#Boton12[_ngcontent-%COMP%]{position:fixed;width:5.5%;z-index:30;top:15.5%;left:37.4%}#Boton13[_ngcontent-%COMP%]{position:fixed;width:9%;z-index:30;top:57%;left:39%}#Boton14[_ngcontent-%COMP%]{position:fixed;width:9%;z-index:30;top:47%;left:52%}#BotonG1[_ngcontent-%COMP%]{position:fixed;width:20%;z-index:30;top:10%;left:10%}#BotonG2[_ngcontent-%COMP%]{position:fixed;width:12%;z-index:30;top:10%;left:33%}#BotonG3[_ngcontent-%COMP%]{position:fixed;width:12%;z-index:30;top:52%;left:12.5%}#BotonG4[_ngcontent-%COMP%]{position:fixed;width:10%;z-index:30;top:57%;left:30%}#BotonG5[_ngcontent-%COMP%]{position:fixed;width:9%;z-index:30;top:10%;left:46%}#BotonG6[_ngcontent-%COMP%]{position:fixed;width:10%;z-index:30;top:28%;left:32%}#BotonG7[_ngcontent-%COMP%]{position:fixed;width:12%;z-index:30;top:52%;left:41%}#BotonG8[_ngcontent-%COMP%]{position:fixed;width:10%;z-index:30;top:10%;left:57%}#BotonG9[_ngcontent-%COMP%]{position:fixed;width:10%;z-index:30;top:57%;left:55%}#BotonG10[_ngcontent-%COMP%]{position:fixed;width:10%;z-index:30;top:69%;left:41%}#BotonG11[_ngcontent-%COMP%]{position:fixed;width:9%;z-index:30;top:26%;left:68%}#BotonG12[_ngcontent-%COMP%]{position:fixed;width:12%;z-index:30;top:10%;left:68%}#BotonG13[_ngcontent-%COMP%]{position:fixed;width:10%;z-index:30;top:69%;left:66%}#BotonMaster[_ngcontent-%COMP%]{position:fixed;width:15%;z-index:30;top:15%;left:25%}#BotonIntraE[_ngcontent-%COMP%]{position:fixed;width:15%;z-index:30;top:15%;left:42.5%}#BotonTrainer[_ngcontent-%COMP%]{position:fixed;width:15%;z-index:30;top:15%;left:60%}#BotonV[_ngcontent-%COMP%]{position:fixed;width:15%;z-index:30;top:35%;left:18%}#BotonV1[_ngcontent-%COMP%]{position:fixed;width:15%;z-index:30;top:35%;left:34%}#BotonV2[_ngcontent-%COMP%]{position:fixed;width:15%;z-index:30;top:35%;left:50%}#BotonV3[_ngcontent-%COMP%]{position:fixed;width:15%;z-index:30;top:35%;left:66%}#CirculoCrispi[_ngcontent-%COMP%]{position:fixed;width:12%;z-index:30;top:10%;left:45%}#CirculoCarmel[_ngcontent-%COMP%]{position:fixed;width:12%;z-index:30;top:30%;left:59%}#CirculoCesia[_ngcontent-%COMP%]{position:fixed;width:12%;z-index:30;top:30.6%;left:32%}#CirculoCristal[_ngcontent-%COMP%]{position:fixed;width:14%;z-index:30;top:59%;left:53%}#CirculoCori[_ngcontent-%COMP%]{position:fixed;width:14%;z-index:30;top:55%;left:34%}#quillero[_ngcontent-%COMP%]{position:fixed;width:12%;z-index:30;top:40%;left:43%}#tarjetaLite[_ngcontent-%COMP%]{position:fixed;left:41%;top:12%;width:20%}"]}),t})();function t_(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"div",2),s.TgZ(1,"button",3),s.NdJ("click",function(){return s.CHM(e).$implicit.close()}),s._uU(2,"X"),s.qZA(),s._UZ(3,"img",4),s._UZ(4,"video",5),s.TgZ(5,"div",6),s.TgZ(6,"div",7),s._UZ(7,"iframe",8),s.qZA(),s.qZA(),s.qZA()}}const aD=[{path:"",pathMatch:"full",redirectTo:"Space"},{path:"Home",component:Q1},{path:"Space",component:X0},{path:"**",component:(()=>{class t{constructor(e){this.modal=e}ngOnInit(){}openXL(e){this.modal.open(e,{size:"xl"})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(Vm))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-modal"]],decls:7,vars:0,consts:[["contenido",""],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"modal-body",2,"margin","0 0 0 -20%"],["type","button",1,"boton","btn","btn-danger",3,"click"],["src","../../assets/Orion/LibreriaOri\xf3n2.png",1,"image"],["src","../../assets/videos/Capacitaci\xf3n_BANG_Parte_2_Editado.mp4","controls","",1,"image"],[1,"image"],[2,"position","relative","padding-bottom","56.25%","padding-top","0","height","0"],["frameborder","0","width","1200","height","675","src","https://view.genial.ly/61709768d1185b0d7f5fdf9c","type","text/html","allowscriptaccess","always","allowfullscreen","true","scrolling","yes","allownetworking","all",2,"position","absolute","top","0","left","0","width","100%","height","100%"]],template:function(e,i){if(1&e){const a=s.EpF();s.TgZ(0,"h1"),s._uU(1,"Modal"),s.qZA(),s._UZ(2,"hr"),s.YNc(3,t_,8,0,"ng-template",null,0,s.W1O),s.TgZ(5,"button",1),s.NdJ("click",function(){s.CHM(a);const p=s.MAs(4);return i.openXL(p)}),s._uU(6,"lanzar modal XL"),s.qZA()}},styles:[".image[_ngcontent-%COMP%]{width:100%}.modal-body[_ngcontent-%COMP%]{width:140%;padding:0;margin:0}.modal-footer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-shrink:0;align-items:center;justify-content:flex-end;border-top:1px solid #dee2e6;border-bottom-right-radius:calc(0.3rem - 1px);border-bottom-left-radius:calc(0.3rem - 1px);position:absolute;padding-top:1%}.boton[_ngcontent-%COMP%]{position:absolute;z-index:25}"]}),t})()}];let lD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[_u.forRoot(aD)],_u]}),t})(),RT=(()=>{class t{constructor(){this.title="Space-Bang"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},directives:[iu],styles:["*{margin:0;padding:0}"]}),t})();var Hr=k(7905),$r=k(7233),i_=(k(9766),k(6293)),Tc=k(1177),Ic=k(1572),F=k(4213),fp=k(3855);const r_="@firebase/database";let gp="";function o_(t){gp=t}class tb{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,e){null==e?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),(0,F.Pz)(e))}get(n){const e=this.domStorage_.getItem(this.prefixedName_(n));return null==e?null:(0,F.cI)(e)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class nb{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,e){null==e?delete this.cache_[n]:this.cache_[n]=e}get(n){return(0,F.r3)(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const ib=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){const n=window[t];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new tb(n)}}catch(n){}return new nb},Cl=ib("localStorage"),mp=ib("sessionStorage"),ed=new fp.Yd("@firebase/database"),s_=function(){let t=1;return function(){return t++}}(),a_=function(t){const n=(0,F.dS)(t),e=new F.gQ;e.update(n);const i=e.digest();return F.US.encodeByteArray(i)},ci=function(...t){let n="";for(let e=0;e<t.length;e++){const i=t[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=ci.apply(null,i):n+="object"==typeof i?(0,F.Pz)(i):i,n+=" "}return n};let mo=null,rb=!0;const ob=function(t,n){(0,F.hu)(!n||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(ed.logLevel=fp.in.VERBOSE,mo=ed.log.bind(ed),n&&mp.set("logging_enabled",!0)):"function"==typeof t?mo=t:(mo=null,mp.remove("logging_enabled"))},Mi=function(...t){if(!0===rb&&(rb=!1,null===mo&&!0===mp.get("logging_enabled")&&ob(!0)),mo){const n=ci.apply(null,t);mo(n)}},wa=function(t){return function(...n){Mi(t,...n)}},l_=function(...t){const n="FIREBASE INTERNAL ERROR: "+ci(...t);ed.error(n)},_o=function(...t){const n=`FIREBASE FATAL ERROR: ${ci(...t)}`;throw ed.error(n),new Error(n)},cr=function(...t){const n="FIREBASE WARNING: "+ci(...t);ed.warn(n)},_p=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Wo="[MIN_NAME]",zo="[MAX_NAME]",Dl=function(t,n){if(t===n)return 0;if(t===Wo||n===zo)return-1;if(n===Wo||t===zo)return 1;{const e=wp(t),i=wp(n);return null!==e?null!==i?e-i==0?t.length-n.length:e-i:-1:null!==i?1:t<n?-1:1}},yp=function(t,n){return t===n?0:t<n?-1:1},Ac=function(t,n){if(n&&t in n)return n[t];throw new Error("Missing required key ("+t+") in object: "+(0,F.Pz)(n))},ab=function(t){if("object"!=typeof t||null===t)return(0,F.Pz)(t);const n=[];for(const i in t)n.push(i);n.sort();let e="{";for(let i=0;i<n.length;i++)0!==i&&(e+=","),e+=(0,F.Pz)(n[i]),e+=":",e+=ab(t[n[i]]);return e+="}",e},c_=function(t,n){const e=t.length;if(e<=n)return[t];const i=[];for(let a=0;a<e;a+=n)i.push(t.substring(a,a+n>e?e:a+n));return i};function Ei(t,n){for(const e in t)t.hasOwnProperty(e)&&n(e,t[e])}const u_=function(t){(0,F.hu)(!_p(t),"Invalid JSON number");const i=1023;let a,c,p,y,w;0===t?(c=0,p=0,a=1/t==-1/0?1:0):(a=t<0,(t=Math.abs(t))>=Math.pow(2,1-i)?(y=Math.min(Math.floor(Math.log(t)/Math.LN2),i),c=y+i,p=Math.round(t*Math.pow(2,52-y)-Math.pow(2,52))):(c=0,p=Math.round(t/Math.pow(2,-1074))));const A=[];for(w=52;w;w-=1)A.push(p%2?1:0),p=Math.floor(p/2);for(w=11;w;w-=1)A.push(c%2?1:0),c=Math.floor(c/2);A.push(a?1:0),A.reverse();const x=A.join("");let R="";for(w=0;w<64;w+=8){let V=parseInt(x.substr(w,8),2).toString(16);1===V.length&&(V="0"+V),R+=V}return R.toLowerCase()},d_=new RegExp("^-?(0*)\\d{1,10}$"),bp=-2147483648,h_=2147483647,wp=function(t){if(d_.test(t)){const n=Number(t);if(n>=bp&&n<=h_)return n}return null},Sc=function(t){try{t()}catch(n){setTimeout(()=>{throw cr("Exception was thrown by user callback.",n.stack||""),n},Math.floor(0))}},td=function(t,n){const e=setTimeout(t,n);return"object"==typeof e&&e.unref&&e.unref(),e};class dD{constructor(n,e){this.appName_=n,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(i=>this.appCheck=i)}getToken(n){return this.appCheck?this.appCheck.getToken(n):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(e,i):e(null)},0)})}addTokenChangeListener(n){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(n))}notifyForInvalidToken(){cr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ub{constructor(n,e,i){this.appName_=n,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(a=>this.auth_=a)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(e=>e&&"auth/token-not-initialized"===e.code?(Mi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(e,i):e(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(e=>e.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(e=>e.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';n+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',cr(n)}}let nd=(()=>{class t{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const g_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,pb="websocket",gb="long_polling";class Dp{constructor(n,e,i,a,c=!1,p="",y=!1){this.secure=e,this.namespace=i,this.webSocketOnly=a,this.nodeAdmin=c,this.persistenceKey=p,this.includeNamespaceInQueryParams=y,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Cl.get("host:"+n)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Cl.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function hD(t,n,e){let i;if((0,F.hu)("string"==typeof n,"typeof type must == string"),(0,F.hu)("object"==typeof e,"typeof params must == object"),n===pb)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(n!==gb)throw new Error("Unknown connection type: "+n);i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(e.ns=t.namespace);const a=[];return Ei(e,(c,p)=>{a.push(c+"="+p)}),i+a.join("&")}class kT{constructor(){this.counters_={}}incrementCounter(n,e=1){(0,F.r3)(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=e}get(){return(0,F.p$)(this.counters_)}}const mb={},_b={};function yb(t){const n=t.toString();return mb[n]||(mb[n]=new kT),mb[n]}class PT{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,e){this.closeAfterResponse=n,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,e){for(this.pendingResponses[n]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<i.length;++a)i[a]&&Sc(()=>{this.onMessage_(i[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ph{constructor(n,e,i,a,c,p,y){this.connId=n,this.repoInfo=e,this.applicationId=i,this.appCheckToken=a,this.authToken=c,this.transportSessionId=p,this.lastSessionId=y,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=wa(n),this.stats_=yb(e),this.urlFn=w=>(this.appCheckToken&&(w.ac=this.appCheckToken),hD(e,gb,w))}open(n,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new PT(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,F.Yr)()||"complete"===document.readyState)t();else{let n=!1;const e=function(){document.body?n||(n=!0,t()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new C_((...c)=>{const[p,y,w,A,x]=c;if(this.incrementIncomingBytes_(c),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===p)this.id=y,this.password=w;else{if("close"!==p)throw new Error("Unrecognized command received: "+p);y?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(y,()=>{this.onClosed_()})):this.onClosed_()}},(...c)=>{const[p,y]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(p,y)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&g_.test(location.hostname)&&(i.r="f");const a=this.urlFn(i);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ph.forceAllow_=!0}static forceDisallow(){Ph.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!Ph.forceAllow_&&(Ph.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const e=(0,F.Pz)(n);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,F.h$)(e),a=c_(i,1840);for(let c=0;c<a.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[c]),this.curSegmentNum++}addDisconnectPingFrame(n,e){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=n,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const e=(0,F.Pz)(n).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class C_{constructor(n,e,i,a){if(this.onDisconnect=i,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=n,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=s_(),window["pLPCommand"+this.uniqueCallbackIdentifier]=n,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=C_.createIFrame_();let c="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(c='<script>document.domain="'+document.domain+'";<\/script>');const p="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(p),this.myIFrame.doc.close()}catch(y){Mi("frame writing exception"),y.stack&&Mi(y.stack),Mi(y)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(n);try{n.contentWindow.document||Mi("No IE domain setting required")}catch(e){const i=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,e){for(this.myID=n,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n.id=this.myID,n.pw=this.myPW,n.ser=this.currentSerial;let e=this.urlFn(n),i="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const p=this.pendingSegs.shift();i=i+"&seg"+a+"="+p.seg+"&ts"+a+"="+p.ts+"&d"+a+"="+p.d,a++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(n,e,i){this.pendingSegs.push({seg:n,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(n,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(i,Math.floor(25e3));this.addTag(n,()=>{clearTimeout(a),i()})}addTag(n,e){(0,F.Yr)()?this.doNodeLongPoll(n,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=n,i.onload=i.onreadystatechange=function(){const a=i.readyState;(!a||"loaded"===a||"complete"===a)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Mi("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let Ep=null;"undefined"!=typeof MozWebSocket?Ep=MozWebSocket:"undefined"!=typeof WebSocket&&(Ep=WebSocket);let Fh=(()=>{class t{constructor(e,i,a,c,p,y,w){this.connId=e,this.applicationId=a,this.appCheckToken=c,this.authToken=p,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=wa(this.connId),this.stats_=yb(i),this.connURL=t.connectionURL_(i,y,w,c),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,a,c){const p={v:"5"};return!(0,F.Yr)()&&"undefined"!=typeof location&&location.hostname&&g_.test(location.hostname)&&(p.r="f"),i&&(p.s=i),a&&(p.ls=a),c&&(p.ac=c),hD(e,pb,p)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Cl.set("previous_websocket_failure",!0);try{if((0,F.Yr)()){const c={headers:{"User-Agent":`Firebase/5/${gp}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(c.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(c.headers["X-Firebase-AppCheck"]=this.appCheckToken);const p=process.env,y=0===this.connURL.indexOf("wss://")?p.HTTPS_PROXY||p.https_proxy:p.HTTP_PROXY||p.http_proxy;y&&(c.proxy={origin:y}),this.mySock=new Ep(this.connURL,[],c)}else this.mySock=new Ep(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(a){this.log_("Error instantiating WebSocket.");const c=a.message||a.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const c=a.message||a.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==Ep&&!t.forceDisallow_}static previouslyFailed(){return Cl.isInMemoryStorage||!0===Cl.get("previous_websocket_failure")}markConnectionHealthy(){Cl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const a=(0,F.cI)(i);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const a=this.extractFrameCount_(i);null!==a&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const i=(0,F.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=c_(i,16384);a.length>1&&this.sendString_(String(a.length));for(let c=0;c<a.length;c++)this.sendString_(a[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})();class Lh{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Ph,Fh]}initTransports_(n){const e=Fh&&Fh.isAvailable();let i=e&&!Fh.previouslyFailed();if(n.webSocketOnly&&(e||cr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Fh];else{const a=this.transports_=[];for(const c of Lh.ALL_TRANSPORTS)c&&c.isAvailable()&&a.push(c)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class Tp{constructor(n,e,i,a,c,p,y,w,A,x){this.id=n,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=a,this.authToken_=c,this.onMessage_=p,this.onReady_=y,this.onDisconnect_=w,this.onKill_=A,this.lastSessionId=x,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=wa("c:"+this.id+":"),this.transportManager_=new Lh(e),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const a=n.healthyTimeout||0;a>0&&(this.healthyTimeout_=td(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return e=>{n===this.conn_?this.onConnectionLost_(e):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return e=>{2!==this.state_&&(n===this.rx_?this.onPrimaryMessageReceived_(e):n===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(n){this.sendData_({t:"d",d:n})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if("t"in n){const e=n.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const e=Ac("t",n),i=Ac("d",n);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const e=Ac("t",n),i=Ac("d",n);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const e=Ac("t",n);if("d"in n){const i=n.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?l_("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):l_("Unknown control packet command: "+e)}}onHandshake_(n){const e=n.ts,i=n.v,a=n.h;this.sessionId=n.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&cr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),td(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,e){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):td(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,n||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Cl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(n)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class yo{put(n,e,i,a){}merge(n,e,i,a){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,e,i){}onDisconnectMerge(n,e,i){}onDisconnectCancel(n,e){}reportStats(n){}}class Nb{constructor(n){this.allowedEvents_=n,this.listeners_={},(0,F.hu)(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...e){if(Array.isArray(this.listeners_[n])){const i=[...this.listeners_[n]];for(let a=0;a<i.length;a++)i[a].callback.apply(i[a].context,e)}}on(n,e,i){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:e,context:i});const a=this.getInitialEvent(n);a&&e.apply(i,a)}off(n,e,i){this.validateEventType_(n);const a=this.listeners_[n]||[];for(let c=0;c<a.length;c++)if(a[c].callback===e&&(!i||i===a[c].context))return void a.splice(c,1)}validateEventType_(n){(0,F.hu)(this.allowedEvents_.find(e=>e===n),"Unknown event: "+n)}}class Ip extends Nb{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ip}getInitialEvent(n){return(0,F.hu)("online"===n,"Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}class Qt{constructor(n,e){if(void 0===e){this.pieces_=n.split("/");let i=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[i]=this.pieces_[a],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=e}toString(){let n="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(n+="/"+this.pieces_[e]);return n||"/"}}function $t(){return new Qt("")}function Dt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function El(t){return t.pieces_.length-t.pieceNum_}function fn(t){let n=t.pieceNum_;return n<t.pieces_.length&&n++,new Qt(t.pieces_,n)}function Ap(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Bh(t,n=0){return t.pieces_.slice(t.pieceNum_+n)}function xb(t){if(t.pieceNum_>=t.pieces_.length)return null;const n=[];for(let e=t.pieceNum_;e<t.pieces_.length-1;e++)n.push(t.pieces_[e]);return new Qt(n,0)}function Cn(t,n){const e=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);if(n instanceof Qt)for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);else{const i=n.split("/");for(let a=0;a<i.length;a++)i[a].length>0&&e.push(i[a])}return new Qt(e,0)}function mt(t){return t.pieceNum_>=t.pieces_.length}function Ri(t,n){const e=Dt(t),i=Dt(n);if(null===e)return n;if(e===i)return Ri(fn(t),fn(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")}function kb(t,n){const e=Bh(t,0),i=Bh(n,0);for(let a=0;a<e.length&&a<i.length;a++){const c=Dl(e[a],i[a]);if(0!==c)return c}return e.length===i.length?0:e.length<i.length?-1:1}function R_(t,n){if(El(t)!==El(n))return!1;for(let e=t.pieceNum_,i=n.pieceNum_;e<=t.pieces_.length;e++,i++)if(t.pieces_[e]!==n.pieces_[i])return!1;return!0}function Gr(t,n){let e=t.pieceNum_,i=n.pieceNum_;if(El(t)>El(n))return!1;for(;e<t.pieces_.length;){if(t.pieces_[e]!==n.pieces_[i])return!1;++e,++i}return!0}class Ob{constructor(n,e){this.errorPrefix_=e,this.parts_=Bh(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,F.ug)(this.parts_[i]);vD(this)}}function vD(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+rd(t))}function rd(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class Sp extends Nb{constructor(){let n,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",n="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",n="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",n="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[n];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Sp}getInitialEvent(n){return(0,F.hu)("visible"===n,"Unknown event type: "+n),[this.visible_]}}const Vh=1e3;let Mp,Nc=(()=>{class t extends yo{constructor(e,i,a,c,p,y,w,A){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=a,this.onConnectStatus_=c,this.onServerInfoUpdate_=p,this.authTokenProvider_=y,this.appCheckTokenProvider_=w,this.authOverride_=A,this.id=t.nextPersistentConnectionId_++,this.log_=wa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Vh,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,A&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Sp.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Ip.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,a){const c=++this.requestNumber_,p={r:c,a:e,b:i};this.log_((0,F.Pz)(p)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(p),a&&(this.requestCBHash_[c]=a)}get(e){this.initConnection_();const i=new F.BH,a={p:e._path.toString(),q:e._queryObject},c={action:"g",request:a,onComplete:y=>{const w=y.d;"ok"===y.s?(this.onDataUpdate_(a.p,w,!1,null),i.resolve(w)):i.reject(w)}};this.outstandingGets_.push(c),this.outstandingGetCount_++;const p=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const y=this.outstandingGets_[p];void 0===y||c!==y||(delete this.outstandingGets_[p],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+p+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(p),i.promise}listen(e,i,a,c){this.initConnection_();const p=e._queryIdentifier,y=e._path.toString();this.log_("Listen called for "+y+" "+p),this.listens.has(y)||this.listens.set(y,new Map),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(y).has(p),"listen() called twice for same path/queryId.");const w={onComplete:c,hashFn:i,query:e,tag:a};this.listens.get(y).set(p,w),this.connected_&&this.sendListen_(w)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(a)})}sendListen_(e){const i=e.query,a=i._path.toString(),c=i._queryIdentifier;this.log_("Listen on "+a+" for "+c);const p={p:a};e.tag&&(p.q=i._queryObject,p.t=e.tag),p.h=e.hashFn(),this.sendRequest("q",p,w=>{const A=w.d,x=w.s;t.warnOnListenWarnings_(A,i),(this.listens.get(a)&&this.listens.get(a).get(c))===e&&(this.log_("listen response",w),"ok"!==x&&this.removeListen_(a,c),e.onComplete&&e.onComplete(x,A))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,F.r3)(e,"w")){const a=(0,F.DV)(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const c='".indexOn": "'+i._queryParams.getIndex().toString()+'"',p=i._path.toString();cr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${p} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,F.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,F.w9)(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(i,a,c=>{const p=c.s,y=c.d||"error";this.authToken_===e&&("ok"===p?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(p,y))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,a=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,a)})}unlisten(e,i){const a=e._path.toString(),c=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+c),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,c)&&this.connected_&&this.sendUnlisten_(a,c,e._queryObject,i)}sendUnlisten_(e,i,a,c){this.log_("Unlisten on "+e+" for "+i);const p={p:e};c&&(p.q=a,p.t=c),this.sendRequest("n",p)}onDisconnectPut(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:a})}onDisconnectMerge(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:a})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,a,c){const p={p:i,d:a};this.log_("onDisconnect "+e,p),this.sendRequest(e,p,y=>{c&&setTimeout(()=>{c(y.s,y.d)},Math.floor(0))})}put(e,i,a,c){this.putInternal("p",e,i,a,c)}merge(e,i,a,c){this.putInternal("m",e,i,a,c)}putInternal(e,i,a,c,p){this.initConnection_();const y={p:i,d:a};void 0!==p&&(y.h=p),this.outstandingPuts_.push({action:e,request:y,onComplete:c}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,c=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,a,p=>{this.log_(i+" response",p),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),c&&c(p.s,p.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,F.Pz)(e));const i=e.r,a=this.requestCBHash_[i];a&&(delete this.requestCBHash_[i],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):l_("Unrecognized action received from server: "+(0,F.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Vh,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Vh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Vh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,ms.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),a=e.onReady_.bind(e),c=e.onRealtimeDisconnect_.bind(e),p=e.id+":"+t.nextConnectionId_++,y=e.lastSessionId;let w=!1,A=null;const x=function(){A?A.close():(w=!0,c())};e.realtime_={close:x,sendRequest:function(J){(0,F.hu)(A,"sendRequest call when we're not connected not allowed."),A.sendRequest(J)}};const V=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[J,ye]=yield Promise.all([e.authTokenProvider_.getToken(V),e.appCheckTokenProvider_.getToken(V)]);w?Mi("getToken() completed but was canceled"):(Mi("getToken() completed. Creating connection."),e.authToken_=J&&J.accessToken,e.appCheckToken_=ye&&ye.token,A=new Tp(p,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,a,c,Oe=>{cr(Oe+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},y))}catch(J){e.log_("Failed to get token: "+J),w||(e.repoInfo_.nodeAdmin&&cr(J),x())}}})()}interrupt(e){Mi("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Mi("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Vh,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let a;a=i?i.map(p=>ab(p)).join("$"):"default";const c=this.removeListen_(e,a);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(e,i){const a=new Qt(e).toString();let c;if(this.listens.has(a)){const p=this.listens.get(a);c=p.get(i),p.delete(i),0===p.size&&this.listens.delete(a)}else c=void 0;return c}onAuthRevoked_(e,i){Mi("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Mi("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,F.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+gp.replace(/\./g,"-")]=1,(0,F.uI)()?e["framework.cordova"]=1:(0,F.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ip.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&e}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class bt{constructor(n,e){this.name=n,this.node=e}static Wrap(n,e){return new bt(n,e)}}class Np{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,e){const i=new bt(Wo,n),a=new bt(Wo,e);return 0!==this.compare(i,a)}minPost(){return bt.MIN}}class x_ extends Np{static get __EMPTY_NODE(){return Mp}static set __EMPTY_NODE(n){Mp=n}compare(n,e){return Dl(n.name,e.name)}isDefinedOn(n){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,e){return!1}minPost(){return bt.MIN}maxPost(){return new bt(zo,Mp)}makePost(n,e){return(0,F.hu)("string"==typeof n,"KeyIndex indexValue must always be a string."),new bt(n,Mp)}toString(){return".key"}}const Gi=new x_;class Uh{constructor(n,e,i,a,c=null){this.isReverse_=a,this.resultGenerator_=c,this.nodeStack_=[];let p=1;for(;!n.isEmpty();)if(n=n,p=e?i(n.key,e):1,a&&(p*=-1),p<0)n=this.isReverse_?n.left:n.right;else{if(0===p){this.nodeStack_.push(n);break}this.nodeStack_.push(n),n=this.isReverse_?n.right:n.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,n=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}let Rp,Wr=(()=>{class t{constructor(e,i,a,c,p){this.key=e,this.value=i,this.color=null!=a?a:t.RED,this.left=null!=c?c:Ir.EMPTY_NODE,this.right=null!=p?p:Ir.EMPTY_NODE}copy(e,i,a,c,p){return new t(null!=e?e:this.key,null!=i?i:this.value,null!=a?a:this.color,null!=c?c:this.left,null!=p?p:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let c=this;const p=a(e,c.key);return c=p<0?c.copy(null,null,null,c.left.insert(e,i,a),null):0===p?c.copy(null,i,null,null,null):c.copy(null,null,null,null,c.right.insert(e,i,a)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ir.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let a,c;if(a=this,i(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===i(e,a.key)){if(a.right.isEmpty())return Ir.EMPTY_NODE;c=a.right.min_(),a=a.copy(c.key,c.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,i))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class Ir{constructor(n,e=Ir.EMPTY_NODE){this.comparator_=n,this.root_=e}insert(n,e){return new Ir(this.comparator_,this.root_.insert(n,e,this.comparator_).copy(null,null,Wr.BLACK,null,null))}remove(n){return new Ir(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,Wr.BLACK,null,null))}get(n){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(n,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(n){let e,i=this.root_,a=null;for(;!i.isEmpty();){if(e=this.comparator_(n,i.key),0===e){if(i.left.isEmpty())return a?a.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(a=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new Uh(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,e){return new Uh(this.root_,n,this.comparator_,!1,e)}getReverseIteratorFrom(n,e){return new Uh(this.root_,n,this.comparator_,!0,e)}getReverseIterator(n){return new Uh(this.root_,null,this.comparator_,!0,n)}}function O_(t,n){return Dl(t.name,n.name)}function Hh(t,n){return Dl(t,n)}Ir.EMPTY_NODE=new class{copy(n,e,i,a,c){return this}insert(n,e,i){return new Wr(n,e,null)}remove(n,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const ED=function(t){return"number"==typeof t?"number:"+u_(t):"string:"+t},TD=function(t){if(t.isLeafNode()){const n=t.val();(0,F.hu)("string"==typeof n||"number"==typeof n||"object"==typeof n&&(0,F.r3)(n,".sv"),"Priority must be a string or number.")}else(0,F.hu)(t===Rp||t.isEmpty(),"priority of unexpected type.");(0,F.hu)(t===Rp||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ID,AD,SD,$h=(()=>{class t{constructor(e,i=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),TD(this.priorityNode_)}static set __childrenNodeConstructor(e){ID=e}static get __childrenNodeConstructor(){return ID}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new t(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return mt(e)?this:".priority"===Dt(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const a=Dt(e);return null===a?i:i.isEmpty()&&".priority"!==a?this:((0,F.hu)(".priority"!==a||1===El(e),".priority must be the last token in a path"),this.updateImmediateChild(a,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(fn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+ED(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?u_(this.value_):this.value_,this.lazyHash_=a_(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:((0,F.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,a=typeof this.value_,c=t.VALUE_TYPE_ORDER.indexOf(i),p=t.VALUE_TYPE_ORDER.indexOf(a);return(0,F.hu)(c>=0,"Unknown leaf type: "+i),(0,F.hu)(p>=0,"Unknown leaf type: "+a),c===p?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:p-c}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const pn=new class extends Np{compare(n,e){const i=n.node.getPriority(),a=e.node.getPriority(),c=i.compareTo(a);return 0===c?Dl(n.name,e.name):c}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,e){return!n.getPriority().equals(e.getPriority())}minPost(){return bt.MIN}maxPost(){return new bt(zo,new $h("[PRIORITY-POST]",SD))}makePost(n,e){const i=AD(n);return new bt(e,new $h("[PRIORITY-POST]",i))}toString(){return".priority"}},MD=Math.log(2);class RD{constructor(n){this.count=parseInt(Math.log(n+1)/MD,10),this.current_=this.count-1;const a=(c=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=n+1&a}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const jh=function(t,n,e,i){t.sort(n);const a=function(w,A){const x=A-w;let R,V;if(0===x)return null;if(1===x)return R=t[w],V=e?e(R):R,new Wr(V,R.node,Wr.BLACK,null,null);{const J=parseInt(x/2,10)+w,ye=a(w,J),Oe=a(J+1,A);return R=t[J],V=e?e(R):R,new Wr(V,R.node,Wr.BLACK,ye,Oe)}},y=function(w){let A=null,x=null,R=t.length;const V=function(ye,Oe){const qe=R-ye,Nt=R;R-=ye;const _t=a(qe+1,Nt),Bn=t[qe],Gt=e?e(Bn):Bn;J(new Wr(Gt,Bn.node,Oe,null,_t))},J=function(ye){A?(A.left=ye,A=ye):(x=ye,A=ye)};for(let ye=0;ye<w.count;++ye){const Oe=w.nextBitIsOne(),qe=Math.pow(2,w.count-(ye+1));Oe?V(qe,Wr.BLACK):(V(qe,Wr.BLACK),V(qe,Wr.RED))}return x}(new RD(t.length));return new Ir(i||n,y)};let xp;const Mc={};class Ca{constructor(n,e){this.indexes_=n,this.indexSet_=e}static get Default(){return(0,F.hu)(Mc&&pn,"ChildrenNode.ts has not been loaded"),xp=xp||new Ca({".priority":Mc},{".priority":pn}),xp}get(n){const e=(0,F.DV)(this.indexes_,n);if(!e)throw new Error("No index defined for "+n);return e instanceof Ir?e:null}hasIndex(n){return(0,F.r3)(this.indexSet_,n.toString())}addIndex(n,e){(0,F.hu)(n!==Gi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let a=!1;const c=e.getIterator(bt.Wrap);let y,p=c.getNext();for(;p;)a=a||n.isDefinedOn(p.node),i.push(p),p=c.getNext();y=a?jh(i,n.getCompare()):Mc;const w=n.toString(),A=Object.assign({},this.indexSet_);A[w]=n;const x=Object.assign({},this.indexes_);return x[w]=y,new Ca(x,A)}addToIndexes(n,e){const i=(0,F.UI)(this.indexes_,(a,c)=>{const p=(0,F.DV)(this.indexSet_,c);if((0,F.hu)(p,"Missing index implementation for "+c),a===Mc){if(p.isDefinedOn(n.node)){const y=[],w=e.getIterator(bt.Wrap);let A=w.getNext();for(;A;)A.name!==n.name&&y.push(A),A=w.getNext();return y.push(n),jh(y,p.getCompare())}return Mc}{const y=e.get(n.name);let w=a;return y&&(w=w.remove(new bt(n.name,y))),w.insert(n,n.node)}});return new Ca(i,this.indexSet_)}removeFromIndexes(n,e){const i=(0,F.UI)(this.indexes_,a=>{if(a===Mc)return a;{const c=e.get(n.name);return c?a.remove(new bt(n.name,c)):a}});return new Ca(i,this.indexSet_)}}let Gh,pt=(()=>{class t{constructor(e,i,a){this.children_=e,this.priorityNode_=i,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&TD(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Gh||(Gh=new t(new Ir(Hh),null,Ca.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Gh}updatePriority(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?Gh:i}}getChild(e){const i=Dt(e);return null===i?this:this.getImmediateChild(i).getChild(fn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,F.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const a=new bt(e,i);let c,p;i.isEmpty()?(c=this.children_.remove(e),p=this.indexMap_.removeFromIndexes(a,this.children_)):(c=this.children_.insert(e,i),p=this.indexMap_.addToIndexes(a,this.children_));const y=c.isEmpty()?Gh:this.priorityNode_;return new t(c,y,p)}}updateChild(e,i){const a=Dt(e);if(null===a)return i;{(0,F.hu)(".priority"!==Dt(e)||1===El(e),".priority must be the last token in a path");const c=this.getImmediateChild(a).updateChild(fn(e),i);return this.updateImmediateChild(a,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let a=0,c=0,p=!0;if(this.forEachChild(pn,(y,w)=>{i[y]=w.val(e),a++,p&&t.INTEGER_REGEXP_.test(y)?c=Math.max(c,Number(y)):p=!1}),!e&&p&&c<2*a){const y=[];for(const w in i)y[w]=i[w];return y}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+ED(this.getPriority().val())+":"),this.forEachChild(pn,(i,a)=>{const c=a.hash();""!==c&&(e+=":"+i+":"+c)}),this.lazyHash_=""===e?"":a_(e)}return this.lazyHash_}getPredecessorChildName(e,i,a){const c=this.resolveIndex_(a);if(c){const p=c.getPredecessorKey(new bt(e,i));return p?p.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new bt(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new bt(i,this.children_.get(i)):null}forEachChild(e,i){const a=this.resolveIndex_(e);return a?a.inorderTraversal(c=>i(c.name,c.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(e,c=>c);{const c=this.children_.getIteratorFrom(e.name,bt.Wrap);let p=c.peek();for(;null!=p&&i.compare(p,e)<0;)c.getNext(),p=c.peek();return c}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(e,c=>c);{const c=this.children_.getReverseIteratorFrom(e.name,bt.Wrap);let p=c.peek();for(;null!=p&&i.compare(p,e)>0;)c.getNext(),p=c.peek();return c}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Wh?-1:0}withIndex(e){if(e===Gi||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Gi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const a=this.getIterator(pn),c=i.getIterator(pn);let p=a.getNext(),y=c.getNext();for(;p&&y;){if(p.name!==y.name||!p.node.equals(y.node))return!1;p=a.getNext(),y=c.getNext()}return null===p&&null===y}return!1}return!1}}resolveIndex_(e){return e===Gi?null:this.indexMap_.get(e.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const Wh=new class extends pt{constructor(){super(new Ir(Hh),pt.EMPTY_NODE,Ca.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return pt.EMPTY_NODE}isEmpty(){return!1}};function gn(t,n=null){if(null===t)return pt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(n=t[".priority"]),(0,F.hu)(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new $h(t,gn(n));if(t instanceof Array){let e=pt.EMPTY_NODE;return Ei(t,(i,a)=>{if((0,F.r3)(t,i)&&"."!==i.substring(0,1)){const c=gn(a);(c.isLeafNode()||!c.isEmpty())&&(e=e.updateImmediateChild(i,c))}}),e.updatePriority(gn(n))}{const e=[];let i=!1;if(Ei(t,(p,y)=>{if("."!==p.substring(0,1)){const w=gn(y);w.isEmpty()||(i=i||!w.getPriority().isEmpty(),e.push(new bt(p,w)))}}),0===e.length)return pt.EMPTY_NODE;const c=jh(e,O_,p=>p.name,Hh);if(i){const p=jh(e,pn.getCompare());return new pt(c,gn(n),new Ca({".priority":p},{".priority":pn}))}return new pt(c,gn(n),Ca.Default)}}Object.defineProperties(bt,{MIN:{value:new bt(Wo,pt.EMPTY_NODE)},MAX:{value:new bt(zo,Wh)}}),x_.__EMPTY_NODE=pt.EMPTY_NODE,$h.__childrenNodeConstructor=pt,Rp=Wh,SD=Wh,function(t){AD=t}(gn);class P_ extends Np{constructor(n){super(),this.indexPath_=n,(0,F.hu)(!mt(n)&&".priority"!==Dt(n),"Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,e){const i=this.extractChild(n.node),a=this.extractChild(e.node),c=i.compareTo(a);return 0===c?Dl(n.name,e.name):c}makePost(n,e){const i=gn(n),a=pt.EMPTY_NODE.updateChild(this.indexPath_,i);return new bt(e,a)}maxPost(){const n=pt.EMPTY_NODE.updateChild(this.indexPath_,Wh);return new bt(zo,n)}toString(){return Bh(this.indexPath_,0).join("/")}}const F_=new class extends Np{compare(n,e){const i=n.node.compareTo(e.node);return 0===i?Dl(n.name,e.name):i}isDefinedOn(n){return!0}indexedValueChanged(n,e){return!n.equals(e)}minPost(){return bt.MIN}maxPost(){return bt.MAX}makePost(n,e){const i=gn(n);return new bt(e,i)}toString(){return".value"}},od="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",kD=function(){let t=0;const n=[];return function(e){const i=e===t;let a;t=e;const c=new Array(8);for(a=7;a>=0;a--)c[a]=od.charAt(e%64),e=Math.floor(e/64);(0,F.hu)(0===e,"Cannot push at time == 0");let p=c.join("");if(i){for(a=11;a>=0&&63===n[a];a--)n[a]=0;n[a]++}else for(a=0;a<12;a++)n[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)p+=od.charAt(n[a]);return(0,F.hu)(20===p.length,"nextPushId: Length should be 20."),p}}(),Hb=function(t){if(t===""+h_)return"-";const n=wp(t);if(null!=n)return""+(n+1);const e=new Array(t.length);for(let p=0;p<e.length;p++)e[p]=t.charAt(p);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return zo;const c=od.charAt(od.indexOf(e[i])+1);return e[i]=c,e.slice(0,i+1).join("")},$b=function(t){if(t===""+bp)return Wo;const n=wp(t);if(null!=n)return""+(n-1);const e=new Array(t.length);for(let i=0;i<e.length;i++)e[i]=t.charAt(i);return"-"===e[e.length-1]?1===e.length?""+h_:(delete e[e.length-1],e.join("")):(e[e.length-1]=od.charAt(od.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function jb(t){return{type:"value",snapshotNode:t}}function sd(t,n){return{type:"child_added",snapshotNode:n,childName:t}}function zh(t,n){return{type:"child_removed",snapshotNode:n,childName:t}}function Op(t,n,e){return{type:"child_changed",snapshotNode:n,childName:t,oldSnap:e}}class Gb{constructor(n){this.index_=n}updateChild(n,e,i,a,c,p){(0,F.hu)(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const y=n.getImmediateChild(e);return y.getChild(a).equals(i.getChild(a))&&y.isEmpty()===i.isEmpty()||(null!=p&&(i.isEmpty()?n.hasChild(e)?p.trackChildChange(zh(e,y)):(0,F.hu)(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):y.isEmpty()?p.trackChildChange(sd(e,i)):p.trackChildChange(Op(e,i,y))),n.isLeafNode()&&i.isEmpty())?n:n.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(n,e,i){return null!=i&&(n.isLeafNode()||n.forEachChild(pn,(a,c)=>{e.hasChild(a)||i.trackChildChange(zh(a,c))}),e.isLeafNode()||e.forEachChild(pn,(a,c)=>{if(n.hasChild(a)){const p=n.getImmediateChild(a);p.equals(c)||i.trackChildChange(Op(a,c,p))}else i.trackChildChange(sd(a,c))})),e.withIndex(this.index_)}updatePriority(n,e){return n.isEmpty()?pt.EMPTY_NODE:n.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Pp{constructor(n){this.indexedFilter_=new Gb(n.getIndex()),this.index_=n.getIndex(),this.startPost_=Pp.getStartPost_(n),this.endPost_=Pp.getEndPost_(n)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){return this.index_.compare(this.getStartPost(),n)<=0&&this.index_.compare(n,this.getEndPost())<=0}updateChild(n,e,i,a,c,p){return this.matches(new bt(e,i))||(i=pt.EMPTY_NODE),this.indexedFilter_.updateChild(n,e,i,a,c,p)}updateFullNode(n,e,i){e.isLeafNode()&&(e=pt.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(pt.EMPTY_NODE);const c=this;return e.forEachChild(pn,(p,y)=>{c.matches(new bt(p,y))||(a=a.updateImmediateChild(p,pt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,a,i)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const e=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),e)}return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const e=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),e)}return n.getIndex().maxPost()}}class WT{constructor(n){this.rangedFilter_=new Pp(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft()}updateChild(n,e,i,a,c,p){return this.rangedFilter_.matches(new bt(e,i))||(i=pt.EMPTY_NODE),n.getImmediateChild(e).equals(i)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,e,i,a,c,p):this.fullLimitUpdateChild_(n,e,i,c,p)}updateFullNode(n,e,i){let a;if(e.isLeafNode()||e.isEmpty())a=pt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let c;a=pt.EMPTY_NODE.withIndex(this.index_),c=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let p=0;for(;c.hasNext()&&p<this.limit_;){const y=c.getNext();let w;if(w=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),y)<=0:this.index_.compare(y,this.rangedFilter_.getEndPost())<=0,!w)break;a=a.updateImmediateChild(y.name,y.node),p++}}else{let c,p,y,w;if(a=e.withIndex(this.index_),a=a.updatePriority(pt.EMPTY_NODE),this.reverse_){w=a.getReverseIterator(this.index_),c=this.rangedFilter_.getEndPost(),p=this.rangedFilter_.getStartPost();const R=this.index_.getCompare();y=(V,J)=>R(J,V)}else w=a.getIterator(this.index_),c=this.rangedFilter_.getStartPost(),p=this.rangedFilter_.getEndPost(),y=this.index_.getCompare();let A=0,x=!1;for(;w.hasNext();){const R=w.getNext();!x&&y(c,R)<=0&&(x=!0),x&&A<this.limit_&&y(R,p)<=0?A++:a=a.updateImmediateChild(R.name,pt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,a,i)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,e,i,a,c){let p;if(this.reverse_){const R=this.index_.getCompare();p=(V,J)=>R(J,V)}else p=this.index_.getCompare();const y=n;(0,F.hu)(y.numChildren()===this.limit_,"");const w=new bt(e,i),A=this.reverse_?y.getFirstChild(this.index_):y.getLastChild(this.index_),x=this.rangedFilter_.matches(w);if(y.hasChild(e)){const R=y.getImmediateChild(e);let V=a.getChildAfterChild(this.index_,A,this.reverse_);for(;null!=V&&(V.name===e||y.hasChild(V.name));)V=a.getChildAfterChild(this.index_,V,this.reverse_);const J=null==V?1:p(V,w);if(x&&!i.isEmpty()&&J>=0)return null!=c&&c.trackChildChange(Op(e,i,R)),y.updateImmediateChild(e,i);{null!=c&&c.trackChildChange(zh(e,R));const Oe=y.updateImmediateChild(e,pt.EMPTY_NODE);return null!=V&&this.rangedFilter_.matches(V)?(null!=c&&c.trackChildChange(sd(V.name,V.node)),Oe.updateImmediateChild(V.name,V.node)):Oe}}return i.isEmpty()?n:x&&p(A,w)>=0?(null!=c&&(c.trackChildChange(zh(A.name,A.node)),c.trackChildChange(sd(e,i))),y.updateImmediateChild(e,i).updateImmediateChild(A.name,pt.EMPTY_NODE)):n}}class Fp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=pn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Wo}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:zo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===pn}copy(){const n=new Fp;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function Wb(t,n,e){const i=t.copy();return i.startSet_=!0,void 0===n&&(n=null),i.indexStartValue_=n,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function o(t,n,e){const i=t.copy();return i.endSet_=!0,void 0===n&&(n=null),i.indexEndValue_=n,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function u(t,n){const e=t.copy();return e.index_=n,e}function d(t){const n={};if(t.isDefault())return n;let e;return t.index_===pn?e="$priority":t.index_===F_?e="$value":t.index_===Gi?e="$key":((0,F.hu)(t.index_ instanceof P_,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=(0,F.Pz)(e),t.startSet_&&(n.startAt=(0,F.Pz)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+(0,F.Pz)(t.indexStartName_))),t.endSet_&&(n.endAt=(0,F.Pz)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+(0,F.Pz)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_),n}function g(t){const n={};if(t.startSet_&&(n.sp=t.indexStartValue_,t.startNameSet_&&(n.sn=t.indexStartName_)),t.endSet_&&(n.ep=t.indexEndValue_,t.endNameSet_&&(n.en=t.indexEndName_)),t.limitSet_){n.l=t.limit_;let e=t.viewFrom_;""===e&&(e=t.isViewFromLeft()?"l":"r"),n.vf=e}return t.index_!==pn&&(n.i=t.index_.toString()),n}class _ extends yo{constructor(n,e,i,a){super(),this.repoInfo_=n,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=a,this.log_=wa("p:rest:"),this.listens_={}}reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,e){return void 0!==e?"tag$"+e:((0,F.hu)(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}listen(n,e,i,a){const c=n._path.toString();this.log_("Listen called for "+c+" "+n._queryIdentifier);const p=_.getListenId_(n,i),y={};this.listens_[p]=y;const w=d(n._queryParams);this.restRequest_(c+".json",w,(A,x)=>{let R=x;if(404===A&&(R=null,A=null),null===A&&this.onDataUpdate_(c,R,!1,i),(0,F.DV)(this.listens_,p)===y){let V;V=A?401===A?"permission_denied":"rest_error:"+A:"ok",a(V,null)}})}unlisten(n,e){const i=_.getListenId_(n,e);delete this.listens_[i]}get(n){const e=d(n._queryParams),i=n._path.toString(),a=new F.BH;return this.restRequest_(i+".json",e,(c,p)=>{let y=p;404===c&&(y=null,c=null),null===c?(this.onDataUpdate_(i,y,!1,null),a.resolve(y)):a.reject(new Error(y))}),a.promise}refreshAuthToken(n){}restRequest_(n,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,c])=>{a&&a.accessToken&&(e.auth=a.accessToken),c&&c.token&&(e.ac=c.token);const p=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+(0,F.xO)(e);this.log_("Sending REST request for "+p);const y=new XMLHttpRequest;y.onreadystatechange=()=>{if(i&&4===y.readyState){this.log_("REST Response for "+p+" received. status:",y.status,"response:",y.responseText);let w=null;if(y.status>=200&&y.status<300){try{w=(0,F.cI)(y.responseText)}catch(A){cr("Failed to parse JSON response for "+p+": "+y.responseText)}i(null,w)}else 401!==y.status&&404!==y.status&&cr("Got unsuccessful REST response for "+p+" Status: "+y.status),i(y.status);i=null}},y.open("GET",p,!0),y.send()})}}class b{constructor(){this.rootNode_=pt.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,e){this.rootNode_=this.rootNode_.updateChild(n,e)}}function C(){return{value:null,children:new Map}}function I(t,n,e){if(mt(n))t.value=e,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(n,e);else{const i=Dt(n);t.children.has(i)||t.children.set(i,C()),I(t.children.get(i),n=fn(n),e)}}function N(t,n){if(mt(n))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;{const e=t.value;return t.value=null,e.forEachChild(pn,(i,a)=>{I(t,new Qt(i),a)}),N(t,n)}}if(t.children.size>0){const e=Dt(n);return n=fn(n),t.children.has(e)&&N(t.children.get(e),n)&&t.children.delete(e),0===t.children.size}return!0}function P(t,n,e){null!==t.value?e(n,t.value):function(t,n){t.children.forEach((e,i)=>{n(i,e)})}(t,(i,a)=>{P(a,new Qt(n.toString()+"/"+i),e)})}class q{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),e=Object.assign({},n);return this.last_&&Ei(this.last_,(i,a)=>{e[i]=e[i]-a}),this.last_=n,e}}class Ye{constructor(n,e){this.server_=e,this.statsToReport_={},this.statsListener_=new q(n);const i=1e4+2e4*Math.random();td(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const n=this.statsListener_.get(),e={};let i=!1;Ei(n,(a,c)=>{c>0&&(0,F.r3)(this.statsToReport_,a)&&(e[a]=c,i=!0)}),i&&this.server_.reportStats(e),td(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var _e=(()=>(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(_e||(_e={})),_e))();function jt(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class Wi{constructor(n,e,i){this.path=n,this.affectedTree=e,this.revert=i,this.type=_e.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(n){if(mt(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Qt(n));return new Wi($t(),e,this.revert)}}return(0,F.hu)(Dt(this.path)===n,"operationForChild called for unrelated child."),new Wi(fn(this.path),this.affectedTree,this.revert)}}class Zo{constructor(n,e){this.source=n,this.path=e,this.type=_e.LISTEN_COMPLETE}operationForChild(n){return mt(this.path)?new Zo(this.source,$t()):new Zo(this.source,fn(this.path))}}class Da{constructor(n,e,i){this.source=n,this.path=e,this.snap=i,this.type=_e.OVERWRITE}operationForChild(n){return mt(this.path)?new Da(this.source,$t(),this.snap.getImmediateChild(n)):new Da(this.source,fn(this.path),this.snap)}}class Tl{constructor(n,e,i){this.source=n,this.path=e,this.children=i,this.type=_e.MERGE}operationForChild(n){if(mt(this.path)){const e=this.children.subtree(new Qt(n));return e.isEmpty()?null:e.value?new Da(this.source,$t(),e.value):new Tl(this.source,$t(),e)}return(0,F.hu)(Dt(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new Tl(this.source,fn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class bs{constructor(n,e,i){this.node_=n,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(mt(n))return this.isFullyInitialized()&&!this.filtered_;const e=Dt(n);return this.isCompleteForChild(e)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class L_{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function Rc(t,n,e,i,a,c){const p=i.filter(y=>y.type===e);p.sort((y,w)=>function(t,n,e){if(null==n.childName||null==e.childName)throw(0,F.g5)("Should only compare child_ events.");const i=new bt(n.childName,n.snapshotNode),a=new bt(e.childName,e.snapshotNode);return t.index_.compare(i,a)}(t,y,w)),p.forEach(y=>{const w=function(t,n,e){return"value"===n.type||"child_removed"===n.type||(n.prevName=e.getPredecessorChildName(n.childName,n.snapshotNode,t.index_)),n}(t,y,c);a.forEach(A=>{A.respondsTo(y.type)&&n.push(A.createEvent(w,t.query_))})})}function ad(t,n){return{eventCache:t,serverCache:n}}function H_(t,n,e,i){return ad(new bs(n,e,i),t.serverCache)}function qT(t,n,e,i){return ad(t.eventCache,new bs(n,e,i))}function zb(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Zh(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let OD;class Nn{constructor(n,e=(()=>(OD||(OD=new Ir(yp)),OD))()){this.value=n,this.children=e}static fromObject(n){let e=new Nn(null);return Ei(n,(i,a)=>{e=e.set(new Qt(i),a)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,e){if(null!=this.value&&e(this.value))return{path:$t(),value:this.value};if(mt(n))return null;{const i=Dt(n),a=this.children.get(i);if(null!==a){const c=a.findRootMostMatchingPathAndValue(fn(n),e);return null!=c?{path:Cn(new Qt(i),c.path),value:c.value}:null}return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(mt(n))return this;{const e=Dt(n),i=this.children.get(e);return null!==i?i.subtree(fn(n)):new Nn(null)}}set(n,e){if(mt(n))return new Nn(e,this.children);{const i=Dt(n),c=(this.children.get(i)||new Nn(null)).set(fn(n),e),p=this.children.insert(i,c);return new Nn(this.value,p)}}remove(n){if(mt(n))return this.children.isEmpty()?new Nn(null):new Nn(null,this.children);{const e=Dt(n),i=this.children.get(e);if(i){const a=i.remove(fn(n));let c;return c=a.isEmpty()?this.children.remove(e):this.children.insert(e,a),null===this.value&&c.isEmpty()?new Nn(null):new Nn(this.value,c)}return this}}get(n){if(mt(n))return this.value;{const e=Dt(n),i=this.children.get(e);return i?i.get(fn(n)):null}}setTree(n,e){if(mt(n))return e;{const i=Dt(n),c=(this.children.get(i)||new Nn(null)).setTree(fn(n),e);let p;return p=c.isEmpty()?this.children.remove(i):this.children.insert(i,c),new Nn(this.value,p)}}fold(n){return this.fold_($t(),n)}fold_(n,e){const i={};return this.children.inorderTraversal((a,c)=>{i[a]=c.fold_(Cn(n,a),e)}),e(n,this.value,i)}findOnPath(n,e){return this.findOnPath_(n,$t(),e)}findOnPath_(n,e,i){const a=!!this.value&&i(e,this.value);if(a)return a;if(mt(n))return null;{const c=Dt(n),p=this.children.get(c);return p?p.findOnPath_(fn(n),Cn(e,c),i):null}}foreachOnPath(n,e){return this.foreachOnPath_(n,$t(),e)}foreachOnPath_(n,e,i){if(mt(n))return this;{this.value&&i(e,this.value);const a=Dt(n),c=this.children.get(a);return c?c.foreachOnPath_(fn(n),Cn(e,a),i):new Nn(null)}}foreach(n){this.foreach_($t(),n)}foreach_(n,e){this.children.inorderTraversal((i,a)=>{a.foreach_(Cn(n,i),e)}),this.value&&e(n,this.value)}foreachChild(n){this.children.inorderTraversal((e,i)=>{i.value&&n(e,i.value)})}}class Ea{constructor(n){this.writeTree_=n}static empty(){return new Ea(new Nn(null))}}function $_(t,n,e){if(mt(n))return new Ea(new Nn(e));{const i=t.writeTree_.findRootMostValueAndPath(n);if(null!=i){const a=i.path;let c=i.value;const p=Ri(a,n);return c=c.updateChild(p,e),new Ea(t.writeTree_.set(a,c))}{const a=new Nn(e),c=t.writeTree_.setTree(n,a);return new Ea(c)}}}function PD(t,n,e){let i=t;return Ei(e,(a,c)=>{i=$_(i,Cn(n,a),c)}),i}function JT(t,n){if(mt(n))return Ea.empty();{const e=t.writeTree_.setTree(n,new Nn(null));return new Ea(e)}}function FD(t,n){return null!=Yh(t,n)}function Yh(t,n){const e=t.writeTree_.findRootMostValueAndPath(n);return null!=e?t.writeTree_.get(e.path).getChild(Ri(e.path,n)):null}function KT(t){const n=[],e=t.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(pn,(i,a)=>{n.push(new bt(i,a))}):t.writeTree_.children.inorderTraversal((i,a)=>{null!=a.value&&n.push(new bt(i,a.value))}),n}function ld(t,n){if(mt(n))return t;{const e=Yh(t,n);return new Ea(null!=e?new Nn(e):t.writeTree_.subtree(n))}}function LD(t){return t.writeTree_.isEmpty()}function Lp(t,n){return QT($t(),t.writeTree_,n)}function QT(t,n,e){if(null!=n.value)return e.updateChild(t,n.value);{let i=null;return n.children.inorderTraversal((a,c)=>{".priority"===a?((0,F.hu)(null!==c.value,"Priority writes must always be leaf nodes"),i=c.value):e=QT(Cn(t,a),c,e)}),!e.getChild(t).isEmpty()&&null!==i&&(e=e.updateChild(Cn(t,".priority"),i)),e}}function Zb(t,n){return iI(n,t)}function cS(t,n){if(t.snap)return Gr(t.path,n);for(const e in t.children)if(t.children.hasOwnProperty(e)&&Gr(Cn(t.path,e),n))return!0;return!1}function dS(t){return t.visible}function XT(t,n,e){let i=Ea.empty();for(let a=0;a<t.length;++a){const c=t[a];if(n(c)){const p=c.path;let y;if(c.snap)Gr(e,p)?(y=Ri(e,p),i=$_(i,y,c.snap)):Gr(p,e)&&(y=Ri(p,e),i=$_(i,$t(),c.snap.getChild(y)));else{if(!c.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(Gr(e,p))y=Ri(e,p),i=PD(i,y,c.children);else if(Gr(p,e))if(y=Ri(p,e),mt(y))i=PD(i,$t(),c.children);else{const w=(0,F.DV)(c.children,Dt(y));if(w){const A=w.getChild(fn(y));i=$_(i,$t(),A)}}}}}return i}function eI(t,n,e,i,a){if(i||a){const c=ld(t.visibleWrites,n);return!a&&LD(c)?e:a||null!=e||FD(c,$t())?Lp(XT(t.allWrites,function(A){return(A.visible||a)&&(!i||!~i.indexOf(A.writeId))&&(Gr(A.path,n)||Gr(n,A.path))},n),e||pt.EMPTY_NODE):null}{const c=Yh(t.visibleWrites,n);if(null!=c)return c;{const p=ld(t.visibleWrites,n);return LD(p)?e:null!=e||FD(p,$t())?Lp(p,e||pt.EMPTY_NODE):null}}}function Yb(t,n,e,i){return eI(t.writeTree,t.treePath,n,e,i)}function BD(t,n){return function(t,n,e){let i=pt.EMPTY_NODE;const a=Yh(t.visibleWrites,n);if(a)return a.isLeafNode()||a.forEachChild(pn,(c,p)=>{i=i.updateImmediateChild(c,p)}),i;if(e){const c=ld(t.visibleWrites,n);return e.forEachChild(pn,(p,y)=>{const w=Lp(ld(c,new Qt(p)),y);i=i.updateImmediateChild(p,w)}),KT(c).forEach(p=>{i=i.updateImmediateChild(p.name,p.node)}),i}return KT(ld(t.visibleWrites,n)).forEach(p=>{i=i.updateImmediateChild(p.name,p.node)}),i}(t.writeTree,t.treePath,n)}function tI(t,n,e,i){return function(t,n,e,i,a){(0,F.hu)(i||a,"Either existingEventSnap or existingServerSnap must exist");const c=Cn(n,e);if(FD(t.visibleWrites,c))return null;{const p=ld(t.visibleWrites,c);return LD(p)?a.getChild(e):Lp(p,a.getChild(e))}}(t.writeTree,t.treePath,n,e,i)}function qb(t,n){return function(t,n){return Yh(t.visibleWrites,n)}(t.writeTree,Cn(t.treePath,n))}function VD(t,n,e){return function(t,n,e,i){const a=Cn(n,e),c=Yh(t.visibleWrites,a);return null!=c?c:i.isCompleteForChild(e)?Lp(ld(t.visibleWrites,a),i.getNode().getImmediateChild(e)):null}(t.writeTree,t.treePath,n,e)}function nI(t,n){return iI(Cn(t.treePath,n),t.writeTree)}function iI(t,n){return{treePath:t,writeTree:n}}class vS{constructor(){this.changeMap=new Map}trackChildChange(n){const e=n.type,i=n.childName;(0,F.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(i);if(a){const c=a.type;if("child_added"===e&&"child_removed"===c)this.changeMap.set(i,Op(i,n.snapshotNode,a.snapshotNode));else if("child_removed"===e&&"child_added"===c)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===c)this.changeMap.set(i,zh(i,a.oldSnap));else if("child_changed"===e&&"child_added"===c)this.changeMap.set(i,sd(i,n.snapshotNode));else{if("child_changed"!==e||"child_changed"!==c)throw(0,F.g5)("Illegal combination of changes: "+n+" occurred after "+a);this.changeMap.set(i,Op(i,n.snapshotNode,a.oldSnap))}}else this.changeMap.set(i,n)}getChanges(){return Array.from(this.changeMap.values())}}const rI=new class{getCompleteChild(n){return null}getChildAfterChild(n,e,i){return null}};class UD{constructor(n,e,i=null){this.writes_=n,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(n){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(n))return e.getNode().getImmediateChild(n);{const i=null!=this.optCompleteServerCache_?new bs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return VD(this.writes_,n,i)}}getChildAfterChild(n,e,i){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Zh(this.viewCache_),c=function(t,n,e,i,a,c){return function(t,n,e,i,a,c,p){let y;const w=ld(t.visibleWrites,n),A=Yh(w,$t());if(null!=A)y=A;else{if(null==e)return[];y=Lp(w,e)}if(y=y.withIndex(p),y.isEmpty()||y.isLeafNode())return[];{const x=[],R=p.getCompare(),V=c?y.getReverseIteratorFrom(i,p):y.getIteratorFrom(i,p);let J=V.getNext();for(;J&&x.length<a;)0!==R(J,i)&&x.push(J),J=V.getNext();return x}}(t.writeTree,t.treePath,n,e,i,a,c)}(this.writes_,a,e,1,i,n);return 0===c.length?null:c[0]}}function oI(t,n,e,i,a,c){const p=n.eventCache;if(null!=qb(i,e))return n;{let y,w;if(mt(e))if((0,F.hu)(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const A=Zh(n),R=BD(i,A instanceof pt?A:pt.EMPTY_NODE);y=t.filter.updateFullNode(n.eventCache.getNode(),R,c)}else{const A=Yb(i,Zh(n));y=t.filter.updateFullNode(n.eventCache.getNode(),A,c)}else{const A=Dt(e);if(".priority"===A){(0,F.hu)(1===El(e),"Can't have a priority with additional path components");const x=p.getNode();w=n.serverCache.getNode();const R=tI(i,e,x,w);y=null!=R?t.filter.updatePriority(x,R):p.getNode()}else{const x=fn(e);let R;if(p.isCompleteForChild(A)){w=n.serverCache.getNode();const V=tI(i,e,p.getNode(),w);R=null!=V?p.getNode().getImmediateChild(A).updateChild(x,V):p.getNode().getImmediateChild(A)}else R=VD(i,A,n.serverCache);y=null!=R?t.filter.updateChild(p.getNode(),A,R,x,a,c):p.getNode()}}return H_(n,y,p.isFullyInitialized()||mt(e),t.filter.filtersNodes())}}function Jb(t,n,e,i,a,c,p,y){const w=n.serverCache;let A;const x=p?t.filter:t.filter.getIndexedFilter();if(mt(e))A=x.updateFullNode(w.getNode(),i,null);else if(x.filtersNodes()&&!w.isFiltered()){const J=w.getNode().updateChild(e,i);A=x.updateFullNode(w.getNode(),J,null)}else{const J=Dt(e);if(!w.isCompleteForPath(e)&&El(e)>1)return n;const ye=fn(e),qe=w.getNode().getImmediateChild(J).updateChild(ye,i);A=".priority"===J?x.updatePriority(w.getNode(),qe):x.updateChild(w.getNode(),J,qe,ye,rI,null)}const R=qT(n,A,w.isFullyInitialized()||mt(e),x.filtersNodes());return oI(t,R,e,a,new UD(a,R,c),y)}function HD(t,n,e,i,a,c,p){const y=n.eventCache;let w,A;const x=new UD(a,n,c);if(mt(e))A=t.filter.updateFullNode(n.eventCache.getNode(),i,p),w=H_(n,A,!0,t.filter.filtersNodes());else{const R=Dt(e);if(".priority"===R)A=t.filter.updatePriority(n.eventCache.getNode(),i),w=H_(n,A,y.isFullyInitialized(),y.isFiltered());else{const V=fn(e),J=y.getNode().getImmediateChild(R);let ye;if(mt(V))ye=i;else{const Oe=x.getCompleteChild(R);ye=null!=Oe?".priority"===Ap(V)&&Oe.getChild(xb(V)).isEmpty()?Oe:Oe.updateChild(V,i):pt.EMPTY_NODE}w=J.equals(ye)?n:H_(n,t.filter.updateChild(y.getNode(),R,ye,V,x,p),y.isFullyInitialized(),t.filter.filtersNodes())}}return w}function sI(t,n){return t.eventCache.isCompleteForChild(n)}function aI(t,n,e){return e.foreach((i,a)=>{n=n.updateChild(i,a)}),n}function $D(t,n,e,i,a,c,p,y){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let A,w=n;A=mt(e)?i:new Nn(null).setTree(e,i);const x=n.serverCache.getNode();return A.children.inorderTraversal((R,V)=>{if(x.hasChild(R)){const ye=aI(0,n.serverCache.getNode().getImmediateChild(R),V);w=Jb(t,w,new Qt(R),ye,a,c,p,y)}}),A.children.inorderTraversal((R,V)=>{const J=!n.serverCache.isCompleteForChild(R)&&void 0===V.value;if(!x.hasChild(R)&&!J){const Oe=aI(0,n.serverCache.getNode().getImmediateChild(R),V);w=Jb(t,w,new Qt(R),Oe,a,c,p,y)}}),w}class NS{constructor(n,e){this.query_=n,this.eventRegistrations_=[];const i=this.query_._queryParams,a=new Gb(i.getIndex()),c=function(t){return t.loadsAllData()?new Gb(t.getIndex()):t.hasLimit()?new WT(t):new Pp(t)}(i);this.processor_=function(t){return{filter:t}}(c);const p=e.serverCache,y=e.eventCache,w=a.updateFullNode(pt.EMPTY_NODE,p.getNode(),null),A=c.updateFullNode(pt.EMPTY_NODE,y.getNode(),null),x=new bs(w,p.isFullyInitialized(),a.filtersNodes()),R=new bs(A,y.isFullyInitialized(),c.filtersNodes());this.viewCache_=ad(R,x),this.eventGenerator_=new L_(this.query_)}get query(){return this.query_}}function xS(t,n){const e=Zh(t.viewCache_);return e&&(t.query._queryParams.loadsAllData()||!mt(n)&&!e.getImmediateChild(Dt(n)).isEmpty())?e.getChild(n):null}function lI(t){return 0===t.eventRegistrations_.length}function cI(t,n,e){const i=[];if(e){(0,F.hu)(null==n,"A cancel should cancel all event registrations.");const a=t.query._path;t.eventRegistrations_.forEach(c=>{const p=c.createCancelEvent(e,a);p&&i.push(p)})}if(n){let a=[];for(let c=0;c<t.eventRegistrations_.length;++c){const p=t.eventRegistrations_[c];if(p.matches(n)){if(n.hasAnyCallback()){a=a.concat(t.eventRegistrations_.slice(c+1));break}}else a.push(p)}t.eventRegistrations_=a}else t.eventRegistrations_=[];return i}function uI(t,n,e,i){n.type===_e.MERGE&&null!==n.source.queryId&&((0,F.hu)(Zh(t.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(zb(t.viewCache_),"Missing event cache, even though we have a server cache"));const a=t.viewCache_,c=function(t,n,e,i,a){const c=new vS;let p,y;if(e.type===_e.OVERWRITE){const A=e;A.source.fromUser?p=HD(t,n,A.path,A.snap,i,a,c):((0,F.hu)(A.source.fromServer,"Unknown source."),y=A.source.tagged||n.serverCache.isFiltered()&&!mt(A.path),p=Jb(t,n,A.path,A.snap,i,a,y,c))}else if(e.type===_e.MERGE){const A=e;A.source.fromUser?p=function(t,n,e,i,a,c,p){let y=n;return i.foreach((w,A)=>{const x=Cn(e,w);sI(n,Dt(x))&&(y=HD(t,y,x,A,a,c,p))}),i.foreach((w,A)=>{const x=Cn(e,w);sI(n,Dt(x))||(y=HD(t,y,x,A,a,c,p))}),y}(t,n,A.path,A.children,i,a,c):((0,F.hu)(A.source.fromServer,"Unknown source."),y=A.source.tagged||n.serverCache.isFiltered(),p=$D(t,n,A.path,A.children,i,a,y,c))}else if(e.type===_e.ACK_USER_WRITE){const A=e;p=A.revert?function(t,n,e,i,a,c){let p;if(null!=qb(i,e))return n;{const y=new UD(i,n,a),w=n.eventCache.getNode();let A;if(mt(e)||".priority"===Dt(e)){let x;if(n.serverCache.isFullyInitialized())x=Yb(i,Zh(n));else{const R=n.serverCache.getNode();(0,F.hu)(R instanceof pt,"serverChildren would be complete if leaf node"),x=BD(i,R)}x=x,A=t.filter.updateFullNode(w,x,c)}else{const x=Dt(e);let R=VD(i,x,n.serverCache);null==R&&n.serverCache.isCompleteForChild(x)&&(R=w.getImmediateChild(x)),A=null!=R?t.filter.updateChild(w,x,R,fn(e),y,c):n.eventCache.getNode().hasChild(x)?t.filter.updateChild(w,x,pt.EMPTY_NODE,fn(e),y,c):w,A.isEmpty()&&n.serverCache.isFullyInitialized()&&(p=Yb(i,Zh(n)),p.isLeafNode()&&(A=t.filter.updateFullNode(A,p,c)))}return p=n.serverCache.isFullyInitialized()||null!=qb(i,$t()),H_(n,A,p,t.filter.filtersNodes())}}(t,n,A.path,i,a,c):function(t,n,e,i,a,c,p){if(null!=qb(a,e))return n;const y=n.serverCache.isFiltered(),w=n.serverCache;if(null!=i.value){if(mt(e)&&w.isFullyInitialized()||w.isCompleteForPath(e))return Jb(t,n,e,w.getNode().getChild(e),a,c,y,p);if(mt(e)){let A=new Nn(null);return w.getNode().forEachChild(Gi,(x,R)=>{A=A.set(new Qt(x),R)}),$D(t,n,e,A,a,c,y,p)}return n}{let A=new Nn(null);return i.foreach((x,R)=>{const V=Cn(e,x);w.isCompleteForPath(V)&&(A=A.set(x,w.getNode().getChild(V)))}),$D(t,n,e,A,a,c,y,p)}}(t,n,A.path,A.affectedTree,i,a,c)}else{if(e.type!==_e.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+e.type);p=function(t,n,e,i,a){const c=n.serverCache;return oI(t,qT(n,c.getNode(),c.isFullyInitialized()||mt(e),c.isFiltered()),e,i,rI,a)}(t,n,e.path,i,c)}const w=c.getChanges();return function(t,n,e){const i=n.eventCache;if(i.isFullyInitialized()){const a=i.getNode().isLeafNode()||i.getNode().isEmpty(),c=zb(t);(e.length>0||!t.eventCache.isFullyInitialized()||a&&!i.getNode().equals(c)||!i.getNode().getPriority().equals(c.getPriority()))&&e.push(jb(zb(n)))}}(n,p,w),{viewCache:p,changes:w}}(t.processor_,a,n,e,i);return function(t,n){(0,F.hu)(n.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(n.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,c.viewCache),(0,F.hu)(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=c.viewCache,dI(t,c.changes,c.viewCache.eventCache.getNode(),null)}function dI(t,n,e,i){return function(t,n,e,i){const a=[],c=[];return n.forEach(p=>{"child_changed"===p.type&&t.index_.indexedValueChanged(p.oldSnap,p.snapshotNode)&&c.push(function(t,n){return{type:"child_moved",snapshotNode:n,childName:t}}(p.childName,p.snapshotNode))}),Rc(t,a,"child_removed",n,i,e),Rc(t,a,"child_added",n,i,e),Rc(t,a,"child_moved",c,i,e),Rc(t,a,"child_changed",n,i,e),Rc(t,a,"value",n,i,e),a}(t.eventGenerator_,n,e,i?[i]:t.eventRegistrations_)}let Kb,Xb;class hI{constructor(){this.views=new Map}}function jD(t,n,e,i){const a=n.source.queryId;if(null!==a){const c=t.views.get(a);return(0,F.hu)(null!=c,"SyncTree gave us an op for an invalid query."),uI(c,n,e,i)}{let c=[];for(const p of t.views.values())c=c.concat(uI(p,n,e,i));return c}}function fI(t,n,e,i,a){const p=t.views.get(n._queryIdentifier);if(!p){let y=Yb(e,a?i:null),w=!1;y?w=!0:i instanceof pt?(y=BD(e,i),w=!1):(y=pt.EMPTY_NODE,w=!1);const A=ad(new bs(y,w,!1),new bs(i,a,!1));return new NS(n,A)}return p}function pI(t){const n=[];for(const e of t.views.values())e.query._queryParams.loadsAllData()||n.push(e);return n}function cd(t,n){let e=null;for(const i of t.views.values())e=e||xS(i,n);return e}function gI(t,n){return n._queryParams.loadsAllData()?Qb(t):t.views.get(n._queryIdentifier)}function mI(t,n){return null!=gI(t,n)}function ud(t){return null!=Qb(t)}function Qb(t){for(const n of t.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let $S=1;class _I{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Nn(null),this.pendingWriteTree_={visibleWrites:Ea.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function GD(t,n,e,i,a){return function(t,n,e,i,a){(0,F.hu)(i>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),t.allWrites.push({path:n,snap:e,writeId:i,visible:a}),a&&(t.visibleWrites=$_(t.visibleWrites,n,e)),t.lastWriteId=i}(t.pendingWriteTree_,n,e,i,a),a?Bp(t,new Da({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,e)):[]}function dd(t,n,e=!1){const i=function(t,n){for(let e=0;e<t.allWrites.length;e++){const i=t.allWrites[e];if(i.writeId===n)return i}return null}(t.pendingWriteTree_,n);if(function(t,n){const e=t.allWrites.findIndex(y=>y.writeId===n);(0,F.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[e];t.allWrites.splice(e,1);let a=i.visible,c=!1,p=t.allWrites.length-1;for(;a&&p>=0;){const y=t.allWrites[p];y.visible&&(p>=e&&cS(y,i.path)?a=!1:Gr(i.path,y.path)&&(c=!0)),p--}return!!a&&(c?(function(t){t.visibleWrites=XT(t.allWrites,dS,$t()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(i.snap?t.visibleWrites=JT(t.visibleWrites,i.path):Ei(i.children,w=>{t.visibleWrites=JT(t.visibleWrites,Cn(i.path,w))}),!0))}(t.pendingWriteTree_,n)){let c=new Nn(null);return null!=i.snap?c=c.set($t(),!0):Ei(i.children,p=>{c=c.set(new Qt(p),!0)}),Bp(t,new Wi(i.path,c,e))}return[]}function j_(t,n,e){return Bp(t,new Da({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,e))}function WD(t,n,e,i){const a=n._path,c=t.syncPointTree_.get(a);let p=[];if(c&&("default"===n._queryIdentifier||mI(c,n))){const y=function(t,n,e,i){const a=n._queryIdentifier,c=[];let p=[];const y=ud(t);if("default"===a)for(const[w,A]of t.views.entries())p=p.concat(cI(A,e,i)),lI(A)&&(t.views.delete(w),A.query._queryParams.loadsAllData()||c.push(A.query));else{const w=t.views.get(a);w&&(p=p.concat(cI(w,e,i)),lI(w)&&(t.views.delete(a),w.query._queryParams.loadsAllData()||c.push(w.query)))}return y&&!ud(t)&&c.push(new((0,F.hu)(Kb,"Reference.ts has not been loaded"),Kb)(n._repo,n._path)),{removed:c,events:p}}(c,n,e,i);(function(t){return 0===t.views.size})(c)&&(t.syncPointTree_=t.syncPointTree_.remove(a));const w=y.removed;p=y.events;const A=-1!==w.findIndex(R=>R._queryParams.loadsAllData()),x=t.syncPointTree_.findOnPath(a,(R,V)=>ud(V));if(A&&!x){const R=t.syncPointTree_.subtree(a);if(!R.isEmpty()){const V=function(t){return t.fold((n,e,i)=>{if(e&&ud(e))return[Qb(e)];{let a=[];return e&&(a=pI(e)),Ei(i,(c,p)=>{a=a.concat(p)}),a}})}(R);for(let J=0;J<V.length;++J){const ye=V[J],Oe=ye.query,qe=wI(t,ye);t.listenProvider_.startListening(G_(Oe),t1(t,Oe),qe.hashFn,qe.onComplete)}}}if(!x&&w.length>0&&!i)if(A){const R=null;t.listenProvider_.stopListening(G_(n),R)}else w.forEach(R=>{const V=t.queryToTagMap.get(n1(R));t.listenProvider_.stopListening(G_(R),V)});!function(t,n){for(let e=0;e<n.length;++e){const i=n[e];if(!i._queryParams.loadsAllData()){const a=n1(i),c=t.queryToTagMap.get(a);t.queryToTagMap.delete(a),t.tagToQueryMap.delete(c)}}}(t,w)}return p}function yI(t,n,e){const i=n._path;let a=null,c=!1;t.syncPointTree_.foreachOnPath(i,(R,V)=>{const J=Ri(R,i);a=a||cd(V,J),c=c||ud(V)});let y,p=t.syncPointTree_.get(i);p?(c=c||ud(p),a=a||cd(p,$t())):(p=new hI,t.syncPointTree_=t.syncPointTree_.set(i,p)),null!=a?y=!0:(y=!1,a=pt.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((V,J)=>{const ye=cd(J,$t());ye&&(a=a.updateImmediateChild(V,ye))}));const w=mI(p,n);if(!w&&!n._queryParams.loadsAllData()){const R=n1(n);(0,F.hu)(!t.queryToTagMap.has(R),"View does not exist, but we have a tag");const V=$S++;t.queryToTagMap.set(R,V),t.tagToQueryMap.set(V,R)}let x=function(t,n,e,i,a,c){const p=fI(t,n,i,a,c);return t.views.has(n._queryIdentifier)||t.views.set(n._queryIdentifier,p),function(t,n){t.eventRegistrations_.push(n)}(p,e),function(t,n){const e=t.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(pn,(c,p)=>{i.push(sd(c,p))}),e.isFullyInitialized()&&i.push(jb(e.getNode())),dI(t,i,e.getNode(),n)}(p,e)}(p,n,e,Zb(t.pendingWriteTree_,i),a,y);if(!w&&!c){const R=gI(p,n);x=x.concat(function(t,n,e){const i=n._path,a=t1(t,n),c=wI(t,e),p=t.listenProvider_.startListening(G_(n),a,c.hashFn,c.onComplete),y=t.syncPointTree_.subtree(i);if(a)(0,F.hu)(!ud(y.value),"If we're adding a query, it shouldn't be shadowed");else{const w=y.fold((A,x,R)=>{if(!mt(A)&&x&&ud(x))return[Qb(x).query];{let V=[];return x&&(V=V.concat(pI(x).map(J=>J.query))),Ei(R,(J,ye)=>{V=V.concat(ye)}),V}});for(let A=0;A<w.length;++A){const x=w[A];t.listenProvider_.stopListening(G_(x),t1(t,x))}}return p}(t,n,R))}return x}function e1(t,n,e){const a=t.pendingWriteTree_,c=t.syncPointTree_.findOnPath(n,(p,y)=>{const A=cd(y,Ri(p,n));if(A)return A});return eI(a,n,c,e,!0)}function Bp(t,n){return vI(n,t.syncPointTree_,null,Zb(t.pendingWriteTree_,$t()))}function vI(t,n,e,i){if(mt(t.path))return bI(t,n,e,i);{const a=n.get($t());null==e&&null!=a&&(e=cd(a,$t()));let c=[];const p=Dt(t.path),y=t.operationForChild(p),w=n.children.get(p);if(w&&y){const A=e?e.getImmediateChild(p):null,x=nI(i,p);c=c.concat(vI(y,w,A,x))}return a&&(c=c.concat(jD(a,t,i,e))),c}}function bI(t,n,e,i){const a=n.get($t());null==e&&null!=a&&(e=cd(a,$t()));let c=[];return n.children.inorderTraversal((p,y)=>{const w=e?e.getImmediateChild(p):null,A=nI(i,p),x=t.operationForChild(p);x&&(c=c.concat(bI(x,y,w,A)))}),a&&(c=c.concat(jD(a,t,i,e))),c}function wI(t,n){const e=n.query,i=t1(t,e);return{hashFn:()=>(function(t){return t.viewCache_.serverCache.getNode()}(n)||pt.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return i?function(t,n,e){const i=zD(t,e);if(i){const a=ZD(i),c=a.path,p=a.queryId,y=Ri(c,n);return YD(t,c,new Zo(jt(p),y))}return[]}(t,e._path,i):function(t,n){return Bp(t,new Zo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n))}(t,e._path);{const c=function(t,n){let e="Unknown Error";"too_big"===t?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?e="Client doesn't have permission to access the desired data.":"unavailable"===t&&(e="The service is unavailable");const i=new Error(t+" at "+n._path.toString()+": "+e);return i.code=t.toUpperCase(),i}(a,e);return WD(t,e,null,c)}}}}function t1(t,n){const e=n1(n);return t.queryToTagMap.get(e)}function n1(t){return t._path.toString()+"$"+t._queryIdentifier}function zD(t,n){return t.tagToQueryMap.get(n)}function ZD(t){const n=t.indexOf("$");return(0,F.hu)(-1!==n&&n<t.length-1,"Bad queryKey."),{queryId:t.substr(n+1),path:new Qt(t.substr(0,n))}}function YD(t,n,e){const i=t.syncPointTree_.get(n);return(0,F.hu)(i,"Missing sync point for query tag that we're tracking"),jD(i,e,Zb(t.pendingWriteTree_,n),null)}function G_(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new((0,F.hu)(Xb,"Reference.ts has not been loaded"),Xb)(t._repo,t._path):t}class qD{constructor(n){this.node_=n}getImmediateChild(n){const e=this.node_.getImmediateChild(n);return new qD(e)}node(){return this.node_}}class JD{constructor(n,e){this.syncTree_=n,this.path_=e}getImmediateChild(n){const e=Cn(this.path_,n);return new JD(this.syncTree_,e)}node(){return e1(this.syncTree_,this.path_)}}const CI=function(t,n,e){return t&&"object"==typeof t?((0,F.hu)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?tN(t[".sv"],n,e):"object"==typeof t[".sv"]?nN(t[".sv"],n):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},tN=function(t,n,e){if("timestamp"===t)return e.timestamp;(0,F.hu)(!1,"Unexpected server value: "+t)},nN=function(t,n,e){t.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;"number"!=typeof i&&(0,F.hu)(!1,"Unexpected increment value: "+i);const a=n.node();if((0,F.hu)(null!=a,"Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return i;const p=a.getValue();return"number"!=typeof p?i:p+i},DI=function(t,n,e,i){return QD(n,new JD(e,t),i)},KD=function(t,n,e){return QD(t,new qD(n),e)};function QD(t,n,e){const i=t.getPriority().val(),a=CI(i,n.getImmediateChild(".priority"),e);let c;if(t.isLeafNode()){const p=t,y=CI(p.getValue(),n,e);return y!==p.getValue()||a!==p.getPriority().val()?new $h(y,gn(a)):t}{const p=t;return c=p,a!==p.getPriority().val()&&(c=c.updatePriority(new $h(a))),p.forEachChild(pn,(y,w)=>{const A=QD(w,n.getImmediateChild(y),e);A!==w&&(c=c.updateImmediateChild(y,A))}),c}}class XD{constructor(n="",e=null,i={children:{},childCount:0}){this.name=n,this.parent=e,this.node=i}}function i1(t,n){let e=n instanceof Qt?n:new Qt(n),i=t,a=Dt(e);for(;null!==a;){const c=(0,F.DV)(i.node.children,a)||{children:{},childCount:0};i=new XD(a,i,c),e=fn(e),a=Dt(e)}return i}function qh(t){return t.node.value}function eE(t,n){t.node.value=n,tE(t)}function EI(t){return t.node.childCount>0}function r1(t,n){Ei(t.node.children,(e,i)=>{n(new XD(e,t,i))})}function TI(t,n,e,i){e&&!i&&n(t),r1(t,a=>{TI(a,n,!0,i)}),e&&i&&n(t)}function W_(t){return new Qt(null===t.parent?t.name:W_(t.parent)+"/"+t.name)}function tE(t){null!==t.parent&&function(t,n,e){const i=function(t){return void 0===qh(t)&&!EI(t)}(e),a=(0,F.r3)(t.node.children,n);i&&a?(delete t.node.children[n],t.node.childCount--,tE(t)):!i&&!a&&(t.node.children[n]=e.node,t.node.childCount++,tE(t))}(t.parent,t.name,t)}const sN=/[\[\].#$\/\u0000-\u001F\u007F]/,aN=/[\[\].#$\u0000-\u001F\u007F]/,nE=10485760,o1=function(t){return"string"==typeof t&&0!==t.length&&!sN.test(t)},II=function(t){return"string"==typeof t&&0!==t.length&&!aN.test(t)},z_=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!_p(t)||t&&"object"==typeof t&&(0,F.r3)(t,".sv")},Il=function(t,n,e,i){i&&void 0===n||Z_((0,F.gK)(t,"value"),n,e)},Z_=function(t,n,e){const i=e instanceof Qt?new Ob(e,t):e;if(void 0===n)throw new Error(t+"contains undefined "+rd(i));if("function"==typeof n)throw new Error(t+"contains a function "+rd(i)+" with contents = "+n.toString());if(_p(n))throw new Error(t+"contains "+n.toString()+" "+rd(i));if("string"==typeof n&&n.length>nE/3&&(0,F.ug)(n)>nE)throw new Error(t+"contains a string greater than "+nE+" utf8 bytes "+rd(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){let a=!1,c=!1;if(Ei(n,(p,y)=>{if(".value"===p)a=!0;else if(".priority"!==p&&".sv"!==p&&(c=!0,!o1(p)))throw new Error(t+" contains an invalid key ("+p+") "+rd(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(t,n){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(n),t.byteLength_+=(0,F.ug)(n),vD(t)})(i,p),Z_(t,y,i),function(t){const n=t.parts_.pop();t.byteLength_-=(0,F.ug)(n),t.parts_.length>0&&(t.byteLength_-=1)}(i)}),a&&c)throw new Error(t+' contains ".value" child '+rd(i)+" in addition to actual children.")}},AI=function(t,n,e,i){if(i&&void 0===n)return;const a=(0,F.gK)(t,"values");if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(a+" must be an object containing the children to replace.");const c=[];Ei(n,(p,y)=>{const w=new Qt(p);if(Z_(a,y,Cn(e,w)),".priority"===Ap(w)&&!z_(y))throw new Error(a+"contains an invalid value for '"+w.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(w)}),function(t,n){let e,i;for(e=0;e<n.length;e++){i=n[e];const c=Bh(i);for(let p=0;p<c.length;p++)if((".priority"!==c[p]||p!==c.length-1)&&!o1(c[p]))throw new Error(t+"contains an invalid key ("+c[p]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}n.sort(kb);let a=null;for(e=0;e<n.length;e++){if(i=n[e],null!==a&&Gr(a,i))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+i.toString());a=i}}(a,c)},iE=function(t,n,e){if(!e||void 0!==n){if(_p(n))throw new Error((0,F.gK)(t,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!z_(n))throw new Error((0,F.gK)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Y_=function(t,n,e,i){if(!(i&&void 0===e||o1(e)))throw new Error((0,F.gK)(t,n)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},q_=function(t,n,e,i){if(!(i&&void 0===e||II(e)))throw new Error((0,F.gK)(t,n)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ws=function(t,n){if(".info"===Dt(n))throw new Error(t+" failed = Can't modify data under /.info/")},SI=function(t,n){const e=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!o1(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==e.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),II(t)}(e))throw new Error((0,F.gK)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class dN{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function s1(t,n){let e=null;for(let i=0;i<n.length;i++){const a=n[i],c=a.getPath();null!==e&&!R_(c,e.path)&&(t.eventLists_.push(e),e=null),null===e&&(e={events:[],path:c}),e.events.push(a)}e&&t.eventLists_.push(e)}function rE(t,n,e){s1(t,e),NI(t,i=>R_(i,n))}function Cs(t,n,e){s1(t,e),NI(t,i=>Gr(i,n)||Gr(n,i))}function NI(t,n){t.recursionDepth_++;let e=!0;for(let i=0;i<t.eventLists_.length;i++){const a=t.eventLists_[i];a&&(n(a.path)?(hN(t.eventLists_[i]),t.eventLists_[i]=null):e=!1)}e&&(t.eventLists_=[]),t.recursionDepth_--}function hN(t){for(let n=0;n<t.events.length;n++){const e=t.events[n];if(null!==e){t.events[n]=null;const i=e.getEventRunner();mo&&Mi("event: "+e.toString()),Sc(i)}}}const MI="repo_interrupt";class pN{constructor(n,e,i,a){this.repoInfo_=n,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new dN,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=C(),this.transactionQueueTree_=new XD,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function RI(t){const e=t.infoData_.getNode(new Qt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function J_(t){return function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t}({timestamp:RI(t)})}function xI(t,n,e,i,a){t.dataUpdateCount++;const c=new Qt(n);e=t.interceptServerDataCallback_?t.interceptServerDataCallback_(n,e):e;let p=[];if(a)if(i){const w=(0,F.UI)(e,A=>gn(A));p=function(t,n,e,i){const a=zD(t,i);if(a){const c=ZD(a),p=c.path,y=c.queryId,w=Ri(p,n),A=Nn.fromObject(e);return YD(t,p,new Tl(jt(y),w,A))}return[]}(t.serverSyncTree_,c,w,a)}else{const w=gn(e);p=function(t,n,e,i){const a=zD(t,i);if(null!=a){const c=ZD(a),p=c.path,y=c.queryId,w=Ri(p,n);return YD(t,p,new Da(jt(y),w,e))}return[]}(t.serverSyncTree_,c,w,a)}else if(i){const w=(0,F.UI)(e,A=>gn(A));p=function(t,n,e){const i=Nn.fromObject(e);return Bp(t,new Tl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,i))}(t.serverSyncTree_,c,w)}else{const w=gn(e);p=j_(t.serverSyncTree_,c,w)}let y=c;p.length>0&&(y=Up(t,c)),Cs(t.eventQueue_,y,p)}function kI(t,n){oE(t,"connected",n),!1===n&&function(t){Vp(t,"onDisconnectEvents");const n=J_(t),e=C();P(t.onDisconnect_,$t(),(a,c)=>{const p=DI(a,c,t.serverSyncTree_,n);I(e,a,p)});let i=[];P(e,$t(),(a,c)=>{i=i.concat(j_(t.serverSyncTree_,a,c));const p=cE(t,a);Up(t,p)}),t.onDisconnect_=C(),Cs(t.eventQueue_,$t(),i)}(t)}function oE(t,n,e){const i=new Qt("/.info/"+n),a=gn(e);t.infoData_.updateSnapshot(i,a);const c=j_(t.infoSyncTree_,i,a);Cs(t.eventQueue_,i,c)}function a1(t){return t.nextWriteId_++}function sE(t,n,e,i,a){Vp(t,"set",{path:n.toString(),value:e,priority:i});const c=J_(t),p=gn(e,i),y=e1(t.serverSyncTree_,n),w=KD(p,y,c),A=a1(t),x=GD(t.serverSyncTree_,n,w,A,!0);s1(t.eventQueue_,x),t.server_.put(n.toString(),p.val(!0),(V,J)=>{const ye="ok"===V;ye||cr("set at "+n+" failed: "+V);const Oe=dd(t.serverSyncTree_,A,!ye);Cs(t.eventQueue_,n,Oe),hd(0,a,V,J)});const R=cE(t,n);Up(t,R),Cs(t.eventQueue_,R,[])}function bN(t,n,e){t.server_.onDisconnectCancel(n.toString(),(i,a)=>{"ok"===i&&N(t.onDisconnect_,n),hd(0,e,i,a)})}function OI(t,n,e,i){const a=gn(e);t.server_.onDisconnectPut(n.toString(),a.val(!0),(c,p)=>{"ok"===c&&I(t.onDisconnect_,n,a),hd(0,i,c,p)})}function aE(t,n,e){let i;i=".info"===Dt(n._path)?WD(t.infoSyncTree_,n,e):WD(t.serverSyncTree_,n,e),rE(t.eventQueue_,n._path,i)}function PI(t){t.persistentConnection_&&t.persistentConnection_.interrupt(MI)}function Vp(t,...n){let e="";t.persistentConnection_&&(e=t.persistentConnection_.id+":"),Mi(e,...n)}function hd(t,n,e,i){n&&Sc(()=>{if("ok"===e)n(null);else{const a=(e||"error").toUpperCase();let c=a;i&&(c+=": "+i);const p=new Error(c);p.code=a,n(p)}})}function lE(t,n,e){return e1(t.serverSyncTree_,n,e)||pt.EMPTY_NODE}function l1(t,n=t.transactionQueueTree_){if(n||c1(t,n),qh(n)){const e=LI(t,n);(0,F.hu)(e.length>0,"Sending zero length transaction queue"),e.every(a=>0===a.status)&&function(t,n,e){const i=e.map(A=>A.currentWriteId),a=lE(t,n,i);let c=a;const p=a.hash();for(let A=0;A<e.length;A++){const x=e[A];(0,F.hu)(0===x.status,"tryToSendTransactionQueue_: items in queue should all be run."),x.status=1,x.retryCount++;const R=Ri(n,x.path);c=c.updateChild(R,x.currentOutputSnapshotRaw)}const y=c.val(!0),w=n;t.server_.put(w.toString(),y,A=>{Vp(t,"transaction put response",{path:w.toString(),status:A});let x=[];if("ok"===A){const R=[];for(let V=0;V<e.length;V++)e[V].status=2,x=x.concat(dd(t.serverSyncTree_,e[V].currentWriteId)),e[V].onComplete&&R.push(()=>e[V].onComplete(null,!0,e[V].currentOutputSnapshotResolved)),e[V].unwatcher();c1(t,i1(t.transactionQueueTree_,n)),l1(t,t.transactionQueueTree_),Cs(t.eventQueue_,n,x);for(let V=0;V<R.length;V++)Sc(R[V])}else{if("datastale"===A)for(let R=0;R<e.length;R++)e[R].status=3===e[R].status?4:0;else{cr("transaction at "+w.toString()+" failed: "+A);for(let R=0;R<e.length;R++)e[R].status=4,e[R].abortReason=A}Up(t,n)}},p)}(t,W_(n),e)}else EI(n)&&r1(n,e=>{l1(t,e)})}function Up(t,n){const e=FI(t,n),i=W_(e);return function(t,n,e){if(0===n.length)return;const i=[];let a=[];const p=n.filter(y=>0===y.status).map(y=>y.currentWriteId);for(let y=0;y<n.length;y++){const w=n[y],A=Ri(e,w.path);let R,x=!1;if((0,F.hu)(null!==A,"rerunTransactionsUnderNode_: relativePath should not be null."),4===w.status)x=!0,R=w.abortReason,a=a.concat(dd(t.serverSyncTree_,w.currentWriteId,!0));else if(0===w.status)if(w.retryCount>=25)x=!0,R="maxretry",a=a.concat(dd(t.serverSyncTree_,w.currentWriteId,!0));else{const V=lE(t,w.path,p);w.currentInputSnapshot=V;const J=n[y].update(V.val());if(void 0!==J){Z_("transaction failed: Data returned ",J,w.path);let ye=gn(J);"object"==typeof J&&null!=J&&(0,F.r3)(J,".priority")||(ye=ye.updatePriority(V.getPriority()));const qe=w.currentWriteId,Nt=J_(t),_t=KD(ye,V,Nt);w.currentOutputSnapshotRaw=ye,w.currentOutputSnapshotResolved=_t,w.currentWriteId=a1(t),p.splice(p.indexOf(qe),1),a=a.concat(GD(t.serverSyncTree_,w.path,_t,w.currentWriteId,w.applyLocally)),a=a.concat(dd(t.serverSyncTree_,qe,!0))}else x=!0,R="nodata",a=a.concat(dd(t.serverSyncTree_,w.currentWriteId,!0))}Cs(t.eventQueue_,e,a),a=[],x&&(n[y].status=2,setTimeout(n[y].unwatcher,Math.floor(0)),n[y].onComplete&&i.push("nodata"===R?()=>n[y].onComplete(null,!1,n[y].currentInputSnapshot):()=>n[y].onComplete(new Error(R),!1,null)))}c1(t,t.transactionQueueTree_);for(let y=0;y<i.length;y++)Sc(i[y]);l1(t,t.transactionQueueTree_)}(t,LI(t,e),i),i}function FI(t,n){let e,i=t.transactionQueueTree_;for(e=Dt(n);null!==e&&void 0===qh(i);)i=i1(i,e),e=Dt(n=fn(n));return i}function LI(t,n){const e=[];return BI(t,n,e),e.sort((i,a)=>i.order-a.order),e}function BI(t,n,e){const i=qh(n);if(i)for(let a=0;a<i.length;a++)e.push(i[a]);r1(n,a=>{BI(t,a,e)})}function c1(t,n){const e=qh(n);if(e){let i=0;for(let a=0;a<e.length;a++)2!==e[a].status&&(e[i]=e[a],i++);e.length=i,eE(n,e.length>0?e:void 0)}r1(n,i=>{c1(t,i)})}function cE(t,n){const e=W_(FI(t,n)),i=i1(t.transactionQueueTree_,n);return function(t,n,e){let i=t.parent;for(;null!==i;){if(n(i))return!0;i=i.parent}}(i,a=>{uE(t,a)}),uE(t,i),TI(i,a=>{uE(t,a)}),e}function uE(t,n){const e=qh(n);if(e){const i=[];let a=[],c=-1;for(let p=0;p<e.length;p++)3===e[p].status||(1===e[p].status?((0,F.hu)(c===p-1,"All SENT items should be at beginning of queue."),c=p,e[p].status=3,e[p].abortReason="set"):((0,F.hu)(0===e[p].status,"Unexpected transaction status in abort"),e[p].unwatcher(),a=a.concat(dd(t.serverSyncTree_,e[p].currentWriteId,!0)),e[p].onComplete&&i.push(e[p].onComplete.bind(null,new Error("set"),!1,null))));-1===c?eE(n,void 0):e.length=c+1,Cs(t.eventQueue_,W_(n),a);for(let p=0;p<i.length;p++)Sc(i[p])}}const dE=function(t,n){const e=MN(t),i=e.namespace;return"firebase.com"===e.domain&&_o(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&_o("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&cr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Dp(e.host,e.secure,i,n,"ws"===e.scheme||"wss"===e.scheme,"",i!==e.subdomain),path:new Qt(e.pathString)}},MN=function(t){let n="",e="",i="",a="",c="",p=!0,y="https",w=443;if("string"==typeof t){let A=t.indexOf("//");A>=0&&(y=t.substring(0,A-1),t=t.substring(A+2));let x=t.indexOf("/");-1===x&&(x=t.length);let R=t.indexOf("?");-1===R&&(R=t.length),n=t.substring(0,Math.min(x,R)),x<R&&(a=function(t){let n="";const e=t.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let a=e[i];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch(c){}n+="/"+a}return n}(t.substring(x,R)));const V=function(t){const n={};"?"===t.charAt(0)&&(t=t.substring(1));for(const e of t.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?n[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):cr(`Invalid query segment '${e}' in query '${t}'`)}return n}(t.substring(Math.min(t.length,R)));A=n.indexOf(":"),A>=0?(p="https"===y||"wss"===y,w=parseInt(n.substring(A+1),10)):A=n.length;const J=n.slice(0,A);if("localhost"===J.toLowerCase())e="localhost";else if(J.split(".").length<=2)e=J;else{const ye=n.indexOf(".");i=n.substring(0,ye).toLowerCase(),e=n.substring(ye+1),c=i}"ns"in V&&(c=V.ns)}return{host:n,port:w,domain:e,subdomain:i,secure:p,scheme:y,pathString:a,namespace:c}};class VI{constructor(n,e,i,a){this.eventType=n,this.eventRegistration=e,this.snapshot=i,this.prevName=a}getPath(){const n=this.snapshot.ref;return"value"===this.eventType?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Pz)(this.snapshot.exportVal())}}class UI{constructor(n,e,i){this.eventRegistration=n,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class HI{constructor(n,e){this.snapshotCallback=n,this.cancelCallback=e}onValue(n,e){this.snapshotCallback.call(null,n,e)}onCancel(n){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class $I{constructor(n,e){this._repo=n,this._path=e}cancel(){const n=new F.BH;return bN(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){ws("OnDisconnect.remove",this._path);const n=new F.BH;return OI(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){ws("OnDisconnect.set",this._path),Il("OnDisconnect.set",n,this._path,!1);const e=new F.BH;return OI(this._repo,this._path,n,e.wrapCallback(()=>{})),e.promise}setWithPriority(n,e){ws("OnDisconnect.setWithPriority",this._path),Il("OnDisconnect.setWithPriority",n,this._path,!1),iE("OnDisconnect.setWithPriority",e,!1);const i=new F.BH;return function(t,n,e,i,a){const c=gn(e,i);t.server_.onDisconnectPut(n.toString(),c.val(!0),(p,y)=>{"ok"===p&&I(t.onDisconnect_,n,c),hd(0,a,p,y)})}(this._repo,this._path,n,e,i.wrapCallback(()=>{})),i.promise}update(n){ws("OnDisconnect.update",this._path),AI("OnDisconnect.update",n,this._path,!1);const e=new F.BH;return function(t,n,e,i){if((0,F.xb)(e))return Mi("onDisconnect().update() called with empty data.  Don't do anything."),void hd(0,i,"ok",void 0);t.server_.onDisconnectMerge(n.toString(),e,(a,c)=>{"ok"===a&&Ei(e,(p,y)=>{const w=gn(y);I(t.onDisconnect_,Cn(n,p),w)}),hd(0,i,a,c)})}(this._repo,this._path,n,e.wrapCallback(()=>{})),e.promise}}class vo{constructor(n,e,i,a){this._repo=n,this._path=e,this._queryParams=i,this._orderByCalled=a}get key(){return mt(this._path)?null:Ap(this._path)}get ref(){return new Ds(this._repo,this._path)}get _queryIdentifier(){const n=g(this._queryParams),e=ab(n);return"{}"===e?"default":e}get _queryObject(){return g(this._queryParams)}isEqual(n){if(!((n=(0,F.m9)(n))instanceof vo))return!1;const e=this._repo===n._repo,i=R_(this._path,n._path);return e&&i&&this._queryIdentifier===n._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(t){let n="";for(let e=t.pieceNum_;e<t.pieces_.length;e++)""!==t.pieces_[e]&&(n+="/"+encodeURIComponent(String(t.pieces_[e])));return n||"/"}(this._path)}}function u1(t,n){if(!0===t._orderByCalled)throw new Error(n+": You can't combine multiple orderBy calls.")}function fd(t){let n=null,e=null;if(t.hasStart()&&(n=t.getIndexStartValue()),t.hasEnd()&&(e=t.getIndexEndValue()),t.getIndex()===Gi){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Wo)throw new Error(i);if("string"!=typeof n)throw new Error(a)}if(t.hasEnd()){if(t.getIndexEndName()!==zo)throw new Error(i);if("string"!=typeof e)throw new Error(a)}}else if(t.getIndex()===pn){if(null!=n&&!z_(n)||null!=e&&!z_(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,F.hu)(t.getIndex()instanceof P_||t.getIndex()===F_,"unknown index type."),null!=n&&"object"==typeof n||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function d1(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ds extends vo{constructor(n,e){super(n,e,new Fp,!1)}get parent(){const n=xb(this._path);return null===n?null:new Ds(this._repo,n)}get root(){let n=this;for(;null!==n.parent;)n=n.parent;return n}}class Jh{constructor(n,e,i){this._node=n,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const e=new Qt(n),i=Kh(this.ref,n);return new Jh(this._node.getChild(e),i,pn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,a)=>n(new Jh(a,Kh(this.ref,i),pn)))}hasChild(n){const e=new Qt(n);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function jI(t,n){return(t=(0,F.m9)(t))._checkNotDeleted("ref"),void 0!==n?Kh(t._root,n):t._root}function GI(t,n){(t=(0,F.m9)(t))._checkNotDeleted("refFromURL");const e=dE(n,t._repo.repoInfo_.nodeAdmin);SI("refFromURL",e);const i=e.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&i.host!==t._repo.repoInfo_.host&&_o("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+t._repo.repoInfo_.host+")"),jI(t,e.path.toString())}function Kh(t,n){return null===Dt((t=(0,F.m9)(t))._path)?(e=n,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),q_("child","path",e,!1)):q_("child","path",n,!1),new Ds(t._repo,Cn(t._path,n));var e}function hE(t,n){t=(0,F.m9)(t),ws("set",t._path),Il("set",n,t._path,!1);const e=new F.BH;return sE(t._repo,t._path,n,null,e.wrapCallback(()=>{})),e.promise}function PN(t,n){AI("update",n,t._path,!1);const e=new F.BH;return function(t,n,e,i){Vp(t,"update",{path:n.toString(),value:e});let a=!0;const c=J_(t),p={};if(Ei(e,(y,w)=>{a=!1,p[y]=DI(Cn(n,y),gn(w),t.serverSyncTree_,c)}),a)Mi("update() called with empty data.  Don't do anything."),hd(0,i,"ok",void 0);else{const y=a1(t),w=function(t,n,e,i){!function(t,n,e,i){(0,F.hu)(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:n,children:e,writeId:i,visible:!0}),t.visibleWrites=PD(t.visibleWrites,n,e),t.lastWriteId=i}(t.pendingWriteTree_,n,e,i);const a=Nn.fromObject(e);return Bp(t,new Tl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,a))}(t.serverSyncTree_,n,p,y);s1(t.eventQueue_,w),t.server_.merge(n.toString(),e,(A,x)=>{const R="ok"===A;R||cr("update at "+n+" failed: "+A);const V=dd(t.serverSyncTree_,y,!R),J=V.length>0?Up(t,n):n;Cs(t.eventQueue_,J,V),hd(0,i,A,x)}),Ei(e,A=>{const x=cE(t,Cn(n,A));Up(t,x)}),Cs(t.eventQueue_,n,[])}}(t._repo,t._path,n,e.wrapCallback(()=>{})),e.promise}function FN(t){return function(t,n){const e=function(t,n){const e=n._path;let i=null;t.syncPointTree_.foreachOnPath(e,(A,x)=>{const R=Ri(A,e);i=i||cd(x,R)});let a=t.syncPointTree_.get(e);a?i=i||cd(a,$t()):(a=new hI,t.syncPointTree_=t.syncPointTree_.set(e,a));const c=null!=i,p=c?new bs(i,!0,!1):null;return function(t){return zb(t.viewCache_)}(fI(a,n,Zb(t.pendingWriteTree_,n._path),c?p.getNode():pt.EMPTY_NODE,c))}(t.serverSyncTree_,n);return null!=e?Promise.resolve(e):t.server_.get(n).then(i=>{const a=gn(i).withIndex(n._queryParams.getIndex()),c=j_(t.serverSyncTree_,n._path,a);return rE(t.eventQueue_,n._path,c),Promise.resolve(a)},i=>(Vp(t,"get for query "+(0,F.Pz)(n)+" failed: "+i),Promise.reject(new Error(i))))}((t=(0,F.m9)(t))._repo,t).then(n=>new Jh(n,new Ds(t._repo,t._path),t._queryParams.getIndex()))}class h1{constructor(n){this.callbackContext=n}respondsTo(n){return"value"===n}createEvent(n,e){const i=e._queryParams.getIndex();return new VI("value",this,new Jh(n.snapshotNode,new Ds(e._repo,e._path),i))}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new UI(this,n,e):null}matches(n){return n instanceof h1&&(!n.callbackContext||!this.callbackContext||n.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class f1{constructor(n,e){this.eventType=n,this.callbackContext=e}respondsTo(n){let e="children_added"===n?"child_added":n;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new UI(this,n,e):null}createEvent(n,e){(0,F.hu)(null!=n.childName,"Child events should have a childName.");const i=Kh(new Ds(e._repo,e._path),n.childName),a=e._queryParams.getIndex();return new VI(n.type,this,new Jh(n.snapshotNode,i,a),n.prevName)}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,n.prevName)}matches(n){return n instanceof f1&&this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function K_(t,n,e,i,a){let c;if("object"==typeof i&&(c=void 0,a=i),"function"==typeof i&&(c=i),a&&a.onlyOnce){const w=e,A=(x,R)=>{aE(t._repo,t,y),w(x,R)};A.userCallback=e.userCallback,A.context=e.context,e=A}const p=new HI(e,c||void 0),y="value"===n?new h1(p):new f1(n,p);return function(t,n,e){let i;i=".info"===Dt(n._path)?yI(t.infoSyncTree_,n,e):yI(t.serverSyncTree_,n,e),rE(t.eventQueue_,n._path,i)}(t._repo,t,y),()=>aE(t._repo,t,y)}function fE(t,n,e,i){return K_(t,"value",n,e,i)}function WI(t,n,e,i){return K_(t,"child_added",n,e,i)}function zI(t,n,e,i){return K_(t,"child_changed",n,e,i)}function ZI(t,n,e,i){return K_(t,"child_moved",n,e,i)}function YI(t,n,e,i){return K_(t,"child_removed",n,e,i)}function qI(t,n,e){let i=null;const a=e?new HI(e):null;"value"===n?i=new h1(a):n&&(i=new f1(n,a)),aE(t._repo,t,i)}class Ta{}class JI extends Ta{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){Il("endAt",this._value,n._path,!0);const e=o(n._queryParams,this._value,this._key);if(d1(e),fd(e),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new vo(n._repo,n._path,e,n._orderByCalled)}}class BN extends Ta{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){Il("endBefore",this._value,n._path,!1);const e=function(t,n,e){let i,a;return t.index_===Gi?("string"==typeof n&&(n=$b(n)),a=o(t,n,e)):(i=null==e?Wo:$b(e),a=o(t,n,i)),a.endBeforeSet_=!0,a}(n._queryParams,this._value,this._key);if(d1(e),fd(e),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new vo(n._repo,n._path,e,n._orderByCalled)}}class KI extends Ta{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){Il("startAt",this._value,n._path,!0);const e=Wb(n._queryParams,this._value,this._key);if(d1(e),fd(e),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new vo(n._repo,n._path,e,n._orderByCalled)}}class HN extends Ta{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){Il("startAfter",this._value,n._path,!1);const e=function(t,n,e){let i;if(t.index_===Gi)"string"==typeof n&&(n=Hb(n)),i=Wb(t,n,e);else{let a;a=null==e?zo:Hb(e),i=Wb(t,n,a)}return i.startAfterSet_=!0,i}(n._queryParams,this._value,this._key);if(d1(e),fd(e),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new vo(n._repo,n._path,e,n._orderByCalled)}}class jN extends Ta{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new vo(n._repo,n._path,function(t,n){const e=t.copy();return e.limitSet_=!0,e.limit_=n,e.viewFrom_="l",e}(n._queryParams,this._limit),n._orderByCalled)}}class WN extends Ta{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new vo(n._repo,n._path,function(t,n){const e=t.copy();return e.limitSet_=!0,e.limit_=n,e.viewFrom_="r",e}(n._queryParams,this._limit),n._orderByCalled)}}class ZN extends Ta{constructor(n){super(),this._path=n}_apply(n){u1(n,"orderByChild");const e=new Qt(this._path);if(mt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new P_(e),a=u(n._queryParams,i);return fd(a),new vo(n._repo,n._path,a,!0)}}class qN extends Ta{_apply(n){u1(n,"orderByKey");const e=u(n._queryParams,Gi);return fd(e),new vo(n._repo,n._path,e,!0)}}class KN extends Ta{_apply(n){u1(n,"orderByPriority");const e=u(n._queryParams,pn);return fd(e),new vo(n._repo,n._path,e,!0)}}class XN extends Ta{_apply(n){u1(n,"orderByValue");const e=u(n._queryParams,F_);return fd(e),new vo(n._repo,n._path,e,!0)}}class tM extends Ta{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){if(Il("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new JI(this._value,this._key)._apply(new KI(this._value,this._key)._apply(n))}}function Ia(t,...n){let e=(0,F.m9)(t);for(const i of n)e=i._apply(e);return e}(function(t){(0,F.hu)(!Kb,"__referenceConstructor has already been defined"),Kb=t})(Ds),function(t){(0,F.hu)(!Xb,"__referenceConstructor has already been defined"),Xb=t}(Ds);const pE={};function XI(t,n,e,i,a){let c=i||t.options.databaseURL;void 0===c&&(t.options.projectId||_o("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Mi("Using default host for project ",t.options.projectId),c=`${t.options.projectId}-default-rtdb.firebaseio.com`);let w,A,p=dE(c,a),y=p.repoInfo;"undefined"!=typeof process&&(A=process.env.FIREBASE_DATABASE_EMULATOR_HOST),A?(w=!0,c=`http://${A}?ns=${y.namespace}`,p=dE(c,a),y=p.repoInfo):w=!p.repoInfo.secure;const x=a&&w?new nd(nd.OWNER):new ub(t.name,t.options,n);SI("Invalid Firebase Database URL",p),mt(p.path)||_o("Database URL must point to the root of a Firebase Database (not including a child path).");const R=function(t,n,e,i){let a=pE[n.name];a||(a={},pE[n.name]=a);let c=a[t.toURLString()];return c&&_o("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new pN(t,false,e,i),a[t.toURLString()]=c,c}(y,t,x,new dD(t.name,e));return new lM(R,t)}class lM{constructor(n,e){this._repoInternal=n,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(t,n,e){if(t.stats_=yb(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new _(t.repoInfo_,(i,a,c,p)=>{xI(t,i,a,c,p)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>kI(t,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Nc(t.repoInfo_,n,(i,a,c,p)=>{xI(t,i,a,c,p)},i=>{kI(t,i)},i=>{!function(t,n){Ei(n,(e,i)=>{oE(t,e,i)})}(t,i)},t.authTokenProvider_,t.appCheckProvider_,e),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=function(t,n){const e=t.toString();return _b[e]||(_b[e]=n()),_b[e]}(t.repoInfo_,()=>new Ye(t.stats_,t.server_)),t.infoData_=new b,t.infoSyncTree_=new _I({startListening:(i,a,c,p)=>{let y=[];const w=t.infoData_.getNode(i._path);return w.isEmpty()||(y=j_(t.infoSyncTree_,i._path,w),setTimeout(()=>{p("ok")},0)),y},stopListening:()=>{}}),oE(t,"connected",!1),t.serverSyncTree_=new _I({startListening:(i,a,c,p)=>(t.server_.listen(i,c,a,(y,w)=>{const A=p(y,w);Cs(t.eventQueue_,i._path,A)}),[]),stopListening:(i,a)=>{t.server_.unlisten(i,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ds(this._repo,$t())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(t,n){const e=pE[n];(!e||e[t.key]!==t)&&_o(`Database ${n}(${t.repoInfo_}) has already been deleted.`),PI(t),delete e[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){null===this._rootInternal&&_o("Cannot call "+n+" on a deleted database.")}}function hM(t,n){ob(t,n)}class _M{constructor(n,e){this.committed=n,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Nc.prototype.simpleListen=function(t,n){this.sendRequest("q",{p:t},n)},Nc.prototype.echo=function(t,n){this.sendRequest("echo",{d:t},n)},o_(Ic.SDK_VERSION),(0,Ic._registerComponent)(new Tc.wA("database",(n,{instanceIdentifier:e})=>XI(n.getProvider("app").getImmediate(),n.getProvider("auth-internal"),n.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Ic.registerVersion)(r_,"0.12.4",void 0),(0,Ic.registerVersion)(r_,"0.12.4","esm2017");const wM=new fp.Yd("@firebase/database-compat"),eA=function(t){wM.warn("FIREBASE WARNING: "+t)};class EM{constructor(n){this._delegate=n}cancel(n){(0,F.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,F.Wj)("OnDisconnect.cancel","onComplete",n,!0);const e=this._delegate.cancel();return n&&e.then(()=>n(null),i=>n(i)),e}remove(n){(0,F.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,F.Wj)("OnDisconnect.remove","onComplete",n,!0);const e=this._delegate.remove();return n&&e.then(()=>n(null),i=>n(i)),e}set(n,e){(0,F.Dv)("OnDisconnect.set",1,2,arguments.length),(0,F.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(n);return e&&i.then(()=>e(null),a=>e(a)),i}setWithPriority(n,e,i){(0,F.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,F.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const a=this._delegate.setWithPriority(n,e);return i&&a.then(()=>i(null),c=>i(c)),a}update(n,e){if((0,F.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(n)){const a={};for(let c=0;c<n.length;++c)a[""+c]=n[c];n=a,eA("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,F.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(n);return e&&i.then(()=>e(null),a=>e(a)),i}}class TM{constructor(n,e){this.committed=n,this.snapshot=e}toJSON(){return(0,F.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class pd{constructor(n,e){this._database=n,this._delegate=e}val(){return(0,F.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,F.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,F.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,F.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(n){return(0,F.Dv)("DataSnapshot.child",0,1,arguments.length),n=String(n),q_("DataSnapshot.child","path",n,!1),new pd(this._database,this._delegate.child(n))}hasChild(n){return(0,F.Dv)("DataSnapshot.hasChild",1,1,arguments.length),q_("DataSnapshot.hasChild","path",n,!1),this._delegate.hasChild(n)}getPriority(){return(0,F.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(n){return(0,F.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,F.Wj)("DataSnapshot.forEach","action",n,!1),this._delegate.forEach(e=>n(new pd(this._database,e)))}hasChildren(){return(0,F.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,F.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,F.Dv)("DataSnapshot.ref",0,0,arguments.length),new Yo(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ur{constructor(n,e){this.database=n,this._delegate=e}on(n,e,i,a){var c;(0,F.Dv)("Query.on",2,4,arguments.length),(0,F.Wj)("Query.on","callback",e,!1);const p=ur.getCancelAndContextArgs_("Query.on",i,a),y=(A,x)=>{e.call(p.context,new pd(this.database,A),x)};y.userCallback=e,y.context=p.context;const w=null===(c=p.cancel)||void 0===c?void 0:c.bind(p.context);switch(n){case"value":return fE(this._delegate,y,w),e;case"child_added":return WI(this._delegate,y,w),e;case"child_removed":return YI(this._delegate,y,w),e;case"child_changed":return zI(this._delegate,y,w),e;case"child_moved":return ZI(this._delegate,y,w),e;default:throw new Error((0,F.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(n,e,i){if((0,F.Dv)("Query.off",0,3,arguments.length),function(t,n,e){if(void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,F.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,n),(0,F.Wj)("Query.off","callback",e,!0),(0,F.lb)("Query.off","context",i,!0),e){const a=()=>{};a.userCallback=e,a.context=i,qI(this._delegate,n,a)}else qI(this._delegate,n)}get(){return FN(this._delegate).then(n=>new pd(this.database,n))}once(n,e,i,a){(0,F.Dv)("Query.once",1,4,arguments.length),(0,F.Wj)("Query.once","callback",e,!0);const c=ur.getCancelAndContextArgs_("Query.once",i,a),p=new F.BH,y=(A,x)=>{const R=new pd(this.database,A);e&&e.call(c.context,R,x),p.resolve(R)};y.userCallback=e,y.context=c.context;const w=A=>{c.cancel&&c.cancel.call(c.context,A),p.reject(A)};switch(n){case"value":fE(this._delegate,y,w,{onlyOnce:!0});break;case"child_added":WI(this._delegate,y,w,{onlyOnce:!0});break;case"child_removed":YI(this._delegate,y,w,{onlyOnce:!0});break;case"child_changed":zI(this._delegate,y,w,{onlyOnce:!0});break;case"child_moved":ZI(this._delegate,y,w,{onlyOnce:!0});break;default:throw new Error((0,F.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return p.promise}limitToFirst(n){return(0,F.Dv)("Query.limitToFirst",1,1,arguments.length),new ur(this.database,Ia(this._delegate,function(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new jN(t)}(n)))}limitToLast(n){return(0,F.Dv)("Query.limitToLast",1,1,arguments.length),new ur(this.database,Ia(this._delegate,function(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new WN(t)}(n)))}orderByChild(n){return(0,F.Dv)("Query.orderByChild",1,1,arguments.length),new ur(this.database,Ia(this._delegate,function(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return q_("orderByChild","path",t,!1),new ZN(t)}(n)))}orderByKey(){return(0,F.Dv)("Query.orderByKey",0,0,arguments.length),new ur(this.database,Ia(this._delegate,new qN))}orderByPriority(){return(0,F.Dv)("Query.orderByPriority",0,0,arguments.length),new ur(this.database,Ia(this._delegate,new KN))}orderByValue(){return(0,F.Dv)("Query.orderByValue",0,0,arguments.length),new ur(this.database,Ia(this._delegate,new XN))}startAt(n=null,e){return(0,F.Dv)("Query.startAt",0,2,arguments.length),new ur(this.database,Ia(this._delegate,function(t=null,n){return Y_("startAt","key",n,!0),new KI(t,n)}(n,e)))}startAfter(n=null,e){return(0,F.Dv)("Query.startAfter",0,2,arguments.length),new ur(this.database,Ia(this._delegate,function(t,n){return Y_("startAfter","key",n,!0),new HN(t,n)}(n,e)))}endAt(n=null,e){return(0,F.Dv)("Query.endAt",0,2,arguments.length),new ur(this.database,Ia(this._delegate,function(t,n){return Y_("endAt","key",n,!0),new JI(t,n)}(n,e)))}endBefore(n=null,e){return(0,F.Dv)("Query.endBefore",0,2,arguments.length),new ur(this.database,Ia(this._delegate,function(t,n){return Y_("endBefore","key",n,!0),new BN(t,n)}(n,e)))}equalTo(n,e){return(0,F.Dv)("Query.equalTo",1,2,arguments.length),new ur(this.database,Ia(this._delegate,function(t,n){return Y_("equalTo","key",n,!0),new tM(t,n)}(n,e)))}toString(){return(0,F.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,F.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(n){if((0,F.Dv)("Query.isEqual",1,1,arguments.length),!(n instanceof ur))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(n._delegate)}static getCancelAndContextArgs_(n,e,i){const a={cancel:void 0,context:void 0};if(e&&i)a.cancel=e,(0,F.Wj)(n,"cancel",a.cancel,!0),a.context=i,(0,F.lb)(n,"context",a.context,!0);else if(e)if("object"==typeof e&&null!==e)a.context=e;else{if("function"!=typeof e)throw new Error((0,F.gK)(n,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=e}return a}get ref(){return new Yo(this.database,new Ds(this._delegate._repo,this._delegate._path))}}class Yo extends ur{constructor(n,e){super(n,new vo(e._repo,e._path,new Fp,!1)),this.database=n,this._delegate=e}getKey(){return(0,F.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(n){return(0,F.Dv)("Reference.child",1,1,arguments.length),"number"==typeof n&&(n=String(n)),new Yo(this.database,Kh(this._delegate,n))}getParent(){(0,F.Dv)("Reference.parent",0,0,arguments.length);const n=this._delegate.parent;return n?new Yo(this.database,n):null}getRoot(){return(0,F.Dv)("Reference.root",0,0,arguments.length),new Yo(this.database,this._delegate.root)}set(n,e){(0,F.Dv)("Reference.set",1,2,arguments.length),(0,F.Wj)("Reference.set","onComplete",e,!0);const i=hE(this._delegate,n);return e&&i.then(()=>e(null),a=>e(a)),i}update(n,e){if((0,F.Dv)("Reference.update",1,2,arguments.length),Array.isArray(n)){const a={};for(let c=0;c<n.length;++c)a[""+c]=n[c];n=a,eA("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ws("Reference.update",this._delegate._path),(0,F.Wj)("Reference.update","onComplete",e,!0);const i=PN(this._delegate,n);return e&&i.then(()=>e(null),a=>e(a)),i}setWithPriority(n,e,i){(0,F.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,F.Wj)("Reference.setWithPriority","onComplete",i,!0);const a=function(t,n,e){if(ws("setWithPriority",t._path),Il("setWithPriority",n,t._path,!1),iE("setWithPriority",e,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";const i=new F.BH;return sE(t._repo,t._path,n,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,n,e);return i&&a.then(()=>i(null),c=>i(c)),a}remove(n){(0,F.Dv)("Reference.remove",0,1,arguments.length),(0,F.Wj)("Reference.remove","onComplete",n,!0);const e=function(t){return ws("remove",t._path),hE(t,null)}(this._delegate);return n&&e.then(()=>n(null),i=>n(i)),e}transaction(n,e,i){(0,F.Dv)("Reference.transaction",1,3,arguments.length),(0,F.Wj)("Reference.transaction","transactionUpdate",n,!1),(0,F.Wj)("Reference.transaction","onComplete",e,!0),function(t,n,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,F.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const a=function(t,n,e){var i;if(t=(0,F.m9)(t),ws("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";const a=null===(i=null==e?void 0:e.applyLocally)||void 0===i||i,c=new F.BH,y=fE(t,()=>{});return function(t,n,e,i,a,c){Vp(t,"transaction on "+n);const p={path:n,update:e,onComplete:i,status:null,order:s_(),applyLocally:c,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},y=lE(t,n,void 0);p.currentInputSnapshot=y;const w=p.update(y.val());if(void 0===w)p.unwatcher(),p.currentOutputSnapshotRaw=null,p.currentOutputSnapshotResolved=null,p.onComplete&&p.onComplete(null,!1,p.currentInputSnapshot);else{Z_("transaction failed: Data returned ",w,p.path),p.status=0;const A=i1(t.transactionQueueTree_,n),x=qh(A)||[];let R;x.push(p),eE(A,x),"object"==typeof w&&null!==w&&(0,F.r3)(w,".priority")?(R=(0,F.DV)(w,".priority"),(0,F.hu)(z_(R),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):R=(e1(t.serverSyncTree_,n)||pt.EMPTY_NODE).getPriority().val();const V=J_(t),J=gn(w,R),ye=KD(J,y,V);p.currentOutputSnapshotRaw=J,p.currentOutputSnapshotResolved=ye,p.currentWriteId=a1(t);const Oe=GD(t.serverSyncTree_,n,ye,p.currentWriteId,p.applyLocally);Cs(t.eventQueue_,n,Oe),l1(t,t.transactionQueueTree_)}}(t._repo,t._path,n,(w,A,x)=>{let R=null;w?c.reject(w):(R=new Jh(x,new Ds(t._repo,t._path),pn),c.resolve(new _M(A,R)))},y,a),c.promise}(this._delegate,n,{applyLocally:i}).then(c=>new TM(c.committed,new pd(this.database,c.snapshot)));return e&&a.then(c=>e(null,c.committed,c.snapshot),c=>e(c,!1,null)),a}setPriority(n,e){(0,F.Dv)("Reference.setPriority",1,2,arguments.length),(0,F.Wj)("Reference.setPriority","onComplete",e,!0);const i=function(t,n){t=(0,F.m9)(t),ws("setPriority",t._path),iE("setPriority",n,!1);const e=new F.BH;return sE(t._repo,Cn(t._path,".priority"),n,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,n);return e&&i.then(()=>e(null),a=>e(a)),i}push(n,e){(0,F.Dv)("Reference.push",0,2,arguments.length),(0,F.Wj)("Reference.push","onComplete",e,!0);const i=function(t,n){t=(0,F.m9)(t),ws("push",t._path),Il("push",n,t._path,!0);const e=RI(t._repo),i=kD(e),a=Kh(t,i),c=Kh(t,i);let p;return p=null!=n?hE(c,n).then(()=>c):Promise.resolve(c),a.then=p.then.bind(p),a.catch=p.then.bind(p,void 0),a}(this._delegate,n),a=i.then(p=>new Yo(this.database,p));e&&a.then(()=>e(null),p=>e(p));const c=new Yo(this.database,i);return c.then=a.then.bind(a),c.catch=a.catch.bind(a,void 0),c}onDisconnect(){return ws("Reference.onDisconnect",this._delegate._path),new EM(new $I(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Q_{constructor(n,e){this._delegate=n,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(n,e,i={}){!function(t,n,e,i={}){(t=(0,F.m9)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&_o("Cannot call useEmulator() after instance has already been initialized.");const a=t._repoInternal;let c;if(a.repoInfo_.nodeAdmin)i.mockUserToken&&_o('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new nd(nd.OWNER);else if(i.mockUserToken){const p="string"==typeof i.mockUserToken?i.mockUserToken:(0,F.Sg)(i.mockUserToken,t.app.options.projectId);c=new nd(p)}!function(t,n,e,i){t.repoInfo_=new Dp(`${n}:${e}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),i&&(t.authTokenProvider_=i)}(a,n,e,c)}(this._delegate,n,e,i)}ref(n){if((0,F.Dv)("database.ref",0,1,arguments.length),n instanceof Yo){const e=GI(this._delegate,n.toString());return new Yo(this,e)}{const e=jI(this._delegate,n);return new Yo(this,e)}}refFromURL(n){(0,F.Dv)("database.refFromURL",1,1,arguments.length);const i=GI(this._delegate,n);return new Yo(this,i)}goOffline(){return(0,F.Dv)("database.goOffline",0,0,arguments.length),function(t){(t=(0,F.m9)(t))._checkNotDeleted("goOffline"),PI(t._repo)}(this._delegate)}goOnline(){return(0,F.Dv)("database.goOnline",0,0,arguments.length),function(t){(t=(0,F.m9)(t))._checkNotDeleted("goOnline"),function(t){t.persistentConnection_&&t.persistentConnection_.resume(MI)}(t._repo)}(this._delegate)}}Q_.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:t=>function(t){return{".sv":{increment:t}}}(t)};var AM=Object.freeze({__proto__:null,initStandalone:function({app:t,url:n,version:e,customAuthImpl:i,namespace:a,nodeAdmin:c=!1}){o_(e);const p=new Tc.zt("auth-internal",new Tc.H0("database-standalone"));return p.setComponent(new Tc.wA("auth-internal",()=>i,"PRIVATE")),{instance:new Q_(XI(t,p,void 0,n,c),t),namespace:a}}});const SM=Q_.ServerValue;!function(t){t.INTERNAL.registerComponent(new Tc.wA("database-compat",(n,{instanceIdentifier:e})=>{const i=n.getProvider("app-compat").getImmediate(),a=n.getProvider("database").getImmediate({identifier:e});return new Q_(a,i)},"PUBLIC").setServiceProps({Reference:Yo,Query:ur,Database:Q_,DataSnapshot:pd,enableLogging:hM,INTERNAL:AM,ServerValue:SM}).setMultipleInstances(!0)),t.registerVersion("@firebase/database-compat","0.1.4")}(i_.Z);var p1=k(4763),MM=k(1733);class RM extends Wt.x{constructor(n=1/0,e=1/0,i=MM.l){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:i,_infiniteTimeWindow:a,_timestampProvider:c,_windowTime:p}=this;e||(i.push(n),!a&&i.push(c.now()+p)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:i,_buffer:a}=this,c=a.slice();for(let p=0;p<c.length&&!n.closed;p+=i?1:2)n.next(c[p]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:a}=this,c=(a?1:2)*n;if(n<1/0&&c<i.length&&i.splice(0,i.length-c),!a){const p=e.now();let y=0;for(let w=1;w<i.length&&i[w]<=p;w+=2)y=w;y&&i.splice(0,y+1)}}}function tA(t,n,e){var i,a;let c,p=!1;return t&&"object"==typeof t?(c=null!==(i=t.bufferSize)&&void 0!==i?i:1/0,n=null!==(a=t.windowTime)&&void 0!==a?a:1/0,p=!!t.refCount,e=t.scheduler):c=null!=t?t:1/0,(0,Wf.B)({connector:()=>new RM(c,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:p})}function nA(t,n){return(0,ao.m)(n)?ln(()=>t,n):ln(()=>t)}var gE=k(5222);k(7713);const rA=new Map,FM={activated:!1,tokenObservers:[]},LM={initialized:!1,enabled:!1};function zi(t){return rA.get(t)||FM}function Aa(t,n){rA.set(t,n)}function m1(){return LM}class $M{constructor(n,e,i,a,c){if(this.operation=n,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=a,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=a,a>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(n){var e=this;return(0,ms.Z)(function*(){e.stop();try{e.pending=new F.BH,yield function(t){return new Promise(n=>{setTimeout(n,t)})}(e.getNextRun(n)),e.pending.resolve(),yield e.pending.promise,e.pending=new F.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(n){if(n)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const zr=new F.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function sA(t){if(!zi(t).activated)throw zr.create("use-before-activation",{appName:t.name})}function vE(t,n){return bE.apply(this,arguments)}function bE(){return bE=(0,ms.Z)(function*({url:t,body:n},e){const i={"Content-Type":"application/json"},a=e.getImmediate({optional:!0});a&&(i["X-Firebase-Client"]=a.getPlatformInfoString());const c={method:"POST",body:JSON.stringify(n),headers:i};let p,y;try{p=yield fetch(t,c)}catch(R){throw zr.create("fetch-network-error",{originalErrorMessage:R.message})}if(200!==p.status)throw zr.create("fetch-status-error",{httpStatus:p.status});try{y=yield p.json()}catch(R){throw zr.create("fetch-parse-error",{originalErrorMessage:R.message})}const w=y.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw zr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${y.ttl}`});const A=1e3*Number(w[1]),x=Date.now();return{token:y.attestationToken,expireTimeMillis:x+A,issuedAtTimeMillis:x}}),bE.apply(this,arguments)}function YM(t,n){const{projectId:e,appId:i,apiKey:a}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${i}:exchangeDebugToken?key=${a}`,body:{debug_token:n}}}const X_="firebase-app-check-store";let v1=null;function lA(){return v1||(v1=new Promise((t,n)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{t(i.target.result)},e.onerror=i=>{var a;n(zr.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(X_,{keyPath:"compositeKey"})}}catch(e){n(zr.create("storage-open",{originalErrorMessage:e.message}))}}),v1)}function wE(){return wE=(0,ms.Z)(function*(t,n){const i=(yield lA()).transaction(X_,"readwrite"),c=i.objectStore(X_).put({compositeKey:t,value:n});return new Promise((p,y)=>{c.onsuccess=w=>{p()},i.onerror=w=>{var A;y(zr.create("storage-set",{originalErrorMessage:null===(A=w.target.error)||void 0===A?void 0:A.message}))}})}),wE.apply(this,arguments)}const ey=new fp.Yd("@firebase/app-check");function hA(t,n){return(0,F.hl)()?function(t,n){return function(t,n){return wE.apply(this,arguments)}(function(t){return`${t.options.appId}-${t.name}`}(t),n)}(t,n).catch(e=>{ey.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function fA(){return m1().enabled}function pA(){return TE.apply(this,arguments)}function TE(){return TE=(0,ms.Z)(function*(){const t=m1();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),TE.apply(this,arguments)}const rR={error:"UNKNOWN_ERROR"};function oR(t){return F.US.encodeString(JSON.stringify(t),!1)}function b1(t){return IE.apply(this,arguments)}function IE(){return IE=(0,ms.Z)(function*(t,n=!1){const e=t.app;sA(e);const i=zi(e);let c,a=i.token;if(!a){const w=yield i.cachedTokenPromise;w&&w1(w)&&(a=w)}if(!n&&a&&w1(a))return{token:a.token};let y,p=!1;if(fA()){i.exchangeTokenPromise||(i.exchangeTokenPromise=vE(YM(e,yield pA()),t.platformLoggerProvider).then(A=>(i.exchangeTokenPromise=void 0,A)),p=!0);const w=yield i.exchangeTokenPromise;return yield hA(e,w),Aa(e,Object.assign(Object.assign({},i),{token:w})),{token:w.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(w=>(i.exchangeTokenPromise=void 0,w)),p=!0),a=yield i.exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?ey.warn(w.message):ey.error(w),c=w}return a?(y={token:a.token},Aa(e,Object.assign(Object.assign({},i),{token:a})),yield hA(e,a)):y=aR(c),p&&mA(e,y),y}),IE.apply(this,arguments)}function SE(t,n){const e=zi(t),i=e.tokenObservers.filter(a=>a.next!==n);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Aa(t,Object.assign(Object.assign({},e),{tokenObservers:i}))}function gA(t){const{app:n}=t,e=zi(n);let i=e.tokenRefresher;i||(i=function(t){const{app:n}=t;return new $M((0,ms.Z)(function*(){let i;if(i=zi(n).token?yield b1(t,!0):yield b1(t),i.error)throw i.error}),()=>!0,()=>{const e=zi(n);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(t),Aa(n,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function mA(t,n){const e=zi(t).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=n.error?i.error(n.error):i.next(n)}catch(a){}}function w1(t){return t.expireTimeMillis-Date.now()>0}function aR(t){return{token:oR(rR),error:t}}class lR{constructor(n,e){this.app=n,this.platformLoggerProvider=e}_delete(){const{tokenObservers:n}=zi(this.app);for(const e of n)SE(this.app,e.next);return Promise.resolve()}}const EA="app-check-internal";(0,Ic._registerComponent)(new Tc.wA("app-check",t=>function(t,n){return new lR(t,n)}(t.getProvider("app").getImmediate(),t.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,e)=>{t.getProvider(EA).initialize()})),(0,Ic._registerComponent)(new Tc.wA(EA,t=>function(t){return{getToken:n=>b1(t,n),addTokenListener:n=>function(t,n,e,i){const{app:a}=t,c=zi(a),p={next:e,error:i,type:n};if(Aa(a,Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,p]})),c.token&&w1(c.token)){const y=c.token;Promise.resolve().then(()=>{e({token:y.token}),gA(t)}).catch(()=>{})}c.cachedTokenPromise.then(()=>gA(t))}(t,"INTERNAL",n),removeTokenListener:n=>SE(t.app,n)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ic.registerVersion)("@firebase/app-check","0.5.2");class xE{constructor(){return(0,$r.vb)("app-check")}}"undefined"!=typeof window&&window;var AR=k(7892);const IA=new s.OlP("angularfire2.auth.use-emulator"),AA=new s.OlP("angularfire2.auth.settings"),SA=new s.OlP("angularfire2.auth.tenant-id"),NA=new s.OlP("angularfire2.auth.langugage-code"),MA=new s.OlP("angularfire2.auth.use-device-language"),RA=new s.OlP("angularfire.auth.persistence"),xA=(t,n,e,i,a,c,p,y)=>(0,Hr.cc)(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const w=n.runOutsideAngular(()=>t.auth());if(e&&w.useEmulator(...e),i&&(w.tenantId=i),w.languageCode=a,c&&w.useDeviceLanguage(),p)for(const[A,x]of Object.entries(p))w.settings[A]=x;return y&&w.setPersistence(y),w},[e,i,a,c,p,y]);let kA=(()=>{class t{constructor(e,i,a,c,p,y,w,A,x,R,V,J){const ye=new Wt.x,Oe=je(void 0).pipe((0,p1.Q)(p.outsideAngular),ln(()=>c.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,9766)))),(0,rt.U)(()=>(0,Hr.on)(e,c,i)),(0,rt.U)(qe=>xA(qe,c,y,A,x,R,w,V)),tA({bufferSize:1,refCount:!1}));if(function(t){return"server"===t}(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=je(null);else{Oe.pipe(Xs()).subscribe();const Nt=Oe.pipe(ln(Gt=>Gt.getRedirectResult().then(xi=>xi,()=>null)),$r.iC,tA({bufferSize:1,refCount:!1})),_t=Oe.pipe(ln(Gt=>new kn.y(xi=>({unsubscribe:c.runOutsideAngular(()=>Gt.onAuthStateChanged(Al=>xi.next(Al),Al=>xi.error(Al),()=>xi.complete()))})))),Bn=Oe.pipe(ln(Gt=>new kn.y(xi=>({unsubscribe:c.runOutsideAngular(()=>Gt.onIdTokenChanged(Al=>xi.next(Al),Al=>xi.error(Al),()=>xi.complete()))}))));this.authState=Nt.pipe(nA(_t),(0,gE.R)(p.outsideAngular),(0,p1.Q)(p.insideAngular)),this.user=Nt.pipe(nA(Bn),(0,gE.R)(p.outsideAngular),(0,p1.Q)(p.insideAngular)),this.idToken=this.user.pipe(ln(Gt=>Gt?(0,vn.D)(Gt.getIdToken()):je(null))),this.idTokenResult=this.user.pipe(ln(Gt=>Gt?(0,vn.D)(Gt.getIdTokenResult()):je(null))),this.credential=(0,_h.T)(Nt,ye,this.authState.pipe(Ht(Gt=>!Gt))).pipe((0,rt.U)(Gt=>(null==Gt?void 0:Gt.user)?Gt:null),(0,gE.R)(p.outsideAngular),(0,p1.Q)(p.insideAngular))}return(0,Hr.pX)(this,Oe,c,{spy:{apply:(qe,Nt,_t)=>{(qe.startsWith("signIn")||qe.startsWith("createUser"))&&_t.then(Bn=>ye.next(Bn))}}})}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(Hr.Dh),s.LFG(Hr.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG($r.HU),s.LFG(IA,8),s.LFG(AA,8),s.LFG(SA,8),s.LFG(NA,8),s.LFG(MA,8),s.LFG(RA,8),s.LFG(xE,8))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})();function OA(t){return null==t}function PA(t){return"function"==typeof t.set}function FA(t,n){return PA(n)?n:t.ref(n)}function LA(t,n){if(function(t){return"string"==typeof t}(t))return n.stringCase();if(PA(t))return n.firebaseCase();if(function(t){return"function"==typeof t.exportVal}(t))return n.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function ty(t,n,e="on",i=Yg.z){return new kn.y(a=>{let c=null;return c=t[e](n,(p,y)=>{i.schedule(()=>{a.next({snapshot:p,prevKey:y})}),"once"===e&&i.schedule(()=>a.complete())},p=>{i.schedule(()=>a.error(p))}),"on"===e?{unsubscribe(){null!=c&&t.off(n,c)}}:{unsubscribe(){}}}).pipe((0,rt.U)(a=>{const{snapshot:c,prevKey:p}=a;let y=null;return c.exists()&&(y=c.key),{type:n,payload:c,prevKey:p,key:y}}),(0,Wf.B)())}function BA(t,n){const e=t.length;for(let i=0;i<e;i++)if(t[i].payload.key===n)return i;return-1}function kR(t,n){const{payload:e,prevKey:i,key:a}=n,c=BA(t,a),p=function(t,n){if(OA(n))return 0;{const e=BA(t,n);return-1===e?t.length:e+1}}(t,i);switch(n.type){case"value":if(n.payload&&n.payload.exists()){let y=null;n.payload.forEach(w=>{const A={payload:w,type:"value",prevKey:y,key:w.key};return y=w.key,t=[...t,A],!1})}return t;case"child_added":if(c>-1){const y=t[c-1];(y&&y.key||null)!==i&&(t=t.filter(w=>w.payload.key!==e.key)).splice(p,0,n)}else{if(null==i)return[n,...t];(t=t.slice()).splice(p,0,n)}return t;case"child_removed":return t.filter(y=>y.payload.key!==e.key);case"child_changed":return t.map(y=>y.payload.key===a?n:y);case"child_moved":if(c>-1){const y=t.splice(c,1)[0];return(t=t.slice()).splice(p,0,y),t}return t;default:return t}}function VA(t){return(OA(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function UA(t,n,e){return function(t,n,e){return ty(t,"value","once",e).pipe(ln(i=>{const a=[je(i)];return n.forEach(c=>a.push(ty(t,c,"on",e))),(0,_h.T)(...a).pipe(xr(kR,[]))}),function(t,n=mr.y){return t=null!=t?t:ow,(0,Hn.e)((e,i)=>{let a,c=!0;e.subscribe(new Kt.Q(i,p=>{const y=n(p);(c||!t(a,y))&&(c=!1,a=y,i.next(p))}))})}())}(t,n=VA(n),e)}function HA(t,n,e){const i=(n=VA(n)).map(a=>ty(t,a,"on",e));return(0,_h.T)(...i)}function $A(t,n){return function(i,a){return LA(i,{stringCase:()=>t.child(i)[n](a),firebaseCase:()=>i[n](a),snapshotCase:()=>i.ref[n](a)})}}function LR(t){return function(e){return e?LA(e,{stringCase:()=>t.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):t.remove()}}function jA(t,n){return function(){return ty(t,"value","on",n)}}const UR=new s.OlP("angularfire2.realtimeDatabaseURL"),HR=new s.OlP("angularfire2.database.use-emulator");let $R=(()=>{class t{constructor(e,i,a,c,p,y,w,A,x,R,V,J,ye,Oe,qe){this.schedulers=y;const Nt=w,_t=(0,Hr.on)(e,p,i);A&&xA(_t,p,x,V,J,ye,R,Oe),this.database=(0,Hr.cc)(`${_t.name}.database.${a}`,"AngularFireDatabase",_t.name,()=>{const Bn=p.runOutsideAngular(()=>_t.database(a||void 0));return Nt&&Bn.useEmulator(...Nt),Bn},[Nt])}list(e,i){const a=this.schedulers.ngZone.runOutsideAngular(()=>FA(this.database,e));let c=a;return i&&(c=i(a)),function(t,n){const e=n.schedulers.outsideAngular,i=n.schedulers.ngZone.run(()=>t.ref);return{query:t,update:$A(i,"update"),set:$A(i,"set"),push:a=>i.push(a),remove:LR(i),snapshotChanges:a=>UA(t,a,e).pipe($r.iC),stateChanges:a=>HA(t,a,e).pipe($r.iC),auditTrail:a=>function(t,n,e){return function(t,n,e){return function(t,n){return ty(t,"value","on",n).pipe((0,rt.U)(e=>{let i;return e.payload.forEach(a=>(i=a.key,!1)),{data:e,lastKeyToLoad:i}}))}(t,e).pipe(jf(n),(0,rt.U)(([a,c])=>{const p=a.lastKeyToLoad,y=c.map(w=>w.key);return{actions:c,lastKeyToLoad:p,loadedKeys:y}}),(0,Hn.e)((n,e)=>{let i=!1;n.subscribe(new Kt.Q(e,c=>(i||(i=!(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad))(c)))&&e.next(c)))}),(0,rt.U)(a=>a.actions))}(t,HA(t,n).pipe(xr((a,c)=>[...a,c],[])),e)}(t,a,e).pipe($r.iC),valueChanges:(a,c)=>UA(t,a,e).pipe((0,rt.U)(y=>y.map(w=>c&&c.idField?Object.assign(Object.assign({},w.payload.val()),{[c.idField]:w.key}):w.payload.val())),$r.iC)}}(c,this)}object(e){return function(t,n){return{query:t,snapshotChanges:()=>jA(t,n.schedulers.outsideAngular)().pipe($r.iC),update:e=>t.ref.update(e),set:e=>t.ref.set(e),remove:()=>t.ref.remove(),valueChanges:()=>jA(t,n.schedulers.outsideAngular)().pipe($r.iC,(0,rt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>FA(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(Hr.Dh),s.LFG(Hr.xv,8),s.LFG(UR,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG($r.HU),s.LFG(HR,8),s.LFG(kA,8),s.LFG(IA,8),s.LFG(AA,8),s.LFG(SA,8),s.LFG(NA,8),s.LFG(MA,8),s.LFG(RA,8),s.LFG(xE,8))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),jR=(()=>{class t{constructor(){AR.Z.registerVersion("angularfire",$r.q4.full,"rtdb-compat")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({providers:[$R]}),t})(),GR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t,bootstrap:[RT]}),t.\u0275inj=s.cJS({providers:[],imports:[[js,lD,Hf,Y0,Hr.hO.initializeApp({apiKey:"AIzaSyDKFzMx-S9LorlXSrA8HxlxiVbgKjWqwvg",authDomain:"cunmovilpwa.firebaseapp.com",databaseURL:"https://cunmovilpwa.firebaseio.com",projectId:"cunmovilpwa",storageBucket:"cunmovilpwa.appspot.com",messagingSenderId:"561460101557",appId:"1:561460101557:web:1f8dab21bb06d9bb0e59fc"}),jR]]}),t})();(0,s.G48)(),ns().bootstrapModule(GR).catch(t=>console.error(t))},9162:(Ve,he,k)=>{"use strict";function re(ee,ce,fe,me){return new(fe||(fe=Promise))(function(ue,dt){function Rt(ot){try{ct(me.next(ot))}catch(gt){dt(gt)}}function Dn(ot){try{ct(me.throw(ot))}catch(gt){dt(gt)}}function ct(ot){ot.done?ue(ot.value):function(ue){return ue instanceof fe?ue:new fe(function(dt){dt(ue)})}(ot.value).then(Rt,Dn)}ct((me=me.apply(ee,ce||[])).next())})}function oe(ee){return this instanceof oe?(this.v=ee,this):new oe(ee)}function Y(ee,ce,fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,me=fe.apply(ee,ce||[]),ue=[];return Se={},dt("next"),dt("throw"),dt("return"),Se[Symbol.asyncIterator]=function(){return this},Se;function dt(Zt){me[Zt]&&(Se[Zt]=function(ti){return new Promise(function(ui,Yt){ue.push([Zt,ti,ui,Yt])>1||Rt(Zt,ti)})})}function Rt(Zt,ti){try{!function(Zt){Zt.value instanceof oe?Promise.resolve(Zt.value.v).then(ct,ot):gt(ue[0][2],Zt)}(me[Zt](ti))}catch(ui){gt(ue[0][3],ui)}}function ct(Zt){Rt("next",Zt)}function ot(Zt){Rt("throw",Zt)}function gt(Zt,ti){Zt(ti),ue.shift(),ue.length&&Rt(ue[0][0],ue[0][1])}}function be(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,ce=ee[Symbol.asyncIterator];return ce?ce.call(ee):(ee=function(ee){var ce="function"==typeof Symbol&&Symbol.iterator,fe=ce&&ee[ce],me=0;if(fe)return fe.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&me>=ee.length&&(ee=void 0),{value:ee&&ee[me++],done:!ee}}};throw new TypeError(ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(ee),fe={},me("next"),me("throw"),me("return"),fe[Symbol.asyncIterator]=function(){return this},fe);function me(ue){fe[ue]=ee[ue]&&function(dt){return new Promise(function(Rt,Dn){!function(ue,dt,Rt,Dn){Promise.resolve(Dn).then(function(ct){ue({value:ct,done:Rt})},dt)}(Rt,Dn,(dt=ee[ue](dt)).done,dt.value)})}}}k.d(he,{mG:()=>re,qq:()=>oe,FC:()=>Y,KL:()=>be})},3668:(Ve,he,k)=>{"use strict";k.d(he,{deG:()=>qa,tb:()=>Db,AFp:()=>v_,ip1:()=>y_,CZH:()=>id,hGG:()=>zh,z2F:()=>mt,sBO:()=>Vh,Sil:()=>D_,_Vd:()=>Sh,EJc:()=>Eb,SBq:()=>Nh,qLn:()=>lc,vpe:()=>vs,gxx:()=>Zg,tBr:()=>sn,XFs:()=>tt,OlP:()=>zt,zs3:()=>Tr,ZZ4:()=>kp,aQg:()=>gn,soG:()=>Oh,YKP:()=>LC,h0i:()=>Xu,PXZ:()=>Qt,R0b:()=>jr,FiY:()=>Qn,Lbi:()=>Cb,g9A:()=>wb,Qsj:()=>V0,FYo:()=>B0,JOm:()=>co,q3G:()=>wn,tp0:()=>Ni,Rgc:()=>xh,dDg:()=>S_,q4F:()=>zm,GfV:()=>MC,s_b:()=>hp,ifc:()=>Ue,eFA:()=>Dt,G48:()=>yD,Gpc:()=>H,X6Q:()=>_D,_c5:()=>Vb,VLi:()=>mD,c2e:()=>w_,zSh:()=>zy,wAp:()=>st,vHH:()=>xe,EiD:()=>Zd,mCW:()=>oa,qzn:()=>nl,JVY:()=>il,pB0:()=>Zp,eBb:()=>tc,L6k:()=>$d,LAX:()=>lf,cg1:()=>f0,kL8:()=>p0,yhl:()=>ec,dqk:()=>lt,sIi:()=>bh,CqO:()=>dm,QGY:()=>ml,F4k:()=>Sv,RDi:()=>bd,AaK:()=>re,z3N:()=>Fr,qOj:()=>Qg,TTD:()=>Kr,_Bn:()=>Gm,xp6:()=>vg,uIk:()=>tm,Tol:()=>Gv,DjV:()=>bc,ekj:()=>jv,Suo:()=>tb,Xpm:()=>dn,lG2:()=>wo,Yz7:()=>Yt,cJS:()=>mn,oAB:()=>Es,Yjl:()=>Nl,Y36:()=>Ch,_UZ:()=>Di,BQk:()=>An,ynx:()=>$u,qZA:()=>um,TgZ:()=>cm,EpF:()=>ya,n5z:()=>Ya,Ikx:()=>Im,SDv:()=>Um,QtT:()=>$m,pQV:()=>Ih,LFG:()=>z,$8M:()=>bn,$Z:()=>Av,NdJ:()=>hm,CRH:()=>nb,oxw:()=>Nv,ALo:()=>J0,lcZ:()=>K0,Hsn:()=>Uw,F$t:()=>Mv,Q6J:()=>am,s9C:()=>gm,MGl:()=>_l,hYB:()=>Wn,VKq:()=>$C,WLB:()=>Km,kEZ:()=>G0,iGM:()=>gp,MAs:()=>mv,CHM:()=>Mr,uOi:()=>hs,LSH:()=>ou,kYT:()=>Ko,Udp:()=>yc,YNc:()=>gv,W1O:()=>a_,_uU:()=>Kv,Oqu:()=>Gu,hij:()=>Wu,Gf:()=>o_});var s=k(273),K=k(7908),O=k(8305),ae=k(3719),ie=k(3174);function de(r){for(let o in r)if(r[o]===de)return o;throw Error("Could not find renamed property on target object.")}function ne(r,o){for(const l in o)o.hasOwnProperty(l)&&!r.hasOwnProperty(l)&&(r[l]=o[l])}function re(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(re).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const o=r.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function le(r,o){return null==r||""===r?null===o?"":o:null==o||""===o?r:r+" "+o}const $=de({__forward_ref__:de});function H(r){return r.__forward_ref__=H,r.toString=function(){return re(this())},r}function Q(r){return Re(r)?r():r}function Re(r){return"function"==typeof r&&r.hasOwnProperty($)&&r.__forward_ref__===H}class xe extends Error{constructor(o,l){super(function(r,o){return`${r?`NG0${r}: `:""}${o}`}(o,l)),this.code=o}}function Y(r){return"string"==typeof r?r:null==r?"":String(r)}function se(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Y(r)}function Te(r,o){const l=o?` in ${o}`:"";throw new xe("201",`No provider for ${se(r)} found${l}`)}function gt(r,o,l,u){throw new Error(`ASSERTION ERROR: ${r}`+(null==u?"":` [Expected=> ${l} ${u} ${o} <=Actual]`))}function Yt(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function mn(r){return{providers:r.providers||[],imports:r.imports||[]}}function ki(r){return At(r,dr)||At(r,Vn)}function At(r,o){return r.hasOwnProperty(o)?r[o]:null}function Yi(r){return r&&(r.hasOwnProperty(Ee)||r.hasOwnProperty(Mn))?r[Ee]:null}const dr=de({\u0275prov:de}),Ee=de({\u0275inj:de}),Vn=de({ngInjectableDef:de}),Mn=de({ngInjectorDef:de});var tt=(()=>((tt=tt||{})[tt.Default=0]="Default",tt[tt.Host=1]="Host",tt[tt.Self=2]="Self",tt[tt.SkipSelf=4]="SkipSelf",tt[tt.Optional=8]="Optional",tt))();let Mt;function di(r){const o=Mt;return Mt=r,o}function Je(r,o,l){const u=ki(r);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:l&tt.Optional?null:void 0!==o?o:void Te(re(r),"Injector")}function yt(r){return{toString:r}.toString()}var vt=(()=>((vt=vt||{})[vt.OnPush=0]="OnPush",vt[vt.Default=1]="Default",vt))(),Ue=(()=>{return(r=Ue||(Ue={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",Ue;var r})();const Ke="undefined"!=typeof globalThis&&globalThis,Sa="undefined"!=typeof window&&window,Zr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,lt=Ke||"undefined"!=typeof global&&global||Sa||Zr,G={},B=[],W=de({\u0275cmp:de}),ve=de({\u0275dir:de}),te=de({\u0275pipe:de}),$e=de({\u0275mod:de}),et=de({\u0275fac:de}),Ot=de({__NG_ELEMENT_ID__:de});let Zn=0;function dn(r){return yt(()=>{const l={},u={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===vt.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||B,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||Ue.Emulated,id:"c",styles:r.styles||B,_:null,setInput:null,schemas:r.schemas||null,tView:null},d=r.directives,g=r.features,_=r.pipes;return u.id+=Zn++,u.inputs=Na(r.inputs,l),u.outputs=Na(r.outputs),g&&g.forEach(b=>b(u)),u.directiveDefs=d?()=>("function"==typeof d?d():d).map(Et):null,u.pipeDefs=_?()=>("function"==typeof _?_():_).map(Yn):null,u})}function Et(r){return qt(r)||function(r){return r[ve]||null}(r)}function Yn(r){return function(r){return r[te]||null}(r)}const bo={};function Es(r){return yt(()=>{const o={type:r.type,bootstrap:r.bootstrap||B,declarations:r.declarations||B,imports:r.imports||B,exports:r.exports||B,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(bo[r.id]=r.type),o})}function Ko(r,o){return yt(()=>{const l=qn(r,!0);l.declarations=o.declarations||B,l.imports=o.imports||B,l.exports=o.exports||B})}function Na(r,o){if(null==r)return G;const l={};for(const u in r)if(r.hasOwnProperty(u)){let d=r[u],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),l[d]=u,o&&(o[d]=g)}return l}const wo=dn;function Nl(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function qt(r){return r[W]||null}function qn(r,o){const l=r[$e]||null;if(!l&&!0===o)throw new Error(`Type ${re(r)} does not have '\u0275mod' property.`);return l}function hr(r){return Array.isArray(r)&&"object"==typeof r[1]}function fr(r){return Array.isArray(r)&&!0===r[1]}function Fn(r){return 0!=(8&r.flags)}function Ar(r){return 2==(2&r.flags)}function Ml(r){return 1==(1&r.flags)}function Vi(r){return null!==r.template}function Xi(r){return 0!=(512&r[2])}function pr(r,o){return r.hasOwnProperty(et)?r[et]:null}class kl{constructor(o,l,u){this.previousValue=o,this.currentValue=l,this.firstChange=u}isFirstChange(){return this.firstChange}}function Kr(){return es}function es(r){return r.type.prototype.ngOnChanges&&(r.setInput=ri),Qr}function Qr(){const r=Jn(this),o=null==r?void 0:r.current;if(o){const l=r.previous;if(l===G)r.previous=o;else for(let u in o)l[u]=o[u];r.current=null,this.ngOnChanges(o)}}function ri(r,o,l,u){const d=Jn(r)||function(r,o){return r[Vc]=o}(r,{previous:G,current:null}),g=d.current||(d.current={}),_=d.previous,b=this.declaredInputs[l],C=_[b];g[b]=new kl(C&&C.currentValue,o,_===G),r[u]=o}Kr.ngInherit=!0;const Vc="__ngSimpleChanges__";function Jn(r){return r[Vc]||null}let ka;function bd(r){ka=r}function Rs(){return void 0!==ka?ka:"undefined"!=typeof document?document:void 0}function Ut(r){return!!r.listen}const Fl={createRenderer:(r,o)=>Rs()};function En(r){for(;Array.isArray(r);)r=r[0];return r}function tr(r,o){return En(o[r])}function Tn(r,o){return En(o[r.index])}function Io(r,o){return r.data[o]}function Ao(r,o){return r[o]}function Pt(r,o){const l=o[r];return hr(l)?l:l[0]}function Nr(r){return 4==(4&r[2])}function xs(r){return 128==(128&r[2])}function mi(r,o){return null==o?null:r[o]}function ks(r){r[18]=0}function Xr(r,o){r[5]+=o;let l=r,u=r[3];for(;null!==u&&(1===o&&1===l[5]||-1===o&&0===l[5]);)u[5]+=o,l=u,u=u[3]}const We={lFrame:Vl(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Fa(){return We.bindingsEnabled}function Ce(){return We.lFrame.lView}function wt(){return We.lFrame.tView}function Mr(r){return We.lFrame.contextLView=r,r[8]}function nn(){let r=Fs();for(;null!==r&&64===r.type;)r=r.parent;return r}function Fs(){return We.lFrame.currentTNode}function eo(){const r=We.lFrame,o=r.currentTNode;return r.isParent?o:o.parent}function Kn(r,o){const l=We.lFrame;l.currentTNode=r,l.isParent=o}function Ba(){return We.lFrame.isParent}function No(){We.lFrame.isParent=!1}function Ls(){return We.isInCheckNoChangesMode}function Mo(r){We.isInCheckNoChangesMode=r}function Un(){const r=We.lFrame;let o=r.bindingRootIndex;return-1===o&&(o=r.bindingRootIndex=r.tView.bindingStartIndex),o}function nr(){return We.lFrame.bindingIndex}function to(){return We.lFrame.bindingIndex++}function gr(r){const o=We.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+r,l}function Us(r){We.lFrame.inI18n=r}function Hs(r,o){const l=We.lFrame;l.bindingIndex=l.bindingRootIndex=r,$s(o)}function $s(r){We.lFrame.currentDirectiveIndex=r}function Ua(){return We.lFrame.currentQueryIndex}function js(r){We.lFrame.currentQueryIndex=r}function $c(r){const o=r[1];return 2===o.type?o.declTNode:1===o.type?r[6]:null}function Ha(r,o,l){if(l&tt.SkipSelf){let d=o,g=r;for(;!(d=d.parent,null!==d||l&tt.Host||(d=$c(g),null===d||(g=g[15],10&d.type))););if(null===d)return!1;o=d,r=g}const u=We.lFrame=Gs();return u.currentTNode=o,u.lView=r,!0}function $a(r){const o=Gs(),l=r[1];We.lFrame=o,o.currentTNode=l.firstChild,o.lView=r,o.tView=l,o.contextLView=r,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Gs(){const r=We.lFrame,o=null===r?null:r.child;return null===o?Vl(r):o}function Vl(r){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=o),o}function Ws(){const r=We.lFrame;return We.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const jc=Ws;function zs(){const r=Ws();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Jt(){return We.lFrame.selectedIndex}function no(r){We.lFrame.selectedIndex=r}function rn(){const r=We.lFrame;return Io(r.tView,r.selectedIndex)}function io(r,o){for(let l=o.directiveStart,u=o.directiveEnd;l<u;l++){const g=r.data[l].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:b,ngAfterViewInit:C,ngAfterViewChecked:I,ngOnDestroy:N}=g;_&&(r.contentHooks||(r.contentHooks=[])).push(-l,_),b&&((r.contentHooks||(r.contentHooks=[])).push(l,b),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(l,b)),C&&(r.viewHooks||(r.viewHooks=[])).push(-l,C),I&&((r.viewHooks||(r.viewHooks=[])).push(l,I),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(l,I)),null!=N&&(r.destroyHooks||(r.destroyHooks=[])).push(l,N)}}function ja(r,o,l){Hl(r,o,3,l)}function Ys(r,o,l,u){(3&r[2])===l&&Hl(r,o,l,u)}function Wc(r,o){let l=r[2];(3&l)===o&&(l&=2047,l+=1,r[2]=l)}function Hl(r,o,l,u){const g=null!=u?u:-1,_=o.length-1;let b=0;for(let C=void 0!==u?65535&r[18]:0;C<_;C++)if("number"==typeof o[C+1]){if(b=o[C],null!=u&&b>=u)break}else o[C]<0&&(r[18]+=65536),(b<g||-1==g)&&(zc(r,l,o,C),r[18]=(4294901760&r[18])+C+2),C++}function zc(r,o,l,u){const d=l[u]<0,g=l[u+1],b=r[d?-l[u]:l[u]];if(d){if(r[2]>>11<r[18]>>16&&(3&r[2])===o){r[2]+=2048;try{g.call(b)}finally{}}}else try{g.call(b)}finally{}}class qs{constructor(o,l,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=u}}function vn(r,o,l){const u=Ut(r);let d=0;for(;d<l.length;){const g=l[d];if("number"==typeof g){if(0!==g)break;d++;const _=l[d++],b=l[d++],C=l[d++];u?r.setAttribute(o,b,C,_):o.setAttributeNS(_,b,C)}else{const _=g,b=l[++d];je(_)?u&&r.setProperty(o,_,b):u?r.setAttribute(o,_,b):o.setAttribute(_,b),d++}}return d}function Rr(r){return 3===r||4===r||6===r}function je(r){return 64===r.charCodeAt(0)}function Wt(r,o){if(null!==o&&0!==o.length)if(null===r||0===r.length)r=o.slice();else{let l=-1;for(let u=0;u<o.length;u++){const d=o[u];"number"==typeof d?l=d:0===l||xn(r,l,d,null,-1===l||2===l?o[++u]:null)}}return r}function xn(r,o,l,u,d){let g=0,_=r.length;if(-1===o)_=-1;else for(;g<r.length;){const b=r[g++];if("number"==typeof b){if(b===o){_=-1;break}if(b>o){_=g-1;break}}}for(;g<r.length;){const b=r[g];if("number"==typeof b)break;if(b===l){if(null===u)return void(null!==d&&(r[g+1]=d));if(u===r[g+1])return void(r[g+2]=d)}g++,null!==u&&g++,null!==d&&g++}-1!==_&&(r.splice(_,0,o),g=_+1),r.splice(g++,0,l),null!==u&&r.splice(g++,0,u),null!==d&&r.splice(g++,0,d)}function kn(r){return-1!==r}function rs(r){return 32767&r}function Js(r,o){let l=function(r){return r>>16}(r),u=o;for(;l>0;)u=u[15],l--;return u}let za=!0;function xo(r){const o=za;return za=r,o}let Id=0;function ko(r,o){const l=Kt(r,o);if(-1!==l)return l;const u=o[1];u.firstCreatePass&&(r.injectorIndex=o.length,os(u.data,r),os(o,null),os(u.blueprint,null));const d=Za(r,o),g=r.injectorIndex;if(kn(d)){const _=rs(d),b=Js(d,o),C=b[1].data;for(let I=0;I<8;I++)o[g+I]=b[_+I]|C[_+I]}return o[g+8]=d,g}function os(r,o){r.push(0,0,0,0,0,0,0,0,o)}function Kt(r,o){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===o[r.injectorIndex+8]?-1:r.injectorIndex}function Za(r,o){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let l=0,u=null,d=o;for(;null!==d;){const g=d[1],_=g.type;if(u=2===_?g.declTNode:1===_?d[6]:null,null===u)return-1;if(l++,d=d[15],-1!==u.injectorIndex)return u.injectorIndex|l<<16}return-1}function ir(r,o,l){!function(r,o,l){let u;"string"==typeof l?u=l.charCodeAt(0)||0:l.hasOwnProperty(Ot)&&(u=l[Ot]),null==u&&(u=l[Ot]=Id++);const d=255&u;o.data[r+(d>>5)]|=1<<d}(r,o,l)}function rr(r,o,l){if(l&tt.Optional)return r;Te(o,"NodeInjector")}function $l(r,o,l,u){if(l&tt.Optional&&void 0===u&&(u=null),0==(l&(tt.Self|tt.Host))){const d=r[9],g=di(void 0);try{return d?d.get(o,u,l&tt.Optional):Je(o,u,l&tt.Optional)}finally{di(g)}}return rr(u,o,l)}function ss(r,o,l,u=tt.Default,d){if(null!==r){const g=function(r){if("string"==typeof r)return r.charCodeAt(0)||0;const o=r.hasOwnProperty(Ot)?r[Ot]:void 0;return"number"==typeof o?o>=0?255&o:Ks:o}(l);if("function"==typeof g){if(!Ha(o,r,u))return u&tt.Host?rr(d,l,u):$l(o,l,u,d);try{const _=g(u);if(null!=_||u&tt.Optional)return _;Te(l)}finally{jc()}}else if("number"==typeof g){let _=null,b=Kt(r,o),C=-1,I=u&tt.Host?o[16][6]:null;for((-1===b||u&tt.SkipSelf)&&(C=-1===b?Za(r,o):o[b+8],-1!==C&&Hn(u,!1)?(_=o[1],b=rs(C),o=Js(C,o)):b=-1);-1!==b;){const N=o[1];if(Fo(g,b,N.data)){const P=Qs(b,o,l,_,u,I);if(P!==Oo)return P}C=o[b+8],-1!==C&&Hn(u,o[1].data[b+8]===I)&&Fo(g,b,o)?(_=N,b=rs(C),o=Js(C,o)):b=-1}}}return $l(o,l,u,d)}const Oo={};function Ks(){return new en(nn(),Ce())}function Qs(r,o,l,u,d,g){const _=o[1],b=_.data[r+8],N=on(b,_,l,null==u?Ar(b)&&za:u!=_&&0!=(3&b.type),d&tt.Host&&g===b);return null!==N?oo(o,_,N,b):Oo}function on(r,o,l,u,d){const g=r.providerIndexes,_=o.data,b=1048575&g,C=r.directiveStart,N=g>>20,j=d?b+N:r.directiveEnd;for(let q=u?b:b+N;q<j;q++){const pe=_[q];if(q<C&&l===pe||q>=C&&pe.type===l)return q}if(d){const q=_[C];if(q&&Vi(q)&&q.type===l)return C}return null}function oo(r,o,l,u){let d=r[l];const g=o.data;if(function(r){return r instanceof qs}(d)){const _=d;_.resolving&&function(r,o){throw new xe("200",`Circular dependency in DI detected for ${r}`)}(se(g[l]));const b=xo(_.canSeeViewProviders);_.resolving=!0;const C=_.injectImpl?di(_.injectImpl):null;Ha(r,u,tt.Default);try{d=r[l]=_.factory(void 0,g,r,u),o.firstCreatePass&&l>=u.directiveStart&&function(r,o,l){const{ngOnChanges:u,ngOnInit:d,ngDoCheck:g}=o.type.prototype;if(u){const _=es(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(r,_),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(r,_)}d&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-r,d),g&&((l.preOrderHooks||(l.preOrderHooks=[])).push(r,g),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(r,g))}(l,g[l],o)}finally{null!==C&&di(C),xo(b),_.resolving=!1,jc()}}return d}function Fo(r,o,l){return!!(l[o+(r>>5)]&1<<r)}function Hn(r,o){return!(r&tt.Self||r&tt.Host&&o)}class en{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,u){return ss(this._tNode,this._lView,o,u,l)}}function Ya(r){return yt(()=>{const o=r.prototype.constructor,l=o[et]||ln(o),u=Object.prototype;let d=Object.getPrototypeOf(r.prototype).constructor;for(;d&&d!==u;){const g=d[et]||ln(d);if(g&&g!==l)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function ln(r){return Re(r)?()=>{const o=ln(Q(r));return o&&o()}:pr(r)}function bn(r){return function(r,o){if("class"===o)return r.classes;if("style"===o)return r.styles;const l=r.attrs;if(l){const u=l.length;let d=0;for(;d<u;){const g=l[d];if(Rr(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<u&&"string"==typeof l[d];)d++;else{if(g===o)return l[d+1];d+=2}}}return null}(nn(),r)}const so="__parameters__";function Ft(r,o,l){return yt(()=>{const u=function(r){return function(...l){if(r){const u=r(...l);for(const d in u)this[d]=u[d]}}}(o);function d(...g){if(this instanceof d)return u.apply(this,g),this;const _=new d(...g);return b.annotation=_,b;function b(C,I,N){const P=C.hasOwnProperty(so)?C[so]:Object.defineProperty(C,so,{value:[]})[so];for(;P.length<=N;)P.push(null);return(P[N]=P[N]||[]).push(_),C}}return l&&(d.prototype=Object.create(l.prototype)),d.prototype.ngMetadataName=r,d.annotationCls=d,d})}class zt{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Yt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const qa=new zt("AnalyzeForEntryComponents");function Si(r,o){void 0===o&&(o=r);for(let l=0;l<r.length;l++){let u=r[l];Array.isArray(u)?(o===r&&(o=r.slice(0,l)),Si(u,o)):o!==r&&o.push(u)}return o}function yr(r,o){r.forEach(l=>Array.isArray(l)?yr(l,o):o(l))}function jl(r,o,l){o>=r.length?r.push(l):r.splice(o,0,l)}function as(r,o){return o>=r.length-1?r.pop():r.splice(o,1)[0]}function ls(r,o){const l=[];for(let u=0;u<r;u++)l.push(o);return l}function oi(r,o,l){let u=cs(r,o);return u>=0?r[1|u]=l:(u=~u,function(r,o,l,u){let d=r.length;if(d==o)r.push(l,u);else if(1===d)r.push(u,r[0]),r[0]=l;else{for(d--,r.push(r[d-1],r[d]);d>o;)r[d]=r[d-2],d--;r[o]=l,r[o+1]=u}}(r,u,o,l)),u}function vr(r,o){const l=cs(r,o);if(l>=0)return r[1|l]}function cs(r,o){return function(r,o,l){let u=0,d=r.length>>l;for(;d!==u;){const g=u+(d-u>>1),_=r[g<<l];if(o===_)return g<<l;_>o?d=g:u=g+1}return~(d<<l)}(r,o,1)}const Ka={},Qa="__NG_DI_FLAG__",Or="ngTempTokenPath",Fd=/\n/gm,D="__source",E=de({provide:String,useValue:de});let M;function L(r){const o=M;return M=r,o}function Z(r,o=tt.Default){if(void 0===M)throw new Error("inject() must be called from an injection context");return null===M?Je(r,void 0,o):M.get(r,o&tt.Optional?null:void 0,o)}function z(r,o=tt.Default){return(Mt||Z)(Q(r),o)}function Fe(r){const o=[];for(let l=0;l<r.length;l++){const u=Q(r[l]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let d,g=tt.Default;for(let _=0;_<u.length;_++){const b=u[_],C=Lt(b);"number"==typeof C?-1===C?d=b.token:g|=C:d=b}o.push(z(d,g))}else o.push(z(u))}return o}function Ct(r,o){return r[Qa]=o,r.prototype[Qa]=o,r}function Lt(r){return r[Qa]}const sn=Ct(Ft("Inject",r=>({token:r})),-1),Qn=Ct(Ft("Optional"),8),Ni=Ct(Ft("SkipSelf"),4);let Ui,ra;function Uo(r){var o;return(null==(o=function(){if(void 0===Ui&&(Ui=null,lt.trustedTypes))try{Ui=lt.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return Ui}())?void 0:o.createHTML(r))||r}function Kl(r){var o;return(null==(o=function(){if(void 0===ra&&(ra=null,lt.trustedTypes))try{ra=lt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return ra}())?void 0:o.createScriptURL(r))||r}class ds{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class tu extends ds{getTypeName(){return"HTML"}}class Ql extends ds{getTypeName(){return"Style"}}class Wp extends ds{getTypeName(){return"Script"}}class Xl extends ds{getTypeName(){return"URL"}}class zp extends ds{getTypeName(){return"ResourceURL"}}function Fr(r){return r instanceof ds?r.changingThisBreaksApplicationSecurity:r}function nl(r,o){const l=ec(r);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function ec(r){return r instanceof ds&&r.getTypeName()||null}function il(r){return new tu(r)}function $d(r){return new Ql(r)}function tc(r){return new Wp(r)}function lf(r){return new Xl(r)}function Zp(r){return new zp(r)}function nu(r){const o=new qp(r);return function(){try{return!!(new window.DOMParser).parseFromString(Uo(""),"text/html")}catch(r){return!1}}()?new Yp(o):o}class Yp{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(Uo(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class qp{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const u=this.inertDocument.createElement("body");l.appendChild(u)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=Uo(o),l;const u=this.inertDocument.createElement("body");return u.innerHTML=Uo(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(o){const l=o.attributes;for(let d=l.length-1;0<d;d--){const _=l.item(d).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&o.removeAttribute(_)}let u=o.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const cf=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Gd=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function oa(r){return(r=String(r)).match(cf)||r.match(Gd)?r:"unsafe:"+r}function uf(r){return(r=String(r)).split(",").map(o=>oa(o.trim())).join(", ")}function Lr(r){const o={};for(const l of r.split(","))o[l]=!0;return o}function rl(...r){const o={};for(const l of r)for(const u in l)l.hasOwnProperty(u)&&(o[u]=!0);return o}const df=Lr("area,br,col,hr,img,wbr"),Wd=Lr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),hf=Lr("rp,rt"),Br=rl(df,rl(Wd,Lr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),rl(hf,Lr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),rl(hf,Wd)),zd=Lr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),nc=Lr("srcset"),ol=rl(zd,nc,Lr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Lr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),aa=Lr("script,style,template");class Qp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,u=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?u=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,u&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let d=this.checkClobberedElement(l,l.nextSibling);if(d){l=d;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!Br.hasOwnProperty(l))return this.sanitizedSomething=!0,!aa.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const u=o.attributes;for(let d=0;d<u.length;d++){const g=u.item(d),_=g.name,b=_.toLowerCase();if(!ol.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let C=g.value;zd[b]&&(C=oa(C)),nc[b]&&(C=uf(C)),this.buf.push(" ",_,'="',pf(C),'"')}return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();Br.hasOwnProperty(l)&&!df.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(pf(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const sl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,iu=/([^\#-~ |!])/g;function pf(r){return r.replace(/&/g,"&amp;").replace(sl,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(iu,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ic;function Zd(r,o){let l=null;try{ic=ic||nu(r);let u=o?String(o):"";l=ic.getInertBodyElement(u);let d=5,g=u;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,u=g,g=l.innerHTML,l=ic.getInertBodyElement(u)}while(u!==g);return Uo((new Qp).sanitizeChildren(gf(l)||l))}finally{if(l){const u=gf(l)||l;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function gf(r){return"content"in r&&function(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var wn=(()=>((wn=wn||{})[wn.NONE=0]="NONE",wn[wn.HTML=1]="HTML",wn[wn.STYLE=2]="STYLE",wn[wn.SCRIPT=3]="SCRIPT",wn[wn.URL=4]="URL",wn[wn.RESOURCE_URL=5]="RESOURCE_URL",wn))();function ou(r){const o=al();return o?o.sanitize(wn.URL,r)||"":nl(r,"URL")?Fr(r):oa(Y(r))}function hs(r){const o=al();if(o)return Kl(o.sanitize(wn.RESOURCE_URL,r)||"");if(nl(r,"ResourceURL"))return Kl(Fr(r));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function al(){const r=Ce();return r&&r[12]}const lu="__ngContext__";function Xn(r,o){r[lu]=o}function qd(r){const o=function(r){return r[lu]||null}(r);return o?Array.isArray(o)?o:o.lView:null}function Qd(r){return r.ngOriginalError}function lg(r,...o){r.error(...o)}class lc{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o),u=(r=o)&&r.ngErrorLogger||lg;var r;u(this._console,"ERROR",o),l&&u(this._console,"ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&Qd(o);for(;l&&Qd(l);)l=Qd(l);return l||null}}const yf=/^>|^->|<!--|-->|--!>|<!-$/g,Xd=/(<|>)/;const nh=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(lt))();function Dr(r){return r instanceof Function?r():r}var co=(()=>((co=co||{})[co.Important=1]="Important",co[co.DashCase=2]="DashCase",co))();let rh;function cl(r,o){return rh(r,o)}function fa(r){const o=r[3];return fr(o)?o[3]:o}function pa(r){return oh(r[13])}function gu(r){return oh(r[4])}function oh(r){for(;null!==r&&!fr(r);)r=r[4];return r}function ga(r,o,l,u,d){if(null!=u){let g,_=!1;fr(u)?g=u:hr(u)&&(_=!0,u=u[0]);const b=En(u);0===r&&null!==l?null==d?mu(o,l,b):ho(o,l,b,d||null,!0):1===r&&null!==l?ho(o,l,b,d||null,!0):2===r?D1(o,b,_):3===r&&o.destroyNode(b),null!=g&&function(r,o,l,u,d){const g=l[7];g!==En(l)&&ga(o,r,u,g,d);for(let b=10;b<l.length;b++){const C=l[b];wu(C[1],C,r,o,u,g)}}(o,r,g,l,d)}}function sh(r,o){return Ut(r)?r.createText(o):r.createTextNode(o)}function Cf(r,o,l){Ut(r)?r.setValue(o,l):o.textContent=l}function ar(r,o){return r.createComment(function(r){return r.replace(yf,o=>o.replace(Xd,"\u200b$1\u200b"))}(o))}function m(r,o,l){return Ut(r)?r.createElement(o,l):null===l?r.createElement(o):r.createElementNS(l,o)}function X(r,o){const l=r[9],u=l.indexOf(o),d=o[3];1024&o[2]&&(o[2]&=-1025,Xr(d,-1)),l.splice(u,1)}function Ae(r,o){if(r.length<=10)return;const l=10+o,u=r[l];if(u){const d=u[17];null!==d&&d!==r&&X(d,u),o>0&&(r[l-1][4]=u[4]);const g=as(r,10+o);!function(r,o){wu(r,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const _=g[19];null!==_&&_.detachView(g[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Ie(r,o){if(!(256&o[2])){const l=o[11];Ut(l)&&l.destroyNode&&wu(r,o,l,3,null,null),function(r){let o=r[13];if(!o)return ze(r[1],r);for(;o;){let l=null;if(hr(o))l=o[13];else{const u=o[10];u&&(l=u)}if(!l){for(;o&&!o[4]&&o!==r;)hr(o)&&ze(o[1],o),o=o[3];null===o&&(o=r),hr(o)&&ze(o[1],o),l=o&&o[4]}o=l}}(o)}}function ze(r,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function(r,o){let l;if(null!=r&&null!=(l=r.destroyHooks))for(let u=0;u<l.length;u+=2){const d=o[l[u]];if(!(d instanceof qs)){const g=l[u+1];if(Array.isArray(g))for(let _=0;_<g.length;_+=2){const b=d[g[_]],C=g[_+1];try{C.call(b)}finally{}}else try{g.call(d)}finally{}}}}(r,o),function(r,o){const l=r.cleanup,u=o[7];let d=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const _=l[g+1],b="function"==typeof _?_(o):En(o[_]),C=u[d=l[g+2]],I=l[g+3];"boolean"==typeof I?b.removeEventListener(l[g],C,I):I>=0?u[d=I]():u[d=-I].unsubscribe(),g+=2}else{const _=u[d=l[g+1]];l[g].call(_)}if(null!==u){for(let g=d+1;g<u.length;g++)u[g]();o[7]=null}}(r,o),1===o[1].type&&Ut(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&fr(o[3])){l!==o[3]&&X(l,o);const u=o[19];null!==u&&u.detachView(r)}}}function cn(r,o,l){return uo(r,o.parent,l)}function uo(r,o,l){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return l[0];if(2&u.flags){const d=r.data[u.directiveStart].encapsulation;if(d===Ue.None||d===Ue.Emulated)return null}return Tn(u,l)}function ho(r,o,l,u,d){Ut(r)?r.insertBefore(o,l,u,d):o.insertBefore(l,u,d)}function mu(r,o,l){Ut(r)?r.appendChild(o,l):o.appendChild(l)}function _u(r,o,l,u,d){null!==u?ho(r,o,l,u,d):mu(r,o,l)}function ul(r,o){return Ut(r)?r.parentNode(o):o.parentNode}function yu(r,o,l){return ah(r,o,l)}function vu(r,o,l){return 40&r.type?Tn(r,l):null}let lh,ah=vu;function dl(r,o){ah=r,lh=o}function bu(r,o,l,u){const d=cn(r,u,o),g=o[11],b=yu(u.parent||o[6],u,o);if(null!=d)if(Array.isArray(l))for(let C=0;C<l.length;C++)_u(g,d,l[C],b,!1);else _u(g,d,l,b,!1);void 0!==lh&&lh(g,u,o,l,d)}function Tf(r,o){if(null!==o){const l=o.type;if(3&l)return Tn(o,r);if(4&l)return pg(-1,r[o.index]);if(8&l){const u=o.child;if(null!==u)return Tf(r,u);{const d=r[o.index];return fr(d)?pg(-1,d):En(d)}}if(32&l)return cl(o,r)()||En(r[o.index]);{const u=fg(r,o);return null!==u?Array.isArray(u)?u[0]:Tf(fa(r[16]),u):Tf(r,o.next)}}return null}function fg(r,o){return null!==o?r[16][6].projection[o.projection]:null}function pg(r,o){const l=10+r+1;if(l<o.length){const u=o[l],d=u[1].firstChild;if(null!==d)return Tf(u,d)}return o[7]}function D1(r,o,l){const u=ul(r,o);u&&function(r,o,l,u){Ut(r)?r.removeChild(o,l,u):o.removeChild(l)}(r,u,o,l)}function gg(r,o,l,u,d,g,_){for(;null!=l;){const b=u[l.index],C=l.type;if(_&&0===o&&(b&&Xn(En(b),u),l.flags|=4),64!=(64&l.flags))if(8&C)gg(r,o,l.child,u,d,g,!1),ga(o,r,d,b,g);else if(32&C){const I=cl(l,u);let N;for(;N=I();)ga(o,r,d,N,g);ga(o,r,d,b,g)}else 16&C?bi(r,o,u,l,d,g):ga(o,r,d,b,g);l=_?l.projectionNext:l.next}}function wu(r,o,l,u,d,g){gg(l,u,r.firstChild,o,d,g,!1)}function bi(r,o,l,u,d,g){const _=l[16],C=_[6].projection[u.projection];if(Array.isArray(C))for(let I=0;I<C.length;I++)ga(o,r,d,C[I],g);else gg(r,o,C,_[3],d,g,!0)}function ly(r,o,l){Ut(r)?r.setAttribute(o,"style",l):o.style.cssText=l}function mg(r,o,l){Ut(r)?""===l?r.removeAttribute(o,"class"):r.setAttribute(o,"class",l):o.className=l}function cy(r,o,l){let u=r.length;for(;;){const d=r.indexOf(o,l);if(-1===d)return d;if(0===d||r.charCodeAt(d-1)<=32){const g=o.length;if(d+g===u||r.charCodeAt(d+g)<=32)return d}l=d+1}}const ma="ng-template";function dy(r,o,l){let u=0;for(;u<r.length;){let d=r[u++];if(l&&"class"===d){if(d=r[u],-1!==cy(d.toLowerCase(),o,0))return!0}else if(1===d){for(;u<r.length&&"string"==typeof(d=r[u++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function wi(r){return 4===r.type&&r.value!==ma}function hl(r,o,l){return o===(4!==r.type||l?r.value:ma)}function T1(r,o,l){let u=4;const d=r.attrs||[],g=function(r){for(let o=0;o<r.length;o++)if(Rr(r[o]))return o;return r.length}(d);let _=!1;for(let b=0;b<o.length;b++){const C=o[b];if("number"!=typeof C){if(!_)if(4&u){if(u=2|1&u,""!==C&&!hl(r,C,l)||""===C&&1===o.length){if($i(u))return!1;_=!0}}else{const I=8&u?C:o[++b];if(8&u&&null!==r.attrs){if(!dy(r.attrs,I,l)){if($i(u))return!1;_=!0}continue}const P=hy(8&u?"class":C,d,wi(r),l);if(-1===P){if($i(u))return!1;_=!0;continue}if(""!==I){let j;j=P>g?"":d[P+1].toLowerCase();const q=8&u?j:null;if(q&&-1!==cy(q,I,0)||2&u&&I!==j){if($i(u))return!1;_=!0}}}}else{if(!_&&!$i(u)&&!$i(C))return!1;if(_&&$i(C))continue;_=!1,u=C|1&u}}return $i(u)||_}function $i(r){return 0==(1&r)}function hy(r,o,l,u){if(null===o)return-1;let d=0;if(u||!l){let g=!1;for(;d<o.length;){const _=o[d];if(_===r)return d;if(3===_||6===_)g=!0;else{if(1===_||2===_){let b=o[++d];for(;"string"==typeof b;)b=o[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=g?1:2}return-1}return function(r,o){let l=r.indexOf(4);if(l>-1)for(l++;l<r.length;){const u=r[l];if("number"==typeof u)return-1;if(u===o)return l;l++}return-1}(o,r)}function _g(r,o,l=!1){for(let u=0;u<o.length;u++)if(T1(r,o[u],l))return!0;return!1}function my(r,o){e:for(let l=0;l<o.length;l++){const u=o[l];if(r.length===u.length){for(let d=0;d<r.length;d++)if(r[d]!==u[d])continue e;return!0}}return!1}function yg(r,o){return r?":not("+o.trim()+")":o}function _y(r){let o=r[0],l=1,u=2,d="",g=!1;for(;l<r.length;){let _=r[l];if("string"==typeof _)if(2&u){const b=r[++l];d+="["+_+(b.length>0?'="'+b+'"':"")+"]"}else 8&u?d+="."+_:4&u&&(d+=" "+_);else""!==d&&!$i(_)&&(o+=yg(g,d),d=""),u=_,g=g||!$i(u);l++}return""!==d&&(o+=yg(g,d)),o}const ft={};function vg(r){bg(wt(),Ce(),Jt()+r,Ls())}function bg(r,o,l,u){if(!u)if(3==(3&o[2])){const g=r.preOrderCheckHooks;null!==g&&ja(o,g,l)}else{const g=r.preOrderHooks;null!==g&&Ys(o,g,0,l)}no(l)}function uh(r,o){return r<<17|o<<2}function fo(r){return r>>17&32767}function dh(r){return 2|r}function fs(r){return(131068&r)>>2}function Af(r,o){return-131069&r|o<<2}function hh(r){return 1|r}function Du(r,o){const l=r.contentQueries;if(null!==l)for(let u=0;u<l.length;u+=2){const d=l[u],g=l[u+1];if(-1!==g){const _=r.data[g];js(d),_.contentQueries(2,o[g],g)}}}function _a(r,o,l,u,d,g,_,b,C,I){const N=o.blueprint.slice();return N[0]=d,N[2]=140|u,ks(N),N[3]=N[15]=r,N[8]=l,N[10]=_||r&&r[10],N[11]=b||r&&r[11],N[12]=C||r&&r[12]||null,N[9]=I||r&&r[9]||null,N[6]=g,N[16]=2==o.type?r[16]:N,N}function Tu(r,o,l,u,d){let g=r.data[o];if(null===g)g=ph(r,o,l,u,d),We.lFrame.inI18n&&(g.flags|=64);else if(64&g.type){g.type=l,g.value=u,g.attrs=d;const _=eo();g.injectorIndex=null===_?-1:_.injectorIndex}return Kn(g,!0),g}function ph(r,o,l,u,d){const g=Fs(),_=Ba(),C=r.data[o]=function(r,o,l,u,d,g){return{type:l,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?g:g&&g.parent,l,o,u,d);return null===r.firstChild&&(r.firstChild=C),null!==g&&(_?null==g.child&&null!==C.parent&&(g.child=C):null===g.next&&(g.next=C)),C}function dc(r,o,l,u){if(0===l)return-1;const d=o.length;for(let g=0;g<l;g++)o.push(u),r.blueprint.push(u),r.data.push(null);return d}function hc(r,o,l){$a(o);try{const u=r.viewQuery;null!==u&&Bf(1,u,l);const d=r.template;null!==d&&kf(r,o,d,1,l),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Du(r,o),r.staticViewQueries&&Bf(2,r.viewQuery,l);const g=r.components;null!==g&&function(r,o){for(let l=0;l<o.length;l++)G1(r,o[l])}(o,g)}catch(u){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),u}finally{o[2]&=-5,zs()}}function fc(r,o,l,u){const d=o[2];if(256==(256&d))return;$a(o);const g=Ls();try{ks(o),function(r){We.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==l&&kf(r,o,l,2,u);const _=3==(3&d);if(!g)if(_){const I=r.preOrderCheckHooks;null!==I&&ja(o,I,null)}else{const I=r.preOrderHooks;null!==I&&Ys(o,I,0,null),Wc(o,0)}if(function(r){for(let o=pa(r);null!==o;o=gu(o)){if(!o[2])continue;const l=o[9];for(let u=0;u<l.length;u++){const d=l[u],g=d[3];0==(1024&d[2])&&Xr(g,1),d[2]|=1024}}}(o),function(r){for(let o=pa(r);null!==o;o=gu(o))for(let l=10;l<o.length;l++){const u=o[l],d=u[1];xs(u)&&fc(d,u,d.template,u[8])}}(o),null!==r.contentQueries&&Du(r,o),!g)if(_){const I=r.contentCheckHooks;null!==I&&ja(o,I)}else{const I=r.contentHooks;null!==I&&Ys(o,I,1),Wc(o,1)}!function(r,o){const l=r.hostBindingOpCodes;if(null!==l)try{for(let u=0;u<l.length;u++){const d=l[u];if(d<0)no(~d);else{const g=d,_=l[++u],b=l[++u];Hs(_,g),b(2,o[g])}}}finally{no(-1)}}(r,o);const b=r.components;null!==b&&function(r,o){for(let l=0;l<o.length;l++)j1(r,o[l])}(o,b);const C=r.viewQuery;if(null!==C&&Bf(2,C,u),!g)if(_){const I=r.viewCheckHooks;null!==I&&ja(o,I)}else{const I=r.viewHooks;null!==I&&Ys(o,I,2),Wc(o,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),g||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Xr(o[3],-1))}finally{zs()}}function Pg(r,o,l,u){const d=o[10],g=!Ls(),_=Nr(o);try{g&&!_&&d.begin&&d.begin(),_&&hc(r,o,u),fc(r,o,l,u)}finally{g&&!_&&d.end&&d.end()}}function kf(r,o,l,u,d){const g=Jt(),_=2&u;try{no(-1),_&&o.length>20&&bg(r,o,20,Ls()),l(u,d)}finally{no(g)}}function pc(r,o,l){if(Fn(o)){const d=o.directiveEnd;for(let g=o.directiveStart;g<d;g++){const _=r.data[g];_.contentQueries&&_.contentQueries(1,l[g],g)}}}function gc(r,o,l){!Fa()||(function(r,o,l,u){const d=l.directiveStart,g=l.directiveEnd;r.firstCreatePass||ko(l,o),Xn(u,o);const _=l.initialInputs;for(let b=d;b<g;b++){const C=r.data[b],I=Vi(C);I&&$g(o,l,C);const N=oo(o,r,b,l);Xn(N,o),null!==_&&Ly(0,b-d,N,C,0,_),I&&(Pt(l.index,o)[8]=N)}}(r,o,l,Tn(l,o)),128==(128&l.flags)&&function(r,o,l){const u=l.directiveStart,d=l.directiveEnd,_=l.index,b=We.lFrame.currentDirectiveIndex;try{no(_);for(let C=u;C<d;C++){const I=r.data[C],N=o[C];$s(C),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&ky(I,N)}}finally{no(-1),$s(b)}}(r,o,l))}function gh(r,o,l=Tn){const u=o.localNames;if(null!==u){let d=o.index+1;for(let g=0;g<u.length;g+=2){const _=u[g+1],b=-1===_?l(o,r):r[_];r[d++]=b}}}function Iy(r){const o=r.tView;return null===o||o.incompleteFirstPass?r.tView=gl(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):o}function gl(r,o,l,u,d,g,_,b,C,I){const N=20+u,P=N+d,j=function(r,o){const l=[];for(let u=0;u<o;u++)l.push(u<r?null:ft);return l}(N,P),q="function"==typeof I?I():I;return j[1]={type:r,blueprint:j,template:l,queries:null,viewQuery:b,declTNode:o,data:j.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:C,consts:q,incompleteFirstPass:!1}}function P1(r,o,l,u){const d=Vf(o);null===l?d.push(u):(d.push(l),r.firstCreatePass&&Wg(r).push(u,d.length-1))}function Ay(r,o,l){for(let u in r)if(r.hasOwnProperty(u)){const d=r[u];(l=null===l?{}:l).hasOwnProperty(u)?l[u].push(o,d):l[u]=[o,d]}return l}function Er(r,o,l,u,d,g,_,b){const C=Tn(o,l);let N,I=o.inputs;!b&&null!=I&&(N=I[u])?(Gy(r,l,N,u,d),Ar(o)&&function(r,o){const l=Pt(o,r);16&l[2]||(l[2]|=64)}(l,o.index)):3&o.type&&(u=function(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(u),d=null!=_?_(d,o.value||"",u):d,Ut(g)?g.setProperty(C,u,d):je(u)||(C.setProperty?C.setProperty(u,d):C[u]=d))}function Bg(r,o,l,u){let d=!1;if(Fa()){const g=function(r,o,l){const u=r.directiveRegistry;let d=null;if(u)for(let g=0;g<u.length;g++){const _=u[g];_g(l,_.selectors,!1)&&(d||(d=[]),ir(ko(l,o),r,_.type),Vi(_)?(Py(r,l),d.unshift(_)):d.push(_))}return d}(r,o,l),_=null===u?null:{"":-1};if(null!==g){d=!0,Of(l,r.data.length,g.length);for(let N=0;N<g.length;N++){const P=g[N];P.providersResolver&&P.providersResolver(P)}let b=!1,C=!1,I=dc(r,o,g.length,null);for(let N=0;N<g.length;N++){const P=g[N];l.mergedAttrs=Wt(l.mergedAttrs,P.hostAttrs),Fy(r,l,o,I,P),U1(I,P,_),null!==P.contentQueries&&(l.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(l.flags|=128);const j=P.type.prototype;!b&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(l.index),b=!0),!C&&(j.ngOnChanges||j.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(l.index),C=!0),I++}!function(r,o){const u=o.directiveEnd,d=r.data,g=o.attrs,_=[];let b=null,C=null;for(let I=o.directiveStart;I<u;I++){const N=d[I],P=N.inputs,j=null===g||wi(o)?null:H1(P,g);_.push(j),b=Ay(P,I,b),C=Ay(N.outputs,I,C)}null!==b&&(b.hasOwnProperty("class")&&(o.flags|=16),b.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=_,o.inputs=b,o.outputs=C}(r,l)}_&&function(r,o,l){if(o){const u=r.localNames=[];for(let d=0;d<o.length;d+=2){const g=l[o[d+1]];if(null==g)throw new xe("301",`Export of name '${o[d+1]}' not found!`);u.push(o[d],g)}}}(l,u,_)}return l.mergedAttrs=Wt(l.mergedAttrs,l.attrs),d}function Vg(r,o,l,u,d,g){const _=g.hostBindings;if(_){let b=r.hostBindingOpCodes;null===b&&(b=r.hostBindingOpCodes=[]);const C=~o.index;(function(r){let o=r.length;for(;o>0;){const l=r[--o];if("number"==typeof l&&l<0)return l}return 0})(b)!=C&&b.push(C),b.push(u,d,_)}}function ky(r,o){null!==r.hostBindings&&r.hostBindings(1,o)}function Py(r,o){o.flags|=2,(r.components||(r.components=[])).push(o.index)}function U1(r,o,l){if(l){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)l[o.exportAs[u]]=r;Vi(o)&&(l[""]=r)}}function Of(r,o,l){r.flags|=1,r.directiveStart=o,r.directiveEnd=o+l,r.providerIndexes=o}function Fy(r,o,l,u,d){r.data[u]=d;const g=d.factory||(d.factory=pr(d.type)),_=new qs(g,Vi(d),null);r.blueprint[u]=_,l[u]=_,Vg(r,o,0,u,dc(r,l,d.hostVars,ft),d)}function $g(r,o,l){const u=Tn(o,r),d=Iy(l),g=r[10],_=Iu(r,_a(r,d,null,l.onPush?64:16,u,o,g,g.createRenderer(u,l),null,null));r[o.index]=_}function jg(r,o,l,u,d,g,_){if(null==g)Ut(r)?r.removeAttribute(o,d,l):o.removeAttribute(d);else{const b=null==_?Y(g):_(g,u||"",d);Ut(r)?r.setAttribute(o,d,b,l):l?o.setAttributeNS(l,d,b):o.setAttribute(d,b)}}function Ly(r,o,l,u,d,g){const _=g[o];if(null!==_){const b=u.setInput;for(let C=0;C<_.length;){const I=_[C++],N=_[C++],P=_[C++];null!==b?u.setInput(l,P,I,N):l[N]=P}}}function H1(r,o){let l=null,u=0;for(;u<o.length;){const d=o[u];if(0!==d)if(5!==d){if("number"==typeof d)break;r.hasOwnProperty(d)&&(null===l&&(l=[]),l.push(d,r[d],o[u+1])),u+=2}else u+=2;else u+=4}return l}function By(r,o,l,u){return new Array(r,!0,!1,o,null,0,u,l,null,null)}function j1(r,o){const l=Pt(o,r);if(xs(l)){const u=l[1];80&l[2]?fc(u,l,u.template,l[8]):l[5]>0&&Pf(l)}}function Pf(r){for(let u=pa(r);null!==u;u=gu(u))for(let d=10;d<u.length;d++){const g=u[d];if(1024&g[2]){const _=g[1];fc(_,g,_.template,g[8])}else g[5]>0&&Pf(g)}const l=r[1].components;if(null!==l)for(let u=0;u<l.length;u++){const d=Pt(l[u],r);xs(d)&&d[5]>0&&Pf(d)}}function G1(r,o){const l=Pt(o,r),u=l[1];(function(r,o){for(let l=o.length;l<r.blueprint.length;l++)o.push(r.blueprint[l])})(u,l),hc(u,l,l[8])}function Iu(r,o){return r[13]?r[14][4]=o:r[13]=o,r[14]=o,o}function Ff(r){for(;r;){r[2]|=64;const o=fa(r);if(Xi(r)&&!o)return r;r=o}return null}function Au(r,o,l){const u=o[10];u.begin&&u.begin();try{fc(r,o,r.template,l)}catch(d){throw zg(o,d),d}finally{u.end&&u.end()}}function Hy(r){!function(r){for(let o=0;o<r.components.length;o++){const l=r.components[o],u=qd(l),d=u[1];Pg(d,u,d.template,l)}}(r[8])}function Bf(r,o,l){js(0),o(r,l)}const z1=(()=>Promise.resolve(null))();function Vf(r){return r[7]||(r[7]=[])}function Wg(r){return r.cleanup||(r.cleanup=[])}function zg(r,o){const l=r[9],u=l?l.get(lc,null):null;u&&u.handleError(o)}function Gy(r,o,l,u,d){for(let g=0;g<l.length;){const _=l[g++],b=l[g++],C=o[_],I=r.data[_];null!==I.setInput?I.setInput(C,d,u,b):C[b]=d}}function Uf(r,o,l){let u=l?r.styles:null,d=l?r.classes:null,g=0;if(null!==o)for(let _=0;_<o.length;_++){const b=o[_];"number"==typeof b?g=b:1==g?d=le(d,b):2==g&&(u=le(u,b+": "+o[++_]+";"))}l?r.styles=u:r.stylesWithoutHost=u,l?r.classes=d:r.classesWithoutHost=d}const Zg=new zt("INJECTOR",-1);class q1{get(o,l=Ka){if(l===Ka){const u=new Error(`NullInjectorError: No provider for ${re(o)}!`);throw u.name="NullInjectorError",u}return l}}const zy=new zt("Set Injector scope."),Su={},J1={};let Hf;function Zy(){return void 0===Hf&&(Hf=new q1),Hf}function Yy(r,o=null,l=null,u){const d=K1(r,o,l,u);return d._resolveInjectorDefTypes(),d}function K1(r,o=null,l=null,u){return new Q1(r,l,o||Zy(),u)}class Q1{constructor(o,l,u,d=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];l&&yr(l,b=>this.processProvider(b,o,l)),yr([o],b=>this.processInjectorType(b,[],g)),this.records.set(Zg,Nu(void 0,this));const _=this.records.get(zy);this.scope=null!=_?_.value:null,this.source=d||("object"==typeof o?null:re(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,l=Ka,u=tt.Default){this.assertNotDestroyed();const d=L(this),g=di(void 0);try{if(!(u&tt.SkipSelf)){let b=this.records.get(o);if(void 0===b){const C=("function"==typeof(r=o)||"object"==typeof r&&r instanceof zt)&&ki(o);b=C&&this.injectableDefInScope(C)?Nu(ms(o),Su):null,this.records.set(o,b)}if(null!=b)return this.hydrate(o,b)}return(u&tt.Self?Zy():this.parent).get(o,l=u&tt.Optional&&l===Ka?null:l)}catch(_){if("NullInjectorError"===_.name){if((_[Or]=_[Or]||[]).unshift(re(o)),d)throw _;return function(r,o,l,u){const d=r[Or];throw o[D]&&d.unshift(o[D]),r.message=function(r,o,l,u=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let d=re(o);if(Array.isArray(o))d=o.map(re).join(" -> ");else if("object"==typeof o){let g=[];for(let _ in o)if(o.hasOwnProperty(_)){let b=o[_];g.push(_+":"+("string"==typeof b?JSON.stringify(b):re(b)))}d=`{${g.join(", ")}}`}return`${l}${u?"("+u+")":""}[${d}]: ${r.replace(Fd,"\n  ")}`}("\n"+r.message,d,l,u),r.ngTokenPath=d,r[Or]=null,r}(_,o,"R3InjectorError",this.source)}throw _}finally{di(g),L(d)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((u,d)=>o.push(re(d))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(o,l,u){if(!(o=Q(o)))return!1;let d=Yi(o);const g=null==d&&o.ngModule||void 0,_=void 0===g?o:g,b=-1!==u.indexOf(_);if(void 0!==g&&(d=Yi(g)),null==d)return!1;if(null!=d.imports&&!b){let N;u.push(_);try{yr(d.imports,P=>{this.processInjectorType(P,l,u)&&(void 0===N&&(N=[]),N.push(P))})}finally{}if(void 0!==N)for(let P=0;P<N.length;P++){const{ngModule:j,providers:q}=N[P];yr(q,pe=>this.processProvider(pe,j,q||B))}}this.injectorDefTypes.add(_);const C=pr(_)||(()=>new _);this.records.set(_,Nu(C,Su));const I=d.providers;if(null!=I&&!b){const N=o;yr(I,P=>this.processProvider(P,N,I))}return void 0!==g&&void 0!==o.providers}processProvider(o,l,u){let d=Mu(o=Q(o))?o:Q(o&&o.provide);const g=(r=o,ai(r)?Nu(void 0,r.useValue):Nu(qy(r),Su));var r;if(Mu(o)||!0!==o.multi)this.records.get(d);else{let _=this.records.get(d);_||(_=Nu(void 0,Su,!0),_.factory=()=>Fe(_.multi),this.records.set(d,_)),d=o,_.multi.push(o)}this.records.set(d,g)}hydrate(o,l){return l.value===Su&&(l.value=J1,l.value=l.factory()),"object"==typeof l.value&&l.value&&null!==(r=l.value)&&"object"==typeof r&&"function"==typeof r.ngOnDestroy&&this.onDestroy.add(l.value),l.value;var r}injectableDefInScope(o){if(!o.providedIn)return!1;const l=Q(o.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function ms(r){const o=ki(r),l=null!==o?o.factory:pr(r);if(null!==l)return l;if(r instanceof zt)throw new Error(`Token ${re(r)} is missing a \u0275prov definition.`);if(r instanceof Function)return function(r){const o=r.length;if(o>0){const u=ls(o,"?");throw new Error(`Can't resolve all parameters for ${re(r)}: (${u.join(", ")}).`)}const l=function(r){const o=r&&(r[dr]||r[Vn]);if(o){const l=function(r){if(r.hasOwnProperty("name"))return r.name;const o=(""+r).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(r);return null!==l?()=>l.factory(r):()=>new r}(r);throw new Error("unreachable")}function qy(r,o,l){let u;if(Mu(r)){const d=Q(r);return pr(d)||ms(d)}if(ai(r))u=()=>Q(r.useValue);else if(function(r){return!(!r||!r.useFactory)}(r))u=()=>r.useFactory(...Fe(r.deps||[]));else if(function(r){return!(!r||!r.useExisting)}(r))u=()=>z(Q(r.useExisting));else{const d=Q(r&&(r.useClass||r.provide));if(!function(r){return!!r.deps}(r))return pr(d)||ms(d);u=()=>new d(...Fe(r.deps))}return u}function Nu(r,o,l=!1){return{factory:r,value:o,multi:l?[]:void 0}}function ai(r){return null!==r&&"object"==typeof r&&E in r}function Mu(r){return"function"==typeof r}let Tr=(()=>{class r{static create(l,u){var d;if(Array.isArray(l))return Yy({name:""},u,l,"");{const g=null!=(d=l.name)?d:"";return Yy({name:g},l.parent,l.providers,g)}}}return r.THROW_IF_NOT_FOUND=Ka,r.NULL=new q1,r.\u0275prov=Yt({token:r,providedIn:"any",factory:()=>z(Zg)}),r.__NG_ELEMENT_ID__=-1,r})();function sw(r,o){io(qd(r)[1],nn())}function Qg(r){let o=function(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),l=!0;const u=[r];for(;o;){let d;if(Vi(r))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Error("Directives cannot inherit Components");d=o.\u0275dir}if(d){if(l){u.push(d);const _=r;_.inputs=Xg(r.inputs),_.declaredInputs=Xg(r.declaredInputs),_.outputs=Xg(r.outputs);const b=d.hostBindings;b&&uw(r,b);const C=d.viewQuery,I=d.contentQueries;if(C&&lw(r,C),I&&cw(r,I),ne(r.inputs,d.inputs),ne(r.declaredInputs,d.declaredInputs),ne(r.outputs,d.outputs),Vi(d)&&d.data.animation){const N=r.data;N.animation=(N.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let _=0;_<g.length;_++){const b=g[_];b&&b.ngInherit&&b(r),b===Qg&&(l=!1)}}o=Object.getPrototypeOf(o)}!function(r){let o=0,l=null;for(let u=r.length-1;u>=0;u--){const d=r[u];d.hostVars=o+=d.hostVars,d.hostAttrs=Wt(d.hostAttrs,l=Wt(l,d.hostAttrs))}}(u)}function Xg(r){return r===G?{}:r===B?[]:r}function lw(r,o){const l=r.viewQuery;r.viewQuery=l?(u,d)=>{o(u,d),l(u,d)}:o}function cw(r,o){const l=r.contentQueries;r.contentQueries=l?(u,d,g)=>{o(u,d,g),l(u,d,g)}:o}function uw(r,o){const l=r.hostBindings;r.hostBindings=l?(u,d)=>{o(u,d),l(u,d)}:o}let zf=null;function Ru(){if(!zf){const r=lt.Symbol;if(r&&r.iterator)zf=r.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const u=o[l];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(zf=u)}}}return zf}function bh(r){return!!em(r)&&(Array.isArray(r)||!(r instanceof Map)&&Ru()in r)}function em(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function _s(r,o,l){return r[o]=l}function ji(r,o,l){return!Object.is(r[o],l)&&(r[o]=l,!0)}function mc(r,o,l,u){const d=ji(r,o,l);return ji(r,o+1,u)||d}function tm(r,o,l,u){const d=Ce();return ji(d,to(),o)&&(wt(),function(r,o,l,u,d,g){const _=Tn(r,o);jg(o[11],_,g,r.value,l,u,d)}(rn(),d,r,o,l,u)),tm}function ku(r,o,l,u){return ji(r,to(),l)?o+Y(l)+u:ft}function Fu(r,o,l,u,d,g,_,b,C,I){const P=function(r,o,l,u,d,g){const _=mc(r,o,l,u);return mc(r,o+2,d,g)||_}(r,nr(),l,d,_,C);return gr(4),P?o+Y(l)+u+Y(d)+g+Y(_)+b+Y(C)+I:ft}function gv(r,o,l,u,d,g,_,b){const C=Ce(),I=wt(),N=r+20,P=I.firstCreatePass?function(r,o,l,u,d,g,_,b,C){const I=o.consts,N=Tu(o,r,4,_||null,mi(I,b));Bg(o,l,N,mi(I,C)),io(o,N);const P=N.tViews=gl(2,N,u,d,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,I);return null!==o.queries&&(o.queries.template(o,N),P.queries=o.queries.embeddedTView(N)),N}(N,I,C,o,l,u,d,g,_):I.data[N];Kn(P,!1);const j=C[11].createComment("");bu(I,C,j,P),Xn(j,C),Iu(C,C[N]=By(j,C,j,P)),Ml(P)&&gc(I,C,P),null!=_&&gh(C,P,b)}function mv(r){return Ao(We.lFrame.contextLView,20+r)}function Ch(r,o=tt.Default){const l=Ce();return null===l?z(r,o):ss(nn(),l,Q(r),o)}function Av(){throw new Error("invalid")}function am(r,o,l){const u=Ce();return ji(u,to(),o)&&Er(wt(),rn(),u,r,o,u[11],l,!1),am}function lm(r,o,l,u,d){const _=d?"class":"style";Gy(r,l,o.inputs[_],_,u)}function cm(r,o,l,u){const d=Ce(),g=wt(),_=20+r,b=d[11],C=d[_]=m(b,o,We.lFrame.currentNamespace),I=g.firstCreatePass?function(r,o,l,u,d,g,_){const b=o.consts,I=Tu(o,r,2,d,mi(b,g));return Bg(o,l,I,mi(b,_)),null!==I.attrs&&Uf(I,I.attrs,!1),null!==I.mergedAttrs&&Uf(I,I.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,I),I}(_,g,d,0,o,l,u):g.data[_];Kn(I,!0);const N=I.mergedAttrs;null!==N&&vn(b,C,N);const P=I.classes;null!==P&&mg(b,C,P);const j=I.styles;null!==j&&ly(b,C,j),64!=(64&I.flags)&&bu(g,d,C,I),0===We.lFrame.elementDepthCount&&Xn(C,d),We.lFrame.elementDepthCount++,Ml(I)&&(gc(g,d,I),pc(g,I,d)),null!==u&&gh(d,I)}function um(){let r=nn();Ba()?No():(r=r.parent,Kn(r,!1));const o=r;We.lFrame.elementDepthCount--;const l=wt();l.firstCreatePass&&(io(l,r),Fn(r)&&l.queries.elementEnd(r)),null!=o.classesWithoutHost&&function(r){return 0!=(16&r.flags)}(o)&&lm(l,o,Ce(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function(r){return 0!=(32&r.flags)}(o)&&lm(l,o,Ce(),o.stylesWithoutHost,!1)}function Di(r,o,l,u){cm(r,o,l,u),um()}function $u(r,o,l){const u=Ce(),d=wt(),g=r+20,_=d.firstCreatePass?function(r,o,l,u,d){const g=o.consts,_=mi(g,u),b=Tu(o,r,8,"ng-container",_);return null!==_&&Uf(b,_,!0),Bg(o,l,b,mi(g,d)),null!==o.queries&&o.queries.elementStart(o,b),b}(g,d,u,o,l):d.data[g];Kn(_,!0);const b=u[g]=u[11].createComment("");bu(d,u,b,_),Xn(b,u),Ml(_)&&(gc(d,u,_),pc(d,_,u)),null!=l&&gh(u,_)}function An(){let r=nn();const o=wt();Ba()?No():(r=r.parent,Kn(r,!1)),o.firstCreatePass&&(io(o,r),Fn(r)&&o.queries.elementEnd(r))}function ya(){return Ce()}function ml(r){return!!r&&"function"==typeof r.then}function Sv(r){return!!r&&"function"==typeof r.subscribe}const dm=Sv;function hm(r,o,l,u){const d=Ce(),g=wt(),_=nn();return function(r,o,l,u,d,g,_,b){const C=Ml(u),N=r.firstCreatePass&&Wg(r),P=o[8],j=Vf(o);let q=!0;if(3&u.type||b){const Pe=Tn(u,o),Ye=b?b(Pe):Pe,_e=j.length,Qe=b?It=>b(En(It[u.index])):u.index;if(Ut(l)){let It=null;if(!b&&C&&(It=function(r,o,l,u){const d=r.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const _=d[g];if(_===l&&d[g+1]===u){const b=o[7],C=d[g+2];return b.length>C?b[C]:null}"string"==typeof _&&(g+=2)}return null}(r,o,d,u.index)),null!==It)(It.__ngLastListenerFn__||It).__ngNextListenerFn__=g,It.__ngLastListenerFn__=g,q=!1;else{g=ei(u,o,P,g,!1);const jt=l.listen(Ye,d,g);j.push(g,jt),N&&N.push(d,Qe,_e,_e+1)}}else g=ei(u,o,P,g,!0),Ye.addEventListener(d,g,_),j.push(g),N&&N.push(d,Qe,_e,_)}else g=ei(u,o,P,g,!1);const pe=u.outputs;let Ne;if(q&&null!==pe&&(Ne=pe[d])){const Pe=Ne.length;if(Pe)for(let Ye=0;Ye<Pe;Ye+=2){const Wi=o[Ne[Ye]][Ne[Ye+1]].subscribe(g),Zo=j.length;j.push(g,Wi),N&&N.push(d,u.index,Zo,-(Zo+1))}}}(g,d,d[11],_,r,o,!!l,u),hm}function pm(r,o,l,u){try{return!1!==l(u)}catch(d){return zg(r,d),!1}}function ei(r,o,l,u,d){return function g(_){if(_===Function)return u;const b=2&r.flags?Pt(r.index,o):o;0==(32&o[2])&&Ff(b);let C=pm(o,0,u,_),I=g.__ngNextListenerFn__;for(;I;)C=pm(o,0,I,_)&&C,I=I.__ngNextListenerFn__;return d&&!1===C&&(_.preventDefault(),_.returnValue=!1),C}}function Nv(r=1){return function(r){return(We.lFrame.contextLView=function(r,o){for(;r>0;)o=o[15],r--;return o}(r,We.lFrame.contextLView))[8]}(r)}function Vw(r,o){let l=null;const u=function(r){const o=r.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(r);for(let d=0;d<o.length;d++){const g=o[d];if("*"!==g){if(null===u?_g(r,g,!0):my(u,g))return d}else l=d}return l}function Mv(r){const o=Ce()[16][6];if(!o.projection){const u=o.projection=ls(r?r.length:1,null),d=u.slice();let g=o.child;for(;null!==g;){const _=r?Vw(g,r):0;null!==_&&(d[_]?d[_].projectionNext=g:u[_]=g,d[_]=g),g=g.next}}}function Uw(r,o=0,l){const u=Ce(),d=wt(),g=Tu(d,20+r,16,null,l||null);null===g.projection&&(g.projection=o),No(),64!=(64&g.flags)&&function(r,o,l){bi(o[11],0,o,l,cn(r,l,o),yu(l.parent||o[6],l,o))}(d,u,g)}function gm(r,o,l){return _l(r,"",o,"",l),gm}function _l(r,o,l,u,d){const g=Ce(),_=ku(g,o,l,u);return _!==ft&&Er(wt(),rn(),g,r,_,g[11],d,!1),_l}function Wn(r,o,l,u,d,g,_){const b=Ce(),C=function(r,o,l,u,d,g){const b=mc(r,nr(),l,d);return gr(2),b?o+Y(l)+u+Y(d)+g:ft}(b,o,l,u,d,g);return C!==ft&&Er(wt(),rn(),b,r,C,b[11],_,!1),Wn}function Hw(r,o,l,u,d){const g=r[l+1],_=null===o;let b=u?fo(g):fs(g),C=!1;for(;0!==b&&(!1===C||_);){const N=r[b+1];Lv(r[b],o)&&(C=!0,r[b+1]=u?hh(N):dh(N)),b=u?fo(N):fs(N)}C&&(r[l+1]=u?dh(g):hh(g))}function Lv(r,o){return null===r||null==o||(Array.isArray(r)?r[1]:r)===o||!(!Array.isArray(r)||"string"!=typeof o)&&cs(r,o)>=0}const li={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Bv(r){return r.substring(li.key,li.keyEnd)}function Xf(r,o){const l=li.textEnd;return l===o?-1:(o=li.keyEnd=function(r,o,l){for(;o<l&&r.charCodeAt(o)>32;)o++;return o}(r,li.key=o,l),ju(r,o,l))}function ju(r,o,l){for(;o<l&&r.charCodeAt(o)<=32;)o++;return o}function yc(r,o,l){return jo(r,o,l,!1),yc}function jv(r,o){return jo(r,o,null,!0),jv}function Gv(r){go(oi,ys,r,!0)}function ys(r,o){for(let l=function(r){return function(r){li.key=0,li.keyEnd=0,li.value=0,li.valueEnd=0,li.textEnd=r.length}(r),Xf(r,ju(r,0,li.textEnd))}(o);l>=0;l=Xf(o,l))oi(r,Bv(o),!0)}function jo(r,o,l,u){const d=Ce(),g=wt(),_=gr(2);g.firstUpdatePass&&vl(g,r,_,u),o!==ft&&ji(d,_,o)&&Eh(g,g.data[Jt()],d,d[11],r,d[_+1]=function(r,o){return null==r||("string"==typeof o?r+=o:"object"==typeof r&&(r=re(Fr(r)))),r}(o,l),u,_)}function go(r,o,l,u){const d=wt(),g=gr(2);d.firstUpdatePass&&vl(d,null,g,u);const _=Ce();if(l!==ft&&ji(_,g,l)){const b=d.data[Jt()];if(Jv(b,u)&&!Wv(d,g)){let C=u?b.classesWithoutHost:b.stylesWithoutHost;null!==C&&(l=le(C,l||"")),lm(d,b,_,l,u)}else!function(r,o,l,u,d,g,_,b){d===ft&&(d=B);let C=0,I=0,N=0<d.length?d[0]:null,P=0<g.length?g[0]:null;for(;null!==N||null!==P;){const j=C<d.length?d[C+1]:void 0,q=I<g.length?g[I+1]:void 0;let Ne,pe=null;N===P?(C+=2,I+=2,j!==q&&(pe=P,Ne=q)):null===P||null!==N&&N<P?(C+=2,pe=N):(I+=2,pe=P,Ne=q),null!==pe&&Eh(r,o,l,u,pe,Ne,_,b),N=C<d.length?d[C]:null,P=I<g.length?g[I]:null}}(d,b,_,_[11],_[g+1],_[g+1]=function(r,o,l){if(null==l||""===l)return B;const u=[],d=Fr(l);if(Array.isArray(d))for(let g=0;g<d.length;g++)r(u,d[g],!0);else if("object"==typeof d)for(const g in d)d.hasOwnProperty(g)&&r(u,g,d[g]);else"string"==typeof d&&o(u,d);return u}(r,o,l),u,g)}}function Wv(r,o){return o>=r.expandoStartIndex}function vl(r,o,l,u){const d=r.data;if(null===d[l+1]){const g=d[Jt()],_=Wv(r,l);Jv(g,u)&&null===o&&!_&&(o=!1),o=function(r,o,l,u){const d=function(r){const o=We.lFrame.currentDirectiveIndex;return-1===o?null:r[o]}(r);let g=u?o.residualClasses:o.residualStyles;if(null===d)0===(u?o.classBindings:o.styleBindings)&&(l=Pn(l=ep(null,r,o,l,u),o.attrs,u),g=null);else{const _=o.directiveStylingLast;if(-1===_||r[_]!==d)if(l=ep(d,r,o,l,u),null===g){let C=function(r,o,l){const u=l?o.classBindings:o.styleBindings;if(0!==fs(u))return r[fo(u)]}(r,o,u);void 0!==C&&Array.isArray(C)&&(C=ep(null,r,o,C[1],u),C=Pn(C,o.attrs,u),function(r,o,l,u){r[fo(l?o.classBindings:o.styleBindings)]=u}(r,o,u,C))}else g=function(r,o,l){let u;const d=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<d;g++)u=Pn(u,r[g].hostAttrs,l);return Pn(u,o.attrs,l)}(r,o,u)}return void 0!==g&&(u?o.residualClasses=g:o.residualStyles=g),l}(d,g,o,u),function(r,o,l,u,d,g){let _=g?o.classBindings:o.styleBindings,b=fo(_),C=fs(_);r[u]=l;let N,I=!1;if(Array.isArray(l)){const P=l;N=P[1],(null===N||cs(P,N)>0)&&(I=!0)}else N=l;if(d)if(0!==C){const j=fo(r[b+1]);r[u+1]=uh(j,b),0!==j&&(r[j+1]=Af(r[j+1],u)),r[b+1]=function(r,o){return 131071&r|o<<17}(r[b+1],u)}else r[u+1]=uh(b,0),0!==b&&(r[b+1]=Af(r[b+1],u)),b=u;else r[u+1]=uh(C,0),0===b?b=u:r[C+1]=Af(r[C+1],u),C=u;I&&(r[u+1]=dh(r[u+1])),Hw(r,N,u,!0),Hw(r,N,u,!1),function(r,o,l,u,d){const g=d?r.residualClasses:r.residualStyles;null!=g&&"string"==typeof o&&cs(g,o)>=0&&(l[u+1]=hh(l[u+1]))}(o,N,r,u,g),_=uh(b,C),g?o.classBindings=_:o.styleBindings=_}(d,g,o,l,_,u)}}function ep(r,o,l,u,d){let g=null;const _=l.directiveEnd;let b=l.directiveStylingLast;for(-1===b?b=l.directiveStart:b++;b<_&&(g=o[b],u=Pn(u,g.hostAttrs,d),g!==r);)b++;return null!==r&&(l.directiveStylingLast=b),u}function Pn(r,o,l){const u=l?1:2;let d=-1;if(null!==o)for(let g=0;g<o.length;g++){const _=o[g];"number"==typeof _?d=_:d===u&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),oi(r,_,!!l||o[++g]))}return void 0===r?null:r}function Eh(r,o,l,u,d,g,_,b){if(!(3&o.type))return;const C=r.data,I=C[b+1];va(function(r){return 1==(1&r)}(I)?Yv(C,o,l,d,fs(I),_):void 0)||(va(g)||function(r){return 2==(2&r)}(I)&&(g=Yv(C,null,l,d,b,_)),function(r,o,l,u,d){const g=Ut(r);if(o)d?g?r.addClass(l,u):l.classList.add(u):g?r.removeClass(l,u):l.classList.remove(u);else{let _=-1===u.indexOf("-")?void 0:co.DashCase;if(null==d)g?r.removeStyle(l,u,_):l.style.removeProperty(u);else{const b="string"==typeof d&&d.endsWith("!important");b&&(d=d.slice(0,-10),_|=co.Important),g?r.setStyle(l,u,d,_):l.style.setProperty(u,d,b?"important":"")}}}(u,_,tr(Jt(),l),d,g))}function Yv(r,o,l,u,d,g){const _=null===o;let b;for(;d>0;){const C=r[d],I=Array.isArray(C),N=I?C[1]:C,P=null===N;let j=l[d+1];j===ft&&(j=P?B:void 0);let q=P?vr(j,u):N===u?j:void 0;if(I&&!va(q)&&(q=vr(C,u)),va(q)&&(b=q,_))return b;const pe=r[d+1];d=_?fo(pe):fs(pe)}if(null!==o){let C=g?o.residualClasses:o.residualStyles;null!=C&&(b=vr(C,u))}return b}function va(r){return void 0!==r}function Jv(r,o){return 0!=(r.flags&(o?16:32))}function Kv(r,o=""){const l=Ce(),u=wt(),d=r+20,g=u.firstCreatePass?Tu(u,d,1,o,null):u.data[d],_=l[d]=sh(l[11],o);bu(u,l,_,g),Kn(g,!1)}function Gu(r){return Wu("",r,""),Gu}function Wu(r,o,l){const u=Ce(),d=ku(u,r,o,l);return d!==ft&&function(r,o,l){const u=tr(o,r);Cf(r[11],u,l)}(u,Jt(),d),Wu}function bc(r,o,l,u,d,g,_,b,C){go(oi,ys,Fu(Ce(),r,o,l,u,d,g,_,b,C),!0)}function Im(r,o,l){const u=Ce();return ji(u,to(),o)&&Er(wt(),rn(),u,r,o,u[11],l,!0),Im}const Go=void 0;var h0=["en",[["a","p"],["AM","PM"],Go],[["AM","PM"],Go,Go],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Go,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Go,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Go,"{1} 'at' {0}",Go],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(r){const l=Math.floor(Math.abs(r)),u=r.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===u?1:5}];let Zu={};function f0(r){const o=function(r){return r.toLowerCase().replace(/_/g,"-")}(r);let l=nC(o);if(l)return l;const u=o.split("-")[0];if(l=nC(u),l)return l;if("en"===u)return h0;throw new Error(`Missing locale data for the locale "${r}".`)}function p0(r){return f0(r)[st.PluralCase]}function nC(r){return r in Zu||(Zu[r]=lt.ng&&lt.ng.common&&lt.ng.common.locales&&lt.ng.common.locales[r]),Zu[r]}var st=(()=>((st=st||{})[st.LocaleId=0]="LocaleId",st[st.DayPeriodsFormat=1]="DayPeriodsFormat",st[st.DayPeriodsStandalone=2]="DayPeriodsStandalone",st[st.DaysFormat=3]="DaysFormat",st[st.DaysStandalone=4]="DaysStandalone",st[st.MonthsFormat=5]="MonthsFormat",st[st.MonthsStandalone=6]="MonthsStandalone",st[st.Eras=7]="Eras",st[st.FirstDayOfWeek=8]="FirstDayOfWeek",st[st.WeekendRange=9]="WeekendRange",st[st.DateFormat=10]="DateFormat",st[st.TimeFormat=11]="TimeFormat",st[st.DateTimeFormat=12]="DateTimeFormat",st[st.NumberSymbols=13]="NumberSymbols",st[st.NumberFormats=14]="NumberFormats",st[st.CurrencyCode=15]="CurrencyCode",st[st.CurrencySymbol=16]="CurrencySymbol",st[st.CurrencyName=17]="CurrencyName",st[st.Currencies=18]="Currencies",st[st.Directionality=19]="Directionality",st[st.PluralCase=20]="PluralCase",st[st.ExtraData=21]="ExtraData",st))();const dT=["zero","one","two","few","many"],Sm="en-US",Nm={marker:"element"},Mm={marker:"ICU"};var zn=(()=>((zn=zn||{})[zn.SHIFT=2]="SHIFT",zn[zn.APPEND_EAGERLY=1]="APPEND_EAGERLY",zn[zn.COMMENT=2]="COMMENT",zn))();let iC=Sm;function oC(r,o,l){const u=o.insertBeforeIndex,d=Array.isArray(u)?u[0]:u;return null===d?vu(r,0,l):En(l[d])}function sC(r,o,l,u,d){const g=o.insertBeforeIndex;if(Array.isArray(g)){let _=u,b=null;if(3&o.type||(b=_,_=d),null!==_&&0==(2&o.flags))for(let C=1;C<g.length;C++)ho(r,_,l[g[C]],b,!1)}}function aC(r,o){if(r.push(o),r.length>1)for(let l=r.length-2;l>=0;l--){const u=r[l];lC(u)||gT(u,o)&&null===g0(u)&&mT(u,o.index)}}function lC(r){return!(64&r.type)}function gT(r,o){return lC(o)||r.index>o.index}function g0(r){const o=r.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function mT(r,o){const l=r.insertBeforeIndex;Array.isArray(l)?l[0]=o:(dl(oC,sC),r.insertBeforeIndex=o)}function lr(r,o){const l=r.data[o];return null===l||"string"==typeof l?null:l.hasOwnProperty("currentCaseLViewIndex")?l:l.value}function m0(r,o,l){const u=ph(r,l,64,null,null);return aC(o,u),u}function Yu(r,o){const l=o[r.currentCaseLViewIndex];return null===l?l:l<0?~l:l}function _0(r){return r>>>17}function y0(r){return(131070&r)>>>1}let ba=0,bl=0;function b0(r,o,l,u){const d=l[11];let _,g=null;for(let b=0;b<o.length;b++){const C=o[b];if("string"==typeof C){const I=o[++b];null===l[I]&&(l[I]=sh(d,C))}else if("number"==typeof C)switch(1&C){case 0:const I=_0(C);let N,P;if(null===g&&(g=I,_=ul(d,u)),I===g?(N=u,P=_):(N=null,P=En(l[I])),null!==P){const Ne=y0(C);ho(d,P,l[Ne],N,!1);const Ye=lr(r,Ne);if(null!==Ye&&"object"==typeof Ye){const _e=Yu(Ye,l);null!==_e&&b0(r,Ye.create[_e],l,l[Ye.anchorIdx])}}break;case 1:const q=o[++b],pe=o[++b];jg(d,tr(C>>>1,l),null,null,q,pe,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${C}"`)}else switch(C){case Mm:const I=o[++b],N=o[++b];null===l[N]&&Xn(l[N]=ar(d,I),l);break;case Nm:const P=o[++b],j=o[++b];null===l[j]&&Xn(l[j]=m(d,P,null),l)}}}function w0(r,o,l,u,d){for(let g=0;g<l.length;g++){const _=l[g],b=l[++g];if(_&d){let C="";for(let I=g+1;I<=g+b;I++){const N=l[I];if("string"==typeof N)C+=N;else if("number"==typeof N)if(N<0)C+=Y(o[u-N]);else{const P=N>>>2;switch(3&N){case 1:const j=l[++I],q=l[++I],pe=r.data[P];"string"==typeof pe?jg(o[11],o[P],null,pe,j,C,q):Er(r,pe,o,j,C,o[11],q,!1);break;case 0:const Ne=o[P];null!==Ne&&Cf(o[11],Ne,C);break;case 2:Cc(r,lr(r,P),o,C);break;case 3:wc(r,lr(r,P),u,o)}}}}else{const C=l[g+1];if(C>0&&3==(3&C)){const N=lr(r,C>>>2);o[N.currentCaseLViewIndex]<0&&wc(r,N,u,o)}}g+=b}}function wc(r,o,l,u){let d=u[o.currentCaseLViewIndex];if(null!==d){let g=ba;d<0&&(d=u[o.currentCaseLViewIndex]=~d,g=-1),w0(r,u,o.update[d],l,g)}}function Cc(r,o,l,u){const d=function(r,o){let l=r.cases.indexOf(o);if(-1===l)switch(r.type){case 1:{const u=function(r,o){const l=p0(o)(parseInt(r,10)),u=dT[l];return void 0!==u?u:"other"}(o,iC);l=r.cases.indexOf(u),-1===l&&"other"!==u&&(l=r.cases.indexOf("other"));break}case 0:l=r.cases.indexOf("other")}return-1===l?null:l}(o,u);if(Yu(o,l)!==d&&(qu(r,o,l),l[o.currentCaseLViewIndex]=null===d?null:~d,null!==d)){const _=l[o.anchorIdx];_&&b0(r,o.create[d],l,_)}}function qu(r,o,l){let u=Yu(o,l);if(null!==u){const d=o.remove[u];for(let g=0;g<d.length;g++){const _=d[g];if(_>0){const b=tr(_,l);null!==b&&D1(l[11],b)}else qu(r,lr(r,~_),l)}}}function C0(){const r=[];let l,u,o=-1;function g(b,C){o=0;const I=Yu(b,C);u=null!==I?b.remove[I]:B}function _(){if(o<u.length){const b=u[o++];return b>0?l[b]:(r.push(o,u),g(l[1].data[~b],l),_())}return 0===r.length?null:(u=r.pop(),o=r.pop(),_())}return function(b,C){for(l=C;r.length;)r.pop();return g(b.value,C),_}}const km=/\ufffd(\d+):?\d*\ufffd/gi,vT=/\ufffd(\d+)\ufffd/,fC=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,bT=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,wT=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,CT=/\uE500/g;function pC(r,o,l,u,d,g,_){const b=dc(r,u,1,null);let C=b<<zn.SHIFT,I=eo();o===I&&(I=null),null===I&&(C|=zn.APPEND_EAGERLY),_&&(C|=zn.COMMENT,function(r){void 0===rh&&(rh=r())}(C0)),d.push(C,null===g?"":g);const N=ph(r,b,_?32:1,null===g?"":g,null);aC(l,N);const P=N.index;return Kn(N,!1),null!==I&&o!==I&&function(r,o){let l=r.insertBeforeIndex;null===l?(dl(oC,sC),l=r.insertBeforeIndex=[null,o]):(function(r,o,l){r!=o&&gt(l,r,o,"==")}(Array.isArray(l),!0,"Expecting array here"),l.push(o))}(I,P),N}function TT(r,o,l,u,d,g,_){const b=_.match(km),C=pC(r,o,l,g,u,b?null:_,!1);b&&Dc(d,_,C.index,null,0,null)}function Dc(r,o,l,u,d,g){const _=r.length,b=_+1;r.push(null,null);const C=_+2,I=o.split(km);let N=0;for(let P=0;P<I.length;P++){const j=I[P];if(1&P){const q=d+parseInt(j,10);r.push(-1-q),N|=Om(q)}else""!==j&&r.push(j)}return r.push(l<<2|(u?1:0)),u&&r.push(u,g),r[_]=N,r[b]=r.length-C,N}function Om(r){return 1<<Math.min(r,31)}function Pm(r){let o,g,l="",u=0,d=!1;for(;null!==(o=bT.exec(r));)d?o[0]===`\ufffd/*${g}\ufffd`&&(u=o.index,d=!1):(l+=r.substring(u,o.index+o[0].length),g=o[1],d=!0);return l+=r.substr(u),l}function E0(r,o,l,u,d,g){let _=0;const b={type:d.type,currentCaseLViewIndex:dc(r,o,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function(r,o,l){r.push(Om(o.mainBinding),2,-1-o.mainBinding,l<<2|2)})(l,d,g),function(r,o,l){const u=r.data[o];null===u?r.data[o]=l:u.value=l}(r,g,b);const C=d.values;for(let I=0;I<C.length;I++){const N=C[I],P=[];for(let j=0;j<N.length;j++){const q=N[j];if("string"!=typeof q){const pe=P.push(q)-1;N[j]=`\x3c!--\ufffd${pe}\ufffd--\x3e`}}_=I0(r,b,o,l,u,d.cases[I],N.join(""),P)|_}_&&function(r,o,l){r.push(o,1,l<<2|3)}(l,_,g)}function sp(r){const o=[],l=[];let u=1,d=0;const g=T0(r=r.replace(fC,function(_,b,C){return u="select"===C?0:1,d=parseInt(b.substr(1),10),""}));for(let _=0;_<g.length;){let b=g[_++].trim();1===u&&(b=b.replace(/\s*(?:=)?(\w+)\s*/,"$1")),b.length&&o.push(b);const C=T0(g[_++]);o.length>l.length&&l.push(C)}return{type:u,mainBinding:d,cases:o,values:l}}function T0(r){if(!r)return[];let o=0;const l=[],u=[],d=/[{}]/g;let g;for(d.lastIndex=0;g=d.exec(r);){const b=g.index;if("}"==g[0]){if(l.pop(),0==l.length){const C=r.substring(o,b);fC.test(C)?u.push(sp(C)):u.push(C),o=b+1}}else{if(0==l.length){const C=r.substring(o,b);u.push(C),o=b+1}l.push("{")}}const _=r.substring(o);return u.push(_),u}function I0(r,o,l,u,d,g,_,b){const C=[],I=[],N=[];o.cases.push(g),o.create.push(C),o.remove.push(I),o.update.push(N);const j=nu(Rs()).getInertBodyElement(_),q=gf(j)||j;return q?Fm(r,o,l,u,C,I,N,q,d,b,0):0}function Fm(r,o,l,u,d,g,_,b,C,I,N){let P=0,j=b.firstChild;for(;j;){const q=dc(r,l,1,null);switch(j.nodeType){case Node.ELEMENT_NODE:const pe=j,Ne=pe.tagName.toLowerCase();if(Br.hasOwnProperty(Ne)){ap(d,Nm,Ne,C,q),r.data[q]=Ne;const Qe=pe.attributes;for(let It=0;It<Qe.length;It++){const jt=Qe.item(It),Wi=jt.name.toLowerCase();jt.value.match(km)?ol.hasOwnProperty(Wi)&&Dc(_,jt.value,q,jt.name,0,zd[Wi]?oa:nc[Wi]?uf:null):_C(d,q,jt)}P=Fm(r,o,l,u,d,g,_,j,q,I,N+1)|P,wl(g,q,N)}break;case Node.TEXT_NODE:const Pe=j.textContent||"",Ye=Pe.match(km);ap(d,null,Ye?"":Pe,C,q),wl(g,q,N),Ye&&(P=Dc(_,Pe,q,null,0,null)|P);break;case Node.COMMENT_NODE:const _e=vT.exec(j.textContent||"");if(_e){const It=I[parseInt(_e[1],10)];ap(d,Mm,"",C,q),E0(r,l,u,C,It,q),Lm(g,q,N)}}j=j.nextSibling}return P}function wl(r,o,l){0===l&&r.push(o)}function Lm(r,o,l){0===l&&(r.push(~o),r.push(o))}function ap(r,o,l,u,d){null!==o&&r.push(o),r.push(l,d,function(r,o,l){return 0|o<<17|l<<1}(0,u,d))}function _C(r,o,l){r.push(o<<1|1,l.name,l.value)}function wC(r,o,l=-1){const u=wt(),d=Ce(),g=20+r,_=mi(u.consts,o),b=eo();u.firstCreatePass&&function(r,o,l,u,d,g){const _=eo(),b=[],C=[],I=[[]];d=function(r,o){if(function(r){return-1===r}(o))return Pm(r);{const l=r.indexOf(`:${o}\ufffd`)+2+o.toString().length,u=r.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return Pm(r.substring(l,u))}}(d,g);const N=function(r){return r.replace(CT," ")}(d).split(wT);for(let P=0;P<N.length;P++){let j=N[P];if(0==(1&P)){const q=T0(j);for(let pe=0;pe<q.length;pe++){let Ne=q[pe];if(0==(1&pe)){const Pe=Ne;""!==Pe&&TT(r,_,I[0],b,C,l,Pe)}else{const Pe=Ne;if("object"!=typeof Pe)throw new Error(`Unable to parse ICU expression in "${d}" message.`);E0(r,l,C,o,Pe,pC(r,_,I[0],l,b,"",!0).index)}}}else{const q=47===j.charCodeAt(0),Ne=(j.charCodeAt(q?1:0),20+Number.parseInt(j.substring(q?2:1)));if(q)I.shift(),Kn(eo(),!1);else{const Pe=m0(r,I[0],Ne);I.unshift([]),Kn(Pe,!0)}}}r.data[u]={create:b,update:C}}(u,null===b?0:b.index,d,g,_,l);const C=u.data[g],N=uo(u,b===d[6]?null:b,d);(function(r,o,l,u){const d=r[11];for(let g=0;g<o.length;g++){const _=o[g++],b=o[g],C=(_&zn.COMMENT)===zn.COMMENT,I=(_&zn.APPEND_EAGERLY)===zn.APPEND_EAGERLY,N=_>>>zn.SHIFT;let P=r[N];null===P&&(P=r[N]=C?d.createComment(b):sh(d,b)),I&&null!==l&&ho(d,l,P,u,!1)}})(d,C.create,N,b&&8&b.type?d[b.index]:null),Us(!0)}function Um(r,o,l){wC(r,o,l),Us(!1)}function Ih(r){return function(r){r&&(ba|=1<<Math.min(bl,31)),bl++}(ji(Ce(),to(),r)),Ih}function $m(r){!function(r,o,l){if(bl>0){const u=r.data[l];w0(r,o,Array.isArray(u)?u:u.update,nr()-bl-1,ba)}ba=0,bl=0}(wt(),Ce(),r+20)}function Ah(r,o,l,u,d){if(r=Q(r),Array.isArray(r))for(let g=0;g<r.length;g++)Ah(r[g],o,l,u,d);else{const g=wt(),_=Ce();let b=Mu(r)?r:Q(r.provide),C=qy(r);const I=nn(),N=1048575&I.providerIndexes,P=I.directiveStart,j=I.providerIndexes>>20;if(Mu(r)||!r.multi){const q=new qs(C,d,Ch),pe=lp(b,o,d?N:N+j,P);-1===pe?(ir(ko(I,_),g,b),jm(g,r,o.length),o.push(b),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),l.push(q),_.push(q)):(l[pe]=q,_[pe]=q)}else{const q=lp(b,o,N+j,P),pe=lp(b,o,N,N+j),Ne=q>=0&&l[q],Pe=pe>=0&&l[pe];if(d&&!Pe||!d&&!Ne){ir(ko(I,_),g,b);const Ye=function(r,o,l,u,d){const g=new qs(r,l,Ch);return g.multi=[],g.index=o,g.componentProviders=0,EC(g,d,u&&!l),g}(d?R0:TC,l.length,d,u,C);!d&&Pe&&(l[pe].providerFactory=Ye),jm(g,r,o.length,0),o.push(b),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),l.push(Ye),_.push(Ye)}else jm(g,r,q>-1?q:pe,EC(l[d?pe:q],C,!d&&u));!d&&u&&Pe&&l[pe].componentProviders++}}}function jm(r,o,l,u){const d=Mu(o),g=function(r){return!!r.useClass}(o);if(d||g){const C=(g?Q(o.useClass):o).prototype.ngOnDestroy;if(C){const I=r.destroyHooks||(r.destroyHooks=[]);if(!d&&o.multi){const N=I.indexOf(l);-1===N?I.push(l,[u,C]):I[N+1].push(u,C)}else I.push(l,C)}}}function EC(r,o,l){return l&&r.componentProviders++,r.multi.push(o)-1}function lp(r,o,l,u){for(let d=l;d<u;d++)if(o[d]===r)return d;return-1}function TC(r,o,l,u){return cp(this.multi,[])}function R0(r,o,l,u){const d=this.multi;let g;if(this.providerFactory){const _=this.providerFactory.componentProviders,b=oo(l,l[1],this.providerFactory.index,u);g=b.slice(0,_),cp(d,g);for(let C=_;C<b.length;C++)g.push(b[C])}else g=[],cp(d,g);return g}function cp(r,o){for(let l=0;l<r.length;l++)o.push((0,r[l])());return o}function Gm(r,o=[]){return l=>{l.providersResolver=(u,d)=>function(r,o,l){const u=wt();if(u.firstCreatePass){const d=Vi(r);Ah(l,u.data,u.blueprint,d,!0),Ah(o,u.data,u.blueprint,d,!1)}}(u,d?d(r):r,o)}}class Wm{}class F0{resolveComponentFactory(o){throw function(r){const o=Error(`No component factory found for ${re(r)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=r,o}(o)}}let Sh=(()=>{class r{}return r.NULL=new F0,r})();function IC(){return Ku(nn(),Ce())}function Ku(r,o){return new Nh(Tn(r,o))}let Nh=(()=>{class r{constructor(l){this.nativeElement=l}}return r.__NG_ELEMENT_ID__=IC,r})();function L0(r){return r instanceof Nh?r.nativeElement:r}class B0{}let V0=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function(){const r=Ce(),l=Pt(nn().index,r);return function(r){return r[11]}(hr(l)?l:r)}(),r})(),NC=(()=>{class r{}return r.\u0275prov=Yt({token:r,providedIn:"root",factory:()=>null}),r})();class MC{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const zm=new MC("13.0.3"),Zm={};function Ym(r,o,l,u,d=!1){for(;null!==l;){const g=o[l.index];if(null!==g&&u.push(En(g)),fr(g))for(let b=10;b<g.length;b++){const C=g[b],I=C[1].firstChild;null!==I&&Ym(C[1],C,I,u)}const _=l.type;if(8&_)Ym(r,o,l.child,u);else if(32&_){const b=cl(l,o);let C;for(;C=b();)u.push(C)}else if(16&_){const b=fg(o,l);if(Array.isArray(b))u.push(...b);else{const C=fa(o[16]);Ym(C[1],C,b,u,!0)}}l=d?l.projectionNext:l.next}return u}class Qu{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return Ym(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(fr(o)){const l=o[8],u=l?l.indexOf(this):-1;u>-1&&(Ae(o,u),as(l,u))}this._attachedToViewContainer=!1}Ie(this._lView[1],this._lView)}onDestroy(o){P1(this._lView[1],this._lView,null,o)}markForCheck(){Ff(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Au(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(r,o,l){Mo(!0);try{Au(r,o,l)}finally{Mo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var o;this._appRef=null,wu(this._lView[1],o=this._lView,o[11],2,null,null)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=o}}class RC extends Qu{constructor(o){super(o),this._view=o}detectChanges(){Hy(this._view)}checkNoChanges(){!function(r){Mo(!0);try{Hy(r)}finally{Mo(!1)}}(this._view)}get context(){return null}}class xC extends Sh{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=qt(o);return new up(l,this.ngModule)}}function qm(r){const o=[];for(let l in r)r.hasOwnProperty(l)&&o.push({propName:r[l],templateName:l});return o}const kC=new zt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>nh});class up extends Wm{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=o.selectors.map(_y).join(","),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return qm(this.componentDef.inputs)}get outputs(){return qm(this.componentDef.outputs)}create(o,l,u,d){const g=(d=d||this.ngModule)?function(r,o){return{get:(l,u,d)=>{const g=r.get(l,Zm,d);return g!==Zm||u===Zm?g:o.get(l,u,d)}}}(o,d.injector):o,_=g.get(B0,Fl),b=g.get(NC,null),C=_.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",N=u?function(r,o,l){if(Ut(r))return r.selectRootElement(o,l===Ue.ShadowDom);let u="string"==typeof o?r.querySelector(o):o;return u.textContent="",u}(C,u,this.componentDef.encapsulation):m(_.createRenderer(null,this.componentDef),I,function(r){const o=r.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(I)),P=this.componentDef.onPush?576:528,j=function(r,o){return{components:[],scheduler:r||nh,clean:z1,playerHandler:o||null,flags:0}}(),q=gl(0,null,null,1,0,null,null,null,null,null),pe=_a(null,q,j,P,null,null,_,C,b,g);let Ne,Pe;$a(pe);try{const Ye=function(r,o,l,u,d,g){const _=l[1];l[20]=r;const C=Tu(_,20,2,"#host",null),I=C.mergedAttrs=o.hostAttrs;null!==I&&(Uf(C,I,!0),null!==r&&(vn(d,r,I),null!==C.classes&&mg(d,r,C.classes),null!==C.styles&&ly(d,r,C.styles)));const N=u.createRenderer(r,o),P=_a(l,Iy(o),null,o.onPush?64:16,l[20],C,u,N,g||null,null);return _.firstCreatePass&&(ir(ko(C,l),_,o.type),Py(_,C),Of(C,l.length,1)),Iu(l,P),l[20]=P}(N,this.componentDef,pe,_,C);if(N)if(u)vn(C,N,["ng-version",zm.full]);else{const{attrs:_e,classes:Qe}=function(r){const o=[],l=[];let u=1,d=2;for(;u<r.length;){let g=r[u];if("string"==typeof g)2===d?""!==g&&o.push(g,r[++u]):8===d&&l.push(g);else{if(!$i(d))break;d=g}u++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);_e&&vn(C,N,_e),Qe&&Qe.length>0&&mg(C,N,Qe.join(" "))}if(Pe=Io(q,20),void 0!==l){const _e=Pe.projection=[];for(let Qe=0;Qe<this.ngContentSelectors.length;Qe++){const It=l[Qe];_e.push(null!=It?Array.from(It):null)}}Ne=function(r,o,l,u,d){const g=l[1],_=function(r,o,l){const u=nn();r.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),Fy(r,u,o,dc(r,o,1,null),l));const d=oo(o,r,u.directiveStart,u);Xn(d,o);const g=Tn(u,o);return g&&Xn(g,o),d}(g,l,o);if(u.components.push(_),r[8]=_,d&&d.forEach(C=>C(_,o)),o.contentQueries){const C=nn();o.contentQueries(1,_,C.directiveStart)}const b=nn();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(no(b.index),Vg(l[1],b,0,b.directiveStart,b.directiveEnd,o),ky(o,_)),_}(Ye,this.componentDef,pe,j,[sw]),hc(q,pe,null)}finally{zs()}return new H0(this.componentType,Ne,Ku(Pe,pe),pe,Pe)}}class H0 extends class{}{constructor(o,l,u,d,g){super(),this.location=u,this._rootLView=d,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new RC(d),this.componentType=o}get injector(){return new en(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Xu{}class LC{}const Ec=new Map;class j0 extends Xu{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new xC(this);const u=qn(o);this._bootstrapComponents=Dr(u.bootstrap),this._r3Injector=K1(o,l,[{provide:Xu,useValue:this},{provide:Sh,useValue:this.componentFactoryResolver}],re(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,l=Tr.THROW_IF_NOT_FOUND,u=tt.Default){return o===Tr||o===Xu||o===Zg?this:this._r3Injector.get(o,l,u)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Jm extends LC{constructor(o){super(),this.moduleType=o,null!==qn(o)&&function(r){const o=new Set;!function l(u){const d=qn(u,!0),g=d.id;null!==g&&(function(r,o,l){if(o&&o!==l)throw new Error(`Duplicate module registered for ${r} - ${re(o)} vs ${re(o.name)}`)}(g,Ec.get(g),u),Ec.set(g,u));const _=Dr(d.imports);for(const b of _)o.has(b)||(o.add(b),l(b))}(r)}(o)}create(o){return new j0(this.moduleType,o)}}function $C(r,o,l,u){return ZC(Ce(),Un(),r,o,l,u)}function Km(r,o,l,u,d){return function(r,o,l,u,d,g,_){const b=o+l;return mc(r,b,d,g)?_s(r,b+2,_?u.call(_,d,g):u(d,g)):Mh(r,b+2)}(Ce(),Un(),r,o,l,u,d)}function G0(r,o,l,u,d,g){return function(r,o,l,u,d,g,_,b){const C=o+l;return function(r,o,l,u,d){const g=mc(r,o,l,u);return ji(r,o+2,d)||g}(r,C,d,g,_)?_s(r,C+3,b?u.call(b,d,g,_):u(d,g,_)):Mh(r,C+3)}(Ce(),Un(),r,o,l,u,d,g)}function Mh(r,o){const l=r[o];return l===ft?void 0:l}function ZC(r,o,l,u,d,g){const _=o+l;return ji(r,_,d)?_s(r,_+1,g?u.call(g,d):u(d)):Mh(r,_+1)}function J0(r,o){const l=wt();let u;const d=r+20;l.firstCreatePass?(u=function(r,o){if(o)for(let l=o.length-1;l>=0;l--){const u=o[l];if(r===u.name)return u}}(o,l.pipeRegistry),l.data[d]=u,u.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(d,u.onDestroy)):u=l.data[d];const g=u.factory||(u.factory=pr(u.type)),_=di(Ch);try{const b=xo(!1),C=g();return xo(b),function(r,o,l,u){l>=r.data.length&&(r.data[l]=null,r.blueprint[l]=null),o[l]=u}(l,Ce(),d,C),C}finally{di(_)}}function K0(r,o,l){const u=r+20,d=Ce(),g=Ao(d,u);return function(r,o){return r[1].data[o].pure}(d,u)?ZC(d,Un(),o,g.transform,l,g):g.transform(l)}function Xm(r){return o=>{setTimeout(r,void 0,o)}}const vs=class extends s.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,u){var C,I,N;let d=o,g=l||(()=>null),_=u;if(o&&"object"==typeof o){const P=o;d=null==(C=P.next)?void 0:C.bind(P),g=null==(I=P.error)?void 0:I.bind(P),_=null==(N=P.complete)?void 0:N.bind(P)}this.__isAsync&&(g=Xm(g),d&&(d=Xm(d)),_&&(_=Xm(_)));const b=super.subscribe({next:d,error:g,complete:_});return o instanceof K.w0&&o.add(b),b}};function eD(){return this._results[Ru()]()}class e_{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Ru(),u=e_.prototype;u[l]||(u[l]=eD)}get changes(){return this._changes||(this._changes=new vs)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const u=this;u.dirty=!1;const d=Si(o);(this._changesDetected=!function(r,o,l){if(r.length!==o.length)return!1;for(let u=0;u<r.length;u++){let d=r[u],g=o[u];if(l&&(d=l(d),g=l(g)),g!==d)return!1}return!0}(u._results,d,l))&&(u._results=d,u.length=d.length,u.last=d[this.length-1],u.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let xh=(()=>{class r{}return r.__NG_ELEMENT_ID__=iD,r})();const tD=xh,nD=class extends tD{constructor(o,l,u){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=u}createEmbeddedView(o){const l=this._declarationTContainer.tViews,u=_a(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(u[19]=g.createEmbeddedView(l)),hc(l,u,o),new Qu(u)}};function iD(){return dp(nn(),Ce())}function dp(r,o){return 4&r.type?new nD(o,r,Ku(r,o)):null}let hp=(()=>{class r{}return r.__NG_ELEMENT_ID__=rD,r})();function rD(){return sD(nn(),Ce())}const oD=hp,Q0=class extends oD{constructor(o,l,u){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=u}get element(){return Ku(this._hostTNode,this._hostLView)}get injector(){return new en(this._hostTNode,this._hostLView)}get parentInjector(){const o=Za(this._hostTNode,this._hostLView);if(kn(o)){const l=Js(o,this._hostLView),u=rs(o);return new en(l[1].data[u+8],l)}return new en(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=X0(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,u){const d=o.createEmbeddedView(l||{});return this.insert(d,u),d}createComponent(o,l,u,d,g){const _=o&&!("function"==typeof o);let b;if(_)b=l;else{const P=l||{};b=P.index,u=P.injector,d=P.projectableNodes,g=P.ngModuleRef}const C=_?o:new up(qt(o)),I=u||this.parentInjector;if(!g&&null==C.ngModule&&I){const P=I.get(Xu,null);P&&(g=P)}const N=C.create(I,d,void 0,g);return this.insert(N.hostView,b),N}insert(o,l){const u=o._lView,d=u[1];if(fr(u[3])){const N=this.indexOf(o);if(-1!==N)this.detach(N);else{const P=u[3],j=new Q0(P,P[6],P[3]);j.detach(j.indexOf(o))}}const g=this._adjustIndex(l),_=this._lContainer;!function(r,o,l,u){const d=10+u,g=l.length;u>0&&(l[d-1][4]=o),u<g-10?(o[4]=l[d],jl(l,10+u,o)):(l.push(o),o[4]=null),o[3]=l;const _=o[17];null!==_&&l!==_&&function(r,o){const l=r[9];o[16]!==o[3][3][16]&&(r[2]=!0),null===l?r[9]=[o]:l.push(o)}(_,o);const b=o[19];null!==b&&b.insertView(r),o[2]|=128}(d,u,_,g);const b=pg(g,_),C=u[11],I=ul(C,_[7]);return null!==I&&function(r,o,l,u,d,g){u[0]=d,u[6]=o,wu(r,u,l,1,d,g)}(d,_[6],C,u,I,b),o.attachToViewContainerRef(),jl(t_(_),g,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=X0(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),u=Ae(this._lContainer,l);u&&(as(t_(this._lContainer),l),Ie(u[1],u))}detach(o){const l=this._adjustIndex(o,-1),u=Ae(this._lContainer,l);return u&&null!=as(t_(this._lContainer),l)?new Qu(u):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function X0(r){return r[8]}function t_(r){return r[8]||(r[8]=[])}function sD(r,o){let l;const u=o[r.index];if(fr(u))l=u;else{let d;if(8&r.type)d=En(u);else{const g=o[11];d=g.createComment("");const _=Tn(r,o);ho(g,ul(g,_),d,function(r,o){return Ut(r)?r.nextSibling(o):o.nextSibling}(g,_),!1)}o[r.index]=l=By(u,o,d,r),Iu(o,l)}return new Q0(l,r,o)}class Hr{constructor(o){this.queryList=o,this.matches=null}clone(){return new Hr(this.queryList)}setDirty(){this.queryList.setDirty()}}class n_{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const u=null!==o.contentQueries?o.contentQueries[0]:l.length,d=[];for(let g=0;g<u;g++){const _=l.getByIndex(g);d.push(this.queries[_.indexInDeclarationView].clone())}return new n_(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==s_(o,l).matches&&this.queries[l].setDirty()}}class $r{constructor(o,l,u=null){this.predicate=o,this.flags=l,this.read=u}}class eb{constructor(o=[]){this.queries=o}elementStart(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let u=0;u<this.length;u++){const d=null!==l?l.length:0,g=this.getByIndex(u).embeddedTView(o,d);g&&(g.indexInDeclarationView=u,null!==l?l.push(g):l=[g])}return null!==l?new eb(l):null}template(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class i_{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new i_(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==l;)u=u.parent;return l===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const u=this.metadata.predicate;if(Array.isArray(u))for(let d=0;d<u.length;d++){const g=u[d];this.matchTNodeWithReadOption(o,l,Tc(l,g)),this.matchTNodeWithReadOption(o,l,on(l,o,g,!1,!1))}else u===xh?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,on(l,o,u,!1,!1))}matchTNodeWithReadOption(o,l,u){if(null!==u){const d=this.metadata.read;if(null!==d)if(d===Nh||d===hp||d===xh&&4&l.type)this.addMatch(l.index,-2);else{const g=on(l,o,d,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,u)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function Tc(r,o){const l=r.localNames;if(null!==l)for(let u=0;u<l.length;u+=2)if(l[u]===o)return l[u+1];return null}function F(r,o,l,u){return-1===l?function(r,o){return 11&r.type?Ku(r,o):4&r.type?dp(r,o):null}(o,r):-2===l?function(r,o,l){return l===Nh?Ku(o,r):l===xh?dp(o,r):l===hp?sD(o,r):void 0}(r,o,u):oo(r,r[1],l,o)}function r_(r,o,l,u){const d=o[19].queries[u];if(null===d.matches){const g=r.data,_=l.matches,b=[];for(let C=0;C<_.length;C+=2){const I=_[C];b.push(I<0?null:F(o,g[I],_[C+1],l.metadata.read))}d.matches=b}return d.matches}function pp(r,o,l,u){const d=r.queries.getByIndex(l),g=d.matches;if(null!==g){const _=r_(r,o,d,l);for(let b=0;b<g.length;b+=2){const C=g[b];if(C>0)u.push(_[b/2]);else{const I=g[b+1],N=o[-C];for(let P=10;P<N.length;P++){const j=N[P];j[17]===j[3]&&pp(j[1],j,I,u)}if(null!==N[9]){const P=N[9];for(let j=0;j<P.length;j++){const q=P[j];pp(q[1],q,I,u)}}}}}return u}function gp(r){const o=Ce(),l=wt(),u=Ua();js(u+1);const d=s_(l,u);if(r.dirty&&Nr(o)===(2==(2&d.metadata.flags))){if(null===d.matches)r.reset([]);else{const g=d.crossesNgTemplate?pp(l,o,u,[]):r_(l,o,d,u);r.reset(g,L0),r.notifyOnChanges()}return!0}return!1}function o_(r,o,l){const u=wt();u.firstCreatePass&&(mp(u,new $r(r,o,l),-1),2==(2&o)&&(u.staticViewQueries=!0)),Cl(u,Ce(),o)}function tb(r,o,l,u){const d=wt();if(d.firstCreatePass){const g=nn();mp(d,new $r(o,l,u),g.index),function(r,o){const l=r.contentQueries||(r.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(r.queries.length-1,o)}(d,r),2==(2&l)&&(d.staticContentQueries=!0)}Cl(d,Ce(),l)}function nb(){return r=Ce(),o=Ua(),r[19].queries[o].queryList;var r,o}function Cl(r,o,l){const u=new e_(4==(4&l));P1(r,o,u,u.destroy),null===o[19]&&(o[19]=new n_),o[19].queries.push(new Hr(u))}function mp(r,o,l){null===r.queries&&(r.queries=new eb),r.queries.track(new i_(o,l))}function s_(r,o){return r.queries.getByIndex(o)}function a_(r,o){return dp(r,o)}function kh(...r){}const y_=new zt("Application Initializer");let id=(()=>{class r{constructor(l){this.appInits=l,this.resolve=kh,this.reject=kh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,d)=>{this.resolve=u,this.reject=d})}runInitializers(){if(this.initialized)return;const l=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(ml(g))l.push(g);else if(dm(g)){const _=new Promise((b,C)=>{g.subscribe({complete:b,error:C})});l.push(_)}}Promise.all(l).then(()=>{u()}).catch(d=>{this.reject(d)}),0===l.length&&u(),this.initialized=!0}}return r.\u0275fac=function(l){return new(l||r)(z(y_,8))},r.\u0275prov=Yt({token:r,factory:r.\u0275fac}),r})();const v_=new zt("AppId"),bb={provide:v_,useFactory:function(){return`${b_()}${b_()}${b_()}`},deps:[]};function b_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const wb=new zt("Platform Initializer"),Cb=new zt("Platform ID"),Db=new zt("appBootstrapListener");let w_=(()=>{class r{log(l){console.log(l)}warn(l){console.warn(l)}}return r.\u0275fac=function(l){return new(l||r)},r.\u0275prov=Yt({token:r,factory:r.\u0275fac}),r})();const Oh=new zt("LocaleId"),Eb=new zt("DefaultCurrencyCode");class C_{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let D_=(()=>{class r{compileModuleSync(l){return new Jm(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const u=this.compileModuleSync(l),g=Dr(qn(l).declarations).reduce((_,b)=>{const C=qt(b);return C&&_.push(new up(C)),_},[]);return new C_(u,g)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return r.\u0275fac=function(l){return new(l||r)},r.\u0275prov=Yt({token:r,factory:r.\u0275fac}),r})();const Fh=(()=>Promise.resolve(0))();function Lh(r){"undefined"==typeof Zone?Fh.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class jr{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vs(!1),this.onMicrotaskEmpty=new vs(!1),this.onStable=new vs(!1),this.onError=new vs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!u&&l,d.shouldCoalesceRunChangeDetection=u,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let r=lt.requestAnimationFrame,o=lt.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&o){const l=r[Zone.__symbol__("OriginalDelegate")];l&&(r=l);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function(r){const o=()=>{!function(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(lt,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,I_(r),r.isCheckStableRunning=!0,E_(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),I_(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,u,d,g,_,b)=>{try{return A_(r),l.invokeTask(d,g,_,b)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||r.shouldCoalesceRunChangeDetection)&&o(),Ib(r)}},onInvoke:(l,u,d,g,_,b,C)=>{try{return A_(r),l.invoke(d,g,_,b,C)}finally{r.shouldCoalesceRunChangeDetection&&o(),Ib(r)}},onHasTask:(l,u,d,g)=>{l.hasTask(d,g),u===d&&("microTask"==g.change?(r._hasPendingMicrotasks=g.microTask,I_(r),E_(r)):"macroTask"==g.change&&(r.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,u,d,g)=>(l.handleError(d,g),r.runOutsideAngular(()=>r.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!jr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(jr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,u){return this._inner.run(o,l,u)}runTask(o,l,u,d){const g=this._inner,_=g.scheduleEventTask("NgZoneEvent: "+d,o,gD,kh,kh);try{return g.runTask(_,l,u)}finally{g.cancelTask(_)}}runGuarded(o,l,u){return this._inner.runGuarded(o,l,u)}runOutsideAngular(o){return this._outer.run(o)}}const gD={};function E_(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function I_(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function A_(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function Ib(r){r._nesting--,E_(r)}class Ab{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vs,this.onMicrotaskEmpty=new vs,this.onStable=new vs,this.onError=new vs}run(o,l,u){return o.apply(l,u)}runGuarded(o,l,u){return o.apply(l,u)}runOutsideAngular(o){return o()}runTask(o,l,u,d){return o.apply(l,u)}}let S_=(()=>{class r{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{jr.assertNotInAngularZone(),Lh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Lh(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(l)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,u,d){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==g),l(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:d})}whenStable(l,u,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,u,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,u,d){return[]}}return r.\u0275fac=function(l){return new(l||r)(z(jr))},r.\u0275prov=Yt({token:r,factory:r.\u0275fac}),r})(),N_=(()=>{class r{constructor(){this._applications=new Map,Tp.addToWindow(this)}registerApplication(l,u){this._applications.set(l,u)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,u=!0){return Tp.findTestabilityInTree(this,l,u)}}return r.\u0275fac=function(l){return new(l||r)},r.\u0275prov=Yt({token:r,factory:r.\u0275fac}),r})();class Sb{addToWindow(o){}findTestabilityInTree(o,l,u){return null}}function mD(r){Tp=r}let yo,Tp=new Sb;const M_=new zt("AllowMultipleToken");class Qt{constructor(o,l){this.name=o,this.token=l}}function Dt(r,o,l=[]){const u=`Platform: ${o}`,d=new zt(u);return(g=[])=>{let _=Ap();if(!_||_.injector.get(M_,!1))if(r)r(l.concat(g).concat({provide:d,useValue:!0}));else{const b=l.concat(g).concat({provide:d,useValue:!0},{provide:zy,useValue:"platform"});!function(r){if(yo&&!yo.destroyed&&!yo.injector.get(M_,!1))throw new xe("400","");yo=r.get(Rb);const o=r.get(wb,null);o&&o.forEach(l=>l())}(Tr.create({providers:b,name:u}))}return function(r){const o=Ap();if(!o)throw new xe("401","");return o}()}}function Ap(){return yo&&!yo.destroyed?yo:null}let Rb=(()=>{class r{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,u){const b=function(r,o){let l;return l="noop"===r?new Ab:("zone.js"===r?void 0:r)||new jr({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),l}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),C=[{provide:jr,useValue:b}];return b.run(()=>{const I=Tr.create({providers:C,parent:this.injector,name:l.moduleType.name}),N=l.create(I),P=N.injector.get(lc,null);if(!P)throw new xe("402","");return b.runOutsideAngular(()=>{const j=b.onError.subscribe({next:q=>{P.handleError(q)}});N.onDestroy(()=>{Ri(this._modules,N),j.unsubscribe()})}),function(r,o,l){try{const u=l();return ml(u)?u.catch(d=>{throw o.runOutsideAngular(()=>r.handleError(d)),d}):u}catch(u){throw o.runOutsideAngular(()=>r.handleError(u)),u}}(P,b,()=>{const j=N.injector.get(id);return j.runInitializers(),j.donePromise.then(()=>(function(r){(function(r,o){null==r&&gt(o,r,null,"!=")})(r,"Expected localeId to be defined"),"string"==typeof r&&(iC=r.toLowerCase().replace(/_/g,"-"))}(N.injector.get(Oh,Sm)||Sm),this._moduleDoBootstrap(N),N))})})}bootstrapModule(l,u=[]){const d=Cn({},u);return function(r,o,l){const u=new Jm(l);return Promise.resolve(u)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(l){const u=l.injector.get(mt);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(d=>u.bootstrap(d));else{if(!l.instance.ngDoBootstrap)throw new xe("403","");l.instance.ngDoBootstrap(u)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe("404","");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(l){return new(l||r)(z(Tr))},r.\u0275prov=Yt({token:r,factory:r.\u0275fac}),r})();function Cn(r,o){return Array.isArray(o)?o.reduce(Cn,r):at(at({},r),o)}let mt=(()=>{class r{constructor(l,u,d,g,_){this._zone=l,this._injector=u,this._exceptionHandler=d,this._componentFactoryResolver=g,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new O.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),C=new O.y(I=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{jr.assertNotInAngularZone(),Lh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{jr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{N.unsubscribe(),P.unsubscribe()}});this.isStable=(0,ae.T)(b,C.pipe((0,ie.B)()))}bootstrap(l,u){if(!this._initStatus.done)throw new xe("405","");let d;d=l instanceof Wm?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(d.componentType);const g=function(r){return r.isBoundToModule}(d)?void 0:this._injector.get(Xu),b=d.create(Tr.NULL,[],u||d.selector,g),C=b.location.nativeElement,I=b.injector.get(S_,null),N=I&&b.injector.get(N_);return I&&N&&N.registerApplication(C,I),b.onDestroy(()=>{this.detachView(b.hostView),Ri(this.components,b),N&&N.unregisterApplication(C)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new xe("101","");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const u=l;this._views.push(u),u.attachToAppRef(this)}detachView(l){const u=l;Ri(this._views,u),u.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(Db,[]).concat(this._bootstrapListeners).forEach(d=>d(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(l){return new(l||r)(z(jr),z(Tr),z(lc),z(Sh),z(id))},r.\u0275prov=Yt({token:r,factory:r.\u0275fac}),r})();function Ri(r,o){const l=r.indexOf(o);l>-1&&r.splice(l,1)}let Gr=!0,Ob=!1;function _D(){return Ob=!0,Gr}function yD(){if(Ob)throw new Error("Cannot enable prod mode after platform setup.");Gr=!1}let Vh=(()=>{class r{}return r.__NG_ELEMENT_ID__=bD,r})();function bD(r){return function(r,o,l){if(Ar(r)&&!l){const u=Pt(r.index,o);return new Qu(u,u)}return 47&r.type?new Qu(o[16],o):null}(nn(),Ce(),16==(16&r))}class Fb{constructor(){}supports(o){return bh(o)}create(o){return new pn(o)}}const ND=(r,o)=>o;class pn{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||ND}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,u=this._removalsHead,d=0,g=null;for(;l||u;){const _=!u||l&&l.currentIndex<xp(u,d,g)?l:u,b=xp(_,d,g),C=_.currentIndex;if(_===u)d--,u=u._nextRemoved;else if(l=l._next,null==_.previousIndex)d++;else{g||(g=[]);const I=b-d,N=C-d;if(I!=N){for(let j=0;j<I;j++){const q=j<g.length?g[j]:g[j]=0,pe=q+j;N<=pe&&pe<I&&(g[j]=q+1)}g[_.previousIndex]=N-I}}b!==C&&o(_,b,C)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!bh(o))throw new Error(`Error trying to diff '${re(o)}'. Only arrays and iterables are allowed`);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,g,_,l=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let b=0;b<this.length;b++)g=o[b],_=this._trackByFn(b,g),null!==l&&Object.is(l.trackById,_)?(u&&(l=this._verifyReinsertion(l,g,_,b)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,_,b),u=!0),l=l._next}else d=0,function(r,o){if(Array.isArray(r))for(let l=0;l<r.length;l++)o(r[l]);else{const l=r[Ru()]();let u;for(;!(u=l.next()).done;)o(u.value)}}(o,b=>{_=this._trackByFn(d,b),null!==l&&Object.is(l.trackById,_)?(u&&(l=this._verifyReinsertion(l,b,_,d)),Object.is(l.item,b)||this._addIdentityChange(l,b)):(l=this._mismatch(l,b,_,d),u=!0),l=l._next,d++}),this.length=d;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,u,d){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,g,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,d))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,g,d)):o=this._addAfter(new MD(l,u),g,d),o}_verifyReinsertion(o,l,u,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?o=this._reinsertAfter(g,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,g=o._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(o,l,u),this._addToMoves(o,u),o}_moveAfter(o,l,u){return this._unlink(o),this._insertAfter(o,l,u),this._addToMoves(o,u),o}_addAfter(o,l,u){return this._insertAfter(o,l,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,u){const d=null===l?this._itHead:l._next;return o._next=d,o._prev=l,null===d?this._itTail=o:d._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new jh),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,u=o._next;return null===l?this._itHead=u:l._next=u,null===u?this._itTail=l:u._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jh),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class MD{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class RD{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===l||l<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const l=o._prevDup,u=o._nextDup;return null===l?this._head=u:l._nextDup=u,null===u?this._tail=l:u._prevDup=l,null===this._head}}class jh{constructor(){this.map=new Map}put(o){const l=o.trackById;let u=this.map.get(l);u||(u=new RD,this.map.set(l,u)),u.add(o)}get(o,l){const d=this.map.get(o);return d?d.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xp(r,o,l){const u=r.previousIndex;if(null===u)return u;let d=0;return l&&u<l.length&&(d=l[u]),u+o+d}class Mc{constructor(){}supports(o){return o instanceof Map||em(o)}create(){return new Ca}}class Ca{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||em(o)))throw new Error(`Error trying to diff '${re(o)}'. Only maps and objects are allowed`)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,d)=>{if(l&&l.key===d)this._maybeAddToChanges(l,u),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(d,u);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let u=l;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const u=o._prev;return l._next=o,l._prev=u,o._prev=l,u&&(u._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,l);const g=d._prev,_=d._next;return g&&(g._next=_),_&&(_._prev=g),d._next=null,d._prev=null,d}const u=new Gh(o);return this._records.set(o,u),u.currentValue=l,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(u=>l(o[u],u))}}class Gh{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function pt(){return new kp([new Fb])}let kp=(()=>{class r{constructor(l){this.factories=l}static create(l,u){if(null!=u){const d=u.factories.slice();l=l.concat(d)}return new r(l)}static extend(l){return{provide:r,useFactory:u=>r.create(l,u||pt()),deps:[[r,new Ni,new Qn]]}}find(l){const u=this.factories.find(d=>d.supports(l));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${l}' of type '${function(r){return r.name||typeof r}(l)}'`)}}return r.\u0275prov=Yt({token:r,providedIn:"root",factory:pt}),r})();function Lb(){return new gn([new Mc])}let gn=(()=>{class r{constructor(l){this.factories=l}static create(l,u){if(u){const d=u.factories.slice();l=l.concat(d)}return new r(l)}static extend(l){return{provide:r,useFactory:u=>r.create(l,u||Lb()),deps:[[r,new Ni,new Qn]]}}find(l){const u=this.factories.find(d=>d.supports(l));if(u)return u;throw new Error(`Cannot find a differ supporting object '${l}'`)}}return r.\u0275prov=Yt({token:r,providedIn:"root",factory:Lb}),r})();const P_=[new Mc],F_=new kp([new Fb]),od=new gn(P_),Vb=Dt(null,"core",[{provide:Cb,useValue:"unknown"},{provide:Rb,deps:[Tr]},{provide:N_,deps:[]},{provide:w_,deps:[]}]),jb=[{provide:mt,useClass:mt,deps:[jr,Tr,lc,Sh,id]},{provide:kC,deps:[jr],useFactory:function(r){let o=[];return r.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(l){o.push(l)}}},{provide:id,useClass:id,deps:[[new Qn,y_]]},{provide:D_,useClass:D_,deps:[]},bb,{provide:kp,useFactory:function(){return F_},deps:[]},{provide:gn,useFactory:function(){return od},deps:[]},{provide:Oh,useFactory:function(r){return r||"undefined"!=typeof $localize&&$localize.locale||Sm},deps:[[new sn(Oh),new Qn,new Ni]]},{provide:Eb,useValue:"USD"}];let zh=(()=>{class r{constructor(l){}}return r.\u0275fac=function(l){return new(l||r)(z(mt))},r.\u0275mod=Es({type:r}),r.\u0275inj=mn({providers:jb}),r})()},6293:(Ve,he,k)=>{"use strict";k.d(he,{Z:()=>xe});var s=k(4213),K=k(1177),O=k(1572),ae=k(3855);class ie{constructor(oe,Y){this._delegate=oe,this.firebase=Y,(0,O._addComponent)(oe,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=oe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(oe){this._delegate.automaticDataCollectionEnabled=oe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(oe=>{this._delegate.checkDestroyed(),oe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(oe,Y=O._DEFAULT_ENTRY_NAME){var se;this._delegate.checkDestroyed();const be=this._delegate.container.getProvider(oe);return!be.isInitialized()&&"EXPLICIT"===(null===(se=be.getComponent())||void 0===se?void 0:se.instantiationMode)&&be.initialize(),be.getImmediate({identifier:Y})}_removeServiceInstance(oe,Y=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(oe).clearInstance(Y)}_addComponent(oe){(0,O._addComponent)(this._delegate,oe)}_addOrOverwriteComponent(oe){(0,O._addOrOverwriteComponent)(this._delegate,oe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ne=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function le(){const Me=function(Me){const oe={},Y={__esModule:!0,initializeApp:function(He,Xe={}){const ee=O.initializeApp(He,Xe);if((0,s.r3)(oe,ee.name))return oe[ee.name];const ce=new Me(ee,Y);return oe[ee.name]=ce,ce},app:be,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function(He){const Xe=He.name,ee=Xe.replace("-compat","");if(O._registerComponent(He)&&"PUBLIC"===He.type){const ce=(fe=be())=>{if("function"!=typeof fe[ee])throw ne.create("invalid-app-argument",{appName:Xe});return fe[ee]()};void 0!==He.serviceProps&&(0,s.ZB)(ce,He.serviceProps),Y[ee]=ce,Me.prototype[ee]=function(...fe){return this._getService.bind(this,Xe).apply(this,He.multipleInstances?fe:[])}}return"PUBLIC"===He.type?Y[ee]:null},removeApp:function(He){delete oe[He]},useAsService:function(He,Xe){return"serverAuth"===Xe?null:Xe},modularAPIs:O}};function be(He){if(!(0,s.r3)(oe,He=He||O._DEFAULT_ENTRY_NAME))throw ne.create("no-app",{appName:He});return oe[He]}return Y.default=Y,Object.defineProperty(Y,"apps",{get:function(){return Object.keys(oe).map(He=>oe[He])}}),be.App=Me,Y}(ie);return Me.INTERNAL=Object.assign(Object.assign({},Me.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function(Y){(0,s.ZB)(Me,Y)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),Me}(),H=new ae.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Me=self.firebase.SDK_VERSION;Me&&Me.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const xe=$;(0,O.registerVersion)("@firebase/app-compat","0.1.12",undefined)},1572:(Ve,he,k)=>{"use strict";k.r(he),k.d(he,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Jo,_DEFAULT_ENTRY_NAME:()=>Dn,_addComponent:()=>Zt,_addOrOverwriteComponent:()=>ti,_apps:()=>ot,_clearComponents:()=>mn,_components:()=>gt,_getProvider:()=>Yt,_registerComponent:()=>ui,_removeServiceInstance:()=>qo,deleteApp:()=>Vn,getApp:()=>dr,getApps:()=>Ee,initializeApp:()=>Yi,onLog:()=>Mt,registerVersion:()=>tt,setLogLevel:()=>qi});var s=k(8239),K=k(1177),O=k(3855),ae=k(4213);class ie{constructor(nt){this.container=nt}getPlatformInfoString(){return this.container.getProviders().map(yt=>{if(function(Je){const nt=Je.getComponent();return"VERSION"===(null==nt?void 0:nt.type)}(yt)){const vt=yt.getImmediate();return`${vt.library}/${vt.version}`}return null}).filter(yt=>yt).join(" ")}}const ne="@firebase/app",le=new O.Yd("@firebase/app"),Dn="[DEFAULT]",ct={[ne]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ot=new Map,gt=new Map;function Zt(Je,nt){try{Je.container.addComponent(nt)}catch(yt){le.debug(`Component ${nt.name} failed to register with FirebaseApp ${Je.name}`,yt)}}function ti(Je,nt){Je.container.addOrOverwriteComponent(nt)}function ui(Je){const nt=Je.name;if(gt.has(nt))return le.debug(`There were multiple attempts to register component ${nt}.`),!1;gt.set(nt,Je);for(const yt of ot.values())Zt(yt,Je);return!0}function Yt(Je,nt){return Je.container.getProvider(nt)}function qo(Je,nt,yt=Dn){Yt(Je,nt).clearInstance(yt)}function mn(){gt.clear()}const At=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class un{constructor(nt,yt,vt){this._isDeleted=!1,this._options=Object.assign({},nt),this._config=Object.assign({},yt),this._name=yt.name,this._automaticDataCollectionEnabled=yt.automaticDataCollectionEnabled,this._container=vt,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nt){this.checkDestroyed(),this._automaticDataCollectionEnabled=nt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(nt){this._isDeleted=nt}checkDestroyed(){if(this.isDeleted)throw At.create("app-deleted",{appName:this._name})}}const Jo="9.6.1";function Yi(Je,nt={}){"object"!=typeof nt&&(nt={name:nt});const yt=Object.assign({name:Dn,automaticDataCollectionEnabled:!1},nt),vt=yt.name;if("string"!=typeof vt||!vt)throw At.create("bad-app-name",{appName:String(vt)});const hi=ot.get(vt);if(hi){if((0,ae.vZ)(Je,hi.options)&&(0,ae.vZ)(yt,hi.config))return hi;throw At.create("duplicate-app",{appName:vt})}const xt=new K.H0(vt);for(const Ke of gt.values())xt.addComponent(Ke);const Ue=new un(Je,yt,xt);return ot.set(vt,Ue),Ue}function dr(Je=Dn){const nt=ot.get(Je);if(!nt)throw At.create("no-app",{appName:Je});return nt}function Ee(){return Array.from(ot.values())}function Vn(Je){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,s.Z)(function*(Je){const nt=Je.name;ot.has(nt)&&(ot.delete(nt),yield Promise.all(Je.container.getProviders().map(yt=>yt.delete())),Je.isDeleted=!0)})).apply(this,arguments)}function tt(Je,nt,yt){var vt;let hi=null!==(vt=ct[Je])&&void 0!==vt?vt:Je;yt&&(hi+=`-${yt}`);const xt=hi.match(/\s|\//),Ue=nt.match(/\s|\//);if(xt||Ue){const Ke=[`Unable to register library "${hi}" with version "${nt}":`];return xt&&Ke.push(`library name "${hi}" contains illegal characters (whitespace or "/")`),xt&&Ue&&Ke.push("and"),Ue&&Ke.push(`version name "${nt}" contains illegal characters (whitespace or "/")`),void le.warn(Ke.join(" "))}ui(new K.wA(`${hi}-version`,()=>({library:hi,version:nt}),"VERSION"))}function Mt(Je,nt){if(null!==Je&&"function"!=typeof Je)throw At.create("invalid-log-argument");(0,O.Am)(Je,nt)}function qi(Je){(0,O.Ub)(Je)}ui(new K.wA("platform-logger",nt=>new ie(nt),"PRIVATE")),tt(ne,"0.7.11",""),tt(ne,"0.7.11","esm2017"),tt("fire-js","")},1177:(Ve,he,k)=>{"use strict";k.d(he,{wA:()=>O,H0:()=>re,zt:()=>ie});var s=k(8239),K=k(4213);class O{constructor($,H,Q){this.name=$,this.instanceFactory=H,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const ae="[DEFAULT]";class ie{constructor($,H){this.name=$,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const H=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(H)){const Q=new K.BH;if(this.instancesDeferred.set(H,Q),this.isInitialized(H)||this.shouldAutoInitialize())try{const Re=this.getOrInitializeService({instanceIdentifier:H});Re&&Q.resolve(Re)}catch(Re){}}return this.instancesDeferred.get(H).promise}getImmediate($){var H;const Q=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),Re=null!==(H=null==$?void 0:$.optional)&&void 0!==H&&H;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Re)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(we){if(Re)return null;throw we}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if("EAGER"===$.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ae})}catch(H){}for(const[H,Q]of this.instancesDeferred.entries()){const Re=this.normalizeInstanceIdentifier(H);try{const we=this.getOrInitializeService({instanceIdentifier:Re});Q.resolve(we)}catch(we){}}}}clearInstance($=ae){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,s.Z)(function*(){const H=Array.from($.instances.values());yield Promise.all([...H.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...H.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=ae){return this.instances.has($)}getOptions($=ae){return this.instancesOptions.get($)||{}}initialize($={}){const{options:H={}}=$,Q=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Re=this.getOrInitializeService({instanceIdentifier:Q,options:H});for(const[we,xe]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(we)&&xe.resolve(Re);return Re}onInit($,H){var Q;const Re=this.normalizeInstanceIdentifier(H),we=null!==(Q=this.onInitCallbacks.get(Re))&&void 0!==Q?Q:new Set;we.add($),this.onInitCallbacks.set(Re,we);const xe=this.instances.get(Re);return xe&&$(xe,Re),()=>{we.delete($)}}invokeOnInitCallbacks($,H){const Q=this.onInitCallbacks.get(H);if(Q)for(const Re of Q)try{Re($,H)}catch(we){}}getOrInitializeService({instanceIdentifier:$,options:H={}}){let Q=this.instances.get($);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(le=$,le===ae?void 0:le),options:H}),this.instances.set($,Q),this.instancesOptions.set($,H),this.invokeOnInitCallbacks(Q,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,Q)}catch(Re){}var le;return Q||null}normalizeInstanceIdentifier($=ae){return this.component?this.component.multipleInstances?$:ae:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class re{constructor($){this.name=$,this.providers=new Map}addComponent($){const H=this.getProvider($.name);if(H.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);H.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const H=new ie($,this);return this.providers.set($,H),H}getProviders(){return Array.from(this.providers.values())}}},3855:(Ve,he,k)=>{"use strict";k.d(he,{in:()=>K,Yd:()=>ne,Ub:()=>re,Am:()=>le});const s=[];var K=(()=>{return($=K||(K={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",K;var $})();const O={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},ae=K.INFO,ie={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},de=($,H,...Q)=>{if(H<$.logLevel)return;const Re=(new Date).toISOString(),we=ie[H];if(!we)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[we](`[${Re}]  ${$.name}:`,...Q)};class ne{constructor(H){this.name=H,this._logLevel=ae,this._logHandler=de,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in K))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?O[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...H),this._logHandler(this,K.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...H),this._logHandler(this,K.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,K.INFO,...H),this._logHandler(this,K.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,K.WARN,...H),this._logHandler(this,K.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...H),this._logHandler(this,K.ERROR,...H)}}function re($){s.forEach(H=>{H.setLogLevel($)})}function le($,H){for(const Q of s){let Re=null;H&&H.level&&(Re=O[H.level]),Q.userLogHandler=null===$?null:(we,xe,...Me)=>{const oe=Me.map(Y=>{if(null==Y)return null;if("string"==typeof Y)return Y;if("number"==typeof Y||"boolean"==typeof Y)return Y.toString();if(Y instanceof Error)return Y.message;try{return JSON.stringify(Y)}catch(se){return null}}).filter(Y=>Y).join(" ");xe>=(null!=Re?Re:we.logLevel)&&$({level:K[xe].toLowerCase(),message:oe,args:Me,type:we.name})}}}},8239:(Ve,he,k)=>{"use strict";function s(O,ae,ie,de,ne,re,le){try{var $=O[re](le),H=$.value}catch(Q){return void ie(Q)}$.done?ae(H):Promise.resolve(H).then(de,ne)}function K(O){return function(){var ae=this,ie=arguments;return new Promise(function(de,ne){var re=O.apply(ae,ie);function le(H){s(re,de,ne,le,$,"next",H)}function $(H){s(re,de,ne,le,$,"throw",H)}le(void 0)})}}k.d(he,{Z:()=>K})}},Ve=>{Ve(Ve.s=8149)}]);