var tk=Object.defineProperty,nk=Object.defineProperties,ik=Object.getOwnPropertyDescriptors,BS=Object.getOwnPropertySymbols,rk=Object.prototype.hasOwnProperty,ok=Object.prototype.propertyIsEnumerable,VS=(Ve,he,k)=>he in Ve?tk(Ve,he,{enumerable:!0,configurable:!0,writable:!0,value:k}):Ve[he]=k,qe=(Ve,he)=>{for(var k in he||(he={}))rk.call(he,k)&&VS(Ve,k,he[k]);if(BS)for(var k of BS(he))ok.call(he,k)&&VS(Ve,k,he[k]);return Ve},zn=(Ve,he)=>nk(Ve,ik(he));(self.webpackChunkSpace_Bang=self.webpackChunkSpace_Bang||[]).push([[179],{7905:(Ve,he,k)=>{"use strict";k.d(he,{hO:()=>xe,xv:()=>le,Dh:()=>re,GT:()=>de,cc:()=>be,on:()=>$,pX:()=>ie});var o=k(3668),K=k(7892),O=k(7233);Ve=k.hmd(Ve);const ae=["ngOnDestroy"],ie=(Y,se,ve,ge={})=>new Proxy(Y,{get:(Be,Te)=>ve.runOutsideAngular(()=>{var Le;if(Y[Te])return(null===(Le=null==ge?void 0:ge.spy)||void 0===Le?void 0:Le.get)&&ge.spy.get(Te,Y[Te]),Y[Te];if(ae.indexOf(Te)>-1)return()=>{};const Ue=se.toPromise().then(Xe=>{const te=Xe&&Xe[Te];return"function"==typeof te?te.bind(Xe):te&&te.then?te.then(ce=>ve.run(()=>ce)):ve.run(()=>te)});return new Proxy(()=>{},{get:(Xe,te)=>Ue[te],apply:(Xe,te,ce)=>Ue.then(fe=>{var me;const Se=fe&&fe(...ce);return(null===(me=null==ge?void 0:ge.spy)||void 0===me?void 0:me.apply)&&ge.spy.apply(Te,ce,Se),Se})})})}),de=(Y,se)=>{se.forEach(ve=>{Object.getOwnPropertyNames(ve.prototype||ve).forEach(ge=>{Object.defineProperty(Y.prototype,ge,Object.getOwnPropertyDescriptor(ve.prototype||ve,ge))})})};class ee{constructor(se){return se}}const re=new o.OlP("angularfire2.app.options"),le=new o.OlP("angularfire2.app.name");function $(Y,se,ve){const Be="object"==typeof ve&&ve||{};Be.name=Be.name||"string"==typeof ve&&ve||"[DEFAULT]";const Le=K.Z.apps.filter(Ue=>Ue&&Ue.name===Be.name)[0]||se.runOutsideAngular(()=>K.Z.initializeApp(Y,Be));try{JSON.stringify(Y)!==JSON.stringify(Le.options)&&U("error",`${Le.name} Firebase App already initialized with different options${Ve.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ue){}return new ee(Le)}const U=(Y,...se)=>{(0,o.X6Q)()&&"undefined"!=typeof console&&console[Y](...se)},Q={provide:ee,useFactory:$,deps:[re,o.R0b,[new o.FiY,le]]};let xe=(()=>{class Y{constructor(ve){K.Z.registerVersion("angularfire",O.q4.full,"core"),K.Z.registerVersion("angularfire",O.q4.full,"app-compat"),K.Z.registerVersion("angular",o.q4F.full,ve.toString())}static initializeApp(ve,ge){return{ngModule:Y,providers:[{provide:re,useValue:ve},{provide:le,useValue:ge}]}}}return Y.\u0275fac=function(ve){return new(ve||Y)(o.LFG(o.Lbi))},Y.\u0275mod=o.oAB({type:Y}),Y.\u0275inj=o.cJS({providers:[Q]}),Y})();function be(Y,se,ve,ge,Be){const[,Te,Le]=globalThis.\u0275AngularfireInstanceCache.find(Ue=>Ue[0]===Y)||[];if(Te)return function(Y,se){try{return Y.toString()===se.toString()}catch(ve){return Y===se}}(Be,Le)||(oe("error",`${se} was already initialized on the ${ve} Firebase App with different settings.${Re?" You may need to reload as Firebase is not HMR aware.":""}`),oe("warn",{is:Be,was:Le})),Te;{const Ue=ge();return globalThis.\u0275AngularfireInstanceCache.push([Y,Ue,Be]),Ue}}const Re=!!Ve.hot,oe=(Y,...se)=>{(0,o.X6Q)()&&"undefined"!=typeof console&&console[Y](...se)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},7233:(Ve,he,k)=>{"use strict";k.d(he,{q4:()=>Lc,iC:()=>Mr,HU:()=>Bl,vb:()=>bd,JM:()=>Bc});var o=k(3668),K=k(7713),O=k(8239),ae=k(1572),ie=k(4213),de=k(1177),ee=k(3855),re=k(4995);const le="@firebase/installations",$="0.5.4",Q=`w:${$}`,xe="FIS_v2",se=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ve(D){return D instanceof ie.ZR&&D.code.includes("request-failed")}function ge({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Be(D){return{token:D.token,requestStatus:2,expiresIn:fe(D.expiresIn),creationTime:Date.now()}}function Te(D,E){return Le.apply(this,arguments)}function Le(){return(Le=(0,O.Z)(function*(D,E){const L=(yield E.json()).error;return se.create("request-failed",{requestName:D,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function Ue({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function Xe(D,{refreshToken:E}){const M=Ue(D);return M.append("Authorization",function(D){return`${xe} ${D}`}(E)),M}function te(D){return ce.apply(this,arguments)}function ce(){return(ce=(0,O.Z)(function*(D){const E=yield D();return E.status>=500&&E.status<600?D():E})).apply(this,arguments)}function fe(D){return Number(D.replace("s","000"))}function Se(D,E){return ue.apply(this,arguments)}function ue(){return(ue=(0,O.Z)(function*(D,{fid:E}){const M=ge(D),Z={method:"POST",headers:Ue(D),body:JSON.stringify({fid:E,authVersion:xe,appId:D.appId,sdkVersion:Q})},De=yield te(()=>fetch(M,Z));if(De.ok){const Ge=yield De.json();return{fid:Ge.fid||E,registrationStatus:2,refreshToken:Ge.refreshToken,authToken:Be(Ge.authToken)}}throw yield Te("Create Installation",De)})).apply(this,arguments)}function dt(D){return new Promise(E=>{setTimeout(E,D)})}const wn=/^[cdef][\w-]{21}$/;function st(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const M=function(D){return function(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return wn.test(M)?M:""}catch(D){return""}}function Zt(D){return`${D.appName}!${D.appId}`}const ii=new Map;function hi(D,E){const M=Zt(D);gn(M,E),function(D,E){const M=(!Tt&&"BroadcastChannel"in self&&(Tt=new BroadcastChannel("[Firebase] FID Change"),Tt.onmessage=D=>{gn(D.data.key,D.data.fid)}),Tt);M&&M.postMessage({key:D,fid:E}),0===ii.size&&Tt&&(Tt.close(),Tt=null)}(M,E)}function gn(D,E){const M=ii.get(D);if(M)for(const L of M)L(E)}let Tt=null;const Ee="firebase-installations-store";let Vn=null;function Nn(){return Vn||(Vn=(0,re.openDb)("firebase-installations-database",1,D=>{0===D.oldVersion&&D.createObjectStore(Ee)})),Vn}function tt(D,E){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,O.Z)(function*(D,E){const M=Zt(D),z=(yield Nn()).transaction(Ee,"readwrite"),Z=z.objectStore(Ee),De=yield Z.get(M);return yield Z.put(E,M),yield z.complete,(!De||De.fid!==E.fid)&&hi(D,E.fid),E})).apply(this,arguments)}function Wi(D){return fi.apply(this,arguments)}function fi(){return(fi=(0,O.Z)(function*(D){const E=Zt(D),L=(yield Nn()).transaction(Ee,"readwrite");yield L.objectStore(Ee).delete(E),yield L.complete})).apply(this,arguments)}function Ke(D,E){return nt.apply(this,arguments)}function nt(){return(nt=(0,O.Z)(function*(D,E){const M=Zt(D),z=(yield Nn()).transaction(Ee,"readwrite"),Z=z.objectStore(Ee),De=yield Z.get(M),Ge=E(De);return void 0===Ge?yield Z.delete(M):yield Z.put(Ge,M),yield z.complete,Ge&&(!De||De.fid!==Ge.fid)&&hi(D,Ge.fid),Ge})).apply(this,arguments)}function mt(D){return _t.apply(this,arguments)}function _t(){return(_t=(0,O.Z)(function*(D){let E;const M=yield Ke(D,L=>{const z=pi(L),Z=kt(D,z);return E=Z.registrationPromise,Z.installationEntry});return""===M.fid?{installationEntry:yield E}:{installationEntry:M,registrationPromise:E}})).apply(this,arguments)}function pi(D){return lt(D||{fid:st(),registrationStatus:0})}function kt(D,E){if(0===E.registrationStatus){if(!navigator.onLine)return{installationEntry:E,registrationPromise:Promise.reject(se.create("app-offline"))};const M={fid:E.fid,registrationStatus:1,registrationTime:Date.now()},L=function(D,E){return Qe.apply(this,arguments)}(D,M);return{installationEntry:M,registrationPromise:L}}return 1===E.registrationStatus?{installationEntry:E,registrationPromise:Ca(D)}:{installationEntry:E}}function Qe(){return(Qe=(0,O.Z)(function*(D,E){try{return tt(D,yield Se(D,E))}catch(M){throw ve(M)&&409===M.customData.serverCode?yield Wi(D):yield tt(D,{fid:E.fid,registrationStatus:0}),M}})).apply(this,arguments)}function Ca(D){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,O.Z)(function*(D){let E=yield Ot(D);for(;1===E.registrationStatus;)yield dt(100),E=yield Ot(D);if(0===E.registrationStatus){const{installationEntry:M,registrationPromise:L}=yield mt(D);return L||M}return E})).apply(this,arguments)}function Ot(D){return Ke(D,E=>{if(!E)throw se.create("installation-not-found");return lt(E)})}function lt(D){return function(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function vl(D,E){return G.apply(this,arguments)}function G(){return(G=(0,O.Z)(function*({appConfig:D,platformLoggerProvider:E},M){const L=B(D,M),z=Xe(D,M),Z=E.getImmediate({optional:!0});Z&&z.append("x-firebase-client",Z.getPlatformInfoString());const Ge={method:"POST",headers:z,body:JSON.stringify({installation:{sdkVersion:Q}})},Fe=yield te(()=>fetch(L,Ge));if(Fe.ok)return Be(yield Fe.json());throw yield Te("Generate Auth Token",Fe)})).apply(this,arguments)}function B(D,{fid:E}){return`${ge(D)}/${E}/authTokens:generate`}function W(D){return ye.apply(this,arguments)}function ye(){return(ye=(0,O.Z)(function*(D,E=!1){let M;const L=yield Ke(D.appConfig,Z=>{if(!fn(Z))throw se.create("not-registered");const De=Z.authToken;if(!E&&Ii(De))return Z;if(1===De.requestStatus)return M=ne(D,E),Z;{if(!navigator.onLine)throw se.create("app-offline");const Ge=qn(Z);return M=Pt(D,Ge),Ge}});return M?yield M:L.authToken})).apply(this,arguments)}function ne(D,E){return $e.apply(this,arguments)}function $e(){return($e=(0,O.Z)(function*(D,E){let M=yield et(D.appConfig);for(;1===M.authToken.requestStatus;)yield dt(100),M=yield et(D.appConfig);const L=M.authToken;return 0===L.requestStatus?W(D,E):L})).apply(this,arguments)}function et(D){return Ke(D,E=>{if(!fn(E))throw se.create("not-registered");return function(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(E.authToken)?Object.assign(Object.assign({},E),{authToken:{requestStatus:0}}):E})}function Pt(D,E){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,O.Z)(function*(D,E){try{const M=yield vl(D,E),L=Object.assign(Object.assign({},E),{authToken:M});return yield tt(D.appConfig,L),M}catch(M){if(!ve(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const L=Object.assign(Object.assign({},E),{authToken:{requestStatus:0}});yield tt(D.appConfig,L)}else yield Wi(D.appConfig);throw M}})).apply(this,arguments)}function fn(D){return void 0!==D&&2===D.registrationStatus}function Ii(D){return 2===D.requestStatus&&!function(D){const E=Date.now();return E<D.creationTime||D.creationTime+D.expiresIn<E+36e5}(D)}function qn(D){const E={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:E})}function Zo(){return(Zo=(0,O.Z)(function*(D){const E=D,{installationEntry:M,registrationPromise:L}=yield mt(E.appConfig);return L?L.catch(console.error):W(E).catch(console.error),M.fid})).apply(this,arguments)}function yo(){return(yo=(0,O.Z)(function*(D,E=!1){const M=D;return yield bl(M.appConfig),(yield W(M,E)).token})).apply(this,arguments)}function bl(D){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,O.Z)(function*(D){const{registrationPromise:E}=yield mt(D);E&&(yield E)})).apply(this,arguments)}function zi(D){return se.create("missing-app-config-values",{valueName:D})}const Mn="installations";(0,ae._registerComponent)(new de.wA(Mn,D=>{const E=D.getProvider("app").getImmediate(),M=function(D){if(!D||!D.options)throw zi("App Configuration");if(!D.name)throw zi("App Name");const E=["projectId","apiKey","appId"];for(const M of E)if(!D.options[M])throw zi(M);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(E);return{app:E,appConfig:M,platformLoggerProvider:(0,ae._getProvider)(E,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ae._registerComponent)(new de.wA("installations-internal",D=>{const E=D.getProvider("app").getImmediate(),M=(0,ae._getProvider)(E,Mn).getImmediate();return{getId:()=>function(D){return Zo.apply(this,arguments)}(M),getToken:z=>function(D){return yo.apply(this,arguments)}(M,z)}},"PRIVATE")),(0,ae.registerVersion)(le,$),(0,ae.registerVersion)(le,$,"esm2017");const rt="@firebase/remote-config",Vt=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class qi{constructor(E,M,L,z){this.client=E,this.storage=M,this.storageCache=L,this.logger=z}isCachedDataFresh(E,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-M,z=L<=E;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${E}. Is cache hit: ${z}.`),z}fetch(E){var M=this;return(0,O.Z)(function*(){const[L,z]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(z&&M.isCachedDataFresh(E.cacheMaxAgeMillis,L))return z;E.eTag=z&&z.eTag;const Z=yield M.client.fetch(E),De=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Z.status&&De.push(M.storage.setLastSuccessfulFetchResponse(Z)),yield Promise.all(De),Z})()}}function qh(D=navigator){return D.languages&&D.languages[0]||D.language}class Ji{constructor(E,M,L,z,Z,De){this.firebaseInstallations=E,this.sdkVersion=M,this.namespace=L,this.projectId=z,this.apiKey=Z,this.appId=De}fetch(E){var M=this;return(0,O.Z)(function*(){const[L,z]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),De=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Ge={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":E.eTag||"*"},Fe={sdk_version:M.sdkVersion,app_instance_id:L,app_instance_id_token:z,app_id:M.appId,language_code:qh()},bt={method:"POST",headers:Ge,body:JSON.stringify(Fe)},Bt=fetch(De,bt),bi=new Promise((vr,Rr)=>{E.signal.addEventListener(()=>{const Oo=new Error("The operation was aborted.");Oo.name="AbortError",Rr(Oo)})});let Ci;try{yield Promise.race([Bt,bi]),Ci=yield Bt}catch(vr){let Rr="fetch-client-network";throw"AbortError"===vr.name&&(Rr="fetch-timeout"),Vt.create(Rr,{originalErrorMessage:vr.message})}let sn=Ci.status;const ei=Ci.headers.get("ETag")||void 0;let ko,Mi;if(200===Ci.status){let vr;try{vr=yield Ci.json()}catch(Rr){throw Vt.create("fetch-client-parse",{originalErrorMessage:Rr.message})}ko=vr.entries,Mi=vr.state}if("INSTANCE_STATE_UNSPECIFIED"===Mi?sn=500:"NO_CHANGE"===Mi?sn=304:("NO_TEMPLATE"===Mi||"EMPTY_CONFIG"===Mi)&&(ko={}),304!==sn&&200!==sn)throw Vt.create("fetch-status",{httpStatus:sn});return{status:sn,eTag:ei,config:ko}})()}}class bc{constructor(E,M){this.client=E,this.storage=M}fetch(E){var M=this;return(0,O.Z)(function*(){const L=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(E,L)})()}attemptFetch(E,{throttleEndTimeMillis:M,backoffCount:L}){var z=this;return(0,O.Z)(function*(){yield function(D,E){return new Promise((M,L)=>{const z=Math.max(E-Date.now(),0),Z=setTimeout(M,z);D.addEventListener(()=>{clearTimeout(Z),L(Vt.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}(E.signal,M);try{const Z=yield z.client.fetch(E);return yield z.storage.deleteThrottleMetadata(),Z}catch(Z){if(!function(D){if(!(D instanceof ie.ZR&&D.customData))return!1;const E=Number(D.customData.httpStatus);return 429===E||500===E||503===E||504===E}(Z))throw Z;const De={throttleEndTimeMillis:Date.now()+(0,ie.$s)(L),backoffCount:L+1};return yield z.storage.setThrottleMetadata(De),z.attemptFetch(E,De)}})()}}class Jh{constructor(E,M,L,z,Z){this.app=E,this._client=M,this._storageCache=L,this._storage=z,this._logger=Z,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ds(D,E){const M=D.target.error||void 0;return Vt.create(E,{originalErrorMessage:M&&M.message})}const Yo="app_namespace_store";class Kh{constructor(E,M,L,z=function(){return new Promise((D,E)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=L=>{E(Ds(L,"storage-open"))},M.onsuccess=L=>{D(L.target.result)},M.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(Yo,{keyPath:"compositeKey"})}}catch(M){E(Vt.create("storage-open",{originalErrorMessage:M}))}})}()){this.appId=E,this.appName=M,this.namespace=L,this.openDbPromise=z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(E){return this.set("last_fetch_status",E)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(E){return this.set("last_successful_fetch_timestamp_millis",E)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(E){return this.set("last_successful_fetch_response",E)}getActiveConfig(){return this.get("active_config")}setActiveConfig(E){return this.set("active_config",E)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(E){return this.set("active_config_etag",E)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(E){return this.set("throttle_metadata",E)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(E){var M=this;return(0,O.Z)(function*(){const L=yield M.openDbPromise;return new Promise((z,Z)=>{const Ge=L.transaction([Yo],"readonly").objectStore(Yo),Fe=M.createCompositeKey(E);try{const bt=Ge.get(Fe);bt.onerror=Bt=>{Z(Ds(Bt,"storage-get"))},bt.onsuccess=Bt=>{const bi=Bt.target.result;z(bi?bi.value:void 0)}}catch(bt){Z(Vt.create("storage-get",{originalErrorMessage:bt&&bt.message}))}})})()}set(E,M){var L=this;return(0,O.Z)(function*(){const z=yield L.openDbPromise;return new Promise((Z,De)=>{const Fe=z.transaction([Yo],"readwrite").objectStore(Yo),bt=L.createCompositeKey(E);try{const Bt=Fe.put({compositeKey:bt,value:M});Bt.onerror=bi=>{De(Ds(bi,"storage-set"))},Bt.onsuccess=()=>{Z()}}catch(Bt){De(Vt.create("storage-set",{originalErrorMessage:Bt&&Bt.message}))}})})()}delete(E){var M=this;return(0,O.Z)(function*(){const L=yield M.openDbPromise;return new Promise((z,Z)=>{const Ge=L.transaction([Yo],"readwrite").objectStore(Yo),Fe=M.createCompositeKey(E);try{const bt=Ge.delete(Fe);bt.onerror=Bt=>{Z(Ds(Bt,"storage-delete"))},bt.onsuccess=()=>{z()}}catch(bt){Z(Vt.create("storage-delete",{originalErrorMessage:bt&&bt.message}))}})})()}createCompositeKey(E){return[this.appId,this.appName,this.namespace,E].join()}}class Ec{constructor(E){this.storage=E}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var E=this;return(0,O.Z)(function*(){const M=E.storage.getLastFetchStatus(),L=E.storage.getLastSuccessfulFetchTimestampMillis(),z=E.storage.getActiveConfig(),Z=yield M;Z&&(E.lastFetchStatus=Z);const De=yield L;De&&(E.lastSuccessfulFetchTimestampMillis=De);const Ge=yield z;Ge&&(E.activeConfig=Ge)})()}setLastFetchStatus(E){return this.lastFetchStatus=E,this.storage.setLastFetchStatus(E)}setLastSuccessfulFetchTimestampMillis(E){return this.lastSuccessfulFetchTimestampMillis=E,this.storage.setLastSuccessfulFetchTimestampMillis(E)}setActiveConfig(E){return this.activeConfig=E,this.storage.setActiveConfig(E)}}function Es(){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,O.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch(D){return!1}})).apply(this,arguments)}(0,ae._registerComponent)(new de.wA("remote-config",function(E,{instanceIdentifier:M}){const L=E.getProvider("app").getImmediate(),z=E.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Vt.create("registration-window");if(!(0,ie.hl)())throw Vt.create("indexed-db-unavailable");const{projectId:Z,apiKey:De,appId:Ge}=L.options;if(!Z)throw Vt.create("registration-project-id");if(!De)throw Vt.create("registration-api-key");if(!Ge)throw Vt.create("registration-app-id");const Fe=new Kh(Ge,L.name,M=M||"firebase"),bt=new Ec(Fe),Bt=new ee.Yd(rt);Bt.logLevel=ee.in.ERROR;const bi=new Ji(z,ae.SDK_VERSION,M,Z,De,Ge),Ci=new bc(bi,Fe),sn=new qi(Ci,Fe,bt,Bt),ei=new Jh(L,sn,bt,Fe,Bt);return function(D){const E=(0,ie.m9)(D);E._initializePromise||(E._initializePromise=E._storageCache.loadFromStorage().then(()=>{E._isInitializationComplete=!0}))}(ei),ei},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(rt,"0.3.3"),(0,ae.registerVersion)(rt,"0.3.3","esm2017");const Tc="/firebase-messaging-sw.js",rd="/firebase-cloud-messaging-push-scope",hr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Wr="google.c.a.c_id",qo="google.c.a.c_l",Zr="google.c.a.ts",Kn="google.c.a.e";var Qn=(()=>{return(D=Qn||(Qn={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Qn;var D})();function Er(D){const E=new Uint8Array(D);return btoa(String.fromCharCode(...E)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ts(D){const M=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(M),z=new Uint8Array(L.length);for(let Z=0;Z<L.length;++Z)z[Z]=L.charCodeAt(Z);return z}const Tl="fcm_token_details_db",Ac="fcm_token_object_Store";function Il(D){return Ia.apply(this,arguments)}function Ia(){return Ia=(0,O.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Z=>Z.name).includes(Tl))return null;let E=null;return(yield(0,re.openDb)(Tl,5,function(){var L=(0,O.Z)(function*(z){var Z;if(z.oldVersion<2||!z.objectStoreNames.contains(Ac))return;const De=z.transaction.objectStore(Ac),Ge=yield De.index("fcmSenderId").get(D);if(yield De.clear(),Ge)if(2===z.oldVersion){const Fe=Ge;if(!Fe.auth||!Fe.p256dh||!Fe.endpoint)return;E={token:Fe.fcmToken,createTime:null!==(Z=Fe.createTime)&&void 0!==Z?Z:Date.now(),subscriptionOptions:{auth:Fe.auth,p256dh:Fe.p256dh,endpoint:Fe.endpoint,swScope:Fe.swScope,vapidKey:"string"==typeof Fe.vapidKey?Fe.vapidKey:Er(Fe.vapidKey)}}}else if(3===z.oldVersion){const Fe=Ge;E={token:Fe.fcmToken,createTime:Fe.createTime,subscriptionOptions:{auth:Er(Fe.auth),p256dh:Er(Fe.p256dh),endpoint:Fe.endpoint,swScope:Fe.swScope,vapidKey:Er(Fe.vapidKey)}}}else if(4===z.oldVersion){const Fe=Ge;E={token:Fe.fcmToken,createTime:Fe.createTime,subscriptionOptions:{auth:Er(Fe.auth),p256dh:Er(Fe.p256dh),endpoint:Fe.endpoint,swScope:Fe.swScope,vapidKey:Er(Fe.vapidKey)}}}});return function(z){return L.apply(this,arguments)}}())).close(),yield(0,re.deleteDb)(Tl),yield(0,re.deleteDb)("fcm_vapid_details_db"),yield(0,re.deleteDb)("undefined"),od(E)?E:null}),Ia.apply(this,arguments)}function od(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:E}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof E.auth&&E.auth.length>0&&"string"==typeof E.p256dh&&E.p256dh.length>0&&"string"==typeof E.endpoint&&E.endpoint.length>0&&"string"==typeof E.swScope&&E.swScope.length>0&&"string"==typeof E.vapidKey&&E.vapidKey.length>0}const Ut="firebase-messaging-store";let Al=null;function Co(){return Al||(Al=(0,re.openDb)("firebase-messaging-database",1,D=>{0===D.oldVersion&&D.createObjectStore(Ut)})),Al}function Dn(D){return wo.apply(this,arguments)}function wo(){return(wo=(0,O.Z)(function*(D){const E=Do(D),L=yield(yield Co()).transaction(Ut).objectStore(Ut).get(E);if(L)return L;{const z=yield Il(D.appConfig.senderId);if(z)return yield _i(D,z),z}})).apply(this,arguments)}function _i(D,E){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,O.Z)(function*(D,E){const M=Do(D),z=(yield Co()).transaction(Ut,"readwrite");return yield z.objectStore(Ut).put(E,M),yield z.complete,E})).apply(this,arguments)}function En(D){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,O.Z)(function*(D){const E=Do(D),L=(yield Co()).transaction(Ut,"readwrite");yield L.objectStore(Ut).delete(E),yield L.complete})).apply(this,arguments)}function Do({appConfig:D}){return D.appId}const Ft=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Tr(D,E){return As.apply(this,arguments)}function As(){return(As=(0,O.Z)(function*(D,E){const M=yield Sa(D),L=Jo(E),z={method:"POST",headers:M,body:JSON.stringify(L)};let Z;try{Z=yield(yield fetch(We(D.appConfig),z)).json()}catch(De){throw Ft.create("token-subscribe-failed",{errorInfo:De})}if(Z.error)throw Ft.create("token-subscribe-failed",{errorInfo:Z.error.message});if(!Z.token)throw Ft.create("token-subscribe-no-token");return Z.token})).apply(this,arguments)}function To(D,E){return yi.apply(this,arguments)}function yi(){return(yi=(0,O.Z)(function*(D,E){const M=yield Sa(D),L=Jo(E.subscriptionOptions),z={method:"PATCH",headers:M,body:JSON.stringify(L)};let Z;try{Z=yield(yield fetch(`${We(D.appConfig)}/${E.token}`,z)).json()}catch(De){throw Ft.create("token-update-failed",{errorInfo:De})}if(Z.error)throw Ft.create("token-update-failed",{errorInfo:Z.error.message});if(!Z.token)throw Ft.create("token-update-no-token");return Z.token})).apply(this,arguments)}function Ss(D,E){return zr.apply(this,arguments)}function zr(){return(zr=(0,O.Z)(function*(D,E){const L={method:"DELETE",headers:yield Sa(D)};try{const Z=yield(yield fetch(`${We(D.appConfig)}/${E}`,L)).json();if(Z.error)throw Ft.create("token-unsubscribe-failed",{errorInfo:Z.error.message})}catch(z){throw Ft.create("token-unsubscribe-failed",{errorInfo:z})}})).apply(this,arguments)}function We({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Sa(D){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,O.Z)(function*({appConfig:D,installations:E}){const M=yield E.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function Jo({p256dh:D,auth:E,endpoint:M,vapidKey:L}){const z={web:{endpoint:M,auth:E,p256dh:D}};return L!==hr&&(z.web.applicationPubKey=L),z}const Ms=6048e5;function Na(D){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,O.Z)(function*(D){const E=yield Yr(D.swRegistration,D.vapidKey),M={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:E.endpoint,auth:Er(E.getKey("auth")),p256dh:Er(E.getKey("p256dh"))},L=yield Dn(D.firebaseDependencies);if(L){if(Ra(L.subscriptionOptions,M))return Date.now()>=L.createTime+Ms?vt(D,{token:L.token,createTime:Date.now(),subscriptionOptions:M}):L.token;try{yield Ss(D.firebaseDependencies,L.token)}catch(z){console.warn(z)}return nn(D.firebaseDependencies,M)}return nn(D.firebaseDependencies,M)})).apply(this,arguments)}function Sc(D){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,O.Z)(function*(D){const E=yield Dn(D.firebaseDependencies);E&&(yield Ss(D.firebaseDependencies,E.token),yield En(D.firebaseDependencies));const M=yield D.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function vt(D,E){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,O.Z)(function*(D,E){try{const M=yield To(D.firebaseDependencies,E),L=Object.assign(Object.assign({},E),{token:M,createTime:Date.now()});return yield _i(D.firebaseDependencies,L),M}catch(M){throw yield Sc(D),M}})).apply(this,arguments)}function nn(D,E){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,O.Z)(function*(D,E){const L={token:yield Tr(D,E),createTime:Date.now(),subscriptionOptions:E};return yield _i(D,L),L.token})).apply(this,arguments)}function Yr(D,E){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,O.Z)(function*(D,E){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ts(E)})})).apply(this,arguments)}function Ra(D,E){return E.vapidKey===D.vapidKey&&E.endpoint===D.endpoint&&E.auth===D.auth&&E.p256dh===D.p256dh}function Io(D){const E={from:D.from,collapseKey:D.collapse_key,messageId:D.fcm_message_id};return function(D,E){if(!E.notification)return;D.notification={};const M=E.notification.title;M&&(D.notification.title=M);const L=E.notification.body;L&&(D.notification.body=L);const z=E.notification.image;z&&(D.notification.image=z)}(E,D),function(D,E){!E.data||(D.data=E.data)}(E,D),function(D,E){if(!E.fcmOptions)return;D.fcmOptions={};const M=E.fcmOptions.link;M&&(D.fcmOptions.link=M);const L=E.fcmOptions.analytics_label;L&&(D.fcmOptions.analyticsLabel=L)}(E,D),E}function Ao(D){return"object"==typeof D&&!!D&&Wr in D}function Hn(D,E){const M=[];for(let L=0;L<D.length;L++)M.push(D.charAt(L)),L<E.length&&M.push(E.charAt(L));return M.join("")}function ks(D){return Ft.create("missing-app-config-values",{valueName:D})}Hn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Hn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class qr{constructor(E,M,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const z=function(D){if(!D||!D.options)throw ks("App Configuration Object");if(!D.name)throw ks("App Name");const E=["projectId","apiKey","appId","messagingSenderId"],{options:M}=D;for(const L of E)if(!M[L])throw ks(L);return{appName:D.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(E);this.firebaseDependencies={app:E,appConfig:z,installations:M,analyticsProvider:L}}_delete(){return Promise.resolve()}}function fr(D){return Os.apply(this,arguments)}function Os(){return(Os=(0,O.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Tc,{scope:rd}),D.swRegistration.update().catch(()=>{})}catch(E){throw Ft.create("failed-service-worker-registration",{browserErrorMessage:E.message})}})).apply(this,arguments)}function Ps(D,E){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,O.Z)(function*(D,E){if(!E&&!D.swRegistration&&(yield fr(D)),E||!D.swRegistration){if(!(E instanceof ServiceWorkerRegistration))throw Ft.create("invalid-sw-registration");D.swRegistration=E}})).apply(this,arguments)}function xa(D,E){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,O.Z)(function*(D,E){E?D.vapidKey=E:D.vapidKey||(D.vapidKey=hr)})).apply(this,arguments)}function ka(){return(ka=(0,O.Z)(function*(D,E){if(!navigator)throw Ft.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ft.create("permission-blocked");return yield xa(D,null==E?void 0:E.vapidKey),yield Ps(D,null==E?void 0:E.serviceWorkerRegistration),Na(D)})).apply(this,arguments)}function Bs(D,E,M){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,O.Z)(function*(D,E,M){const L=Oa(E);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:M[Wr],message_name:M[qo],message_time:M[Zr],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Oa(D){switch(D){case Qn.NOTIFICATION_CLICKED:return"notification_open";case Qn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Vs(){return(Vs=(0,O.Z)(function*(D,E){const M=E.data;if(!M.isFirebaseMessaging)return;D.onMessageHandler&&M.messageType===Qn.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Io(M)):D.onMessageHandler.next(Io(M)));const L=M.data;Ao(L)&&"1"===L[Kn]&&(yield Bs(D,M.messageType,L))})).apply(this,arguments)}const Ml="@firebase/messaging";function Rl(){return qt.apply(this,arguments)}function qt(){return(qt=(0,O.Z)(function*(){return"undefined"!=typeof window&&(0,ie.hl)()&&(yield(0,ie.eu)())&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ae._registerComponent)(new de.wA("messaging",D=>{const E=new qr(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function(D,E){return Vs.apply(this,arguments)}(E,M)),E},"PUBLIC")),(0,ae._registerComponent)(new de.wA("messaging-internal",D=>{const E=D.getProvider("messaging").getImmediate();return{getToken:L=>function(D,E){return ka.apply(this,arguments)}(E,L)}},"PRIVATE")),(0,ae.registerVersion)(Ml,"0.9.4"),(0,ae.registerVersion)(Ml,"0.9.4","esm2017");const Kr="analytics",Fa="firebase_id",xl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",kc="https://www.googletagmanager.com/gtag/js",Qt=new ee.Yd("@firebase/analytics");function Gs(D){return Promise.all(D.map(E=>E.catch(M=>M)))}function tf(D,E){const M=document.createElement("script");M.src=`${kc}?l=${D}&id=${E}`,M.async=!0,document.head.appendChild(M)}function Qo(D,E,M,L,z,Z){return La.apply(this,arguments)}function La(){return(La=(0,O.Z)(function*(D,E,M,L,z,Z){const De=L[z];try{if(De)yield E[De];else{const Fe=(yield Gs(M)).find(bt=>bt.measurementId===z);Fe&&(yield E[Fe.appId])}}catch(Ge){Qt.error(Ge)}D("config",z,Z)})).apply(this,arguments)}function Qr(D,E,M,L,z){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,O.Z)(function*(D,E,M,L,z){try{let Z=[];if(z&&z.send_to){let De=z.send_to;Array.isArray(De)||(De=[De]);const Ge=yield Gs(M);for(const Fe of De){const bt=Ge.find(bi=>bi.measurementId===Fe),Bt=bt&&E[bt.appId];if(!Bt){Z=[];break}Z.push(Bt)}}0===Z.length&&(Z=Object.values(E)),yield Promise.all(Z),D("event",L,z||{})}catch(Z){Qt.error(Z)}})).apply(this,arguments)}function _n(){const D=window.document.getElementsByTagName("script");for(const E of Object.values(D))if(E.src&&E.src.includes(kc))return E;return null}const je=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Xo=new class{constructor(E={},M=1e3){this.throttleMetadata=E,this.intervalMillis=M}getThrottleMetadata(E){return this.throttleMetadata[E]}setThrottleMetadata(E,M){this.throttleMetadata[E]=M}deleteThrottleMetadata(E){delete this.throttleMetadata[E]}};function nf(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Ws(D){return Va.apply(this,arguments)}function Va(){return(Va=(0,O.Z)(function*(D){var E;const{appId:M,apiKey:L}=D,z={method:"GET",headers:nf(L)},Z=xl.replace("{app-id}",M),De=yield fetch(Z,z);if(200!==De.status&&304!==De.status){let Ge="";try{const Fe=yield De.json();(null===(E=Fe.error)||void 0===E?void 0:E.message)&&(Ge=Fe.error.message)}catch(Fe){}throw je.create("config-fetch-failed",{httpStatus:De.status,responseMessage:Ge})}return De.json()})).apply(this,arguments)}function So(D){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,O.Z)(function*(D,E=Xo,M){const{appId:L,apiKey:z,measurementId:Z}=D.options;if(!L)throw je.create("no-app-id");if(!z){if(Z)return{measurementId:Z,appId:L};throw je.create("no-api-key")}const De=E.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ge=new No;return setTimeout((0,O.Z)(function*(){Ge.abort()}),void 0!==M?M:6e4),pr({appId:L,apiKey:z,measurementId:Z},De,Ge,E)})).apply(this,arguments)}function pr(D,E,M){return ot.apply(this,arguments)}function ot(){return(ot=(0,O.Z)(function*(D,{throttleEndTimeMillis:E,backoffCount:M},L,z=Xo){const{appId:Z,measurementId:De}=D;try{yield dd(L,E)}catch(Ge){if(De)return Qt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${De} provided in the "measurementId" field in the local Firebase config. [${Ge.message}]`),{appId:Z,measurementId:De};throw Ge}try{const Ge=yield Ws(D);return z.deleteThrottleMetadata(Z),Ge}catch(Ge){if(!hd(Ge)){if(z.deleteThrottleMetadata(Z),De)return Qt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${De} provided in the "measurementId" field in the local Firebase config. [${Ge.message}]`),{appId:Z,measurementId:De};throw Ge}const Fe=503===Number(Ge.customData.httpStatus)?(0,ie.$s)(M,z.intervalMillis,30):(0,ie.$s)(M,z.intervalMillis),bt={throttleEndTimeMillis:Date.now()+Fe,backoffCount:M+1};return z.setThrottleMetadata(Z,bt),Qt.debug(`Calling attemptFetch again in ${Fe} millis`),pr(D,bt,L,z)}})).apply(this,arguments)}function dd(D,E){return new Promise((M,L)=>{const z=Math.max(E-Date.now(),0),Z=setTimeout(M,z);D.addEventListener(()=>{clearTimeout(Z),L(je.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}function hd(D){if(!(D instanceof ie.ZR&&D.customData))return!1;const E=Number(D.customData.httpStatus);return 429===E||500===E||503===E||504===E}class No{constructor(){this.listeners=[]}addEventListener(E){this.listeners.push(E)}abort(){this.listeners.forEach(E=>E())}}function es(){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,O.Z)(function*(){if(!(0,ie.hl)())return Qt.warn(je.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(D){return Qt.warn(je.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function Xi(){return(Xi=(0,O.Z)(function*(D,E,M,L,z,Z,De){var Ge;const Fe=So(D);Fe.then(sn=>{M[sn.measurementId]=sn.appId,D.options.measurementId&&sn.measurementId!==D.options.measurementId&&Qt.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${sn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(sn=>Qt.error(sn)),E.push(Fe);const bt=es().then(sn=>{if(sn)return L.getId()}),[Bt,bi]=yield Promise.all([Fe,bt]);_n()||tf(Z,Bt.measurementId),z("js",new Date);const Ci=null!==(Ge=null==De?void 0:De.config)&&void 0!==Ge?Ge:{};return Ci.origin="firebase",Ci.update=!0,null!=bi&&(Ci[Fa]=bi),z("config",Bt.measurementId,Ci),Bt.measurementId})).apply(this,arguments)}class Oc{constructor(E){this.app=E}_delete(){return delete er[this.app.options.appId],Promise.resolve()}}let er={},kl=[];const ts={};let zs,on,Mo="dataLayer",eo=!1;function Un(D,E,M){!function(){const D=[];if((0,ie.ru)()&&D.push("This is a browser extension environment."),(0,ie.zI)()||D.push("Cookies are not available."),D.length>0){const E=D.map((L,z)=>`(${z+1}) ${L}`).join(" "),M=je.create("invalid-analytics-context",{errorInfo:E});Qt.warn(M.message)}}();const L=D.options.appId;if(!L)throw je.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw je.create("no-api-key");Qt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=er[L])throw je.create("already-exists",{id:L});if(!eo){!function(D){let E=[];Array.isArray(window[D])?E=window[D]:window[D]=E}(Mo);const{wrappedGtag:Z,gtagCore:De}=function(D,E,M,L,z){let Z=function(...De){window[L].push(arguments)};return window[z]&&"function"==typeof window[z]&&(Z=window[z]),window[z]=function(D,E,M,L){function Z(){return(Z=(0,O.Z)(function*(De,Ge,Fe){try{"event"===De?yield Qr(D,E,M,Ge,Fe):"config"===De?yield Qo(D,E,M,L,Ge,Fe):D("set",Ge)}catch(bt){Qt.error(bt)}})).apply(this,arguments)}return function(De,Ge,Fe){return Z.apply(this,arguments)}}(Z,D,E,M),{gtagCore:Z,wrappedGtag:window[z]}}(er,kl,ts,Mo,"gtag");on=Z,zs=De,eo=!0}return er[L]=function(D,E,M,L,z,Z,De){return Xi.apply(this,arguments)}(D,kl,ts,E,zs,Mo,M),new Oc(D)}function Ua(){return(Ua=(0,O.Z)(function*(D,E,M,L,z){if(z&&z.global)D("event",M,L);else{const Z=yield E;D("event",M,Object.assign(Object.assign({},L),{send_to:Z}))}})).apply(this,arguments)}function Gt(){return $a.apply(this,arguments)}function $a(){return($a=(0,O.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch(D){return!1}})).apply(this,arguments)}const Pc="@firebase/analytics";(0,ae._registerComponent)(new de.wA(Kr,(E,{options:M})=>Un(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,ae._registerComponent)(new de.wA("analytics-internal",function(E){try{const M=E.getProvider(Kr).getImmediate();return{logEvent:(L,z,Z)=>function(D,E,M,L){D=(0,ie.m9)(D),function(D,E,M,L,z){return Ua.apply(this,arguments)}(on,er[D.app.options.appId],E,M,L).catch(z=>Qt.error(z))}(M,L,z,Z)}}catch(M){throw je.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,ae.registerVersion)(Pc,"0.7.4"),(0,ae.registerVersion)(Pc,"0.7.4","esm2017");var pn=k(2869),qs=k(8843);const md=new class extends qs.v{}(class extends pn.o{constructor(E,M){super(E,M),this.scheduler=E,this.work=M}schedule(E,M=0){return M>0?super.schedule(E,M):(this.delay=M,this.state=E,this.scheduler.flush(this),this)}execute(E,M){return M>0||this.closed?super.execute(E,M):this._execute(E,M)}requestAsyncId(E,M,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(E,M,L):E.flush(this)}});var mr=k(2210),Ol=k(7384),ns=k(5222),is=k(4763);const Lc=new o.GfV("7.2.0"),Pl="__angularfire_symbol__analyticsIsSupported",Fl="__angularfire_symbol__remoteConfigIsSupported",si="__angularfire_symbol__messagingIsSupported";function Bc(D,E,M){if(E){if(1===E.length)return E[0];const Z=E.filter(De=>De.app===M);if(1===Z.length)return Z[0]}return M.container.getProvider(D).getImmediate({optional:!0})}globalThis[Pl]||(globalThis[Pl]=Gt().then(D=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=D)),globalThis[si]||(globalThis[si]=Rl().then(D=>globalThis.__angularfire_symbol__messagingIsSupportedValue=D)),globalThis[Fl]||(globalThis[Fl]=Es().then(D=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=D));const bd=(D,E)=>{const M=E?[E]:(0,K.C6)(),L=[];return M.forEach(z=>{z.container.getProvider(D).instances.forEach(De=>{L.includes(De)||L.push(De)})}),L};function ai(){}class Ll{constructor(E,M=md){this.zone=E,this.delegate=M}now(){return this.delegate.now()}schedule(E,M,L){const z=this.zone;return this.delegate.schedule(function(De){z.runGuarded(()=>{E.apply(this,[De])})},M,L)}}class ja{constructor(E){this.zone=E,this.task=null}call(E,M){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ai,{},ai,ai)),M.pipe((0,Ol.b)({next:L,complete:L,error:L})).subscribe(E).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Bl=(()=>{class D{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Ll(Zone.current)),this.insideAngular=M.run(()=>new Ll(Zone.current,mr.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(M){return new(M||D)(o.LFG(o.R0b))},D.\u0275prov=o.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function yr(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Mr(D){return yr(),function(D){return function(M){return(M=M.lift(new ja(D.ngZone))).pipe((0,ns.R)(D.outsideAngular),(0,is.Q)(D.insideAngular))}}(yr())(D)}},4213:(Ve,he,k)=>{"use strict";k.d(he,{BH:()=>xe,LL:()=>ue,ZR:()=>Se,gQ:()=>Ee,zI:()=>ce,hu:()=>K,g5:()=>O,US:()=>de,tV:()=>le,h$:()=>ee,$s:()=>Ot,r3:()=>zt,Sg:()=>be,ne:()=>Vn,p$:()=>$,vZ:()=>Tt,ZB:()=>U,gK:()=>Ke,pd:()=>cr,m9:()=>vl,z$:()=>ke,GJ:()=>hi,jU:()=>Y,ru:()=>se,xb:()=>gn,w1:()=>Be,hl:()=>Xe,uI:()=>Re,UG:()=>oe,Yr:()=>Le,b$:()=>ve,w9:()=>ii,cI:()=>wn,UI:()=>Oi,xO:()=>Wo,zd:()=>Gi,DV:()=>Go,ug:()=>kt,dS:()=>pi,Pz:()=>ct,Dv:()=>fi,Wj:()=>mt,lb:()=>_t,eu:()=>te});const K=function(G,B){if(!G)throw O(B)},O=function(G){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+G)},ae=function(G){const B=[];let W=0;for(let ye=0;ye<G.length;ye++){let ne=G.charCodeAt(ye);ne<128?B[W++]=ne:ne<2048?(B[W++]=ne>>6|192,B[W++]=63&ne|128):55296==(64512&ne)&&ye+1<G.length&&56320==(64512&G.charCodeAt(ye+1))?(ne=65536+((1023&ne)<<10)+(1023&G.charCodeAt(++ye)),B[W++]=ne>>18|240,B[W++]=ne>>12&63|128,B[W++]=ne>>6&63|128,B[W++]=63&ne|128):(B[W++]=ne>>12|224,B[W++]=ne>>6&63|128,B[W++]=63&ne|128)}return B},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,B){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,ye=[];for(let ne=0;ne<G.length;ne+=3){const $e=G[ne],et=ne+1<G.length,Pt=et?G[ne+1]:0,Yn=ne+2<G.length,fn=Yn?G[ne+2]:0;let qn=(15&Pt)<<2|fn>>6,_o=63&fn;Yn||(_o=64,et||(qn=64)),ye.push(W[$e>>2],W[(3&$e)<<4|Pt>>4],W[qn],W[_o])}return ye.join("")},encodeString(G,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(G):this.encodeByteArray(ae(G),B)},decodeString(G,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(G):function(G){const B=[];let W=0,ye=0;for(;W<G.length;){const ne=G[W++];if(ne<128)B[ye++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const $e=G[W++];B[ye++]=String.fromCharCode((31&ne)<<6|63&$e)}else if(ne>239&&ne<365){const Yn=((7&ne)<<18|(63&G[W++])<<12|(63&G[W++])<<6|63&G[W++])-65536;B[ye++]=String.fromCharCode(55296+(Yn>>10)),B[ye++]=String.fromCharCode(56320+(1023&Yn))}else{const $e=G[W++],et=G[W++];B[ye++]=String.fromCharCode((15&ne)<<12|(63&$e)<<6|63&et)}}return B.join("")}(this.decodeStringToByteArray(G,B))},decodeStringToByteArray(G,B){this.init_();const W=B?this.charToByteMapWebSafe_:this.charToByteMap_,ye=[];for(let ne=0;ne<G.length;){const $e=W[G.charAt(ne++)],Pt=ne<G.length?W[G.charAt(ne)]:0;++ne;const fn=ne<G.length?W[G.charAt(ne)]:64;++ne;const Ct=ne<G.length?W[G.charAt(ne)]:64;if(++ne,null==$e||null==Pt||null==fn||null==Ct)throw Error();ye.push($e<<2|Pt>>4),64!==fn&&(ye.push(Pt<<4&240|fn>>2),64!==Ct&&ye.push(fn<<6&192|Ct))}return ye},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},ee=function(G){const B=ae(G);return de.encodeByteArray(B,!0)},re=function(G){return ee(G).replace(/\./g,"")},le=function(G){try{return de.decodeString(G,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function $(G){return U(void 0,G)}function U(G,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return B}for(const W in B)!B.hasOwnProperty(W)||!Q(W)||(G[W]=U(G[W],B[W]));return G}function Q(G){return"__proto__"!==G}class xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,W)=>{this.resolve=B,this.reject=W})}wrapCallback(B){return(W,ye)=>{W?this.reject(W):this.resolve(ye),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(W):B(W,ye))}}}function be(G,B){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ye=B||"demo-project",ne=G.iat||0,$e=G.sub||G.user_id;if(!$e)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const et=Object.assign({iss:`https://securetoken.google.com/${ye}`,aud:ye,iat:ne,exp:ne+3600,auth_time:ne,sub:$e,user_id:$e,firebase:{sign_in_provider:"custom",identities:{}}},G);return[re(JSON.stringify({alg:"none",type:"JWT"})),re(JSON.stringify(et)),""].join(".")}function ke(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Re(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function oe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(G){return!1}}function Y(){return"object"==typeof self&&self.self===self}function se(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function ve(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Be(){const G=ke();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Le(){return!1}function Xe(){return"object"==typeof indexedDB}function te(){return new Promise((G,B)=>{try{let W=!0;const ye="validate-browser-context-for-indexeddb-analytics-module",ne=self.indexedDB.open(ye);ne.onsuccess=()=>{ne.result.close(),W||self.indexedDB.deleteDatabase(ye),G(!0)},ne.onupgradeneeded=()=>{W=!1},ne.onerror=()=>{var $e;B((null===($e=ne.error)||void 0===$e?void 0:$e.message)||"")}}catch(W){B(W)}})}function ce(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Se extends Error{constructor(B,W,ye){super(W),this.code=B,this.customData=ye,this.name="FirebaseError",Object.setPrototypeOf(this,Se.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ue.prototype.create)}}class ue{constructor(B,W,ye){this.service=B,this.serviceName=W,this.errors=ye}create(B,...W){const ye=W[0]||{},ne=`${this.service}/${B}`,$e=this.errors[B],et=$e?function(G,B){return G.replace(xt,(W,ye)=>{const ne=B[ye];return null!=ne?String(ne):`<${ye}?>`})}($e,ye):"Error";return new Se(ne,`${this.serviceName}: ${et} (${ne}).`,ye)}}const xt=/\{\$([^}]+)}/g;function wn(G){return JSON.parse(G)}function ct(G){return JSON.stringify(G)}const st=function(G){let B={},W={},ye={},ne="";try{const $e=G.split(".");B=wn(le($e[0])||""),W=wn(le($e[1])||""),ne=$e[2],ye=W.d||{},delete W.d}catch($e){}return{header:B,claims:W,data:ye,signature:ne}},ii=function(G){const W=st(G).claims;return!!W&&"object"==typeof W&&W.hasOwnProperty("iat")},hi=function(G){const B=st(G).claims;return"object"==typeof B&&!0===B.admin};function zt(G,B){return Object.prototype.hasOwnProperty.call(G,B)}function Go(G,B){if(Object.prototype.hasOwnProperty.call(G,B))return G[B]}function gn(G){for(const B in G)if(Object.prototype.hasOwnProperty.call(G,B))return!1;return!0}function Oi(G,B,W){const ye={};for(const ne in G)Object.prototype.hasOwnProperty.call(G,ne)&&(ye[ne]=B.call(W,G[ne],ne,G));return ye}function Tt(G,B){if(G===B)return!0;const W=Object.keys(G),ye=Object.keys(B);for(const ne of W){if(!ye.includes(ne))return!1;const $e=G[ne],et=B[ne];if(hn($e)&&hn(et)){if(!Tt($e,et))return!1}else if($e!==et)return!1}for(const ne of ye)if(!W.includes(ne))return!1;return!0}function hn(G){return null!==G&&"object"==typeof G}function Wo(G){const B=[];for(const[W,ye]of Object.entries(G))Array.isArray(ye)?ye.forEach(ne=>{B.push(encodeURIComponent(W)+"="+encodeURIComponent(ne))}):B.push(encodeURIComponent(W)+"="+encodeURIComponent(ye));return B.length?"&"+B.join("&"):""}function Gi(G){const B={};return G.replace(/^\?/,"").split("&").forEach(ye=>{if(ye){const[ne,$e]=ye.split("=");B[decodeURIComponent(ne)]=decodeURIComponent($e)}}),B}function cr(G){const B=G.indexOf("?");if(!B)return"";const W=G.indexOf("#",B);return G.substring(B,W>0?W:void 0)}class Ee{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let B=1;B<this.blockSize;++B)this.pad_[B]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(B,W){W||(W=0);const ye=this.W_;if("string"==typeof B)for(let Ct=0;Ct<16;Ct++)ye[Ct]=B.charCodeAt(W)<<24|B.charCodeAt(W+1)<<16|B.charCodeAt(W+2)<<8|B.charCodeAt(W+3),W+=4;else for(let Ct=0;Ct<16;Ct++)ye[Ct]=B[W]<<24|B[W+1]<<16|B[W+2]<<8|B[W+3],W+=4;for(let Ct=16;Ct<80;Ct++){const qn=ye[Ct-3]^ye[Ct-8]^ye[Ct-14]^ye[Ct-16];ye[Ct]=4294967295&(qn<<1|qn>>>31)}let fn,Ii,ne=this.chain_[0],$e=this.chain_[1],et=this.chain_[2],Pt=this.chain_[3],Yn=this.chain_[4];for(let Ct=0;Ct<80;Ct++){Ct<40?Ct<20?(fn=Pt^$e&(et^Pt),Ii=1518500249):(fn=$e^et^Pt,Ii=1859775393):Ct<60?(fn=$e&et|Pt&($e|et),Ii=2400959708):(fn=$e^et^Pt,Ii=3395469782);const qn=(ne<<5|ne>>>27)+fn+Yn+Ii+ye[Ct]&4294967295;Yn=Pt,Pt=et,et=4294967295&($e<<30|$e>>>2),$e=ne,ne=qn}this.chain_[0]=this.chain_[0]+ne&4294967295,this.chain_[1]=this.chain_[1]+$e&4294967295,this.chain_[2]=this.chain_[2]+et&4294967295,this.chain_[3]=this.chain_[3]+Pt&4294967295,this.chain_[4]=this.chain_[4]+Yn&4294967295}update(B,W){if(null==B)return;void 0===W&&(W=B.length);const ye=W-this.blockSize;let ne=0;const $e=this.buf_;let et=this.inbuf_;for(;ne<W;){if(0===et)for(;ne<=ye;)this.compress_(B,ne),ne+=this.blockSize;if("string"==typeof B){for(;ne<W;)if($e[et]=B.charCodeAt(ne),++et,++ne,et===this.blockSize){this.compress_($e),et=0;break}}else for(;ne<W;)if($e[et]=B[ne],++et,++ne,et===this.blockSize){this.compress_($e),et=0;break}}this.inbuf_=et,this.total_+=W}digest(){const B=[];let W=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ne=this.blockSize-1;ne>=56;ne--)this.buf_[ne]=255&W,W/=256;this.compress_(this.buf_);let ye=0;for(let ne=0;ne<5;ne++)for(let $e=24;$e>=0;$e-=8)B[ye]=this.chain_[ne]>>$e&255,++ye;return B}}function Vn(G,B){const W=new Nn(G,B);return W.subscribe.bind(W)}class Nn{constructor(B,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{B(this)}).catch(ye=>{this.error(ye)})}next(B){this.forEachObserver(W=>{W.next(B)})}error(B){this.forEachObserver(W=>{W.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,W,ye){let ne;if(void 0===B&&void 0===W&&void 0===ye)throw new Error("Missing Observer.");ne=function(G,B){if("object"!=typeof G||null===G)return!1;for(const W of["next","error","complete"])if(W in G&&"function"==typeof G[W])return!0;return!1}(B)?B:{next:B,error:W,complete:ye},void 0===ne.next&&(ne.next=Wi),void 0===ne.error&&(ne.error=Wi),void 0===ne.complete&&(ne.complete=Wi);const $e=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ne.error(this.finalError):ne.complete()}catch(et){}}),this.observers.push(ne),$e}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,B)}sendOne(B,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{W(this.observers[B])}catch(ye){"undefined"!=typeof console&&console.error&&console.error(ye)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wi(){}const fi=function(G,B,W,ye){let ne;if(ye<B?ne="at least "+B:ye>W&&(ne=0===W?"none":"no more than "+W),ne)throw new Error(G+" failed: Was called with "+ye+(1===ye?" argument.":" arguments.")+" Expects "+ne+".")};function Ke(G,B){return`${G} failed: ${B} argument `}function mt(G,B,W,ye){if((!ye||W)&&"function"!=typeof W)throw new Error(Ke(G,B)+"must be a valid function.")}function _t(G,B,W,ye){if((!ye||W)&&("object"!=typeof W||null===W))throw new Error(Ke(G,B)+"must be a valid context object.")}const pi=function(G){const B=[];let W=0;for(let ye=0;ye<G.length;ye++){let ne=G.charCodeAt(ye);if(ne>=55296&&ne<=56319){const $e=ne-55296;ye++,K(ye<G.length,"Surrogate pair missing trail surrogate."),ne=65536+($e<<10)+(G.charCodeAt(ye)-56320)}ne<128?B[W++]=ne:ne<2048?(B[W++]=ne>>6|192,B[W++]=63&ne|128):ne<65536?(B[W++]=ne>>12|224,B[W++]=ne>>6&63|128,B[W++]=63&ne|128):(B[W++]=ne>>18|240,B[W++]=ne>>12&63|128,B[W++]=ne>>6&63|128,B[W++]=63&ne|128)}return B},kt=function(G){let B=0;for(let W=0;W<G.length;W++){const ye=G.charCodeAt(W);ye<128?B++:ye<2048?B+=2:ye>=55296&&ye<=56319?(B+=4,W++):B+=3}return B};function Ot(G,B=1e3,W=2){const ye=B*Math.pow(W,G),ne=Math.round(.5*ye*(Math.random()-.5)*2);return Math.min(144e5,ye+ne)}function vl(G){return G&&G._delegate?G._delegate:G}},7713:(Ve,he,k)=>{"use strict";k.d(he,{Mq:()=>o.getApp,C6:()=>o.getApps});var o=k(1572);(0,o.registerVersion)("firebase","9.6.1","app")},7892:(Ve,he,k)=>{"use strict";k.d(he,{Z:()=>o.Z});var o=k(6293);o.Z.registerVersion("firebase","9.6.1","app-compat")},9766:(Ve,he,k)=>{"use strict";k.r(he);var o=k(8239),K=k(6293),O=k(4213),ae=k(1572);function re(m,h){var f={};for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&h.indexOf(v)<0&&(f[v]=m[v]);if(null!=m&&"function"==typeof Object.getOwnPropertySymbols){var T=0;for(v=Object.getOwnPropertySymbols(m);T<v.length;T++)h.indexOf(v[T])<0&&Object.prototype.propertyIsEnumerable.call(m,v[T])&&(f[v[T]]=m[v[T]])}return f}var Se=k(3855),ue=k(1177);const ii=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},hi=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},zt=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),gn=new Se.Yd("@firebase/auth");function Oi(m,...h){gn.logLevel<=Se.in.ERROR&&gn.error(`Auth (${ae.SDK_VERSION}): ${m}`,...h)}function Tt(m,...h){throw cr(m,...h)}function hn(m,...h){return cr(m,...h)}function Wo(m,h,f){const v=Object.assign(Object.assign({},hi()),{[h]:f});return new O.LL("auth","Firebase",v).create(h,{appName:m.name})}function Gi(m,h,f){if(!(h instanceof f))throw f.name!==h.constructor.name&&Tt(m,"argument-error"),Wo(m,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function cr(m,...h){if("string"!=typeof m){const f=h[0],v=[...h.slice(1)];return v[0]&&(v[0].appName=m.name),m._errorFactory.create(f,...v)}return zt.create(m,...h)}function Ee(m,h,...f){if(!m)throw cr(h,...f)}function Vn(m){const h="INTERNAL ASSERTION FAILED: "+m;throw Oi(h),new Error(h)}function Nn(m,h){m||Vn(h)}const tt=new Map;function Mt(m){Nn(m instanceof Function,"Expected a class definition");let h=tt.get(m);return h?(Nn(h instanceof m,"Instance stored in cache mismatched with class"),h):(h=new m,tt.set(m,h),h)}function Ke(){var m;return"undefined"!=typeof self&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function nt(){return"http:"===mt()||"https:"===mt()}function mt(){var m;return"undefined"!=typeof self&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class kt{constructor(h,f){this.shortDelay=h,this.longDelay=f,Nn(f>h,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(nt()||(0,O.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function He(m,h){Nn(m.emulator,"Emulator should always be set here");const{url:f}=m.emulator;return h?`${f}${h.startsWith("/")?h.slice(1):h}`:f}class Qe{static initialize(h,f,v){this.fetchImpl=h,f&&(this.headersImpl=f),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Vn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Vn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Vn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ca={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ur=new kt(3e4,6e4);function Ot(m,h){return m.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:m.tenantId}):h}function lt(m,h,f,v){return gi.apply(this,arguments)}function gi(){return(gi=(0,o.Z)(function*(m,h,f,v,T={}){return vl(m,T,(0,o.Z)(function*(){let S={},H={};v&&("GET"===h?H=v:S={body:JSON.stringify(v)});const X=(0,O.xO)(Object.assign({key:m.config.apiKey},H)).slice(1),Ae=yield m._getAdditionalHeaders();return Ae["Content-Type"]="application/json",m.languageCode&&(Ae["X-Firebase-Locale"]=m.languageCode),Qe.fetch()(ye(m,m.config.apiHost,f,X),Object.assign({method:h,headers:Ae,referrerPolicy:"no-referrer"},S))}))})).apply(this,arguments)}function vl(m,h,f){return G.apply(this,arguments)}function G(){return(G=(0,o.Z)(function*(m,h,f){m._canInitEmulator=!1;const v=Object.assign(Object.assign({},Ca),h);try{const T=new ne(m),S=yield Promise.race([f(),T.promise]);T.clearNetworkTimeout();const H=yield S.json();if("needConfirmation"in H)throw $e(m,"account-exists-with-different-credential",H);if(S.ok&&!("errorMessage"in H))return H;{const X=S.ok?H.errorMessage:H.error.message,[Ae,Ie]=X.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ae)throw $e(m,"credential-already-in-use",H);if("EMAIL_EXISTS"===Ae)throw $e(m,"email-already-in-use",H);const Ze=v[Ae]||Ae.toLowerCase().replace(/[_\s]+/g,"-");if(Ie)throw Wo(m,Ze,Ie);Tt(m,Ze)}}catch(T){if(T instanceof O.ZR)throw T;Tt(m,"network-request-failed")}})).apply(this,arguments)}function B(m,h,f,v){return W.apply(this,arguments)}function W(){return(W=(0,o.Z)(function*(m,h,f,v,T={}){const S=yield lt(m,h,f,v,T);return"mfaPendingCredential"in S&&Tt(m,"multi-factor-auth-required",{_serverResponse:S}),S})).apply(this,arguments)}function ye(m,h,f,v){const T=`${h}${f}?${v}`;return m.config.emulator?He(m.config,T):`${m.config.apiScheme}://${T}`}class ne{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((f,v)=>{this.timer=setTimeout(()=>v(hn(this.auth,"timeout")),Ur.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $e(m,h,f){const v={appName:m.name};f.email&&(v.email=f.email),f.phoneNumber&&(v.phoneNumber=f.phoneNumber);const T=hn(m,h,v);return T.customData._tokenResponse=f,T}function Pt(){return(Pt=(0,o.Z)(function*(m,h){return lt(m,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Yn(m,h){return fn.apply(this,arguments)}function fn(){return(fn=(0,o.Z)(function*(m,h){return lt(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ii(m,h){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,o.Z)(function*(m,h){return lt(m,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function qn(m){if(m)try{const h=new Date(Number(m));if(!isNaN(h.getTime()))return h.toUTCString()}catch(h){}}function Zo(){return(Zo=(0,o.Z)(function*(m,h=!1){const f=(0,O.m9)(m),v=yield f.getIdToken(h),T=yo(v);Ee(T&&T.exp&&T.auth_time&&T.iat,f.auth,"internal-error");const S="object"==typeof T.firebase?T.firebase:void 0,H=null==S?void 0:S.sign_in_provider;return{claims:T,token:v,authTime:qn(wa(T.auth_time)),issuedAtTime:qn(wa(T.iat)),expirationTime:qn(wa(T.exp)),signInProvider:H||null,signInSecondFactor:(null==S?void 0:S.sign_in_second_factor)||null}})).apply(this,arguments)}function wa(m){return 1e3*Number(m)}function yo(m){const[h,f,v]=m.split(".");if(void 0===h||void 0===f||void 0===v)return Oi("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,O.tV)(f);return T?JSON.parse(T):(Oi("Failed to decode base64 JWT payload"),null)}catch(T){return Oi("Caught error parsing JWT payload as JSON",T),null}}function Yt(m,h){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,o.Z)(function*(m,h,f=!1){if(f)return h;try{return yield h}catch(v){throw v instanceof O.ZR&&Pi(v)&&m.auth.currentUser===m&&(yield m.auth.signOut()),v}})).apply(this,arguments)}function Pi({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}class Jn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var f;if(h){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const T=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(h=!1){var f=this;if(!this.isRunning)return;const v=this.getInterval(h);this.timerId=setTimeout((0,o.Z)(function*(){yield f.iteration()}),v)}iteration(){var h=this;return(0,o.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f.code&&h.schedule(!0))}h.schedule()})()}}class Fi{constructor(h,f){this.createdAt=h,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=qn(this.lastLoginAt),this.creationTime=qn(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Oe(m){return ht.apply(this,arguments)}function ht(){return(ht=(0,o.Z)(function*(m){var h;const f=m.auth,v=yield m.getIdToken(),T=yield Yt(m,Ii(f,{idToken:v}));Ee(null==T?void 0:T.users.length,f,"internal-error");const S=T.users[0];m._notifyReloadListener(S);const H=(null===(h=S.providerUserInfo)||void 0===h?void 0:h.length)?Mn(S.providerUserInfo):[],X=zi(m.providerData,H),Ze=!!m.isAnonymous&&!(m.email&&S.passwordHash||(null==X?void 0:X.length)),ze={uid:S.localId,displayName:S.displayName||null,photoURL:S.photoUrl||null,email:S.email||null,emailVerified:S.emailVerified||!1,phoneNumber:S.phoneNumber||null,tenantId:S.tenantId||null,providerData:X,metadata:new Fi(S.createdAt,S.lastLoginAt),isAnonymous:Ze};Object.assign(m,ze)})).apply(this,arguments)}function ri(){return(ri=(0,o.Z)(function*(m){const h=(0,O.m9)(m);yield Oe(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function zi(m,h){return[...m.filter(v=>!h.some(T=>T.providerId===v.providerId)),...h]}function Mn(m){return m.map(h=>{var{providerId:f}=h,v=re(h,["providerId"]);return{providerId:f,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function cn(){return(cn=(0,o.Z)(function*(m,h){const f=yield vl(m,{},(0,o.Z)(function*(){const v=(0,O.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:T,apiKey:S}=m.config,H=ye(m,T,"/v1/token",`key=${S}`),X=yield m._getAdditionalHeaders();return X["Content-Type"]="application/x-www-form-urlencoded",Qe.fetch()(H,{method:"POST",headers:X,body:v})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class Yi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Ee(h.idToken,"internal-error"),Ee(void 0!==h.idToken,"internal-error"),Ee(void 0!==h.refreshToken,"internal-error");const f="expiresIn"in h&&void 0!==h.expiresIn?Number(h.expiresIn):function(m){const h=yo(m);return Ee(h,"internal-error"),Ee(void 0!==h.exp,"internal-error"),Ee(void 0!==h.iat,"internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,f)}getToken(h,f=!1){var v=this;return(0,o.Z)(function*(){return Ee(!v.accessToken||v.refreshToken,h,"user-token-expired"),f||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(h,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,f){var v=this;return(0,o.Z)(function*(){const{accessToken:T,refreshToken:S,expiresIn:H}=yield function(m,h){return cn.apply(this,arguments)}(h,f);v.updateTokensAndExpiration(T,S,Number(H))})()}updateTokensAndExpiration(h,f,v){this.refreshToken=f||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(h,f){const{refreshToken:v,accessToken:T,expirationTime:S}=f,H=new Yi;return v&&(Ee("string"==typeof v,"internal-error",{appName:h}),H.refreshToken=v),T&&(Ee("string"==typeof T,"internal-error",{appName:h}),H.accessToken=T),S&&(Ee("number"==typeof S,"internal-error",{appName:h}),H.expirationTime=S),H}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Yi,this.toJSON())}_performRefresh(){return Vn("not implemented")}}function Ai(m,h){Ee("string"==typeof m||void 0===m,"internal-error",{appName:h})}class rt{constructor(h){var{uid:f,auth:v,stsTokenManager:T}=h,S=re(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Jn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=v,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=S.displayName||null,this.email=S.email||null,this.emailVerified=S.emailVerified||!1,this.phoneNumber=S.phoneNumber||null,this.photoURL=S.photoURL||null,this.isAnonymous=S.isAnonymous||!1,this.tenantId=S.tenantId||null,this.metadata=new Fi(S.createdAt||void 0,S.lastLoginAt||void 0)}getIdToken(h){var f=this;return(0,o.Z)(function*(){const v=yield Yt(f,f.stsTokenManager.getToken(f.auth,h));return Ee(v,f.auth,"internal-error"),f.accessToken!==v&&(f.accessToken=v,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),v})()}getIdTokenResult(h){return function(m){return Zo.apply(this,arguments)}(this,h)}reload(){return function(m){return ri.apply(this,arguments)}(this)}_assign(h){this!==h&&(Ee(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(f=>Object.assign({},f)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new rt(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,f=!1){var v=this;return(0,o.Z)(function*(){let T=!1;h.idToken&&h.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(h),T=!0),f&&(yield Oe(v)),yield v.auth._persistUserIfCurrent(v),T&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var h=this;return(0,o.Z)(function*(){const f=yield h.getIdToken();return yield Yt(h,function(m,h){return Pt.apply(this,arguments)}(h.auth,{idToken:f})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,f){var v,T,S,H,X,Ae,Ie,Ze;const ze=null!==(v=f.displayName)&&void 0!==v?v:void 0,It=null!==(T=f.email)&&void 0!==T?T:void 0,dn=null!==(S=f.phoneNumber)&&void 0!==S?S:void 0,oo=null!==(H=f.photoURL)&&void 0!==H?H:void 0,so=null!==(X=f.tenantId)&&void 0!==X?X:void 0,iu=null!==(Ae=f._redirectEventId)&&void 0!==Ae?Ae:void 0,ru=null!==(Ie=f.createdAt)&&void 0!==Ie?Ie:void 0,bf=null!==(Ze=f.lastLoginAt)&&void 0!==Ze?Ze:void 0,{uid:il,emailVerified:Cf,isAnonymous:ou,providerData:su,stsTokenManager:Zd}=f;Ee(il&&Zd,h,"internal-error");const zd=Yi.fromJSON(this.name,Zd);Ee("string"==typeof il,h,"internal-error"),Ai(ze,h.name),Ai(It,h.name),Ee("boolean"==typeof Cf,h,"internal-error"),Ee("boolean"==typeof ou,h,"internal-error"),Ai(dn,h.name),Ai(oo,h.name),Ai(so,h.name),Ai(iu,h.name),Ai(ru,h.name),Ai(bf,h.name);const rl=new rt({uid:il,auth:h,email:It,emailVerified:Cf,displayName:ze,isAnonymous:ou,photoURL:oo,phoneNumber:dn,tenantId:so,stsTokenManager:zd,createdAt:ru,lastLoginAt:bf});return su&&Array.isArray(su)&&(rl.providerData=su.map(au=>Object.assign({},au))),iu&&(rl._redirectEventId=iu),rl}static _fromIdTokenResponse(h,f,v=!1){return(0,o.Z)(function*(){const T=new Yi;T.updateFromServerResponse(f);const S=new rt({uid:f.localId,auth:h,stsTokenManager:T,isAnonymous:v});return yield Oe(S),S})()}}const Li=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(f,v){var T=this;return(0,o.Z)(function*(){T.storage[f]=v})()}_get(f){var v=this;return(0,o.Z)(function*(){const T=v.storage[f];return void 0===T?null:T})()}_remove(f){var v=this;return(0,o.Z)(function*(){delete v.storage[f]})()}_addListener(f,v){}_removeListener(f,v){}}return m.type="NONE",m})();function Si(m,h,f){return`firebase:${m}:${h}:${f}`}class Bi{constructor(h,f,v){this.persistence=h,this.auth=f,this.userKey=v;const{config:T,name:S}=this.auth;this.fullUserKey=Si(this.userKey,T.apiKey,S),this.fullPersistenceKey=Si("persistence",T.apiKey,S),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,o.Z)(function*(){const f=yield h.persistence._get(h.fullUserKey);return f?rt._fromJSON(h.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var f=this;return(0,o.Z)(function*(){if(f.persistence===h)return;const v=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=h,v?f.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,f,v="authUser"){return(0,o.Z)(function*(){if(!f.length)return new Bi(Mt(Li),h,v);const T=(yield Promise.all(f.map(function(){var Ie=(0,o.Z)(function*(Ze){if(yield Ze._isAvailable())return Ze});return function(Ze){return Ie.apply(this,arguments)}}()))).filter(Ie=>Ie);let S=T[0]||Mt(Li);const H=Si(v,h.config.apiKey,h.name);let X=null;for(const Ie of f)try{const Ze=yield Ie._get(H);if(Ze){const ze=rt._fromJSON(h,Ze);Ie!==S&&(X=ze),S=Ie;break}}catch(Ze){}const Ae=T.filter(Ie=>Ie._shouldAllowMigration);return S._shouldAllowMigration&&Ae.length?(S=Ae[0],X&&(yield S._set(H,X.toJSON())),yield Promise.all(f.map(function(){var Ie=(0,o.Z)(function*(Ze){if(Ze!==S)try{yield Ze._remove(H)}catch(ze){}});return function(Ze){return Ie.apply(this,arguments)}}())),new Bi(S,h,v)):new Bi(S,h,v)})()}}function Vt(m){const h=m.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Ht(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(bs(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(oi(h))return"Blackberry";if(ws(h))return"Webos";if($r(h))return"Safari";if((h.includes("chrome/")||Vi(h))&&!h.includes("edge/"))return"Chrome";if(Cs(h))return"Android";{const v=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==v?void 0:v.length))return v[1]}return"Other"}function bs(m=(0,O.z$)()){return/firefox\//i.test(m)}function $r(m=(0,O.z$)()){const h=m.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Vi(m=(0,O.z$)()){return/crios\//i.test(m)}function Ht(m=(0,O.z$)()){return/iemobile/i.test(m)}function Cs(m=(0,O.z$)()){return/android/i.test(m)}function oi(m=(0,O.z$)()){return/blackberry/i.test(m)}function ws(m=(0,O.z$)()){return/webos/i.test(m)}function jr(m=(0,O.z$)()){return/iphone|ipad|ipod/i.test(m)}function mn(m=(0,O.z$)()){return jr(m)||Cs(m)||ws(m)||oi(m)||/windows phone/i.test(m)||Ht(m)}function ur(m,h=[]){let f;switch(m){case"Browser":f=Vt((0,O.z$)());break;case"Worker":f=`${Vt((0,O.z$)())}-${m}`;break;default:f=m}const v=h.length?h.join(","):"FirebaseCore-web";return`${f}/JsCore/${ae.SDK_VERSION}/${v}`}class dr{constructor(h,f){this.app=h,this.config=f,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dr(this),this.idTokenSubscription=new Dr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=f.sdkClientVersion}_initializeWithPersistence(h,f){var v=this;return f&&(this._popupRedirectResolver=Mt(f)),this._initializationPromise=this.queue((0,o.Z)(function*(){var T,S;if(!v._deleted&&(v.persistenceManager=yield Bi.create(v,h),!v._deleted)){if(null===(T=v._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch(H){}yield v.initializeCurrentUser(f),v.lastNotifiedUid=(null===(S=v.currentUser)||void 0===S?void 0:S.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,o.Z)(function*(){if(h._deleted)return;const f=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||f){if(h.currentUser&&f&&h.currentUser.uid===f.uid)return h._currentUser._assign(f),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(f)}})()}initializeCurrentUser(h){var f=this;return(0,o.Z)(function*(){var v;let T=yield f.assertedPersistence.getCurrentUser();if(h&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const S=null===(v=f.redirectUser)||void 0===v?void 0:v._redirectEventId,H=null==T?void 0:T._redirectEventId,X=yield f.tryRedirectSignIn(h);(!S||S===H)&&(null==X?void 0:X.user)&&(T=X.user)}return T?T._redirectEventId?(Ee(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===T._redirectEventId?f.directlySetCurrentUser(T):f.reloadAndSetCurrentUserOrClear(T)):f.reloadAndSetCurrentUserOrClear(T):f.directlySetCurrentUser(null)})()}tryRedirectSignIn(h){var f=this;return(0,o.Z)(function*(){let v=null;try{v=yield f._popupRedirectResolver._completeRedirectFn(f,h,!0)}catch(T){yield f._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(h){var f=this;return(0,o.Z)(function*(){try{yield Oe(h)}catch(v){if("auth/network-request-failed"!==v.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var h=this;return(0,o.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var f=this;return(0,o.Z)(function*(){const v=h?(0,O.m9)(h):null;return v&&Ee(v.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(v&&v._clone(f))})()}_updateCurrentUser(h){var f=this;return(0,o.Z)(function*(){if(!f._deleted)return h&&Ee(f.tenantId===h.tenantId,f,"tenant-id-mismatch"),f.queue((0,o.Z)(function*(){yield f.directlySetCurrentUser(h),f.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,o.Z)(function*(){return(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null)})()}setPersistence(h){var f=this;return this.queue((0,o.Z)(function*(){yield f.assertedPersistence.setPersistence(Mt(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new O.LL("auth","Firebase",h())}onAuthStateChanged(h,f,v){return this.registerStateListener(this.authStateSubscription,h,f,v)}onIdTokenChanged(h,f,v){return this.registerStateListener(this.idTokenSubscription,h,f,v)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,f){var v=this;return(0,o.Z)(function*(){const T=yield v.getOrInitRedirectPersistenceManager(f);return null===h?T.removeCurrentUser():T.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var f=this;return(0,o.Z)(function*(){if(!f.redirectPersistenceManager){const v=h&&Mt(h)||f._popupRedirectResolver;Ee(v,f,"argument-error"),f.redirectPersistenceManager=yield Bi.create(f,[Mt(v._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(h){var f=this;return(0,o.Z)(function*(){var v,T;return f._isInitialized&&(yield f.queue((0,o.Z)(function*(){}))),(null===(v=f._currentUser)||void 0===v?void 0:v._redirectEventId)===h?f._currentUser:(null===(T=f.redirectUser)||void 0===T?void 0:T._redirectEventId)===h?f.redirectUser:null})()}_persistUserIfCurrent(h){var f=this;return(0,o.Z)(function*(){if(h===f.currentUser)return f.queue((0,o.Z)(function*(){return f.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(f=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,f,v,T){if(this._deleted)return()=>{};const S="function"==typeof f?f:f.next.bind(f),H=this._isInitialized?Promise.resolve():this._initializationPromise;return Ee(H,this,"internal-error"),H.then(()=>S(this.currentUser)),"function"==typeof f?h.addObserver(f,v,T):h.addObserver(f)}directlySetCurrentUser(h){var f=this;return(0,o.Z)(function*(){f.currentUser&&f.currentUser!==h&&(f._currentUser._stopProactiveRefresh(),h&&f.isProactiveRefreshEnabled&&h._startProactiveRefresh()),f.currentUser=h,h?yield f.assertedPersistence.setCurrentUser(h):yield f.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=ur(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,o.Z)(function*(){const f={"X-Client-Version":h.clientVersion};return h.app.options.appId&&(f["X-Firebase-gmpid"]=h.app.options.appId),f})()}}function kn(m){return(0,O.m9)(m)}class Dr{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,O.ne)(f=>this.observer=f)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Hi(m){const h=m.indexOf(":");return h<0?"":m.substr(0,h+1)}function qh(m){if(!m)return null;const h=Number(m);return isNaN(h)?null:h}class zo{constructor(h,f){this.providerId=h,this.signInMethod=f}toJSON(){return Vn("not implemented")}_getIdTokenResponse(h){return Vn("not implemented")}_linkToIdToken(h,f){return Vn("not implemented")}_getReauthenticationResolver(h){return Vn("not implemented")}}function td(m,h){return bc.apply(this,arguments)}function bc(){return(bc=(0,o.Z)(function*(m,h){return lt(m,"POST","/v1/accounts:resetPassword",Ot(m,h))})).apply(this,arguments)}function nd(m,h){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,o.Z)(function*(m,h){return lt(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Jh(m,h){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,o.Z)(function*(m,h){return lt(m,"POST","/v1/accounts:update",Ot(m,h))})).apply(this,arguments)}function wc(){return(wc=(0,o.Z)(function*(m,h){return B(m,"POST","/v1/accounts:signInWithPassword",Ot(m,h))})).apply(this,arguments)}function wl(m,h){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,o.Z)(function*(m,h){return lt(m,"POST","/v1/accounts:sendOobCode",Ot(m,h))})).apply(this,arguments)}function Kh(m,h){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,o.Z)(function*(m,h){return wl(m,h)})).apply(this,arguments)}function Qh(m,h){return id.apply(this,arguments)}function id(){return(id=(0,o.Z)(function*(m,h){return wl(m,h)})).apply(this,arguments)}function Ta(m,h){return Es.apply(this,arguments)}function Es(){return(Es=(0,o.Z)(function*(m,h){return wl(m,h)})).apply(this,arguments)}function Dl(m,h){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,o.Z)(function*(m,h){return wl(m,h)})).apply(this,arguments)}function hr(){return(hr=(0,o.Z)(function*(m,h){return B(m,"POST","/v1/accounts:signInWithEmailLink",Ot(m,h))})).apply(this,arguments)}function Wr(){return(Wr=(0,o.Z)(function*(m,h){return B(m,"POST","/v1/accounts:signInWithEmailLink",Ot(m,h))})).apply(this,arguments)}class qo extends zo{constructor(h,f,v,T=null){super("password",v),this._email=h,this._password=f,this._tenantId=T}static _fromEmailAndPassword(h,f){return new qo(h,f,"password")}static _fromEmailAndCode(h,f,v=null){return new qo(h,f,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h;if((null==f?void 0:f.email)&&(null==f?void 0:f.password)){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(h){var f=this;return(0,o.Z)(function*(){switch(f.signInMethod){case"password":return function(m,h){return wc.apply(this,arguments)}(h,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function(m,h){return hr.apply(this,arguments)}(h,{email:f._email,oobCode:f._password});default:Tt(h,"internal-error")}})()}_linkToIdToken(h,f){var v=this;return(0,o.Z)(function*(){switch(v.signInMethod){case"password":return nd(h,{idToken:f,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function(m,h){return Wr.apply(this,arguments)}(h,{idToken:f,email:v._email,oobCode:v._password});default:Tt(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Zr(m,h){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,o.Z)(function*(m,h){return B(m,"POST","/v1/accounts:signInWithIdp",Ot(m,h))})).apply(this,arguments)}class Qn extends zo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const f=new Qn(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(f.idToken=h.idToken),h.accessToken&&(f.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(f.nonce=h.nonce),h.pendingToken&&(f.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(f.accessToken=h.oauthToken,f.secret=h.oauthTokenSecret):Tt("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:T}=f,S=re(f,["providerId","signInMethod"]);if(!v||!T)return null;const H=new Qn(v,T);return H.idToken=S.idToken||void 0,H.accessToken=S.accessToken||void 0,H.secret=S.secret,H.nonce=S.nonce,H.pendingToken=S.pendingToken||null,H}_getIdTokenResponse(h){return Zr(h,this.buildRequest())}_linkToIdToken(h,f){const v=this.buildRequest();return v.idToken=f,Zr(h,v)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,Zr(h,f)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),h.postBody=(0,O.xO)(f)}return h}}function Er(m,h){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,o.Z)(function*(m,h){return lt(m,"POST","/v1/accounts:sendVerificationCode",Ot(m,h))})).apply(this,arguments)}function mi(){return(mi=(0,o.Z)(function*(m,h){return B(m,"POST","/v1/accounts:signInWithPhoneNumber",Ot(m,h))})).apply(this,arguments)}function Il(){return(Il=(0,o.Z)(function*(m,h){const f=yield B(m,"POST","/v1/accounts:signInWithPhoneNumber",Ot(m,h));if(f.temporaryProof)throw $e(m,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const Ia={USER_NOT_FOUND:"user-not-found"};function Is(){return(Is=(0,o.Z)(function*(m,h){return B(m,"POST","/v1/accounts:signInWithPhoneNumber",Ot(m,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Ia)})).apply(this,arguments)}class bo extends zo{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,f){return new bo({verificationId:h,verificationCode:f})}static _fromTokenResponse(h,f){return new bo({phoneNumber:h,temporaryProof:f})}_getIdTokenResponse(h){return function(m,h){return mi.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,f){return function(m,h){return Il.apply(this,arguments)}(h,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function(m,h){return Is.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:f,verificationId:v,verificationCode:T}=this.params;return h&&f?{temporaryProof:h,phoneNumber:f}:{sessionInfo:v,code:T}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:f,verificationCode:v,phoneNumber:T,temporaryProof:S}=h;return v||f||T||S?new bo({verificationId:f,verificationCode:v,phoneNumber:T,temporaryProof:S}):null}}class Co{constructor(h){var f,v,T,S,H,X;const Ae=(0,O.zd)((0,O.pd)(h)),Ie=null!==(f=Ae.apiKey)&&void 0!==f?f:null,Ze=null!==(v=Ae.oobCode)&&void 0!==v?v:null,ze=function(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Ae.mode)&&void 0!==T?T:null);Ee(Ie&&Ze&&ze,"argument-error"),this.apiKey=Ie,this.operation=ze,this.code=Ze,this.continueUrl=null!==(S=Ae.continueUrl)&&void 0!==S?S:null,this.languageCode=null!==(H=Ae.languageCode)&&void 0!==H?H:null,this.tenantId=null!==(X=Ae.tenantId)&&void 0!==X?X:null}static parseLink(h){const f=function(m){const h=(0,O.zd)((0,O.pd)(m)).link,f=h?(0,O.zd)((0,O.pd)(h)).deep_link_id:null,v=(0,O.zd)((0,O.pd)(m)).deep_link_id;return(v?(0,O.zd)((0,O.pd)(v)).link:null)||v||f||h||m}(h);try{return new Co(f)}catch(v){return null}}}let wo=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(f,v){return qo._fromEmailAndPassword(f,v)}static credentialWithLink(f,v){const T=Co.parseLink(v);return Ee(T,"argument-error"),qo._fromEmailAndCode(f,T.code,T.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class _i{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Ki extends _i{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class En extends Ki{static credentialFromJSON(h){const f="string"==typeof h?JSON.parse(h):h;return Ee("providerId"in f&&"signInMethod"in f,"argument-error"),Qn._fromParams(f)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return Ee(h.idToken||h.accessToken,"argument-error"),Qn._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return En.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return En.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:f,oauthAccessToken:v,oauthTokenSecret:T,pendingToken:S,nonce:H,providerId:X}=h;if(!v&&!T&&!f&&!S||!X)return null;try{return new En(X)._credential({idToken:f,accessToken:v,nonce:H,pendingToken:S})}catch(Ae){return null}}}let Aa=(()=>{class m extends Ki{constructor(){super("facebook.com")}static credential(f){return Qn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch(v){return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),Do=(()=>{class m extends Ki{constructor(){super("google.com"),this.addScope("profile")}static credential(f,v){return Qn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:v})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:v,oauthAccessToken:T}=f;if(!v&&!T)return null;try{return m.credential(v,T)}catch(S){return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),Eo=(()=>{class m extends Ki{constructor(){super("github.com")}static credential(f){return Qn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch(v){return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class Tr extends zo{constructor(h,f){super(h,h),this.pendingToken=f}_getIdTokenResponse(h){return Zr(h,this.buildRequest())}_linkToIdToken(h,f){const v=this.buildRequest();return v.idToken=f,Zr(h,v)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,Zr(h,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:T,pendingToken:S}=f;return v&&T&&S&&v===T?new Tr(v,S):null}static _create(h,f){return new Tr(h,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class To extends _i{constructor(h){Ee(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return To.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return To.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const f=Tr.fromJSON(h);return Ee(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:f,providerId:v}=h;if(!f||!v)return null;try{return Tr._create(v,f)}catch(T){return null}}}let yi=(()=>{class m extends Ki{constructor(){super("twitter.com")}static credential(f,v){return Qn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:v})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:v,oauthTokenSecret:T}=f;if(!v||!T)return null;try{return m.credential(v,T)}catch(S){return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function Ss(m,h){return zr.apply(this,arguments)}function zr(){return(zr=(0,o.Z)(function*(m,h){return B(m,"POST","/v1/accounts:signUp",Ot(m,h))})).apply(this,arguments)}class We{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,f,v,T=!1){return(0,o.Z)(function*(){const S=yield rt._fromIdTokenResponse(h,v,T),H=Sa(v);return new We({user:S,providerId:H,_tokenResponse:v,operationType:f})})()}static _forOperation(h,f,v){return(0,o.Z)(function*(){yield h._updateTokensIfNecessary(v,!0);const T=Sa(v);return new We({user:h,providerId:T,_tokenResponse:v,operationType:f})})()}}function Sa(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function Jo(){return(Jo=(0,o.Z)(function*(m){var h;const f=kn(m);if(yield f._initializationPromise,null===(h=f.currentUser)||void 0===h?void 0:h.isAnonymous)return new We({user:f.currentUser,providerId:null,operationType:"signIn"});const v=yield Ss(f,{returnSecureToken:!0}),T=yield We._fromIdTokenResponse(f,"signIn",v,!0);return yield f._updateCurrentUser(T.user),T})).apply(this,arguments)}class Ms extends O.ZR{constructor(h,f,v,T){var S;super(f.code,f.message),this.operationType=v,this.user=T,Object.setPrototypeOf(this,Ms.prototype),this.customData={appName:h.name,tenantId:null!==(S=h.tenantId)&&void 0!==S?S:void 0,_serverResponse:f.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(h,f,v,T){return new Ms(h,f,v,T)}}function Na(m,h,f,v){return("reauthenticate"===h?f._getReauthenticationResolver(m):f._getIdTokenResponse(m)).catch(S=>{throw"auth/multi-factor-auth-required"===S.code?Ms._fromErrorAndOperation(m,S,h,v):S})}function Ma(m){return new Set(m.map(({providerId:h})=>h).filter(h=>!!h))}function Ce(){return(Ce=(0,o.Z)(function*(m,h){const f=(0,O.m9)(m);yield nn(!0,f,h);const{providerUserInfo:v}=yield Yn(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[h]}),T=Ma(v||[]);return f.providerData=f.providerData.filter(S=>T.has(S.providerId)),T.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function vt(m,h){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,o.Z)(function*(m,h,f=!1){const v=yield Yt(m,h._linkToIdToken(m.auth,yield m.getIdToken()),f);return We._forOperation(m,"link",v)})).apply(this,arguments)}function nn(m,h,f){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,o.Z)(function*(m,h,f){yield Oe(h);const T=!1===m?"provider-already-linked":"no-such-provider";Ee(Ma(h.providerData).has(f)===m,h.auth,T)})).apply(this,arguments)}function Yr(m,h){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,o.Z)(function*(m,h,f=!1){const{auth:v}=m,T="reauthenticate";try{const S=yield Yt(m,Na(v,T,h,m),f);Ee(S.idToken,v,"internal-error");const H=yo(S.idToken);Ee(H,v,"internal-error");const{sub:X}=H;return Ee(m.uid===X,v,"user-mismatch"),We._forOperation(m,T,S)}catch(S){throw"auth/user-not-found"===(null==S?void 0:S.code)&&Tt(v,"user-mismatch"),S}})).apply(this,arguments)}function Ra(m,h){return Io.apply(this,arguments)}function Io(){return(Io=(0,o.Z)(function*(m,h,f=!1){const v="signIn",T=yield Na(m,v,h),S=yield We._fromIdTokenResponse(m,v,T);return f||(yield m._updateCurrentUser(S.user)),S})).apply(this,arguments)}function Sl(m,h){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,o.Z)(function*(m,h){return Ra(kn(m),h)})).apply(this,arguments)}function xs(m,h){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,o.Z)(function*(m,h){const f=(0,O.m9)(m);return yield nn(!1,f,h.providerId),vt(f,h)})).apply(this,arguments)}function Hn(m,h){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,o.Z)(function*(m,h){return Yr((0,O.m9)(m),h)})).apply(this,arguments)}function ks(m,h){return qr.apply(this,arguments)}function qr(){return(qr=(0,o.Z)(function*(m,h){return B(m,"POST","/v1/accounts:signInWithCustomToken",Ot(m,h))})).apply(this,arguments)}function Os(){return(Os=(0,o.Z)(function*(m,h){const f=kn(m),v=yield ks(f,{token:h,returnSecureToken:!0}),T=yield We._fromIdTokenResponse(f,"signIn",v);return yield f._updateCurrentUser(T.user),T})).apply(this,arguments)}class Ps{constructor(h,f){this.factorId=h,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(h,f){return"phoneInfo"in f?Fs._fromServerResponse(h,f):Tt(h,"internal-error")}}class Fs extends Ps{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,f){return new Fs(f)}}function xa(m,h,f){var v;Ee((null===(v=f.url)||void 0===v?void 0:v.length)>0,m,"invalid-continue-uri"),Ee(void 0===f.dynamicLinkDomain||f.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),h.continueUrl=f.url,h.dynamicLinkDomain=f.dynamicLinkDomain,h.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(Ee(f.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),h.iOSBundleId=f.iOS.bundleId),f.android&&(Ee(f.android.packageName.length>0,m,"missing-android-pkg-name"),h.androidInstallApp=f.android.installApp,h.androidMinimumVersionCode=f.android.minimumVersion,h.androidPackageName=f.android.packageName)}function Ko(){return(Ko=(0,o.Z)(function*(m,h,f){const v=(0,O.m9)(m),T={requestType:"PASSWORD_RESET",email:h};f&&xa(v,T,f),yield Qh(v,T)})).apply(this,arguments)}function Bs(){return(Bs=(0,o.Z)(function*(m,h,f){yield td((0,O.m9)(m),{oobCode:h,newPassword:f})})).apply(this,arguments)}function Oa(){return(Oa=(0,o.Z)(function*(m,h){yield Jh((0,O.m9)(m),{oobCode:h})})).apply(this,arguments)}function Pa(m,h){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,o.Z)(function*(m,h){const f=(0,O.m9)(m),v=yield td(f,{oobCode:h}),T=v.requestType;switch(Ee(T,f,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ee(v.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ee(v.mfaInfo,f,"internal-error");default:Ee(v.email,f,"internal-error")}let S=null;return v.mfaInfo&&(S=Ps._fromServerResponse(kn(f),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:S},operation:T}})).apply(this,arguments)}function Hs(){return(Hs=(0,o.Z)(function*(m,h){const{data:f}=yield Pa((0,O.m9)(m),h);return f.email})).apply(this,arguments)}function Us(){return(Us=(0,o.Z)(function*(m,h,f){const v=kn(m),T=yield Ss(v,{returnSecureToken:!0,email:h,password:f}),S=yield We._fromIdTokenResponse(v,"signIn",T);return yield v._updateCurrentUser(S.user),S})).apply(this,arguments)}function qt(){return(qt=(0,o.Z)(function*(m,h,f){const v=(0,O.m9)(m),T={requestType:"EMAIL_SIGNIN",email:h};Ee(f.handleCodeInApp,v,"argument-error"),f&&xa(v,T,f),yield Ta(v,T)})).apply(this,arguments)}function $s(){return($s=(0,o.Z)(function*(m,h,f){const v=(0,O.m9)(m),T=wo.credentialWithLink(h,f||Ke());return Ee(T._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),Sl(v,T)})).apply(this,arguments)}function sd(m,h){return ad.apply(this,arguments)}function ad(){return(ad=(0,o.Z)(function*(m,h){return lt(m,"POST","/v1/accounts:createAuthUri",Ot(m,h))})).apply(this,arguments)}function ld(){return(ld=(0,o.Z)(function*(m,h){const v={identifier:h,continueUri:nt()?Ke():"http://localhost"},{signinMethods:T}=yield sd((0,O.m9)(m),v);return T||[]})).apply(this,arguments)}function Kr(){return(Kr=(0,o.Z)(function*(m,h){const f=(0,O.m9)(m),T={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};h&&xa(f.auth,T,h);const{email:S}=yield Kh(f.auth,T);S!==m.email&&(yield m.reload())})).apply(this,arguments)}function js(){return(js=(0,o.Z)(function*(m,h,f){const v=(0,O.m9)(m),S={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:h};f&&xa(v.auth,S,f);const{email:H}=yield Dl(v.auth,S);H!==m.email&&(yield m.reload())})).apply(this,arguments)}function xc(m,h){return xl.apply(this,arguments)}function xl(){return(xl=(0,o.Z)(function*(m,h){return lt(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Qt(){return(Qt=(0,o.Z)(function*(m,{displayName:h,photoURL:f}){if(void 0===h&&void 0===f)return;const v=(0,O.m9)(m),S={idToken:yield v.getIdToken(),displayName:h,photoUrl:f,returnSecureToken:!0},H=yield Yt(v,xc(v.auth,S));v.displayName=H.displayName||null,v.photoURL=H.photoUrl||null;const X=v.providerData.find(({providerId:Ae})=>"password"===Ae);X&&(X.displayName=v.displayName,X.photoURL=v.photoURL),yield v._updateTokensIfNecessary(H)})).apply(this,arguments)}function cd(m,h,f){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,o.Z)(function*(m,h,f){const{auth:v}=m,S={idToken:yield m.getIdToken(),returnSecureToken:!0};h&&(S.email=h),f&&(S.password=f);const H=yield Yt(m,nd(v,S));yield m._updateTokensIfNecessary(H,!0)})).apply(this,arguments)}class Qr{constructor(h,f,v={}){this.isNewUser=h,this.providerId=f,this.profile=v}}class Ba extends Qr{constructor(h,f,v,T){super(h,f,v),this.username=T}}class ud extends Qr{constructor(h,f){super(h,"facebook.com",f)}}class eg extends Ba{constructor(h,f){super(h,"github.com",f,"string"==typeof(null==f?void 0:f.login)?null==f?void 0:f.login:null)}}class _n extends Qr{constructor(h,f){super(h,"google.com",f)}}class Ar extends Ba{constructor(h,f,v){super(h,"twitter.com",f,v)}}function je(m){const{user:h,_tokenResponse:f}=m;return h.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function(m){var h,f;if(!m)return null;const{providerId:v}=m,T=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},S=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!v&&(null==m?void 0:m.idToken)){const H=null===(f=null===(h=yo(m.idToken))||void 0===h?void 0:h.firebase)||void 0===f?void 0:f.sign_in_provider;if(H)return new Qr(S,"anonymous"!==H&&"custom"!==H?H:null)}if(!v)return null;switch(v){case"facebook.com":return new ud(S,T);case"github.com":return new eg(S,T);case"google.com":return new _n(S,T);case"twitter.com":return new Ar(S,T,m.screenName||null);case"custom":case"anonymous":return new Qr(S,null);default:return new Qr(S,v,T)}}(f)}class Xr{constructor(h,f){this.type=h,this.credential=f}static _fromIdtoken(h){return new Xr("enroll",h)}static _fromMfaPendingCredential(h){return new Xr("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var f,v;if(null==h?void 0:h.multiFactorSession){if(null===(f=h.multiFactorSession)||void 0===f?void 0:f.pendingCredential)return Xr._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null===(v=h.multiFactorSession)||void 0===v?void 0:v.idToken)return Xr._fromIdtoken(h.multiFactorSession.idToken)}return null}}class pr{constructor(h,f,v){this.session=h,this.hints=f,this.signInResolver=v}static _fromError(h,f){const v=kn(h),T=f.customData._serverResponse,S=(T.mfaInfo||[]).map(X=>Ps._fromServerResponse(v,X));Ee(T.mfaPendingCredential,v,"internal-error");const H=Xr._fromMfaPendingCredential(T.mfaPendingCredential);return new pr(H,S,function(){var X=(0,o.Z)(function*(Ae){const Ie=yield Ae._process(v,H);delete T.mfaInfo,delete T.mfaPendingCredential;const Ze=Object.assign(Object.assign({},T),{idToken:Ie.idToken,refreshToken:Ie.refreshToken});switch(f.operationType){case"signIn":const ze=yield We._fromIdTokenResponse(v,f.operationType,Ze);return yield v._updateCurrentUser(ze.user),ze;case"reauthenticate":return Ee(f.user,v,"internal-error"),We._forOperation(f.user,f.operationType,Ze);default:Tt(v,"internal-error")}});return function(Ae){return X.apply(this,arguments)}}())}resolveSignIn(h){var f=this;return(0,o.Z)(function*(){return f.signInResolver(h)})()}}function dd(m,h){return lt(m,"POST","/v2/accounts/mfaEnrollment:start",Ot(m,h))}class es{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(v=>Ps._fromServerResponse(h.auth,v)))})}static _fromUser(h){return new es(h)}getSession(){var h=this;return(0,o.Z)(function*(){return Xr._fromIdtoken(yield h.user.getIdToken())})()}enroll(h,f){var v=this;return(0,o.Z)(function*(){const T=h,S=yield v.getSession(),H=yield Yt(v.user,T._process(v.user.auth,S,f));return yield v.user._updateTokensIfNecessary(H),v.user.reload()})()}unenroll(h){var f=this;return(0,o.Z)(function*(){const v="string"==typeof h?h:h.uid,T=yield f.user.getIdToken(),S=yield Yt(f.user,function(m,h){return lt(m,"POST","/v2/accounts/mfaEnrollment:withdraw",Ot(m,h))}(f.user.auth,{idToken:T,mfaEnrollmentId:v}));f.enrolledFactors=f.enrolledFactors.filter(({uid:H})=>H!==v),yield f.user._updateTokensIfNecessary(S);try{yield f.user.reload()}catch(H){if("auth/user-token-expired"!==H.code)throw H}})()}}const Jt=new WeakMap,Xi="__sak";class Oc{constructor(h,f){this.storageRetriever=h,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(Xi,"1"),this.storage.removeItem(Xi),Promise.resolve(!0)):Promise.resolve(!1)}catch(h){return Promise.resolve(!1)}}_set(h,f){return this.storage.setItem(h,JSON.stringify(f)),Promise.resolve()}_get(h){const f=this.storage.getItem(h);return Promise.resolve(f?JSON.parse(f):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Zs=(()=>{class m extends Oc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,v)=>this.onStorageEvent(f,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const m=(0,O.z$)();return $r(m)||jr(m)}()&&function(){try{return!(!window||window===window.top)}catch(m){return!1}}(),this.fallbackToPolling=mn(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const v of Object.keys(this.listeners)){const T=this.storage.getItem(v),S=this.localCache[v];T!==S&&f(v,S,T)}}onStorageEvent(f,v=!1){if(!f.key)return void this.forAllChangedKeys((X,Ae,Ie)=>{this.notifyListeners(X,Ie)});const T=f.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const X=this.storage.getItem(T);if(f.newValue!==X)null!==f.newValue?this.storage.setItem(T,f.newValue):this.storage.removeItem(T);else if(this.localCache[T]===f.newValue&&!v)return}const S=()=>{const X=this.storage.getItem(T);!v&&this.localCache[T]===X||this.notifyListeners(T,X)},H=this.storage.getItem(T);(0,O.w1)()&&10===document.documentMode&&H!==f.newValue&&f.newValue!==f.oldValue?setTimeout(S,10):S()}notifyListeners(f,v){this.localCache[f]=v;const T=this.listeners[f];if(T)for(const S of Array.from(T))S(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,v,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:v,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(v)}_removeListener(f,v){this.listeners[f]&&(this.listeners[f].delete(v),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,v){var T=()=>super._set,S=this;return(0,o.Z)(function*(){yield T().call(S,f,v),S.localCache[f]=JSON.stringify(v)})()}_get(f){var v=()=>super._get,T=this;return(0,o.Z)(function*(){const S=yield v().call(T,f);return T.localCache[f]=JSON.stringify(S),S})()}_remove(f){var v=()=>super._remove,T=this;return(0,o.Z)(function*(){yield v().call(T,f),delete T.localCache[f]})()}}return m.type="LOCAL",m})(),on=(()=>{class m extends Oc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,v){}_removeListener(f,v){}}return m.type="SESSION",m})();let Ro=(()=>{class m{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const v=this.receivers.find(S=>S.isListeningto(f));if(v)return v;const T=new m(f);return this.receivers.push(T),T}isListeningto(f){return this.eventTarget===f}handleEvent(f){var v=this;return(0,o.Z)(function*(){const T=f,{eventId:S,eventType:H,data:X}=T.data,Ae=v.handlersMap[H];if(!(null==Ae?void 0:Ae.size))return;T.ports[0].postMessage({status:"ack",eventId:S,eventType:H});const Ie=Array.from(Ae).map(function(){var ze=(0,o.Z)(function*(It){return It(T.origin,X)});return function(It){return ze.apply(this,arguments)}}()),Ze=yield function(m){return Promise.all(m.map(function(){var h=(0,o.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(v){return{fulfilled:!1,reason:v}}});return function(f){return h.apply(this,arguments)}}()))}(Ie);T.ports[0].postMessage({status:"done",eventId:S,eventType:H,response:Ze})})()}_subscribe(f,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(v)}_unsubscribe(f,v){this.handlersMap[f]&&v&&this.handlersMap[f].delete(v),(!v||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function xo(m="",h=10){let f="";for(let v=0;v<h;v++)f+=Math.floor(10*Math.random());return m+f}class Un{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,f,v=50){var T=this;return(0,o.Z)(function*(){const S="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!S)throw new Error("connection_unavailable");let H,X;return new Promise((Ae,Ie)=>{const Ze=xo("",20);S.port1.start();const ze=setTimeout(()=>{Ie(new Error("unsupported_event"))},v);X={messageChannel:S,onMessage(It){const dn=It;if(dn.data.eventId===Ze)switch(dn.data.status){case"ack":clearTimeout(ze),H=setTimeout(()=>{Ie(new Error("timeout"))},3e3);break;case"done":clearTimeout(H),Ae(dn.data.response);break;default:clearTimeout(ze),clearTimeout(H),Ie(new Error("invalid_response"))}}},T.handlers.add(X),S.port1.addEventListener("message",X.onMessage),T.target.postMessage({eventType:h,eventId:Ze,data:f},[S.port2])}).finally(()=>{X&&T.removeMessageHandler(X)})})()}}function Xt(){return window}function un(){return void 0!==Xt().WorkerGlobalScope&&"function"==typeof Xt().importScripts}function tr(){return(tr=(0,o.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(m){return null}})).apply(this,arguments)}const $t="firebaseLocalStorageDb",Lt="firebaseLocalStorage",no="fbase_key";class Nr{constructor(h){this.request=h}toPromise(){return new Promise((h,f)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function Gt(m,h){return m.transaction([Lt],h?"readwrite":"readonly").objectStore(Lt)}function fd(){const m=indexedDB.open($t,1);return new Promise((h,f)=>{m.addEventListener("error",()=>{f(m.error)}),m.addEventListener("upgradeneeded",()=>{const v=m.result;try{v.createObjectStore(Lt,{keyPath:no})}catch(T){f(T)}}),m.addEventListener("success",(0,o.Z)(function*(){const v=m.result;v.objectStoreNames.contains(Lt)?h(v):(v.close(),yield function(){const m=indexedDB.deleteDatabase($t);return new Nr(m).toPromise()}(),h(yield fd()))}))})}function pd(m,h,f){return gd.apply(this,arguments)}function gd(){return(gd=(0,o.Z)(function*(m,h,f){const v=Gt(m,!0).put({[no]:h,value:f});return new Nr(v).toPromise()})).apply(this,arguments)}function On(){return(On=(0,o.Z)(function*(m,h){const f=Gt(m,!1).get(h),v=yield new Nr(f).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function Pc(m,h){const f=Gt(m,!0).delete(h);return new Nr(f).toPromise()}const io=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,o.Z)(function*(){return f.db||(f.db=yield fd()),f.db})()}_withRetries(f){var v=this;return(0,o.Z)(function*(){let T=0;for(;;)try{const S=yield v._openDb();return yield f(S)}catch(S){if(T++>3)throw S;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,o.Z)(function*(){return un()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,o.Z)(function*(){f.receiver=Ro._getInstance(un()?self:null),f.receiver._subscribe("keyChanged",function(){var v=(0,o.Z)(function*(T,S){return{keyProcessed:(yield f._poll()).includes(S.key)}});return function(T,S){return v.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var v=(0,o.Z)(function*(T,S){return["keyChanged"]});return function(T,S){return v.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,o.Z)(function*(){var v,T;if(f.activeServiceWorker=yield function(){return tr.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new Un(f.activeServiceWorker);const S=yield f.sender._send("ping",{},800);!S||(null===(v=S[0])||void 0===v?void 0:v.fulfilled)&&(null===(T=S[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var v=this;return(0,o.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function(){var m;return(null===(m=null==navigator?void 0:navigator.serviceWorker)||void 0===m?void 0:m.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:f},v.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const f=yield fd();return yield pd(f,Xi,"1"),yield Pc(f,Xi),!0}catch(f){}return!1})()}_withPendingWrite(f){var v=this;return(0,o.Z)(function*(){v.pendingWrites++;try{yield f()}finally{v.pendingWrites--}})()}_set(f,v){var T=this;return(0,o.Z)(function*(){return T._withPendingWrite((0,o.Z)(function*(){return yield T._withRetries(S=>pd(S,f,v)),T.localCache[f]=v,T.notifyServiceWorker(f)}))})()}_get(f){var v=this;return(0,o.Z)(function*(){const T=yield v._withRetries(S=>function(m,h){return On.apply(this,arguments)}(S,f));return v.localCache[f]=T,T})()}_remove(f){var v=this;return(0,o.Z)(function*(){return v._withPendingWrite((0,o.Z)(function*(){return yield v._withRetries(T=>Pc(T,f)),delete v.localCache[f],v.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,o.Z)(function*(){const v=yield f._withRetries(H=>{const X=Gt(H,!1).getAll();return new Nr(X).toPromise()});if(!v)return[];if(0!==f.pendingWrites)return[];const T=[],S=new Set;for(const{fbase_key:H,value:X}of v)S.add(H),JSON.stringify(f.localCache[H])!==JSON.stringify(X)&&(f.notifyListeners(H,X),T.push(H));for(const H of Object.keys(f.localCache))f.localCache[H]&&!S.has(H)&&(f.notifyListeners(H,null),T.push(H));return T})()}notifyListeners(f,v){this.localCache[f]=v;const T=this.listeners[f];if(T)for(const S of Array.from(T))S(v)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(v)}_removeListener(f,v){this.listeners[f]&&(this.listeners[f].delete(v),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})();function qs(m,h){return lt(m,"POST","/v2/accounts/mfaSignIn:start",Ot(m,h))}function Ni(){return(Ni=(0,o.Z)(function*(m){return(yield lt(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ol(m){return new Promise((h,f)=>{const v=document.createElement("script");v.setAttribute("src",m),v.onload=h,v.onerror=T=>{const S=hn("internal-error");S.customData=T,f(S)},v.type="text/javascript",v.charset="UTF-8",function(){var m,h;return null!==(h=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==h?h:document}().appendChild(v)})}function ns(m){return`__${m}${Math.floor(1e6*Math.random())}`}const Js=1e12;class Pl{constructor(h){this.auth=h,this.counter=Js,this._widgets=new Map}render(h,f){const v=this.counter;return this._widgets.set(v,new _d(h,this.auth.name,f||{})),this.counter++,v}reset(h){var f;const v=h||Js;null===(f=this._widgets.get(v))||void 0===f||f.delete(),this._widgets.delete(v)}getResponse(h){var f;return(null===(f=this._widgets.get(h||Js))||void 0===f?void 0:f.getResponse())||""}execute(h){var f=this;return(0,o.Z)(function*(){var v;return null===(v=f._widgets.get(h||Js))||void 0===v||v.execute(),""})()}}class _d{constructor(h,f,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof h?document.getElementById(h):h;Ee(T,"argument-error",{appName:f}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(m){const h=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<50;v++)h.push(f.charAt(Math.floor(Math.random()*f.length)));return h.join("")}();const{callback:h,"expired-callback":f}=this.params;if(h)try{h(this.responseToken)}catch(v){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch(v){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ut=ns("rcb"),si=new kt(3e4,6e4);class rs{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Xt().grecaptcha}load(h,f=""){return Ee((m=f).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m),h,"argument-error"),this.shouldResolveImmediately(f)?Promise.resolve(Xt().grecaptcha):new Promise((v,T)=>{const S=Xt().setTimeout(()=>{T(hn(h,"network-request-failed"))},si.get());Xt()[ut]=()=>{Xt().clearTimeout(S),delete Xt()[ut];const X=Xt().grecaptcha;if(!X)return void T(hn(h,"internal-error"));const Ae=X.render;X.render=(Ie,Ze)=>{const ze=Ae(Ie,Ze);return this.counter++,ze},this.hostLanguage=f,v(X)},Ol(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:ut,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(S),T(hn(h,"internal-error"))})});var m}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){return!!Xt().grecaptcha&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class vd{load(h){return(0,o.Z)(function*(){return new Pl(h)})()}clearedOneInstance(){}}const Bc="recaptcha",bd={theme:"light",type:"image"};class ai{constructor(h,f=Object.assign({},bd),v){this.parameters=f,this.type=Bc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=kn(v),this.isInvisible="invisible"===this.parameters.size,Ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof h?document.getElementById(h):h;Ee(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new vd:new rs,this.validateStartingState()}verify(){var h=this;return(0,o.Z)(function*(){h.assertNotDestroyed();const f=yield h.render(),v=h.getAssertedRecaptcha();return v.getResponse(f)||new Promise(S=>{const H=X=>{!X||(h.tokenChangeListeners.delete(H),S(X))};h.tokenChangeListeners.add(H),h.isInvisible&&v.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){Ee(!this.parameters.sitekey,this.auth,"argument-error"),Ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return f=>{if(this.tokenChangeListeners.forEach(v=>v(f)),"function"==typeof h)h(f);else if("string"==typeof h){const v=Xt()[h];"function"==typeof v&&v(f)}}}assertNotDestroyed(){Ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,o.Z)(function*(){if(yield h.init(),!h.widgetId){let f=h.container;if(!h.isInvisible){const v=document.createElement("div");f.appendChild(v),f=v}h.widgetId=h.getAssertedRecaptcha().render(f,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,o.Z)(function*(){Ee(nt()&&!un(),h.auth,"internal-error"),yield function(){let m=null;return new Promise(h=>{"complete"!==document.readyState?(m=()=>h(),window.addEventListener("load",m)):h()}).catch(h=>{throw m&&window.removeEventListener("load",m),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const f=yield function(m){return Ni.apply(this,arguments)}(h.auth);Ee(f,h.auth,"internal-error"),h.parameters.sitekey=f})()}getAssertedRecaptcha(){return Ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ja{constructor(h,f){this.verificationId=h,this.onConfirmation=f}confirm(h){const f=bo._fromVerification(this.verificationId,h);return this.onConfirmation(f)}}function yr(){return(yr=(0,o.Z)(function*(m,h,f){const v=kn(m),T=yield Mr(v,h,(0,O.m9)(f));return new ja(T,S=>Sl(v,S))})).apply(this,arguments)}function $n(){return($n=(0,o.Z)(function*(m,h,f){const v=(0,O.m9)(m);yield nn(!1,v,"phone");const T=yield Mr(v.auth,h,(0,O.m9)(f));return new ja(T,S=>xs(v,S))})).apply(this,arguments)}function Wa(){return(Wa=(0,o.Z)(function*(m,h,f){const v=(0,O.m9)(m),T=yield Mr(v.auth,h,(0,O.m9)(f));return new ja(T,S=>Hn(v,S))})).apply(this,arguments)}function Mr(m,h,f){return Za.apply(this,arguments)}function Za(){return(Za=(0,o.Z)(function*(m,h,f){var v;const T=yield f.verify();try{let S;if(Ee("string"==typeof T,m,"argument-error"),Ee(f.type===Bc,m,"argument-error"),S="string"==typeof h?{phoneNumber:h}:h,"session"in S){const H=S.session;if("phoneNumber"in S)return Ee("enroll"===H.type,m,"internal-error"),(yield dd(m,{idToken:H.credential,phoneEnrollmentInfo:{phoneNumber:S.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{Ee("signin"===H.type,m,"internal-error");const X=(null===(v=S.multiFactorHint)||void 0===v?void 0:v.uid)||S.multiFactorUid;return Ee(X,m,"missing-multi-factor-info"),(yield qs(m,{mfaPendingCredential:H.credential,mfaEnrollmentId:X,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:H}=yield Er(m,{phoneNumber:S.phoneNumber,recaptchaToken:T});return H}}finally{f._reset()}})).apply(this,arguments)}function Vl(){return(Vl=(0,o.Z)(function*(m,h){yield vt((0,O.m9)(m),h)})).apply(this,arguments)}let D=(()=>{class m{constructor(f){this.providerId=m.PROVIDER_ID,this.auth=kn(f)}verifyPhoneNumber(f,v){return Mr(this.auth,f,(0,O.m9)(v))}static credential(f,v){return bo._fromVerification(f,v)}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:v,temporaryProof:T}=f;return v&&T?bo._fromTokenResponse(v,T):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function E(m,h){return h?Mt(h):(Ee(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class M extends zo{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Zr(h,this._buildIdpRequest())}_linkToIdToken(h,f){return Zr(h,this._buildIdpRequest(f))}_getReauthenticationResolver(h){return Zr(h,this._buildIdpRequest())}_buildIdpRequest(h){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(f.idToken=h),f}}function L(m){return Ra(m.auth,new M(m),m.bypassAuthState)}function z(m){const{auth:h,user:f}=m;return Ee(f,h,"internal-error"),Yr(f,new M(m),m.bypassAuthState)}function Z(m){return De.apply(this,arguments)}function De(){return(De=(0,o.Z)(function*(m){const{auth:h,user:f}=m;return Ee(f,h,"internal-error"),vt(f,new M(m),m.bypassAuthState)})).apply(this,arguments)}class Ge{constructor(h,f,v,T,S=!1){this.auth=h,this.resolver=v,this.user=T,this.bypassAuthState=S,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var h=this;return new Promise(function(){var f=(0,o.Z)(function*(v,T){h.pendingPromise={resolve:v,reject:T};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(S){h.reject(S)}});return function(v,T){return f.apply(this,arguments)}}())}onAuthEvent(h){var f=this;return(0,o.Z)(function*(){const{urlResponse:v,sessionId:T,postBody:S,tenantId:H,error:X,type:Ae}=h;if(X)return void f.reject(X);const Ie={auth:f.auth,requestUri:v,sessionId:T,tenantId:H||void 0,postBody:S||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(Ae)(Ie))}catch(Ze){f.reject(Ze)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return L;case"linkViaPopup":case"linkViaRedirect":return Z;case"reauthViaPopup":case"reauthViaRedirect":return z;default:Tt(this.auth,"internal-error")}}resolve(h){Nn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Nn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Fe=new kt(2e3,1e4);function Bt(){return(Bt=(0,o.Z)(function*(m,h,f){const v=kn(m);Gi(m,h,_i);const T=E(v,f);return new ko(v,"signInViaPopup",h,T).executeNotNull()})).apply(this,arguments)}function Ci(){return(Ci=(0,o.Z)(function*(m,h,f){const v=(0,O.m9)(m);Gi(v.auth,h,_i);const T=E(v.auth,f);return new ko(v.auth,"reauthViaPopup",h,T,v).executeNotNull()})).apply(this,arguments)}function ei(){return(ei=(0,o.Z)(function*(m,h,f){const v=(0,O.m9)(m);Gi(v.auth,h,_i);const T=E(v.auth,f);return new ko(v.auth,"linkViaPopup",h,T,v).executeNotNull()})).apply(this,arguments)}let ko=(()=>{class m extends Ge{constructor(f,v,T,S,H){super(f,v,S,H),this.provider=T,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var f=this;return(0,o.Z)(function*(){const v=yield f.execute();return Ee(v,f.auth,"internal-error"),v})()}onExecution(){var f=this;return(0,o.Z)(function*(){Nn(1===f.filter.length,"Popup operations only handle one event");const v=xo();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],v),f.authWindow.associatedEvent=v,f.resolver._originValidation(f.auth).catch(T=>{f.reject(T)}),f.resolver._isIframeWebStorageSupported(f.auth,T=>{T||f.reject(hn(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const f=()=>{var v,T;this.pollId=(null===(T=null===(v=this.authWindow)||void 0===v?void 0:v.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(hn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,Fe.get())};f()}}return m.currentPopupAction=null,m})();const vr=new Map;class Rr extends Ge{constructor(h,f,v=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,v),this.eventId=null}execute(){var h=()=>super.execute,f=this;return(0,o.Z)(function*(){let v=vr.get(f.auth._key());if(!v){try{const S=(yield function(m,h){return Ks.apply(this,arguments)}(f.resolver,f.auth))?yield h().call(f):null;v=()=>Promise.resolve(S)}catch(T){v=()=>Promise.reject(T)}vr.set(f.auth._key(),v)}return f.bypassAuthState||vr.set(f.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(h){var f=()=>super.onAuthEvent,v=this;return(0,o.Z)(function*(){if("signInViaRedirect"===h.type)return f().call(v,h);if("unknown"!==h.type){if(h.eventId){const T=yield v.auth._redirectUserForId(h.eventId);if(T)return v.user=T,f().call(v,h);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function Ks(){return(Ks=(0,o.Z)(function*(m,h){const f=Po(h),v=Qs(m);if(!(yield v._isAvailable()))return!1;const T="true"===(yield v._get(f));return yield v._remove(f),T})).apply(this,arguments)}function Hl(m,h){return wd.apply(this,arguments)}function wd(){return(wd=(0,o.Z)(function*(m,h){return Qs(m)._set(Po(h),"true")})).apply(this,arguments)}function Qs(m){return Mt(m._redirectPersistence)}function Po(m){return Si("pendingRedirect",m.config.apiKey,m.name)}function Vc(){return(Vc=(0,o.Z)(function*(m,h,f){const v=kn(m);Gi(m,h,_i);const T=E(v,f);return yield Hl(T,v),T._openRedirect(v,h,"signInViaRedirect")})).apply(this,arguments)}function Hc(){return(Hc=(0,o.Z)(function*(m,h,f){const v=(0,O.m9)(m);Gi(v.auth,h,_i);const T=E(v.auth,f);yield Hl(T,v.auth);const S=yield za(v);return T._openRedirect(v.auth,h,"reauthViaRedirect",S)})).apply(this,arguments)}function Ui(){return(Ui=(0,o.Z)(function*(m,h,f){const v=(0,O.m9)(m);Gi(v.auth,h,_i);const T=E(v.auth,f);yield nn(!1,v,h.providerId),yield Hl(T,v.auth);const S=yield za(v);return T._openRedirect(v.auth,h,"linkViaRedirect",S)})).apply(this,arguments)}function Fo(){return(Fo=(0,o.Z)(function*(m,h){return yield kn(m)._initializationPromise,Ul(m,h,!1)})).apply(this,arguments)}function Ul(m,h){return Td.apply(this,arguments)}function Td(){return(Td=(0,o.Z)(function*(m,h,f=!1){const v=kn(m),T=E(v,h),H=yield new Rr(v,T,f).execute();return H&&!f&&(delete H.user._redirectEventId,yield v._persistUserIfCurrent(H.user),yield v._setRedirectUser(null,h)),H})).apply(this,arguments)}function za(m){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,o.Z)(function*(m){const h=xo(`${m.uid}:::`);return m._redirectEventId=h,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),h})).apply(this,arguments)}class Ya{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let f=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(h,v)&&(f=!0,this.sendToConsumer(h,v),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $l(m);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=h,f=!0)),f}sendToConsumer(h,f){var v;if(h.error&&!$l(h)){const T=(null===(v=h.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";f.onError(hn(this.auth,T))}else f.onAuthEvent(h)}isEventForConsumer(h,f){const v=null===f.eventId||!!h.eventId&&h.eventId===f.eventId;return f.filter.includes(h.type)&&v}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Uc(h))}saveEventToCache(h){this.cachedEventUids.add(Uc(h)),this.lastProcessedEventTime=Date.now()}}function Uc(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(h=>h).join("-")}function $l({type:m,error:h}){return"unknown"===m&&"auth/no-auth-event"===(null==h?void 0:h.code)}function $c(m){return jl.apply(this,arguments)}function jl(){return(jl=(0,o.Z)(function*(m,h={}){return lt(m,"GET","/v1/projects",h)})).apply(this,arguments)}const rg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gl=/^https?/;function xr(){return(xr=(0,o.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:h}=yield $c(m);for(const f of h)try{if(qa(f))return}catch(v){}Tt(m,"unauthorized-domain")})).apply(this,arguments)}function qa(m){const h=Ke(),{protocol:f,hostname:v}=new URL(h);if(m.startsWith("chrome-extension://")){const H=new URL(m);return""===H.hostname&&""===v?"chrome-extension:"===f&&m.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===f&&H.hostname===v}if(!Gl.test(f))return!1;if(rg.test(m))return v===m;const T=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(v)}const Wl=new kt(3e4,6e4);function Ja(){const m=Xt().___jsl;if(null==m?void 0:m.H)for(const h of Object.keys(m.H))if(m.H[h].r=m.H[h].r||[],m.H[h].L=m.H[h].L||[],m.H[h].r=[...m.H[h].L],m.CP)for(let f=0;f<m.CP.length;f++)m.CP[f]=null}let Zl=null;function of(m){return Zl=Zl||function(m){return new Promise((h,f)=>{var v,T,S;function H(){Ja(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Ja(),f(hn(m,"network-request-failed"))},timeout:Wl.get()})}if(null===(T=null===(v=Xt().gapi)||void 0===v?void 0:v.iframes)||void 0===T?void 0:T.Iframe)h(gapi.iframes.getContext());else{if(!(null===(S=Xt().gapi)||void 0===S?void 0:S.load)){const X=ns("iframefcb");return Xt()[X]=()=>{gapi.load?H():f(hn(m,"network-request-failed"))},Ol(`https://apis.google.com/js/api.js?onload=${X}`).catch(Ae=>f(Ae))}H()}}).catch(h=>{throw Zl=null,h})}(m),Zl}const sg=new kt(5e3,15e3),lg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sf(m){const h=m.config;Ee(h.authDomain,m,"auth-domain-config-required");const f=h.emulator?He(h,"emulator/auth/iframe"):`https://${m.config.authDomain}/__/auth/iframe`,v={apiKey:h.apiKey,appName:m.name,v:ae.SDK_VERSION},T=cg.get(m.config.apiHost);T&&(v.eid=T);const S=m._getFrameworks();return S.length&&(v.fw=S.join(",")),`${f}?${(0,O.xO)(v).slice(1)}`}function Nd(){return Nd=(0,o.Z)(function*(m){const h=yield of(m),f=Xt().gapi;return Ee(f,m,"internal-error"),h.open({where:document.body,url:sf(m),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lg,dontclear:!0},v=>new Promise(function(){var T=(0,o.Z)(function*(S,H){yield v.restyle({setHideOnLeave:!1});const X=hn(m,"network-request-failed"),Ae=Xt().setTimeout(()=>{H(X)},sg.get());function Ie(){Xt().clearTimeout(Ae),S(v)}v.ping(Ie).then(Ie,()=>{H(X)})});return function(S,H){return T.apply(this,arguments)}}()))}),Nd.apply(this,arguments)}const ea={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Md{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(h){}}}function Or(m,h,f,v,T,S){Ee(m.config.authDomain,m,"auth-domain-config-required"),Ee(m.config.apiKey,m,"invalid-api-key");const H={apiKey:m.config.apiKey,appName:m.name,authType:f,redirectUrl:v,v:ae.SDK_VERSION,eventId:T};if(h instanceof _i){h.setDefaultLanguage(m.languageCode),H.providerId=h.providerId||"",(0,O.xb)(h.getCustomParameters())||(H.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Ae,Ie]of Object.entries(S||{}))H[Ae]=Ie}if(h instanceof Ki){const Ae=h.getScopes().filter(Ie=>""!==Ie);Ae.length>0&&(H.scopes=Ae.join(","))}m.tenantId&&(H.tid=m.tenantId);const X=H;for(const Ae of Object.keys(X))void 0===X[Ae]&&delete X[Ae];return`${function({config:m}){return m.emulator?He(m,"emulator/auth/handler"):`https://${m.authDomain}/__/auth/handler`}(m)}?${(0,O.xO)(X).slice(1)}`}const zl="webStorageSupport";class na extends class{constructor(h){this.factorId=h}_process(h,f,v){switch(f.type){case"enroll":return this._finalizeEnroll(h,f.credential,v);case"signin":return this._finalizeSignIn(h,f.credential);default:return Vn("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new na(h)}_finalizeEnroll(h,f,v){return function(m,h){return lt(m,"POST","/v2/accounts/mfaEnrollment:finalize",Ot(m,h))}(h,{idToken:f,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,f){return function(m,h){return lt(m,"POST","/v2/accounts/mfaSignIn:finalize",Ot(m,h))}(h,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let dg=(()=>{class m{constructor(){}static assertion(f){return na._fromCredential(f)}}return m.FACTOR_ID="phone",m})();var m,Xa="@firebase/auth";class df{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var f=this;return(0,o.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const f=this.auth.onIdTokenChanged(v=>{var T;h((null===(T=v)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,f),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const f=this.internalListeners.get(h);!f||(this.internalListeners.delete(h),f(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ia(){return window}function Wc(){return Wc=(0,o.Z)(function*(m,h,f){var v;const{BuildInfo:T}=ia();Nn(h.sessionId,"AuthEvent did not contain a session ID");const S=yield pg(h.sessionId),H={};return jr()?H.ibi=T.packageName:Cs()?H.apn=T.packageName:Tt(m,"operation-not-supported-in-this-environment"),T.displayName&&(H.appDisplayName=T.displayName),H.sessionId=S,Or(m,f,h.type,void 0,null!==(v=h.eventId)&&void 0!==v?v:void 0,H)}),Wc.apply(this,arguments)}function as(){return as=(0,o.Z)(function*(m){const{BuildInfo:h}=ia(),f={};jr()?f.iosBundleId=h.packageName:Cs()?f.androidPackageName=h.packageName:Tt(m,"operation-not-supported-in-this-environment"),yield $c(m,f)}),as.apply(this,arguments)}function kd(){return kd=(0,o.Z)(function*(m,h,f){const{cordova:v}=ia();let T=()=>{};try{yield new Promise((S,H)=>{let X=null;function Ae(){var ze;S();const It=null===(ze=v.plugins.browsertab)||void 0===ze?void 0:ze.close;"function"==typeof It&&It(),"function"==typeof(null==f?void 0:f.close)&&f.close()}function Ie(){X||(X=window.setTimeout(()=>{H(hn(m,"redirect-cancelled-by-user"))},2e3))}function Ze(){"visible"===(null==document?void 0:document.visibilityState)&&Ie()}h.addPassiveListener(Ae),document.addEventListener("resume",Ie,!1),Cs()&&document.addEventListener("visibilitychange",Ze,!1),T=()=>{h.removePassiveListener(Ae),document.removeEventListener("resume",Ie,!1),document.removeEventListener("visibilitychange",Ze,!1),X&&window.clearTimeout(X)}})}finally{T()}}),kd.apply(this,arguments)}function pg(m){return ql.apply(this,arguments)}function ql(){return ql=(0,o.Z)(function*(m){const h=gg(m),f=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(f)).map(T=>T.toString(16).padStart(2,"0")).join("")}),ql.apply(this,arguments)}function gg(m){if(Nn(/[0-9a-zA-Z]+/.test(m),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(m);const h=new ArrayBuffer(m.length),f=new Uint8Array(h);for(let v=0;v<m.length;v++)f[v]=m.charCodeAt(v);return f}m="Browser",(0,ae._registerComponent)(new ue.wA("auth",(h,{options:f})=>{const v=h.getProvider("app").getImmediate(),{apiKey:T,authDomain:S}=v.options;return(H=>{Ee(T&&!T.includes(":"),"invalid-api-key",{appName:H.name}),Ee(!(null==S?void 0:S.includes(":")),"argument-error",{appName:H.name});const X={apiKey:T,authDomain:S,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ur(m)},Ae=new dr(H,X);return function(m,h){const f=(null==h?void 0:h.persistence)||[],v=(Array.isArray(f)?f:[f]).map(Mt);(null==h?void 0:h.errorMap)&&m._updateErrorMap(h.errorMap),m._initializeWithPersistence(v,null==h?void 0:h.popupRedirectResolver)}(Ae,f),Ae})(v)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,f,v)=>{h.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new ue.wA("auth-internal",h=>{const f=kn(h.getProvider("auth").getImmediate());return new df(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(Xa,"0.19.4",void 0),(0,ae.registerVersion)(Xa,"0.19.4","esm2017");class jn extends Ya{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(h)),super.onEvent(h)}initialized(){var h=this;return(0,o.Z)(function*(){yield h.initPromise})()}}function qc(m){return ti.apply(this,arguments)}function ti(){return ti=(0,o.Z)(function*(m){const h=yield Pd()._get(Fd(m));return h&&(yield Pd()._remove(Fd(m))),h}),ti.apply(this,arguments)}function Od(){const m=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<20;f++){const v=Math.floor(Math.random()*h.length);m.push(h.charAt(v))}return m.join("")}function Pd(){return Mt(Zs)}function Fd(m){return Si("authEvent",m.config.apiKey,m.name)}function tl(m){if(!(null==m?void 0:m.includes("?")))return{};const[h,...f]=m.split("?");return(0,O.zd)(f.join("?"))}function Ql(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:hn("no-auth-event")}}function oa(){var m;return(null===(m=null==self?void 0:self.location)||void 0===m?void 0:m.protocol)||null}function pf(m=(0,O.z$)()){return!("file:"!==oa()&&"ionic:"!==oa()||!m.toLowerCase().match(/iphone|ipad|ipod|android/))}function gf(){try{const m=self.localStorage,h=xo();if(m)return m.setItem(h,"1"),m.removeItem(h),!function(m=(0,O.z$)()){return(0,O.w1)()&&11===(null==document?void 0:document.documentMode)||function(m=(0,O.z$)()){return/Edge\/\d+/.test(m)}(m)}()||(0,O.hl)()}catch(m){return Bd()&&(0,O.hl)()}return!1}function Bd(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Vd(){return("http:"===oa()||"https:"===oa()||(0,O.ru)()||pf())&&!((0,O.b$)()||(0,O.UG)())&&gf()&&!Bd()}function Qc(){return pf()&&"undefined"!=typeof document}function Hd(){return Hd=(0,o.Z)(function*(){return!!Qc()&&new Promise(m=>{const h=setTimeout(()=>{m(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),m(!0)})})}),Hd.apply(this,arguments)}const ir={LOCAL:"local",NONE:"none",SESSION:"session"},ec=Ee,Ud="persistence";function _f(m){return Xc.apply(this,arguments)}function Xc(){return Xc=(0,o.Z)(function*(m){yield m._initializationPromise;const h=br(),f=Si(Ud,m.config.apiKey,m.name);(null==h?void 0:h.sessionStorage)&&h.sessionStorage.setItem(f,m._getPersistence())}),Xc.apply(this,arguments)}function br(){return"undefined"!=typeof window?window:null}const Tg=Ee;class aa{constructor(){this.browserResolver=Mt(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=on,this._completeRedirectFn=Ul}_openPopup(h,f,v,T){var S=this;return(0,o.Z)(function*(){var H;Nn(null===(H=S.eventManagers[h._key()])||void 0===H?void 0:H.manager,"_initialize() not called before _openPopup()");const X=Or(h,f,v,Ke(),T);return function(m,h,f,v=500,T=600){const S=Math.max((window.screen.availHeight-T)/2,0).toString(),H=Math.max((window.screen.availWidth-v)/2,0).toString();let X="";const Ae=Object.assign(Object.assign({},ea),{width:v.toString(),height:T.toString(),top:S,left:H}),Ie=(0,O.z$)().toLowerCase();f&&(X=Vi(Ie)?"_blank":f),bs(Ie)&&(h=h||"http://localhost",Ae.scrollbars="yes");const Ze=Object.entries(Ae).reduce((It,[dn,oo])=>`${It}${dn}=${oo},`,"");if(function(m=(0,O.z$)()){var h;return jr(m)&&!!(null===(h=window.navigator)||void 0===h?void 0:h.standalone)}(Ie)&&"_self"!==X)return function(m,h){const f=document.createElement("a");f.href=m,f.target=h;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(v)}(h||"",X),new Md(null);const ze=window.open(h||"",X,Ze);Ee(ze,m,"popup-blocked");try{ze.focus()}catch(It){}return new Md(ze)}(h,X,xo())})()}_openRedirect(h,f,v,T){var S=this;return(0,o.Z)(function*(){return yield S._originValidation(h),m=Or(h,f,v,Ke(),T),Xt().location.href=m,new Promise(()=>{});var m})()}_initialize(h){const f=h._key();if(this.eventManagers[f]){const{manager:T,promise:S}=this.eventManagers[f];return T?Promise.resolve(T):(Nn(S,"If manager is not set, promise should be"),S)}const v=this.initAndGetManager(h);return this.eventManagers[f]={promise:v},v.catch(()=>{delete this.eventManagers[f]}),v}initAndGetManager(h){var f=this;return(0,o.Z)(function*(){const v=yield function(m){return Nd.apply(this,arguments)}(h),T=new Ya(h);return v.register("authEvent",S=>(Ee(null==S?void 0:S.authEvent,h,"invalid-auth-event"),{status:T.onEvent(S.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[h._key()]={manager:T},f.iframes[h._key()]=v,T})()}_isIframeWebStorageSupported(h,f){this.iframes[h._key()].send(zl,{type:zl},T=>{var S;const H=null===(S=null==T?void 0:T[0])||void 0===S?void 0:S[zl];void 0!==H&&f(!!H),Tt(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const f=h._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function(m){return xr.apply(this,arguments)}(h)),this.originValidationPromises[f]}get _shouldInitProactively(){return mn()||$r()||jr()}}),this.cordovaResolver=Mt(class{constructor(){this._redirectPersistence=on,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ul}_initialize(h){var f=this;return(0,o.Z)(function*(){const v=h._key();let T=f.eventManagers.get(v);return T||(T=new jn(h),f.eventManagers.set(v,T),f.attachCallbackListeners(h,T)),T})()}_openPopup(h){Tt(h,"operation-not-supported-in-this-environment")}_openRedirect(h,f,v,T){var S=this;return(0,o.Z)(function*(){!function(m){var h,f,v,T,S,H,X,Ae,Ie,Ze;const ze=ia();Ee("function"==typeof(null===(h=null==ze?void 0:ze.universalLinks)||void 0===h?void 0:h.subscribe),m,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ee(void 0!==(null===(f=null==ze?void 0:ze.BuildInfo)||void 0===f?void 0:f.packageName),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ee("function"==typeof(null===(S=null===(T=null===(v=null==ze?void 0:ze.cordova)||void 0===v?void 0:v.plugins)||void 0===T?void 0:T.browsertab)||void 0===S?void 0:S.openUrl),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ee("function"==typeof(null===(Ae=null===(X=null===(H=null==ze?void 0:ze.cordova)||void 0===H?void 0:H.plugins)||void 0===X?void 0:X.browsertab)||void 0===Ae?void 0:Ae.isAvailable),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ee("function"==typeof(null===(Ze=null===(Ie=null==ze?void 0:ze.cordova)||void 0===Ie?void 0:Ie.InAppBrowser)||void 0===Ze?void 0:Ze.open),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const H=yield S._initialize(h);yield H.initialized(),H.resetRedirect(),vr.clear(),yield S._originValidation(h);const X=function(m,h,f=null){return{type:h,eventId:f,urlResponse:null,sessionId:Od(),postBody:null,tenantId:m.tenantId,error:hn(m,"no-auth-event")}}(h,v,T);yield function(m,h){return Pd()._set(Fd(m),h)}(h,X);const Ae=yield function(m,h,f){return Wc.apply(this,arguments)}(h,X,f),Ie=yield function(m){const{cordova:h}=ia();return new Promise(f=>{h.plugins.browsertab.isAvailable(v=>{let T=null;v?h.plugins.browsertab.openUrl(m):T=h.InAppBrowser.open(m,function(m=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}()?"_blank":"_system","location=yes"),f(T)})})}(Ae);return function(m,h,f){return kd.apply(this,arguments)}(h,H,Ie)})()}_isIframeWebStorageSupported(h,f){throw new Error("Method not implemented.")}_originValidation(h){const f=h._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function(m){return as.apply(this,arguments)}(h)),this.originValidationPromises[f]}attachCallbackListeners(h,f){const{universalLinks:v,handleOpenURL:T,BuildInfo:S}=ia(),H=setTimeout((0,o.Z)(function*(){yield qc(h),f.onEvent(Ql())}),500),X=function(){var Ze=(0,o.Z)(function*(ze){clearTimeout(H);const It=yield qc(h);let dn=null;It&&(null==ze?void 0:ze.url)&&(dn=function(m,h){var f,v;const T=function(m){const h=tl(m),f=h.link?decodeURIComponent(h.link):void 0,v=tl(f).link,T=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return tl(T).link||T||v||f||m}(h);if(T.includes("/__/auth/callback")){const S=tl(T),H=S.firebaseError?function(m){try{return JSON.parse(m)}catch(h){return null}}(decodeURIComponent(S.firebaseError)):null,X=null===(v=null===(f=null==H?void 0:H.code)||void 0===f?void 0:f.split("auth/"))||void 0===v?void 0:v[1],Ae=X?hn(X):null;return Ae?{type:m.type,eventId:m.eventId,tenantId:m.tenantId,error:Ae,urlResponse:null,sessionId:null,postBody:null}:{type:m.type,eventId:m.eventId,tenantId:m.tenantId,sessionId:m.sessionId,urlResponse:T,postBody:null}}return null}(It,ze.url)),f.onEvent(dn||Ql())});return function(It){return Ze.apply(this,arguments)}}();void 0!==v&&"function"==typeof v.subscribe&&v.subscribe(null,X);const Ae=T,Ie=`${S.packageName.toLowerCase()}://`;ia().handleOpenURL=function(){var Ze=(0,o.Z)(function*(ze){if(ze.toLowerCase().startsWith(Ie)&&X({url:ze}),"function"==typeof Ae)try{Ae(ze)}catch(It){console.error(It)}});return function(ze){return Ze.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=on,this._completeRedirectFn=Ul}_initialize(h){var f=this;return(0,o.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,f,v,T){var S=this;return(0,o.Z)(function*(){return yield S.selectUnderlyingResolver(),S.assertedUnderlyingResolver._openPopup(h,f,v,T)})()}_openRedirect(h,f,v,T){var S=this;return(0,o.Z)(function*(){return yield S.selectUnderlyingResolver(),S.assertedUnderlyingResolver._openRedirect(h,f,v,T)})()}_isIframeWebStorageSupported(h,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,f)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Qc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Tg(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,o.Z)(function*(){if(h.underlyingResolver)return;const f=yield function(){return Hd.apply(this,arguments)}();h.underlyingResolver=f?h.cordovaResolver:h.browserResolver})()}}function $d(m){return m.unwrap()}function ro(m){return nl(m)}function nl(m){const{_tokenResponse:h}=m instanceof O.ZR?m.customData:m;if(!h)return null;if(!(m instanceof O.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return D.credentialFromResult(m);const f=h.providerId;if(!f||"password"===f)return null;let v;switch(f){case"google.com":v=Do;break;case"facebook.com":v=Aa;break;case"github.com":v=Eo;break;case"twitter.com":v=yi;break;default:const{oauthIdToken:T,oauthAccessToken:S,oauthTokenSecret:H,pendingToken:X,nonce:Ae}=h;return S||H||T||X?X?f.startsWith("saml.")?Tr._create(f,X):Qn._fromParams({providerId:f,signInMethod:f,pendingToken:X,idToken:T,accessToken:S}):new En(f).credential({idToken:T,accessToken:S,rawNonce:Ae}):null}return m instanceof O.ZR?v.credentialFromError(m):v.credentialFromResult(m)}function $i(m,h){return h.catch(f=>{throw f instanceof O.ZR&&function(m,h){var f;const v=null===(f=h.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===h.code)h.resolver=new tu(m,function(m,h){var f;const v=(0,O.m9)(m),T=h;return Ee(h.customData.operationType,v,"argument-error"),Ee(null===(f=T.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,v,"argument-error"),pr._fromError(v,T)}(m,h));else if(v){const T=nl(h),S=h;T&&(S.credential=T,S.tenantId=v.tenantId||void 0,S.email=v.email||void 0,S.phoneNumber=v.phoneNumber||void 0)}}(m,f),f}).then(f=>{const T=f.user;return{operationType:f.operationType,credential:ro(f),additionalUserInfo:je(f),user:Pr.getOrCreate(T)}})}function eu(m,h){return la.apply(this,arguments)}function la(){return la=(0,o.Z)(function*(m,h){const f=yield h;return{verificationId:f.verificationId,confirm:v=>$i(m,f.confirm(v))}}),la.apply(this,arguments)}class tu{constructor(h,f){this.resolver=f,this.auth=function(m){return m.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return $i($d(this.auth),this.resolver.resolveSignIn(h))}}class Pr{constructor(h){this._delegate=h,this.multiFactor=function(m){const h=(0,O.m9)(m);return Jt.has(h)||Jt.set(h,es._fromUser(h)),Jt.get(h)}(h)}static getOrCreate(h){return Pr.USER_MAP.has(h)||Pr.USER_MAP.set(h,new Pr(h)),Pr.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var f=this;return(0,o.Z)(function*(){return $i(f.auth,xs(f._delegate,h))})()}linkWithPhoneNumber(h,f){var v=this;return(0,o.Z)(function*(){return eu(v.auth,function(m,h,f){return $n.apply(this,arguments)}(v._delegate,h,f))})()}linkWithPopup(h){var f=this;return(0,o.Z)(function*(){return $i(f.auth,function(m,h,f){return ei.apply(this,arguments)}(f._delegate,h,aa))})()}linkWithRedirect(h){var f=this;return(0,o.Z)(function*(){return yield _f(kn(f.auth)),function(m,h,f){return function(m,h,f){return Ui.apply(this,arguments)}(m,h,f)}(f._delegate,h,aa)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var f=this;return(0,o.Z)(function*(){return $i(f.auth,Hn(f._delegate,h))})()}reauthenticateWithPhoneNumber(h,f){return eu(this.auth,function(m,h,f){return Wa.apply(this,arguments)}(this._delegate,h,f))}reauthenticateWithPopup(h){return $i(this.auth,function(m,h,f){return Ci.apply(this,arguments)}(this._delegate,h,aa))}reauthenticateWithRedirect(h){var f=this;return(0,o.Z)(function*(){return yield _f(kn(f.auth)),function(m,h,f){return function(m,h,f){return Hc.apply(this,arguments)}(m,h,f)}(f._delegate,h,aa)})()}sendEmailVerification(h){return function(m,h){return Kr.apply(this,arguments)}(this._delegate,h)}unlink(h){var f=this;return(0,o.Z)(function*(){return yield function(m,h){return Ce.apply(this,arguments)}(f._delegate,h),f})()}updateEmail(h){return function(m,h){return cd((0,O.m9)(m),h,null)}(this._delegate,h)}updatePassword(h){return function(m,h){return cd((0,O.m9)(m),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function(m,h){return Vl.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function(m,h){return Qt.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,f){return function(m,h,f){return js.apply(this,arguments)}(this._delegate,h,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Pr.USER_MAP=new WeakMap;const ca=Ee;let nu=(()=>{class m{constructor(f,v){if(this.app=f,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=f.options;ca(T,"invalid-api-key",{appName:f.name});let S=[Li];if("undefined"!=typeof window){S=function(m,h){const f=br();if(!(null==f?void 0:f.sessionStorage))return[];const v=Si(Ud,m,h);switch(f.sessionStorage.getItem(v)){case ir.NONE:return[Li];case ir.LOCAL:return[io,on];case ir.SESSION:return[on];default:return[]}}(T,f.name);for(const X of[io,Zs,on])S.includes(X)||S.push(X)}ca(T,"invalid-api-key",{appName:f.name});const H="undefined"!=typeof window?aa:void 0;this._delegate=v.initialize({options:{persistence:S,popupRedirectResolver:H}}),this._delegate._updateErrorMap(ii),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Pr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,v){!function(m,h,f){const v=kn(m);Ee(v._canInitEmulator,v,"emulator-config-failed"),Ee(/^https?:\/\//.test(h),v,"invalid-emulator-scheme");const T=!!(null==f?void 0:f.disableWarnings),S=Hi(h),{host:H,port:X}=function(m){const h=Hi(m),f=/(\/\/)?([^?#/]+)/.exec(m.substr(h.length));if(!f)return{host:"",port:null};const v=f[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(v);if(T){const S=T[1];return{host:S,port:qh(v.substr(S.length+1))}}{const[S,H]=v.split(":");return{host:S,port:qh(H)}}}(h);v.config.emulator={url:`${S}//${H}${null===X?"":`:${X}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:H,port:X,protocol:S.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function(){function m(){const h=document.createElement("p"),f=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}(this._delegate,f,v)}applyActionCode(f){return function(m,h){return Oa.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return Pa(this._delegate,f)}confirmPasswordReset(f,v){return function(m,h,f){return Bs.apply(this,arguments)}(this._delegate,f,v)}createUserWithEmailAndPassword(f,v){var T=this;return(0,o.Z)(function*(){return $i(T._delegate,function(m,h,f){return Us.apply(this,arguments)}(T._delegate,f,v))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function(m,h){return ld.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function(m,h){const f=Co.parseLink(h);return"EMAIL_SIGNIN"===(null==f?void 0:f.operation)}(0,f)}getRedirectResult(){var f=this;return(0,o.Z)(function*(){ca(Vd(),f._delegate,"operation-not-supported-in-this-environment");const v=yield function(m,h){return Fo.apply(this,arguments)}(f._delegate,aa);return v?$i(f._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function(m,h){kn(m)._logFramework(h)}(this._delegate,f)}onAuthStateChanged(f,v,T){const{next:S,error:H,complete:X}=Gd(f,v,T);return this._delegate.onAuthStateChanged(S,H,X)}onIdTokenChanged(f,v,T){const{next:S,error:H,complete:X}=Gd(f,v,T);return this._delegate.onIdTokenChanged(S,H,X)}sendSignInLinkToEmail(f,v){return function(m,h,f){return qt.apply(this,arguments)}(this._delegate,f,v)}sendPasswordResetEmail(f,v){return function(m,h,f){return Ko.apply(this,arguments)}(this._delegate,f,v||void 0)}setPersistence(f){var v=this;return(0,o.Z)(function*(){let T;switch(function(m,h){ec(Object.values(ir).includes(h),m,"invalid-persistence-type"),(0,O.b$)()?ec(h!==ir.SESSION,m,"unsupported-persistence-type"):(0,O.UG)()?ec(h===ir.NONE,m,"unsupported-persistence-type"):Bd()?ec(h===ir.NONE||h===ir.LOCAL&&(0,O.hl)(),m,"unsupported-persistence-type"):ec(h===ir.NONE||gf(),m,"unsupported-persistence-type")}(v._delegate,f),f){case ir.SESSION:T=on;break;case ir.LOCAL:T=(yield Mt(io)._isAvailable())?io:Zs;break;case ir.NONE:T=Li;break;default:return Tt("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return $i(this._delegate,function(m){return Jo.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return $i(this._delegate,Sl(this._delegate,f))}signInWithCustomToken(f){return $i(this._delegate,function(m,h){return Os.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,v){return $i(this._delegate,function(m,h,f){return Sl((0,O.m9)(m),wo.credential(h,f))}(this._delegate,f,v))}signInWithEmailLink(f,v){return $i(this._delegate,function(m,h,f){return $s.apply(this,arguments)}(this._delegate,f,v))}signInWithPhoneNumber(f,v){return eu(this._delegate,function(m,h,f){return yr.apply(this,arguments)}(this._delegate,f,v))}signInWithPopup(f){var v=this;return(0,o.Z)(function*(){return ca(Vd(),v._delegate,"operation-not-supported-in-this-environment"),$i(v._delegate,function(m,h,f){return Bt.apply(this,arguments)}(v._delegate,f,aa))})()}signInWithRedirect(f){var v=this;return(0,o.Z)(function*(){return ca(Vd(),v._delegate,"operation-not-supported-in-this-environment"),yield _f(v._delegate),function(m,h,f){return function(m,h,f){return Vc.apply(this,arguments)}(m,h,f)}(v._delegate,f,aa)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function(m,h){return Hs.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return m.Persistence=ir,m})();function Gd(m,h,f){let v=m;"function"!=typeof m&&({next:v,error:h,complete:f}=m);const T=v;return{next:H=>T(H&&Pr.getOrCreate(H)),error:h,complete:f}}class yf{constructor(){this.providerId="phone",this._delegate=new D($d(K.Z.auth()))}static credential(h,f){return D.credential(h,f)}verifyPhoneNumber(h,f){return this._delegate.verifyPhoneNumber(h,f)}unwrap(){return this._delegate}}yf.PHONE_SIGN_IN_METHOD=D.PHONE_SIGN_IN_METHOD,yf.PROVIDER_ID=D.PROVIDER_ID;const ua=Ee;class Wd{constructor(h,f,v=K.Z.app()){var T;ua(null===(T=v.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new ai(h,f,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(m){m.INTERNAL.registerComponent(new ue.wA("auth-compat",h=>{const f=h.getProvider("app-compat").getImmediate(),v=h.getProvider("auth");return new nu(f,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:wo,FacebookAuthProvider:Aa,GithubAuthProvider:Eo,GoogleAuthProvider:Do,OAuthProvider:En,SAMLAuthProvider:To,PhoneAuthProvider:yf,PhoneMultiFactorGenerator:dg,RecaptchaVerifier:Wd,TwitterAuthProvider:yi,Auth:nu,AuthCredential:zo,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),m.registerVersion("@firebase/auth-compat","0.2.4")}(K.Z)},4995:function(Ve,he){!function(k){"use strict";function o(oe){return Array.prototype.slice.call(oe)}function K(oe){return new Promise(function(Y,se){oe.onsuccess=function(){Y(oe.result)},oe.onerror=function(){se(oe.error)}})}function O(oe,Y,se){var ve,ge=new Promise(function(Be,Te){K(ve=oe[Y].apply(oe,se)).then(Be,Te)});return ge.request=ve,ge}function ae(oe,Y,se){var ve=O(oe,Y,se);return ve.then(function(ge){if(ge)return new $(ge,ve.request)})}function ie(oe,Y,se){se.forEach(function(ve){Object.defineProperty(oe.prototype,ve,{get:function(){return this[Y][ve]},set:function(ge){this[Y][ve]=ge}})})}function de(oe,Y,se,ve){ve.forEach(function(ge){ge in se.prototype&&(oe.prototype[ge]=function(){return O(this[Y],ge,arguments)})})}function ee(oe,Y,se,ve){ve.forEach(function(ge){ge in se.prototype&&(oe.prototype[ge]=function(){return this[Y][ge].apply(this[Y],arguments)})})}function re(oe,Y,se,ve){ve.forEach(function(ge){ge in se.prototype&&(oe.prototype[ge]=function(){return ae(this[Y],ge,arguments)})})}function le(oe){this._index=oe}function $(oe,Y){this._cursor=oe,this._request=Y}function U(oe){this._store=oe}function Q(oe){this._tx=oe,this.complete=new Promise(function(Y,se){oe.oncomplete=function(){Y()},oe.onerror=function(){se(oe.error)},oe.onabort=function(){se(oe.error)}})}function xe(oe,Y,se){this._db=oe,this.oldVersion=Y,this.transaction=new Q(se)}function be(oe){this._db=oe}ie(le,"_index",["name","keyPath","multiEntry","unique"]),de(le,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),re(le,"_index",IDBIndex,["openCursor","openKeyCursor"]),ie($,"_cursor",["direction","key","primaryKey","value"]),de($,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(oe){oe in IDBCursor.prototype&&($.prototype[oe]=function(){var Y=this,se=arguments;return Promise.resolve().then(function(){return Y._cursor[oe].apply(Y._cursor,se),K(Y._request).then(function(ve){if(ve)return new $(ve,Y._request)})})})}),U.prototype.createIndex=function(){return new le(this._store.createIndex.apply(this._store,arguments))},U.prototype.index=function(){return new le(this._store.index.apply(this._store,arguments))},ie(U,"_store",["name","keyPath","indexNames","autoIncrement"]),de(U,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),re(U,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ee(U,"_store",IDBObjectStore,["deleteIndex"]),Q.prototype.objectStore=function(){return new U(this._tx.objectStore.apply(this._tx,arguments))},ie(Q,"_tx",["objectStoreNames","mode"]),ee(Q,"_tx",IDBTransaction,["abort"]),xe.prototype.createObjectStore=function(){return new U(this._db.createObjectStore.apply(this._db,arguments))},ie(xe,"_db",["name","version","objectStoreNames"]),ee(xe,"_db",IDBDatabase,["deleteObjectStore","close"]),be.prototype.transaction=function(){return new Q(this._db.transaction.apply(this._db,arguments))},ie(be,"_db",["name","version","objectStoreNames"]),ee(be,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(oe){[U,le].forEach(function(Y){oe in Y.prototype&&(Y.prototype[oe.replace("open","iterate")]=function(){var se=o(arguments),ve=se[se.length-1],ge=this._store||this._index,Be=ge[oe].apply(ge,se.slice(0,-1));Be.onsuccess=function(){ve(Be.result)}})})}),[le,U].forEach(function(oe){oe.prototype.getAll||(oe.prototype.getAll=function(Y,se){var ve=this,ge=[];return new Promise(function(Be){ve.iterateCursor(Y,function(Te){Te?(ge.push(Te.value),void 0===se||ge.length!=se?Te.continue():Be(ge)):Be(ge)})})})}),k.openDb=function(oe,Y,se){var ve=O(indexedDB,"open",[oe,Y]),ge=ve.request;return ge&&(ge.onupgradeneeded=function(Be){se&&se(new xe(ge.result,Be.oldVersion,ge.transaction))}),ve.then(function(Be){return new be(Be)})},k.deleteDb=function(oe){return O(indexedDB,"deleteDatabase",[oe])},Object.defineProperty(k,"__esModule",{value:!0})}(he)},8305:(Ve,he,k)=>{"use strict";k.d(he,{y:()=>$});var o=k(584),K=k(7908),O=k(4816),ae=k(4623);var ee=k(5367),re=k(5044),le=k(8706);let $=(()=>{class be{constructor(Re){Re&&(this._subscribe=Re)}lift(Re){const oe=new be;return oe.source=this,oe.operator=Re,oe}subscribe(Re,oe,Y){const se=function(be){return be&&be instanceof o.Lv||function(be){return be&&(0,re.m)(be.next)&&(0,re.m)(be.error)&&(0,re.m)(be.complete)}(be)&&(0,K.Nn)(be)}(Re)?Re:new o.Hp(Re,oe,Y);return(0,le.x)(()=>{const{operator:ve,source:ge}=this;se.add(ve?ve.call(se,ge):ge?this._subscribe(se):this._trySubscribe(se))}),se}_trySubscribe(Re){try{return this._subscribe(Re)}catch(oe){Re.error(oe)}}forEach(Re,oe){return new(oe=U(oe))((Y,se)=>{let ve;ve=this.subscribe(ge=>{try{Re(ge)}catch(Be){se(Be),null==ve||ve.unsubscribe()}},se,Y)})}_subscribe(Re){var oe;return null===(oe=this.source)||void 0===oe?void 0:oe.subscribe(Re)}[O.L](){return this}pipe(...Re){return function(be){return 0===be.length?ae.y:1===be.length?be[0]:function(Re){return be.reduce((oe,Y)=>Y(oe),Re)}}(Re)(this)}toPromise(Re){return new(Re=U(Re))((oe,Y)=>{let se;this.subscribe(ve=>se=ve,ve=>Y(ve),()=>oe(se))})}}return be.create=ke=>new be(ke),be})();function U(be){var ke;return null!==(ke=null!=be?be:ee.v.Promise)&&void 0!==ke?ke:Promise}},273:(Ve,he,k)=>{"use strict";k.d(he,{x:()=>ee});var o=k(8305),K=k(7908);const ae=(0,k(4893).d)(le=>function(){le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=k(3980),de=k(8706);let ee=(()=>{class le extends o.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(U){const Q=new re(this,this);return Q.operator=U,Q}_throwIfClosed(){if(this.closed)throw new ae}next(U){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const Q=this.observers.slice();for(const xe of Q)xe.next(U)}})}error(U){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=U;const{observers:Q}=this;for(;Q.length;)Q.shift().error(U)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:U}=this;for(;U.length;)U.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var U;return(null===(U=this.observers)||void 0===U?void 0:U.length)>0}_trySubscribe(U){return this._throwIfClosed(),super._trySubscribe(U)}_subscribe(U){return this._throwIfClosed(),this._checkFinalizedStatuses(U),this._innerSubscribe(U)}_innerSubscribe(U){const{hasError:Q,isStopped:xe,observers:be}=this;return Q||xe?K.Lc:(be.push(U),new K.w0(()=>(0,ie.P)(be,U)))}_checkFinalizedStatuses(U){const{hasError:Q,thrownError:xe,isStopped:be}=this;Q?U.error(xe):be&&U.complete()}asObservable(){const U=new o.y;return U.source=this,U}}return le.create=($,U)=>new re($,U),le})();class re extends ee{constructor($,U){super(),this.destination=$,this.source=U}next($){var U,Q;null===(Q=null===(U=this.destination)||void 0===U?void 0:U.next)||void 0===Q||Q.call(U,$)}error($){var U,Q;null===(Q=null===(U=this.destination)||void 0===U?void 0:U.error)||void 0===Q||Q.call(U,$)}complete(){var $,U;null===(U=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===U||U.call($)}_subscribe($){var U,Q;return null!==(Q=null===(U=this.source)||void 0===U?void 0:U.subscribe($))&&void 0!==Q?Q:K.Lc}}},584:(Ve,he,k)=>{"use strict";k.d(he,{Hp:()=>xe,Lv:()=>Q});var o=k(5044),K=k(7908),O=k(5367),ae=k(5160),ie=k(6921);const de=le("C",void 0,void 0);function le(Y,se,ve){return{kind:Y,value:se,error:ve}}var $=k(2496),U=k(8706);class Q extends K.w0{constructor(se){super(),this.isStopped=!1,se?(this.destination=se,(0,K.Nn)(se)&&se.add(this)):this.destination=oe}static create(se,ve,ge){return new xe(se,ve,ge)}next(se){this.isStopped?Re(le("N",se,void 0),this):this._next(se)}error(se){this.isStopped?Re(le("E",void 0,se),this):(this.isStopped=!0,this._error(se))}complete(){this.isStopped?Re(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(se){this.destination.next(se)}_error(se){try{this.destination.error(se)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class xe extends Q{constructor(se,ve,ge){let Be;if(super(),(0,o.m)(se))Be=se;else if(se){let Te;({next:Be,error:ve,complete:ge}=se),this&&O.v.useDeprecatedNextContext?(Te=Object.create(se),Te.unsubscribe=()=>this.unsubscribe()):Te=se,Be=null==Be?void 0:Be.bind(Te),ve=null==ve?void 0:ve.bind(Te),ge=null==ge?void 0:ge.bind(Te)}this.destination={next:Be?be(Be):ie.Z,error:be(null!=ve?ve:ke),complete:ge?be(ge):ie.Z}}}function be(Y,se){return(...ve)=>{try{Y(...ve)}catch(ge){O.v.useDeprecatedSynchronousErrorHandling?(0,U.O)(ge):(0,ae.h)(ge)}}}function ke(Y){throw Y}function Re(Y,se){const{onStoppedNotification:ve}=O.v;ve&&$.z.setTimeout(()=>ve(Y,se))}const oe={closed:!0,next:ie.Z,error:ke,complete:ie.Z}},7908:(Ve,he,k)=>{"use strict";k.d(he,{Lc:()=>de,w0:()=>ie,Nn:()=>ee});var o=k(5044);const O=(0,k(4893).d)(le=>function(U){le(this),this.message=U?`${U.length} errors occurred during unsubscription:\n${U.map((Q,xe)=>`${xe+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=U});var ae=k(3980);class ie{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:U}=this;if(U)if(this._parentage=null,Array.isArray(U))for(const be of U)be.remove(this);else U.remove(this);const{initialTeardown:Q}=this;if((0,o.m)(Q))try{Q()}catch(be){$=be instanceof O?be.errors:[be]}const{_teardowns:xe}=this;if(xe){this._teardowns=null;for(const be of xe)try{re(be)}catch(ke){$=null!=$?$:[],ke instanceof O?$=[...$,...ke.errors]:$.push(ke)}}if($)throw new O($)}}add($){var U;if($&&$!==this)if(this.closed)re($);else{if($ instanceof ie){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._teardowns=null!==(U=this._teardowns)&&void 0!==U?U:[]).push($)}}_hasParent($){const{_parentage:U}=this;return U===$||Array.isArray(U)&&U.includes($)}_addParent($){const{_parentage:U}=this;this._parentage=Array.isArray(U)?(U.push($),U):U?[U,$]:$}_removeParent($){const{_parentage:U}=this;U===$?this._parentage=null:Array.isArray(U)&&(0,ae.P)(U,$)}remove($){const{_teardowns:U}=this;U&&(0,ae.P)(U,$),$ instanceof ie&&$._removeParent(this)}}ie.EMPTY=(()=>{const le=new ie;return le.closed=!0,le})();const de=ie.EMPTY;function ee(le){return le instanceof ie||le&&"closed"in le&&(0,o.m)(le.remove)&&(0,o.m)(le.add)&&(0,o.m)(le.unsubscribe)}function re(le){(0,o.m)(le)?le():le.unsubscribe()}},5367:(Ve,he,k)=>{"use strict";k.d(he,{v:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5583:(Ve,he,k)=>{"use strict";k.d(he,{E:()=>K});const K=new(k(8305).y)(ie=>ie.complete())},5947:(Ve,he,k)=>{"use strict";k.d(he,{D:()=>Be});var o=k(9985),K=k(4763),O=k(5222),de=k(8305),re=k(5497),le=k(5044),$=k(8395);function Q(Te,Le){if(!Te)throw new Error("Iterable cannot be null");return new de.y(Ue=>{(0,$.f)(Ue,Le,()=>{const Xe=Te[Symbol.asyncIterator]();(0,$.f)(Ue,Le,()=>{Xe.next().then(te=>{te.done?Ue.complete():Ue.next(te.value)})},0,!0)})})}var xe=k(1073),be=k(2442),ke=k(1537),Re=k(2317),oe=k(9908),Y=k(3754),se=k(7751);function Be(Te,Le){return Le?function(Te,Le){if(null!=Te){if((0,xe.c)(Te))return function(Te,Le){return(0,o.Xf)(Te).pipe((0,O.R)(Le),(0,K.Q)(Le))}(Te,Le);if((0,ke.z)(Te))return function(Te,Le){return new de.y(Ue=>{let Xe=0;return Le.schedule(function(){Xe===Te.length?Ue.complete():(Ue.next(Te[Xe++]),Ue.closed||this.schedule())})})}(Te,Le);if((0,be.t)(Te))return function(Te,Le){return(0,o.Xf)(Te).pipe((0,O.R)(Le),(0,K.Q)(Le))}(Te,Le);if((0,oe.D)(Te))return Q(Te,Le);if((0,Re.T)(Te))return function(Te,Le){return new de.y(Ue=>{let Xe;return(0,$.f)(Ue,Le,()=>{Xe=Te[re.h](),(0,$.f)(Ue,Le,()=>{let te,ce;try{({value:te,done:ce}=Xe.next())}catch(fe){return void Ue.error(fe)}ce?Ue.complete():Ue.next(te)},0,!0)}),()=>(0,le.m)(null==Xe?void 0:Xe.return)&&Xe.return()})}(Te,Le);if((0,se.L)(Te))return function(Te,Le){return Q((0,se.Q)(Te),Le)}(Te,Le)}throw(0,Y.z)(Te)}(Te,Le):(0,o.Xf)(Te)}},9985:(Ve,he,k)=>{"use strict";k.d(he,{Xf:()=>xe});var o=k(9162),K=k(1537),O=k(2442),ae=k(8305),ie=k(1073),de=k(9908),ee=k(3754),re=k(2317),le=k(7751),$=k(5044),U=k(5160),Q=k(4816);function xe(ge){if(ge instanceof ae.y)return ge;if(null!=ge){if((0,ie.c)(ge))return function(ge){return new ae.y(Be=>{const Te=ge[Q.L]();if((0,$.m)(Te.subscribe))return Te.subscribe(Be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ge);if((0,K.z)(ge))return function(ge){return new ae.y(Be=>{for(let Te=0;Te<ge.length&&!Be.closed;Te++)Be.next(ge[Te]);Be.complete()})}(ge);if((0,O.t)(ge))return function(ge){return new ae.y(Be=>{ge.then(Te=>{Be.closed||(Be.next(Te),Be.complete())},Te=>Be.error(Te)).then(null,U.h)})}(ge);if((0,de.D)(ge))return Y(ge);if((0,re.T)(ge))return function(ge){return new ae.y(Be=>{for(const Te of ge)if(Be.next(Te),Be.closed)return;Be.complete()})}(ge);if((0,le.L)(ge))return function(ge){return Y((0,le.Q)(ge))}(ge)}throw(0,ee.z)(ge)}function Y(ge){return new ae.y(Be=>{(function(ge,Be){var Te,Le,Ue,Xe;return(0,o.mG)(this,void 0,void 0,function*(){try{for(Te=(0,o.KL)(ge);!(Le=yield Te.next()).done;)if(Be.next(Le.value),Be.closed)return}catch(te){Ue={error:te}}finally{try{Le&&!Le.done&&(Xe=Te.return)&&(yield Xe.call(Te))}finally{if(Ue)throw Ue.error}}Be.complete()})})(ge,Be).catch(Te=>Be.error(Te))})}},3719:(Ve,he,k)=>{"use strict";k.d(he,{T:()=>de});var o=k(5373),K=k(9985),O=k(5583),ae=k(7613),ie=k(5947);function de(...ee){const re=(0,ae.yG)(ee),le=(0,ae._6)(ee,1/0),$=ee;return $.length?1===$.length?(0,K.Xf)($[0]):(0,o.J)(le)((0,ie.D)($,re)):O.E}},8889:(Ve,he,k)=>{"use strict";k.d(he,{Q:()=>K});var o=k(584);class K extends o.Lv{constructor(ae,ie,de,ee,re){super(ae),this.onFinalize=re,this._next=ie?function(le){try{ie(le)}catch($){ae.error($)}}:super._next,this._error=ee?function(le){try{ee(le)}catch($){ae.error($)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(le){ae.error(le)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;const{closed:ie}=this;super.unsubscribe(),!ie&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}},4753:(Ve,he,k)=>{"use strict";k.d(he,{U:()=>O});var o=k(9947),K=k(8889);function O(ae,ie){return(0,o.e)((de,ee)=>{let re=0;de.subscribe(new K.Q(ee,le=>{ee.next(ae.call(ie,le,re++))}))})}},5373:(Ve,he,k)=>{"use strict";k.d(he,{J:()=>O});var o=k(5724),K=k(4623);function O(ae=1/0){return(0,o.z)(K.y,ae)}},5724:(Ve,he,k)=>{"use strict";k.d(he,{z:()=>re});var o=k(4753),K=k(9985),O=k(9947),ie=(k(8395),k(8889)),ee=k(5044);function re(le,$,U=1/0){return(0,ee.m)($)?re((Q,xe)=>(0,o.U)((be,ke)=>$(Q,be,xe,ke))((0,K.Xf)(le(Q,xe))),U):("number"==typeof $&&(U=$),(0,O.e)((Q,xe)=>function(le,$,U,Q,xe,be,ke,Re){const oe=[];let Y=0,se=0,ve=!1;const ge=()=>{ve&&!oe.length&&!Y&&$.complete()},Be=Le=>Y<Q?Te(Le):oe.push(Le),Te=Le=>{Y++;let Ue=!1;(0,K.Xf)(U(Le,se++)).subscribe(new ie.Q($,Xe=>{$.next(Xe)},()=>{Ue=!0},void 0,()=>{if(Ue)try{for(Y--;oe.length&&Y<Q;){const Xe=oe.shift();Te(Xe)}ge()}catch(Xe){$.error(Xe)}}))};return le.subscribe(new ie.Q($,Be,()=>{ve=!0,ge()})),()=>{}}(Q,xe,le,U)))}},4763:(Ve,he,k)=>{"use strict";k.d(he,{Q:()=>ae});var o=k(8395),K=k(9947),O=k(8889);function ae(ie,de=0){return(0,K.e)((ee,re)=>{ee.subscribe(new O.Q(re,le=>(0,o.f)(re,ie,()=>re.next(le),de),()=>(0,o.f)(re,ie,()=>re.complete(),de),le=>(0,o.f)(re,ie,()=>re.error(le),de)))})}},3174:(Ve,he,k)=>{"use strict";k.d(he,{B:()=>de});var o=k(5947),K=k(9468),O=k(273),ae=k(584),ie=k(9947);function de(re={}){const{connector:le=(()=>new O.x),resetOnError:$=!0,resetOnComplete:U=!0,resetOnRefCountZero:Q=!0}=re;return xe=>{let be=null,ke=null,Re=null,oe=0,Y=!1,se=!1;const ve=()=>{null==ke||ke.unsubscribe(),ke=null},ge=()=>{ve(),be=Re=null,Y=se=!1},Be=()=>{const Te=be;ge(),null==Te||Te.unsubscribe()};return(0,ie.e)((Te,Le)=>{oe++,!se&&!Y&&ve();const Ue=Re=null!=Re?Re:le();Le.add(()=>{oe--,0===oe&&!se&&!Y&&(ke=ee(Be,Q))}),Ue.subscribe(Le),be||(be=new ae.Hp({next:Xe=>Ue.next(Xe),error:Xe=>{se=!0,ve(),ke=ee(ge,$,Xe),Ue.error(Xe)},complete:()=>{Y=!0,ve(),ke=ee(ge,U),Ue.complete()}}),(0,o.D)(Te).subscribe(be))})(xe)}}function ee(re,le,...$){return!0===le?(re(),null):!1===le?null:le(...$).pipe((0,K.q)(1)).subscribe(()=>re())}},5222:(Ve,he,k)=>{"use strict";k.d(he,{R:()=>K});var o=k(9947);function K(O,ae=0){return(0,o.e)((ie,de)=>{de.add(O.schedule(()=>ie.subscribe(de),ae))})}},9468:(Ve,he,k)=>{"use strict";k.d(he,{q:()=>ae});var o=k(5583),K=k(9947),O=k(8889);function ae(ie){return ie<=0?()=>o.E:(0,K.e)((de,ee)=>{let re=0;de.subscribe(new O.Q(ee,le=>{++re<=ie&&(ee.next(le),ie<=re&&ee.complete())}))})}},7384:(Ve,he,k)=>{"use strict";k.d(he,{b:()=>ie});var o=k(5044),K=k(9947),O=k(8889),ae=k(4623);function ie(de,ee,re){const le=(0,o.m)(de)||ee||re?{next:de,error:ee,complete:re}:de;return le?(0,K.e)(($,U)=>{var Q;null===(Q=le.subscribe)||void 0===Q||Q.call(le);let xe=!0;$.subscribe(new O.Q(U,be=>{var ke;null===(ke=le.next)||void 0===ke||ke.call(le,be),U.next(be)},()=>{var be;xe=!1,null===(be=le.complete)||void 0===be||be.call(le),U.complete()},be=>{var ke;xe=!1,null===(ke=le.error)||void 0===ke||ke.call(le,be),U.error(be)},()=>{var be,ke;xe&&(null===(be=le.unsubscribe)||void 0===be||be.call(le)),null===(ke=le.finalize)||void 0===ke||ke.call(le)}))}):ae.y}},2869:(Ve,he,k)=>{"use strict";k.d(he,{o:()=>ie});var o=k(7908);class K extends o.w0{constructor(ee,re){super()}schedule(ee,re=0){return this}}const O={setInterval(...de){const{delegate:ee}=O;return((null==ee?void 0:ee.setInterval)||setInterval)(...de)},clearInterval(de){const{delegate:ee}=O;return((null==ee?void 0:ee.clearInterval)||clearInterval)(de)},delegate:void 0};var ae=k(3980);class ie extends K{constructor(ee,re){super(ee,re),this.scheduler=ee,this.work=re,this.pending=!1}schedule(ee,re=0){if(this.closed)return this;this.state=ee;const le=this.id,$=this.scheduler;return null!=le&&(this.id=this.recycleAsyncId($,le,re)),this.pending=!0,this.delay=re,this.id=this.id||this.requestAsyncId($,this.id,re),this}requestAsyncId(ee,re,le=0){return O.setInterval(ee.flush.bind(ee,this),le)}recycleAsyncId(ee,re,le=0){if(null!=le&&this.delay===le&&!1===this.pending)return re;O.clearInterval(re)}execute(ee,re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(ee,re);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ee,re){let $,le=!1;try{this.work(ee)}catch(U){le=!0,$=U||new Error("Scheduled action threw falsy error")}if(le)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:ee,scheduler:re}=this,{actions:le}=re;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(le,this),null!=ee&&(this.id=this.recycleAsyncId(re,ee,null)),this.delay=null,super.unsubscribe()}}}},8843:(Ve,he,k)=>{"use strict";k.d(he,{v:()=>O});var o=k(1733);class K{constructor(ie,de=K.now){this.schedulerActionCtor=ie,this.now=de}schedule(ie,de=0,ee){return new this.schedulerActionCtor(this,ie).schedule(ee,de)}}K.now=o.l.now;class O extends K{constructor(ie,de=K.now){super(ie,de),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ie){const{actions:de}=this;if(this._active)return void de.push(ie);let ee;this._active=!0;do{if(ee=ie.execute(ie.state,ie.delay))break}while(ie=de.shift());if(this._active=!1,ee){for(;ie=de.shift();)ie.unsubscribe();throw ee}}}},2210:(Ve,he,k)=>{"use strict";k.d(he,{z:()=>O,P:()=>ae});var o=k(2869);const O=new(k(8843).v)(o.o),ae=O},1733:(Ve,he,k)=>{"use strict";k.d(he,{l:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},2496:(Ve,he,k)=>{"use strict";k.d(he,{z:()=>o});const o={setTimeout(...K){const{delegate:O}=o;return((null==O?void 0:O.setTimeout)||setTimeout)(...K)},clearTimeout(K){const{delegate:O}=o;return((null==O?void 0:O.clearTimeout)||clearTimeout)(K)},delegate:void 0}},5497:(Ve,he,k)=>{"use strict";k.d(he,{h:()=>K});const K="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},4816:(Ve,he,k)=>{"use strict";k.d(he,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},7613:(Ve,he,k)=>{"use strict";k.d(he,{jO:()=>ae,yG:()=>ie,_6:()=>de});var o=k(5044),K=k(7398);function O(ee){return ee[ee.length-1]}function ae(ee){return(0,o.m)(O(ee))?ee.pop():void 0}function ie(ee){return(0,K.K)(O(ee))?ee.pop():void 0}function de(ee,re){return"number"==typeof O(ee)?ee.pop():re}},3980:(Ve,he,k)=>{"use strict";function o(K,O){if(K){const ae=K.indexOf(O);0<=ae&&K.splice(ae,1)}}k.d(he,{P:()=>o})},4893:(Ve,he,k)=>{"use strict";function o(K){const ae=K(ie=>{Error.call(ie),ie.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}k.d(he,{d:()=>o})},8706:(Ve,he,k)=>{"use strict";k.d(he,{x:()=>O,O:()=>ae});var o=k(5367);let K=null;function O(ie){if(o.v.useDeprecatedSynchronousErrorHandling){const de=!K;if(de&&(K={errorThrown:!1,error:null}),ie(),de){const{errorThrown:ee,error:re}=K;if(K=null,ee)throw re}}else ie()}function ae(ie){o.v.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=ie)}},8395:(Ve,he,k)=>{"use strict";function o(K,O,ae,ie=0,de=!1){const ee=O.schedule(function(){ae(),de?K.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(K.add(ee),!de)return ee}k.d(he,{f:()=>o})},4623:(Ve,he,k)=>{"use strict";function o(K){return K}k.d(he,{y:()=>o})},1537:(Ve,he,k)=>{"use strict";k.d(he,{z:()=>o});const o=K=>K&&"number"==typeof K.length&&"function"!=typeof K},9908:(Ve,he,k)=>{"use strict";k.d(he,{D:()=>K});var o=k(5044);function K(O){return Symbol.asyncIterator&&(0,o.m)(null==O?void 0:O[Symbol.asyncIterator])}},5044:(Ve,he,k)=>{"use strict";function o(K){return"function"==typeof K}k.d(he,{m:()=>o})},1073:(Ve,he,k)=>{"use strict";k.d(he,{c:()=>O});var o=k(4816),K=k(5044);function O(ae){return(0,K.m)(ae[o.L])}},2317:(Ve,he,k)=>{"use strict";k.d(he,{T:()=>O});var o=k(5497),K=k(5044);function O(ae){return(0,K.m)(null==ae?void 0:ae[o.h])}},2442:(Ve,he,k)=>{"use strict";k.d(he,{t:()=>K});var o=k(5044);function K(O){return(0,o.m)(null==O?void 0:O.then)}},7751:(Ve,he,k)=>{"use strict";k.d(he,{Q:()=>O,L:()=>ae});var o=k(9162),K=k(5044);function O(ie){return(0,o.FC)(this,arguments,function*(){const ee=ie.getReader();try{for(;;){const{value:re,done:le}=yield(0,o.qq)(ee.read());if(le)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(re)}}finally{ee.releaseLock()}})}function ae(ie){return(0,K.m)(null==ie?void 0:ie.getReader)}},7398:(Ve,he,k)=>{"use strict";k.d(he,{K:()=>K});var o=k(5044);function K(O){return O&&(0,o.m)(O.schedule)}},9947:(Ve,he,k)=>{"use strict";k.d(he,{A:()=>K,e:()=>O});var o=k(5044);function K(ae){return(0,o.m)(null==ae?void 0:ae.lift)}function O(ae){return ie=>{if(K(ie))return ie.lift(function(de){try{return ae(de,this)}catch(ee){this.error(ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},6921:(Ve,he,k)=>{"use strict";function o(){}k.d(he,{Z:()=>o})},5160:(Ve,he,k)=>{"use strict";k.d(he,{h:()=>O});var o=k(5367),K=k(2496);function O(ae){K.z.setTimeout(()=>{const{onUnhandledError:ie}=o.v;if(!ie)throw ae;ie(ae)})}},3754:(Ve,he,k)=>{"use strict";function o(K){return new TypeError(`You provided ${null!==K&&"object"==typeof K?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(he,{z:()=>o})},6265:(Ve,he,k)=>{"use strict";var o=k(3668);let K=null;function O(){return K}const ee=new o.OlP("DocumentToken");let re=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:function(){return(0,o.LFG)(U)},providedIn:"platform"}),t})();const $=new o.OlP("Location Initialized");let U=(()=>{class t extends re{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(e){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,a){Q()?this._history.pushState(e,i,a):this.location.hash=a}replaceState(e,i,a){Q()?this._history.replaceState(e,i,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(ee))},t.\u0275prov=o.Yz7({token:t,factory:function(){return new U((0,o.LFG)(ee))},providedIn:"platform"}),t})();function Q(){return!!window.history.pushState}function be(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function ke(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function Re(t){return t&&"?"!==t[0]?"?"+t:t}let oe=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:function(){return function(t){const n=(0,o.LFG)(ee).location;return new ve((0,o.LFG)(re),n&&n.origin||"")}()},providedIn:"root"}),t})();const se=new o.OlP("appBaseHref");let ve=(()=>{class t extends oe{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return be(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Re(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${i}${a}`:i}pushState(e,i,a,c){const p=this.prepareExternalUrl(a+Re(c));this._platformLocation.pushState(e,i,p)}replaceState(e,i,a,c){const p=this.prepareExternalUrl(a+Re(c));this._platformLocation.replaceState(e,i,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,a;null==(a=(i=this._platformLocation).historyGo)||a.call(i,e)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(re),o.LFG(se,8))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),ge=(()=>{class t extends oe{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=be(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,a,c){let p=this.prepareExternalUrl(a+Re(c));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(e,i,p)}replaceState(e,i,a,c){let p=this.prepareExternalUrl(a+Re(c));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,a;null==(a=(i=this._platformLocation).historyGo)||a.call(i,e)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(re),o.LFG(se,8))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),Be=(()=>{class t{constructor(e,i){this._subject=new o.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const a=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=ke(Ue(a)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Re(i))}normalize(e){return t.stripTrailingSlash(function(t,n){return t&&n.startsWith(t)?n.substring(t.length):n}(this._baseHref,Ue(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",a=null){this._platformStrategy.pushState(a,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Re(i)),a)}replaceState(e,i="",a=null){this._platformStrategy.replaceState(a,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Re(i)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,a;null==(a=(i=this._platformStrategy).historyGo)||a.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(a=>a(e,i))}subscribe(e,i,a){return this._subject.subscribe({next:e,error:i,complete:a})}}return t.normalizeQueryParams=Re,t.joinWithSlash=be,t.stripTrailingSlash=ke,t.\u0275fac=function(e){return new(e||t)(o.LFG(oe),o.LFG(re))},t.\u0275prov=o.Yz7({token:t,factory:function(){return new Be((0,o.LFG)(oe),(0,o.LFG)(re))},providedIn:"root"}),t})();function Ue(t){return t.replace(/\/index.html$/,"")}var ce=(()=>((ce=ce||{})[ce.Zero=0]="Zero",ce[ce.One=1]="One",ce[ce.Two=2]="Two",ce[ce.Few=3]="Few",ce[ce.Many=4]="Many",ce[ce.Other=5]="Other",ce))();const cr=o.kL8;class Si{}let Vt=(()=>{class t extends Si{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(cr(i||this.locale)(e)){case ce.Zero:return"zero";case ce.One:return"one";case ce.Two:return"two";case ce.Few:return"few";case ce.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.soG))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),tn=(()=>{class t{constructor(e,i){this._viewContainer=e,this._context=new Ea,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Gr("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Gr("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b),o.Y36(o.Rgc))},t.\u0275dir=o.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Ea{constructor(){this.$implicit=null,this.ngIf=null}}function Gr(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,o.AaK)(n)}'.`)}let Kn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[{provide:Si,useClass:Vt}]}),t})();let od=(()=>{class t{}return t.\u0275prov=(0,o.Yz7)({token:t,providedIn:"root",factory:()=>new Is((0,o.LFG)(ee),window)}),t})();class Is{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let a=i.currentNode;for(;a;){const c=a.shadowRoot;if(c){const p=c.getElementById(n)||c.querySelector(`[name="${n}"]`);if(p)return p}a=i.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),i=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(i-c[0],a-c[1])}attemptFocus(n){return n.focus(),this.document.activeElement===n}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=bo(this.window.history)||bo(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function bo(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class wo extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new wo,K||(K=t)}onAndCancel(n,e,i){return n.addEventListener(e,i,!1),()=>{n.removeEventListener(e,i,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=(_i=_i||document.querySelector("base"),_i?_i.getAttribute("href"):null);return null==e?null:function(t){En=En||document.createElement("a"),En.setAttribute("href",t);const n=En.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){_i=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const i=e.indexOf("="),[a,c]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(a.trim()===n)return decodeURIComponent(c)}return null}(document.cookie,n)}}let En,_i=null;const Do=new o.OlP("TRANSITION_ID"),Ft=[{provide:o.ip1,useFactory:function(t,n,e){return()=>{e.get(o.CZH).donePromise.then(()=>{const i=O(),a=n.querySelectorAll(`style[ng-transition="${t}"]`);for(let c=0;c<a.length;c++)i.remove(a[c])})}},deps:[Do,ee,o.zs3],multi:!0}];class Tr{static init(){(0,o.VLi)(new Tr)}addToWindow(n){o.dqk.getAngularTestability=(i,a=!0)=>{const c=n.findTestabilityInTree(i,a);if(null==c)throw new Error("Could not find testability for element.");return c},o.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(i=>{const a=o.dqk.getAllAngularTestabilities();let c=a.length,p=!1;const _=function(C){p=p||C,c--,0==c&&i(p)};a.forEach(function(C){C.whenStable(_)})})}findTestabilityInTree(n,e,i){if(null==e)return null;const a=n.getTestability(e);return null!=a?a:i?O().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null}}let As=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();const To=new o.OlP("EventManagerPlugins");let yi=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,a){return this._findPluginFor(i).addEventListener(e,i,a)}addGlobalEventListener(e,i,a){return this._findPluginFor(i).addGlobalEventListener(e,i,a)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const a=this._plugins;for(let c=0;c<a.length;c++){const p=a[c];if(p.supports(e))return this._eventNameToPlugin.set(e,p),p}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(To),o.LFG(o.R0b))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();class Ss{constructor(n){this._doc=n}addGlobalEventListener(n,e,i){const a=O().getGlobalEventTarget(this._doc,n);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,i)}}let zr=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),i.add(a))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),We=(()=>{class t extends zr{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,a){e.forEach(c=>{const p=this._doc.createElement("style");p.textContent=c,a.push(i.appendChild(p))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Sa),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,a)=>{this._addStylesToHost(e,a,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Sa))}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(ee))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();function Sa(t){O().remove(t)}const Ns={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Jo=/%COMP%/g;function Ir(t,n,e){for(let i=0;i<n.length;i++){let a=n[i];Array.isArray(a)?Ir(t,a,e):(a=a.replace(Jo,t),e.push(a))}return e}function nn(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&(n.preventDefault(),n.returnValue=!1)}}let Yr=(()=>{class t{constructor(e,i,a){this.eventManager=e,this.sharedStylesHost=i,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new Xn(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case o.ifc.Emulated:{let a=this.rendererByCompId.get(i.id);return a||(a=new Sl(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,a)),a.applyToHost(e),a}case 1:case o.ifc.ShadowDom:return new Nl(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const a=Ir(i.id,i.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(yi),o.LFG(We),o.LFG(o.AFp))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();class Xn{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(Ns[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){n.appendChild(e)}insertBefore(n,e,i){n&&n.insertBefore(e,i)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let i="string"==typeof n?document.querySelector(n):n;if(!i)throw new Error(`The selector "${n}" did not match any elements`);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,a){if(a){e=a+":"+e;const c=Ns[a];c?n.setAttributeNS(c,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){const a=Ns[i];a?n.removeAttributeNS(a,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,a){a&(o.JOm.DashCase|o.JOm.Important)?n.style.setProperty(e,i,a&o.JOm.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&o.JOm.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n[e]=i}setValue(n,e){n.nodeValue=e}listen(n,e,i){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,nn(i)):this.eventManager.addEventListener(n,e,nn(i))}}class Sl extends Xn{constructor(n,e,i,a){super(n),this.component=i;const c=Ir(a+"-"+i.id,i.styles,[]);e.addStyles(c),this.contentAttr="_ngcontent-%COMP%".replace(Jo,a+"-"+i.id),this.hostAttr="_nghost-%COMP%".replace(Jo,a+"-"+i.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,e){const i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}}class Nl extends Xn{constructor(n,e,i,a){super(n),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Ir(a.id,a.styles,[]);for(let p=0;p<c.length;p++){const _=document.createElement("style");_.textContent=c[p],this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let xs=(()=>{class t extends Ss{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,a){return e.addEventListener(i,a,!1),()=>this.removeEventListener(e,i,a)}removeEventListener(e,i,a){return e.removeEventListener(i,a)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(ee))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();const Ao=["alt","control","meta","shift"],Qi={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ks={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},qr={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let fr=(()=>{class t extends Ss{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,i,a){const c=t.parseEventName(i),p=t.eventCallback(c.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(e,c.domEventName,p))}static parseEventName(e){const i=e.toLowerCase().split("."),a=i.shift();if(0===i.length||"keydown"!==a&&"keyup"!==a)return null;const c=t._normalizeKey(i.pop());let p="";if(Ao.forEach(C=>{const I=i.indexOf(C);I>-1&&(i.splice(I,1),p+=C+".")}),p+=c,0!=i.length||0===c.length)return null;const _={};return _.domEventName=a,_.fullKey=p,_}static getEventFullKey(e){let i="",a=function(t){let n=t.key;if(null==n){if(n=t.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===t.location&&ks.hasOwnProperty(n)&&(n=ks[n]))}return Qi[n]||n}(e);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Ao.forEach(c=>{c!=a&&qr[c](e)&&(i+=c+".")}),i+=a,i}static eventCallback(e,i,a){return c=>{t.getEventFullKey(c)===e&&a.runGuarded(()=>i(c))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(ee))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();const Ko=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:"browser"},{provide:o.g9A,useValue:function(){wo.makeCurrent(),Tr.init()},multi:!0},{provide:ee,useFactory:function(){return(0,o.RDi)(document),document},deps:[]}]),ka=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function(){return new o.qLn},deps:[]},{provide:To,useClass:xs,multi:!0,deps:[ee,o.R0b,o.Lbi]},{provide:To,useClass:fr,multi:!0,deps:[ee]},{provide:Yr,useClass:Yr,deps:[yi,We,o.AFp]},{provide:o.FYo,useExisting:Yr},{provide:zr,useExisting:We},{provide:We,useClass:We,deps:[ee]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b]},{provide:yi,useClass:yi,deps:[To,o.R0b]},{provide:class{},useClass:As,deps:[]}];let Bs=(()=>{class t{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:o.AFp,useValue:e.appId},{provide:Do,useExisting:o.AFp},Ft]}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(t,12))},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:ka,imports:[Kn,o.hGG]}),t})();"undefined"!=typeof window&&window;let Qr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:function(e){let i=null;return i=e?new(e||t):o.LFG(ud),i},providedIn:"root"}),t})(),ud=(()=>{class t extends Qr{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case o.q3G.NONE:return i;case o.q3G.HTML:return(0,o.qzn)(i,"HTML")?(0,o.z3N)(i):(0,o.EiD)(this._doc,String(i)).toString();case o.q3G.STYLE:return(0,o.qzn)(i,"Style")?(0,o.z3N)(i):i;case o.q3G.SCRIPT:if((0,o.qzn)(i,"Script"))return(0,o.z3N)(i);throw new Error("unsafe value used in a script context");case o.q3G.URL:return(0,o.yhl)(i),(0,o.qzn)(i,"URL")?(0,o.z3N)(i):(0,o.mCW)(String(i));case o.q3G.RESOURCE_URL:if((0,o.qzn)(i,"ResourceURL"))return(0,o.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,o.JVY)(e)}bypassSecurityTrustStyle(e){return(0,o.L6k)(e)}bypassSecurityTrustScript(e){return(0,o.eBb)(e)}bypassSecurityTrustUrl(e){return(0,o.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,o.pB0)(e)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(ee))},t.\u0275prov=o.Yz7({token:t,factory:function(e){let i=null;return i=e?new e:function(t){return new ud(t.get(ee))}(o.LFG(o.zs3)),i},providedIn:"root"}),t})();var _n=k(5947),Ar=k(7613);function je(...t){const n=(0,Ar.yG)(t);return(0,_n.D)(t,n)}var Dt=k(273);class Rn extends Dt.x{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:i}=this;if(n)throw e;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}}var xn=k(8305);const{isArray:Xo}=Array,{getPrototypeOf:nf,prototype:Ws,keys:Va}=Object;function So(t){if(1===t.length){const n=t[0];if(Xo(n))return{args:n,keys:null};if(function(t){return t&&"object"==typeof t&&nf(t)===Ws}(n)){const e=Va(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}var pr=k(4623),ot=k(4753);const{isArray:dd}=Array;function No(t){return(0,ot.U)(n=>function(t,n){return dd(n)?t(...n):t(n)}(t,n))}function es(t,n){return t.reduce((e,i,a)=>(e[i]=n[a],e),{})}var Jt=k(8889),Ha=k(8395);function er(t,n,e){t?(0,Ha.f)(e,t,n):n()}const ts=(0,k(4893).d)(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});var Mo=k(5373);function zs(...t){return(0,Mo.J)(1)((0,_n.D)(t,(0,Ar.yG)(t)))}var on=k(9985);function eo(t){return new xn.y(n=>{(0,on.Xf)(t()).subscribe(n)})}var Ro=k(5583),xo=k(7908),Un=k(9947);function Xt(){return(0,Un.e)((t,n)=>{let e=null;t._refCount++;const i=new Jt.Q(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const a=t._connection,c=e;e=null,a&&(!c||a===c)&&a.unsubscribe(),n.unsubscribe()});t.subscribe(i),i.closed||(e=t.connect())})}class Ua extends xn.y{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Un.A)(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,null==n||n.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new xo.w0;const e=this.getSubject();n.add(this.source.subscribe(new Jt.Q(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=xo.w0.EMPTY)}return n}refCount(){return Xt()(this)}}function un(t,n){return(0,Un.e)((e,i)=>{let a=null,c=0,p=!1;const _=()=>p&&!a&&i.complete();e.subscribe(new Jt.Q(i,C=>{null==a||a.unsubscribe();let I=0;const R=c++;(0,on.Xf)(t(C,R)).subscribe(a=new Jt.Q(i,x=>i.next(n?n(C,x,R,I++):x),()=>{a=null,_()}))},()=>{p=!0,_()}))})}var yn=k(9468);function to(t,n,e,i,a){return(c,p)=>{let _=e,C=n,I=0;c.subscribe(new Jt.Q(p,R=>{const x=I++;C=_?t(C,R,x):(_=!0,R),i&&p.next(C)},a&&(()=>{_&&p.next(C),p.complete()})))}}function Sr(t,n){return(0,Un.e)(to(t,n,arguments.length>=2,!0))}function $t(t,n){return(0,Un.e)((e,i)=>{let a=0;e.subscribe(new Jt.Q(i,c=>t.call(n,c,a++)&&i.next(c)))})}function gr(t){return(0,Un.e)((n,e)=>{let c,i=null,a=!1;i=n.subscribe(new Jt.Q(e,void 0,void 0,p=>{c=(0,on.Xf)(t(p,gr(t)(n))),i?(i.unsubscribe(),i=null,c.subscribe(e)):a=!0})),a&&(i.unsubscribe(),i=null,c.subscribe(e))})}var Lt=k(5724),no=k(5044);function Nr(t,n){return(0,no.m)(n)?(0,Lt.z)(t,n,1):(0,Lt.z)(t,1)}function Gt(t){return t<=0?()=>Ro.E:(0,Un.e)((n,e)=>{let i=[];n.subscribe(new Jt.Q(e,a=>{i.push(a),t<i.length&&i.shift()},()=>{for(const a of i)e.next(a);e.complete()},void 0,()=>{i=null}))})}function $a(t=fd){return(0,Un.e)((n,e)=>{let i=!1;n.subscribe(new Jt.Q(e,a=>{i=!0,e.next(a)},()=>i?e.complete():e.error(t())))})}function fd(){return new ts}function pd(t){return(0,Un.e)((n,e)=>{let i=!1;n.subscribe(new Jt.Q(e,a=>{i=!0,e.next(a)},()=>{i||e.next(t),e.complete()}))})}function Ys(t,n){const e=arguments.length>=2;return i=>i.pipe(t?$t((a,c)=>t(a,c,i)):pr.y,(0,yn.q)(1),e?pd(n):$a(()=>new ts))}var On=k(7384);class vi{constructor(n,e){this.id=n,this.url=e}}class Fc extends vi{constructor(n,e,i="imperative",a=null){super(n,e),this.navigationTrigger=i,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class pn extends vi{constructor(n,e,i){super(n,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class io extends vi{constructor(n,e,i){super(n,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qs extends vi{constructor(n,e,i){super(n,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class rf extends vi{constructor(n,e,i,a){super(n,e),this.urlAfterRedirects=i,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class md extends vi{constructor(n,e,i,a){super(n,e),this.urlAfterRedirects=i,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ni extends vi{constructor(n,e,i,a,c){super(n,e),this.urlAfterRedirects=i,this.state=a,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class mr extends vi{constructor(n,e,i,a){super(n,e),this.urlAfterRedirects=i,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ol extends vi{constructor(n,e,i,a){super(n,e),this.urlAfterRedirects=i,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ns{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class is{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Lc{constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Js{constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pl{constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _d{constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fl{constructor(n,e,i){this.routerEvent=n,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ut="primary";class si{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function _r(t){return new si(t)}const rs="ngNavigationCancelingError";function yd(t){const n=Error("NavigationCancelingError: "+t);return n[rs]=!0,n}function Bc(t,n,e){const i=e.path.split("/");if(i.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||i.length<t.length))return null;const a={};for(let c=0;c<i.length;c++){const p=i[c],_=t[c];if(p.startsWith(":"))a[p.substring(1)]=_;else if(p!==_.path)return null}return{consumed:t.slice(0,i.length),posParams:a}}function ai(t,n){const e=t?Object.keys(t):void 0,i=n?Object.keys(n):void 0;if(!e||!i||e.length!=i.length)return!1;let a;for(let c=0;c<e.length;c++)if(a=e[c],!Ll(t[a],n[a]))return!1;return!0}function Ll(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),i=[...n].sort();return e.every((a,c)=>i[c]===a)}return t===n}function ja(t){return Array.prototype.concat.apply([],t)}function Bl(t){return t.length>0?t[t.length-1]:null}function Tn(t,n){for(const e in t)t.hasOwnProperty(e)&&n(t[e],e)}function $n(t){return(0,o.CqO)(t)?t:(0,o.QGY)(t)?(0,_n.D)(Promise.resolve(t)):je(t)}const Wa={exact:function Vl(t,n,e){if(!Fe(t.segments,n.segments)||!L(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!t.children[i]||!Vl(t.children[i],n.children[i],e))return!1;return!0},subset:E},Mr={exact:function(t,n){return ai(t,n)},subset:function(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>Ll(t[e],n[e]))},ignored:()=>!0};function Za(t,n,e){return Wa[e.paths](t.root,n.root,e.matrixParams)&&Mr[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function E(t,n,e){return M(t,n,n.segments,e)}function M(t,n,e,i){if(t.segments.length>e.length){const a=t.segments.slice(0,e.length);return!(!Fe(a,e)||n.hasChildren()||!L(a,e,i))}if(t.segments.length===e.length){if(!Fe(t.segments,e)||!L(t.segments,e,i))return!1;for(const a in n.children)if(!t.children[a]||!E(t.children[a],n.children[a],i))return!1;return!0}{const a=e.slice(0,t.segments.length),c=e.slice(t.segments.length);return!!(Fe(t.segments,a)&&L(t.segments,a,i)&&t.children[ut])&&M(t.children[ut],n,c,i)}}function L(t,n,e){return n.every((i,a)=>Mr[e](t[a].parameters,i.parameters))}class z{constructor(n,e,i){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_r(this.queryParams)),this._queryParamMap}toString(){return Ci.serialize(this)}}class Z{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Tn(e,(i,a)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sn(this)}}class De{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=_r(this.parameters)),this._parameterMap}toString(){return Hl(this)}}function Fe(t,n){return t.length===n.length&&t.every((e,i)=>e.path===n[i].path)}class Bt{}class bi{parse(n){const e=new yy(n);return new z(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${ei(n.root,!0)}`,i=function(t){const n=Object.keys(t).map(e=>{const i=t[e];return Array.isArray(i)?i.map(a=>`${Mi(e)}=${Mi(a)}`).join("&"):`${Mi(e)}=${Mi(i)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);var t;return`${e}${i}${"string"==typeof n.fragment?`#${t=n.fragment,encodeURI(t)}`:""}`}}const Ci=new bi;function sn(t){return t.segments.map(n=>Hl(n)).join("/")}function ei(t,n){if(!t.hasChildren())return sn(t);if(n){const e=t.children[ut]?ei(t.children[ut],!1):"",i=[];return Tn(t.children,(a,c)=>{c!==ut&&i.push(`${c}:${ei(a,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function(t,n){let e=[];return Tn(t.children,(i,a)=>{a===ut&&(e=e.concat(n(i,a)))}),Tn(t.children,(i,a)=>{a!==ut&&(e=e.concat(n(i,a)))}),e}(t,(i,a)=>a===ut?[ei(t.children[ut],!1)]:[`${a}:${ei(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ut]?`${sn(t)}/${e[0]}`:`${sn(t)}/(${e.join("//")})`}}function ko(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mi(t){return ko(t).replace(/%3B/gi,";")}function Rr(t){return ko(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Oo(t){return decodeURIComponent(t)}function Ks(t){return Oo(t.replace(/\+/g,"%20"))}function Hl(t){return`${Rr(t.path)}${function(t){return Object.keys(t).map(n=>`;${Rr(n)}=${Rr(t[n])}`).join("")}(t.parameters)}`}const Qs=/^[^\/()?;=#]+/;function Po(t){const n=t.match(Qs);return n?n[0]:""}const ng=/^[^=?&#]+/,Vc=/^[^&#]+/;class yy{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Z([],{}):new Z([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[ut]=new Z(n,e)),i}parseSegment(){const n=Po(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new De(Oo(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=Po(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=Po(this.remaining);a&&(i=a,this.capture(i))}n[Oo(e)]=Oo(i)}parseQueryParam(n){const e=function(t){const n=t.match(ng);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const p=function(t){const n=t.match(Vc);return n?n[0]:""}(this.remaining);p&&(i=p,this.capture(i))}const a=Ks(e),c=Ks(i);if(n.hasOwnProperty(a)){let p=n[a];Array.isArray(p)||(p=[p],n[a]=p),p.push(c)}else n[a]=c}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Po(this.remaining),a=this.remaining[i.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let c;i.indexOf(":")>-1?(c=i.substr(0,i.indexOf(":")),this.capture(c),this.capture(":")):n&&(c=ut);const p=this.parseChildren();e[c]=1===Object.keys(p).length?p[ut]:new Z([],p),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class Hc{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=Dd(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){const e=Dd(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=Ed(n,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==n)}pathFromRoot(n){return Ed(n,this._root).map(e=>e.value)}}function Dd(t,n){if(t===n.value)return n;for(const e of n.children){const i=Dd(t,e);if(i)return i}return null}function Ed(t,n){if(t===n.value)return[n];for(const e of n.children){const i=Ed(t,e);if(i.length)return i.unshift(n),i}return[]}class Ui{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function os(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class Fo extends Hc{constructor(n,e){super(n),this.snapshot=e,$l(this,n)}toString(){return this.snapshot.toString()}}function Ul(t,n){const e=function(t,n){const p=new Ya([],{},{},"",{},ut,n,null,t.root,-1,{});return new Uc("",new Ui(p,[]))}(t,n),i=new Rn([new De("",{})]),a=new Rn({}),c=new Rn({}),p=new Rn({}),_=new Rn(""),C=new za(i,a,p,_,c,ut,n,e.root);return C.snapshot=e.root,new Fo(new Ui(C,[]),e)}class za{constructor(n,e,i,a,c,p,_,C){this.url=n,this.params=e,this.queryParams=i,this.fragment=a,this.data=c,this.outlet=p,this.component=_,this._futureSnapshot=C}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ot.U)(n=>_r(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ot.U)(n=>_r(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Xs(t,n="emptyOnly"){const e=t.pathFromRoot;let i=0;if("always"!==n)for(i=e.length-1;i>=1;){const a=e[i],c=e[i-1];if(a.routeConfig&&""===a.routeConfig.path)i--;else{if(c.component)break;i--}}return function(t){return t.reduce((n,e)=>({params:qe(qe({},n.params),e.params),data:qe(qe({},n.data),e.data),resolve:qe(qe({},n.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Ya{constructor(n,e,i,a,c,p,_,C,I,R,x){this.url=n,this.params=e,this.queryParams=i,this.fragment=a,this.data=c,this.outlet=p,this.component=_,this.routeConfig=C,this._urlSegment=I,this._lastPathIndex=R,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_r(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_r(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Uc extends Hc{constructor(n,e){super(e),this.url=n,$l(this,e)}toString(){return ss(this._root)}}function $l(t,n){n.value._routerState=t,n.children.forEach(e=>$l(t,e))}function ss(t){const n=t.children.length>0?` { ${t.children.map(ss).join(", ")} } `:"";return`${t.value}${n}`}function $c(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,ai(n.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),n.fragment!==e.fragment&&t.fragment.next(e.fragment),ai(n.params,e.params)||t.params.next(e.params),function(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!ai(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.url.next(e.url),ai(n.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function jl(t,n){const e=ai(t.params,n.params)&&function(t,n){return Fe(t,n)&&t.every((e,i)=>ai(e.parameters,n[i].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||jl(t.parent,n.parent))}function Gl(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=n.value;const a=function(t,n,e){return n.children.map(i=>{for(const a of e.children)if(t.shouldReuseRoute(i.value,a.value.snapshot))return Gl(t,i,a);return Gl(t,i)})}(t,n,e);return new Ui(i,a)}{if(t.shouldAttach(n.value)){const c=t.retrieve(n.value);if(null!==c){const p=c.route;return p.value._futureSnapshot=n.value,p.children=n.children.map(_=>Gl(t,_)),p}}const i=function(t){return new za(new Rn(t.url),new Rn(t.params),new Rn(t.queryParams),new Rn(t.fragment),new Rn(t.data),t.outlet,t.component,t)}(n.value),a=n.children.map(c=>Gl(t,c));return new Ui(i,a)}}function Wl(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ja(t){return"object"==typeof t&&null!=t&&t.outlets}function Ad(t,n,e,i,a){let c={};return i&&Tn(i,(p,_)=>{c[_]=Array.isArray(p)?p.map(C=>`${C}`):`${p}`}),new z(e.root===t?n:Zl(e.root,t,n),c,a)}function Zl(t,n,e){const i={};return Tn(t.children,(a,c)=>{i[c]=a===n?e:Zl(a,n,e)}),new Z(t.segments,i)}class of{constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&Wl(i[0]))throw new Error("Root segment cannot have matrix parameters");const a=i.find(Ja);if(a&&a!==Bl(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class jc{constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}}function sf(t,n,e){if(t||(t=new Z([],{})),0===t.segments.length&&t.hasChildren())return Sd(t,n,e);const i=function(t,n,e){let i=0,a=n;const c={match:!1,pathIndex:0,commandIndex:0};for(;a<t.segments.length;){if(i>=e.length)return c;const p=t.segments[a],_=e[i];if(Ja(_))break;const C=`${_}`,I=i<e.length-1?e[i+1]:null;if(a>0&&void 0===C)break;if(C&&I&&"object"==typeof I&&void 0===I.outlets){if(!Ka(C,I,p))return c;i+=2}else{if(!Ka(C,{},p))return c;i++}a++}return{match:!0,pathIndex:a,commandIndex:i}}(t,n,e),a=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const c=new Z(t.segments.slice(0,i.pathIndex),{});return c.children[ut]=new Z(t.segments.slice(i.pathIndex),t.children),Sd(c,0,a)}return i.match&&0===a.length?new Z(t.segments,{}):i.match&&!t.hasChildren()?ea(t,n,e):i.match?Sd(t,0,a):ea(t,n,e)}function Sd(t,n,e){if(0===e.length)return new Z(t.segments,{});{const i=function(t){return Ja(t[0])?t[0].outlets:{[ut]:t}}(e),a={};return Tn(i,(c,p)=>{"string"==typeof c&&(c=[c]),null!==c&&(a[p]=sf(t.children[p],n,c))}),Tn(t.children,(c,p)=>{void 0===i[p]&&(a[p]=c)}),new Z(t.segments,a)}}function ea(t,n,e){const i=t.segments.slice(0,n);let a=0;for(;a<e.length;){const c=e[a];if(Ja(c)){const C=af(c.outlets);return new Z(i,C)}if(0===a&&Wl(e[0])){i.push(new De(t.segments[n].path,kr(e[0]))),a++;continue}const p=Ja(c)?c.outlets[ut]:`${c}`,_=a<e.length-1?e[a+1]:null;p&&_&&Wl(_)?(i.push(new De(p,kr(_))),a+=2):(i.push(new De(p,{})),a++)}return new Z(i,{})}function af(t){const n={};return Tn(t,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(n[i]=ea(new Z([],{}),0,e))}),n}function kr(t){const n={};return Tn(t,(e,i)=>n[i]=`${e}`),n}function Ka(t,n,e){return t==e.path&&ai(n,e.parameters)}class Md{constructor(n,e,i,a){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=a}activate(n){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),$c(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){const a=os(e);n.children.forEach(c=>{const p=c.value.outlet;this.deactivateRoutes(c,a[p],i),delete a[p]}),Tn(a,(c,p)=>{this.deactivateRouteAndItsChildren(c,i)})}deactivateRoutes(n,e,i){const a=n.value,c=e?e.value:null;if(a===c)if(a.component){const p=i.getContext(a.outlet);p&&this.deactivateChildRoutes(n,e,p.children)}else this.deactivateChildRoutes(n,e,i);else c&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const i=e.getContext(n.value.outlet),a=i&&n.value.component?i.children:e,c=os(n);for(const p of Object.keys(c))this.deactivateRouteAndItsChildren(c[p],a);if(i&&i.outlet){const p=i.outlet.detach(),_=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:p,route:n,contexts:_})}}deactivateRouteAndOutlet(n,e){const i=e.getContext(n.value.outlet),a=i&&n.value.component?i.children:e,c=os(n);for(const p of Object.keys(c))this.deactivateRouteAndItsChildren(c[p],a);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(n,e,i){const a=os(e);n.children.forEach(c=>{this.activateRoutes(c,a[c.value.outlet],i),this.forwardEvent(new _d(c.value.snapshot))}),n.children.length&&this.forwardEvent(new Js(n.value.snapshot))}activateRoutes(n,e,i){const a=n.value,c=e?e.value:null;if($c(a),a===c)if(a.component){const p=i.getOrCreateContext(a.outlet);this.activateChildRoutes(n,e,p.children)}else this.activateChildRoutes(n,e,i);else if(a.component){const p=i.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const _=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),p.children.onOutletReAttached(_.contexts),p.attachRef=_.componentRef,p.route=_.route.value,p.outlet&&p.outlet.attach(_.componentRef,_.route.value),$c(_.route.value),this.activateChildRoutes(n,null,p.children)}else{const _=function(t){for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(a.snapshot),C=_?_.module.componentFactoryResolver:null;p.attachRef=null,p.route=a,p.resolver=C,p.outlet&&p.outlet.activateWith(a,C),this.activateChildRoutes(n,null,p.children)}}else this.activateChildRoutes(n,null,i)}}class uf{constructor(n,e){this.routes=n,this.module=e}}function ta(t){return"function"==typeof t}function Or(t){return t instanceof z}const Qa=Symbol("INITIAL_VALUE");function na(){return un(t=>function(...t){const n=(0,Ar.yG)(t),e=(0,Ar.jO)(t),{args:i,keys:a}=So(t);if(0===i.length)return(0,_n.D)([],n);const c=new xn.y(function(t,n,e=pr.y){return i=>{er(n,()=>{const{length:a}=t,c=new Array(a);let p=a,_=a;for(let C=0;C<a;C++)er(n,()=>{const I=(0,_n.D)(t[C],n);let R=!1;I.subscribe(new Jt.Q(i,x=>{c[C]=x,R||(R=!0,_--),_||i.next(e(c.slice()))},()=>{--p||i.complete()}))},i)},i)}}(i,n,a?p=>es(a,p):pr.y));return e?c.pipe(No(e)):c}(t.map(n=>n.pipe((0,yn.q)(1),function(...t){const n=(0,Ar.yG)(t);return(0,Un.e)((e,i)=>{(n?zs(t,e,n):zs(t,e)).subscribe(i)})}(Qa)))).pipe(Sr((n,e)=>{let i=!1;return e.reduce((a,c,p)=>a!==Qa?a:(c===Qa&&(i=!0),i||!1!==c&&p!==e.length-1&&!Or(c)?a:c),n)},Qa),$t(n=>n!==Qa),(0,ot.U)(n=>Or(n)?n:!0===n),(0,yn.q)(1)))}class dg{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Xa,this.attachRef=null}}class Xa{constructor(){this.contexts=new Map}onChildOutletCreated(n,e){const i=this.getOrCreateContext(n);i.outlet=e,this.contexts.set(n,i)}onChildOutletDestroyed(n){const e=this.getContext(n);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let e=this.getContext(n);return e||(e=new dg,this.contexts.set(n,e)),e}getContext(n){return this.contexts.get(n)||null}}let Gc=(()=>{class t{constructor(e,i,a,c,p){this.parentContexts=e,this.location=i,this.resolver=a,this.changeDetector=p,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.name=c||ut,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const p=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),_=this.parentContexts.getOrCreateContext(this.name).children,C=new df(e,_,this.location.injector);this.activated=this.location.createComponent(p,this.location.length,C),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Xa),o.Y36(o.s_b),o.Y36(o._Vd),o.$8M("name"),o.Y36(o.sBO))},t.\u0275dir=o.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class df{constructor(n,e,i){this.route=n,this.childContexts=e,this.parent=i}get(n,e){return n===za?this.route:n===Xa?this.childContexts:this.parent.get(n,e)}}let Yl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"router-outlet")},directives:[Gc],encapsulation:2}),t})();function xd(t,n=""){for(let e=0;e<t.length;e++){const i=t[e];hf(i,ia(n,i))}}function hf(t,n){t.children&&xd(t.children,n)}function ia(t,n){return n?t||n.path?t&&!n.path?`${t}/`:!t&&n.path?n.path:`${t}/${n.path}`:"":t}function vn(t){const n=t.children&&t.children.map(vn),e=n?zn(qe({},t),{children:n}):qe({},t);return!e.component&&(n||e.loadChildren)&&e.outlet&&e.outlet!==ut&&(e.component=Yl),e}function nr(t){return t.outlet||ut}function Wc(t,n){const e=t.filter(i=>nr(i)===n);return e.push(...t.filter(i=>nr(i)!==n)),e}const Zc={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function as(t,n,e){var _;if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?qe({},Zc):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const a=(n.matcher||Bc)(e,t,n);if(!a)return qe({},Zc);const c={};Tn(a.posParams,(C,I)=>{c[I]=C.path});const p=a.consumed.length>0?qe(qe({},c),a.consumed[a.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:a.consumed,lastChild:a.consumed.length,parameters:p,positionalParamSegments:null!=(_=a.posParams)?_:{}}}function zc(t,n,e,i,a="corrected"){if(e.length>0&&function(t,n,e){return e.some(i=>ql(t,n,i)&&nr(i)!==ut)}(t,e,i)){const p=new Z(n,function(t,n,e,i){const a={};a[ut]=i,i._sourceSegment=t,i._segmentIndexShift=n.length;for(const c of e)if(""===c.path&&nr(c)!==ut){const p=new Z([],{});p._sourceSegment=t,p._segmentIndexShift=n.length,a[nr(c)]=p}return a}(t,n,i,new Z(e,t.children)));return p._sourceSegment=t,p._segmentIndexShift=n.length,{segmentGroup:p,slicedSegments:[]}}if(0===e.length&&function(t,n,e){return e.some(i=>ql(t,n,i))}(t,e,i)){const p=new Z(t.segments,function(t,n,e,i,a,c){const p={};for(const _ of i)if(ql(t,e,_)&&!a[nr(_)]){const C=new Z([],{});C._sourceSegment=t,C._segmentIndexShift="legacy"===c?t.segments.length:n.length,p[nr(_)]=C}return qe(qe({},a),p)}(t,n,e,i,t.children,a));return p._sourceSegment=t,p._segmentIndexShift=n.length,{segmentGroup:p,slicedSegments:e}}const c=new Z(t.segments,t.children);return c._sourceSegment=t,c._segmentIndexShift=n.length,{segmentGroup:c,slicedSegments:e}}function ql(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}function gg(t,n,e,i){return!!(nr(t)===i||i!==ut&&ql(n,e,t))&&("**"===t.path||as(n,t,e).matched)}function el(t,n,e){return 0===n.length&&!t.children[e]}class jn{constructor(n){this.segmentGroup=n||null}}class Yc{constructor(n){this.urlTree=n}}function Jl(t){return new xn.y(n=>n.error(new jn(t)))}function qc(t){return new xn.y(n=>n.error(new Yc(t)))}function ti(t){return new xn.y(n=>n.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Pd{constructor(n,e,i,a,c){this.configLoader=e,this.urlSerializer=i,this.urlTree=a,this.config=c,this.allowRedirects=!0,this.ngModule=n.get(o.h0i)}apply(){const n=zc(this.urlTree.root,[],[],this.config).segmentGroup,e=new Z(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,e,ut).pipe((0,ot.U)(c=>this.createUrlTree(Jc(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(gr(c=>{if(c instanceof Yc)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof jn?this.noMatchError(c):c}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,ut).pipe((0,ot.U)(a=>this.createUrlTree(Jc(a),n.queryParams,n.fragment))).pipe(gr(a=>{throw a instanceof jn?this.noMatchError(a):a}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,e,i){const a=n.segments.length>0?new Z([],{[ut]:n}):n;return new z(a,e,i)}expandSegmentGroup(n,e,i,a){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(n,e,i).pipe((0,ot.U)(c=>new Z([],c))):this.expandSegment(n,i,e,i.segments,a,!0)}expandChildren(n,e,i){const a=[];for(const c of Object.keys(i.children))"primary"===c?a.unshift(c):a.push(c);return(0,_n.D)(a).pipe(Nr(c=>{const p=i.children[c],_=Wc(e,c);return this.expandSegmentGroup(n,_,p,c).pipe((0,ot.U)(C=>({segment:C,outlet:c})))}),Sr((c,p)=>(c[p.outlet]=p.segment,c),{}),function(t,n){const e=arguments.length>=2;return i=>i.pipe(t?$t((a,c)=>t(a,c,i)):pr.y,Gt(1),e?pd(n):$a(()=>new ts))}())}expandSegment(n,e,i,a,c,p){return(0,_n.D)(i).pipe(Nr(_=>this.expandSegmentAgainstRoute(n,e,i,_,a,c,p).pipe(gr(I=>{if(I instanceof jn)return je(null);throw I}))),Ys(_=>!!_),gr((_,C)=>{if(_ instanceof ts||"EmptyError"===_.name){if(el(e,a,c))return je(new Z([],{}));throw new jn(e)}throw _}))}expandSegmentAgainstRoute(n,e,i,a,c,p,_){return gg(a,e,c,p)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(n,e,a,c,p):_&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,i,a,c,p):Jl(e):Jl(e)}expandSegmentAgainstRouteUsingRedirect(n,e,i,a,c,p){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,i,a,p):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,a,c,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,i,a){const c=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?qc(c):this.lineralizeSegments(i,c).pipe((0,Lt.z)(p=>{const _=new Z(p,{});return this.expandSegment(n,_,e,p,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,a,c,p){const{matched:_,consumedSegments:C,lastChild:I,positionalParamSegments:R}=as(e,a,c);if(!_)return Jl(e);const x=this.applyRedirectCommands(C,a.redirectTo,R);return a.redirectTo.startsWith("/")?qc(x):this.lineralizeSegments(a,x).pipe((0,Lt.z)(V=>this.expandSegment(n,e,i,V.concat(c.slice(I)),p,!1)))}matchSegmentAgainstRoute(n,e,i,a,c){if("**"===i.path)return i.loadChildren?(i._loadedConfig?je(i._loadedConfig):this.configLoader.load(n.injector,i)).pipe((0,ot.U)(V=>(i._loadedConfig=V,new Z(a,{})))):je(new Z(a,{}));const{matched:p,consumedSegments:_,lastChild:C}=as(e,i,a);if(!p)return Jl(e);const I=a.slice(C);return this.getChildConfig(n,i,a).pipe((0,Lt.z)(x=>{const V=x.module,J=x.routes,{segmentGroup:_e,slicedSegments:Me}=zc(e,_,I,J),Je=new Z(_e.segments,_e.children);if(0===Me.length&&Je.hasChildren())return this.expandChildren(V,J,Je).pipe((0,ot.U)(jt=>new Z(_,jt)));if(0===J.length&&0===Me.length)return je(new Z(_,{}));const Nt=nr(i)===c;return this.expandSegment(V,Je,J,Me,Nt?ut:c,!0).pipe((0,ot.U)(Bn=>new Z(_.concat(Bn.segments),Bn.children)))}))}getChildConfig(n,e,i){return e.children?je(new uf(e.children,n)):e.loadChildren?void 0!==e._loadedConfig?je(e._loadedConfig):this.runCanLoadGuards(n.injector,e,i).pipe((0,Lt.z)(a=>{return a?this.configLoader.load(n.injector,e).pipe((0,ot.U)(c=>(e._loadedConfig=c,c))):(t=e,new xn.y(n=>n.error(yd(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))));var t})):je(new uf([],n))}runCanLoadGuards(n,e,i){const a=e.canLoad;return a&&0!==a.length?je(a.map(p=>{const _=n.get(p);let C;if((t=_)&&ta(t.canLoad))C=_.canLoad(e,i);else{if(!ta(_))throw new Error("Invalid CanLoad guard");C=_(e,i)}var t;return $n(C)})).pipe(na(),(0,On.b)(p=>{if(!Or(p))return;const _=yd(`Redirecting to "${this.urlSerializer.serialize(p)}"`);throw _.url=p,_}),(0,ot.U)(p=>!0===p)):je(!0)}lineralizeSegments(n,e){let i=[],a=e.root;for(;;){if(i=i.concat(a.segments),0===a.numberOfChildren)return je(i);if(a.numberOfChildren>1||!a.children[ut])return ti(n.redirectTo);a=a.children[ut]}}applyRedirectCommands(n,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),n,i)}applyRedirectCreatreUrlTree(n,e,i,a){const c=this.createSegmentGroup(n,e.root,i,a);return new z(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const i={};return Tn(n,(a,c)=>{if("string"==typeof a&&a.startsWith(":")){const _=a.substring(1);i[c]=e[_]}else i[c]=a}),i}createSegmentGroup(n,e,i,a){const c=this.createSegments(n,e.segments,i,a);let p={};return Tn(e.children,(_,C)=>{p[C]=this.createSegmentGroup(n,_,i,a)}),new Z(c,p)}createSegments(n,e,i,a){return e.map(c=>c.path.startsWith(":")?this.findPosParam(n,c,a):this.findOrReturn(c,i))}findPosParam(n,e,i){const a=i[e.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${n}'. Cannot find '${e.path}'.`);return a}findOrReturn(n,e){let i=0;for(const a of e){if(a.path===n.path)return e.splice(i),a;i++}return n}}function Jc(t){const n={};for(const i of Object.keys(t.children)){const c=Jc(t.children[i]);(c.segments.length>0||c.hasChildren())&&(n[i]=c)}return function(t){if(1===t.numberOfChildren&&t.children[ut]){const n=t.children[ut];return new Z(t.segments.concat(n.segments),n.children)}return t}(new Z(t.segments,n))}class tl{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Kc{constructor(n,e){this.component=n,this.route=e}}function ff(t,n,e){const i=t._root;return ra(i,n?n._root:null,e,[i.value])}function Ql(t,n,e){const i=function(t){if(!t)return null;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(n);return(i?i.module.injector:e).get(t)}function ra(t,n,e,i,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=os(n);return t.children.forEach(p=>{(function(t,n,e,i,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=t.value,p=n?n.value:null,_=e?e.getContext(t.value.outlet):null;if(p&&c.routeConfig===p.routeConfig){const C=function(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!Fe(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Fe(t.url,n.url)||!ai(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jl(t,n)||!ai(t.queryParams,n.queryParams);default:return!jl(t,n)}}(p,c,c.routeConfig.runGuardsAndResolvers);C?a.canActivateChecks.push(new tl(i)):(c.data=p.data,c._resolvedData=p._resolvedData),ra(t,n,c.component?_?_.children:null:e,i,a),C&&_&&_.outlet&&_.outlet.isActivated&&a.canDeactivateChecks.push(new Kc(_.outlet.component,p))}else p&&oa(n,_,a),a.canActivateChecks.push(new tl(i)),ra(t,null,c.component?_?_.children:null:e,i,a)})(p,c[p.value.outlet],e,i.concat([p.value]),a),delete c[p.value.outlet]}),Tn(c,(p,_)=>oa(p,e.getContext(_),a)),a}function oa(t,n,e){const i=os(t),a=t.value;Tn(i,(c,p)=>{oa(c,a.component?n?n.children.getContext(p):null:n,e)}),e.canDeactivateChecks.push(new Kc(a.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,a))}class Vd{}function Qc(t){return new xn.y(n=>n.error(t))}class Hd{constructor(n,e,i,a,c,p){this.rootComponentType=n,this.config=e,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=p}recognize(){const n=zc(this.urlTree.root,[],[],this.config.filter(p=>void 0===p.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,n,ut);if(null===e)return null;const i=new Ya([],Object.freeze({}),Object.freeze(qe({},this.urlTree.queryParams)),this.urlTree.fragment,{},ut,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Ui(i,e),c=new Uc(this.url,a);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(n){const e=n.value,i=Xs(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),n.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(n,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(n,e):this.processSegment(n,e,e.segments,i)}processChildren(n,e){const i=[];for(const c of Object.keys(e.children)){const p=e.children[c],_=Wc(n,c),C=this.processSegmentGroup(_,p,c);if(null===C)return null;i.push(...C)}const a=mf(i);return a.sort((n,e)=>n.value.outlet===ut?-1:e.value.outlet===ut?1:n.value.outlet.localeCompare(e.value.outlet)),a}processSegment(n,e,i,a){for(const c of n){const p=this.processSegmentAgainstRoute(c,e,i,a);if(null!==p)return p}return el(e,i,a)?[]:null}processSegmentAgainstRoute(n,e,i,a){if(n.redirectTo||!gg(n,e,i,a))return null;let c,p=[],_=[];if("**"===n.path){const J=i.length>0?Bl(i).parameters:{};c=new Ya(i,J,Object.freeze(qe({},this.urlTree.queryParams)),this.urlTree.fragment,br(n),nr(n),n.component,n,Xc(e),sa(e)+i.length,Tg(n))}else{const J=as(e,n,i);if(!J.matched)return null;p=J.consumedSegments,_=i.slice(J.lastChild),c=new Ya(p,J.parameters,Object.freeze(qe({},this.urlTree.queryParams)),this.urlTree.fragment,br(n),nr(n),n.component,n,Xc(e),sa(e)+p.length,Tg(n))}const C=(t=n).children?t.children:t.loadChildren?t._loadedConfig.routes:[],{segmentGroup:I,slicedSegments:R}=zc(e,p,_,C.filter(J=>void 0===J.redirectTo),this.relativeLinkResolution);var t;if(0===R.length&&I.hasChildren()){const J=this.processChildren(C,I);return null===J?null:[new Ui(c,J)]}if(0===C.length&&0===R.length)return[new Ui(c,[])];const x=nr(n)===a,V=this.processSegment(C,I,R,x?ut:a);return null===V?null:[new Ui(c,V)]}}function Ud(t){const n=t.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function mf(t){const n=[],e=new Set;for(const i of t){if(!Ud(i)){n.push(i);continue}const a=n.find(c=>i.value.routeConfig===c.value.routeConfig);void 0!==a?(a.children.push(...i.children),e.add(a)):n.push(i)}for(const i of e){const a=mf(i.children);n.push(new Ui(i.value,a))}return n.filter(i=>!e.has(i))}function Xc(t){let n=t;for(;n._sourceSegment;)n=n._sourceSegment;return n}function sa(t){let n=t,e=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,e+=n._segmentIndexShift?n._segmentIndexShift:0;return e-1}function br(t){return t.data||{}}function Tg(t){return t.resolve||{}}function nl(t){return un(n=>{const e=t(n);return e?(0,_n.D)(e).pipe((0,ot.U)(()=>n)):je(n)})}class la extends class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}{}const tu=new o.OlP("ROUTES");class Pr{constructor(n,e,i,a){this.injector=n,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=a}load(n,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const a=this.loadModuleFactory(e.loadChildren).pipe((0,ot.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(e);const p=c.create(n);return new uf(ja(p.injector.get(tu,void 0,o.XFs.Self|o.XFs.Optional)).map(vn),p)}),gr(c=>{throw e._loader$=void 0,c}));return e._loader$=new Ua(a,()=>new Dt.x).pipe(Xt()),e._loader$}loadModuleFactory(n){return $n(n()).pipe((0,Lt.z)(e=>e instanceof o.YKP?je(e):(0,_n.D)(this.compiler.compileModuleAsync(e))))}}class nu{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,e){return n}}function Gd(t){throw t}function yf(t,n,e){return n.parse("/")}function ua(t,n){return je(null)}const Wd={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vf={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let wi=(()=>{class t{constructor(e,i,a,c,p,_,C){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=a,this.location=c,this.config=C,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Dt.x,this.errorHandler=Gd,this.malformedUriErrorHandler=yf,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ua,afterPreactivation:ua},this.urlHandlingStrategy=new nu,this.routeReuseStrategy=new la,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=p.get(o.h0i),this.console=p.get(o.c2e);const x=p.get(o.R0b);this.isNgZoneEnabled=x instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(C),this.currentUrlTree=new z(new Z([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Pr(p,_,V=>this.triggerEvent(new ns(V)),V=>this.triggerEvent(new is(V))),this.routerState=Ul(this.currentUrlTree,this.rootComponentType),this.transitions=new Rn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null==(e=this.location.getState())?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe($t(a=>0!==a.id),(0,ot.U)(a=>zn(qe({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),un(a=>{let c=!1,p=!1;return je(a).pipe((0,On.b)(_=>{this.currentNavigation={id:_.id,initialUrl:_.currentRawUrl,extractedUrl:_.extractedUrl,trigger:_.source,extras:_.extras,previousNavigation:this.lastSuccessfulNavigation?zn(qe({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),un(_=>{const C=this.browserUrlTree.toString(),I=!this.navigated||_.extractedUrl.toString()!==C||C!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||I)&&this.urlHandlingStrategy.shouldProcessUrl(_.rawUrl))return h(_.source)&&(this.browserUrlTree=_.extractedUrl),je(_).pipe(un(x=>{const V=this.transitions.getValue();return i.next(new Fc(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),V!==this.transitions.getValue()?Ro.E:Promise.resolve(x)}),function(t,n,e,i){return un(a=>function(t,n,e,i,a){return new Pd(t,n,e,i,a).apply()}(t,n,e,a.extractedUrl,i).pipe((0,ot.U)(c=>zn(qe({},a),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,On.b)(x=>{this.currentNavigation=zn(qe({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function(t,n,e,i,a){return(0,Lt.z)(c=>function(t,n,e,i,a="emptyOnly",c="legacy"){try{const p=new Hd(t,n,e,i,a,c).recognize();return null===p?Qc(new Vd):je(p)}catch(p){return Qc(p)}}(t,n,c.urlAfterRedirects,e(c.urlAfterRedirects),i,a).pipe((0,ot.U)(p=>zn(qe({},c),{targetSnapshot:p}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,On.b)(x=>{if("eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const J=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(J,x)}this.browserUrlTree=x.urlAfterRedirects}const V=new rf(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);i.next(V)}));if(I&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:J,source:_e,restoredState:Me,extras:Je}=_,Nt=new Fc(V,this.serializeUrl(J),_e,Me);i.next(Nt);const gt=Ul(J,this.rootComponentType).snapshot;return je(zn(qe({},_),{targetSnapshot:gt,urlAfterRedirects:J,extras:zn(qe({},Je),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=_.rawUrl,_.resolve(null),Ro.E}),nl(_=>{const{targetSnapshot:C,id:I,extractedUrl:R,rawUrl:x,extras:{skipLocationChange:V,replaceUrl:J}}=_;return this.hooks.beforePreactivation(C,{navigationId:I,appliedUrlTree:R,rawUrlTree:x,skipLocationChange:!!V,replaceUrl:!!J})}),(0,On.b)(_=>{const C=new md(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(C)}),(0,ot.U)(_=>zn(qe({},_),{guards:ff(_.targetSnapshot,_.currentSnapshot,this.rootContexts)})),function(t,n){return(0,Lt.z)(e=>{const{targetSnapshot:i,currentSnapshot:a,guards:{canActivateChecks:c,canDeactivateChecks:p}}=e;return 0===p.length&&0===c.length?je(zn(qe({},e),{guardsResult:!0})):function(t,n,e,i){return(0,_n.D)(t).pipe((0,Lt.z)(a=>function(t,n,e,i,a){const c=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return c&&0!==c.length?je(c.map(_=>{const C=Ql(_,n,a);let I;if(function(t){return t&&ta(t.canDeactivate)}(C))I=$n(C.canDeactivate(t,n,e,i));else{if(!ta(C))throw new Error("Invalid CanDeactivate guard");I=$n(C(t,n,e,i))}return I.pipe(Ys())})).pipe(na()):je(!0)}(a.component,a.route,e,n,i)),Ys(a=>!0!==a,!0))}(p,i,a,t).pipe((0,Lt.z)(_=>_&&function(t){return"boolean"==typeof t}(_)?function(t,n,e,i){return(0,_n.D)(n).pipe(Nr(a=>zs(function(t,n){return null!==t&&n&&n(new Lc(t)),je(!0)}(a.route.parent,i),function(t,n){return null!==t&&n&&n(new Pl(t)),je(!0)}(a.route,i),function(t,n,e){const i=n[n.length-1],c=n.slice(0,n.length-1).reverse().map(p=>function(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(p)).filter(p=>null!==p).map(p=>eo(()=>je(p.guards.map(C=>{const I=Ql(C,p.node,e);let R;if(function(t){return t&&ta(t.canActivateChild)}(I))R=$n(I.canActivateChild(i,t));else{if(!ta(I))throw new Error("Invalid CanActivateChild guard");R=$n(I(i,t))}return R.pipe(Ys())})).pipe(na())));return je(c).pipe(na())}(t,a.path,e),function(t,n,e){const i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||0===i.length)return je(!0);const a=i.map(c=>eo(()=>{const p=Ql(c,n,e);let _;if(function(t){return t&&ta(t.canActivate)}(p))_=$n(p.canActivate(n,t));else{if(!ta(p))throw new Error("Invalid CanActivate guard");_=$n(p(n,t))}return _.pipe(Ys())}));return je(a).pipe(na())}(t,a.route,e))),Ys(a=>!0!==a,!0))}(i,c,t,n):je(_)),(0,ot.U)(_=>zn(qe({},e),{guardsResult:_})))})}(this.ngModule.injector,_=>this.triggerEvent(_)),(0,On.b)(_=>{if(Or(_.guardsResult)){const I=yd(`Redirecting to "${this.serializeUrl(_.guardsResult)}"`);throw I.url=_.guardsResult,I}const C=new Ni(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot,!!_.guardsResult);this.triggerEvent(C)}),$t(_=>!!_.guardsResult||(this.restoreHistory(_),this.cancelNavigationTransition(_,""),!1)),nl(_=>{if(_.guards.canActivateChecks.length)return je(_).pipe((0,On.b)(C=>{const I=new mr(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(I)}),un(C=>{let I=!1;return je(C).pipe(function(t,n){return(0,Lt.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:a}}=e;if(!a.length)return je(e);let c=0;return(0,_n.D)(a).pipe(Nr(p=>function(t,n,e,i){return function(t,n,e,i){const a=Object.keys(t);if(0===a.length)return je({});const c={};return(0,_n.D)(a).pipe((0,Lt.z)(p=>function(t,n,e,i){const a=Ql(t,n,i);return $n(a.resolve?a.resolve(n,e):a(n,e))}(t[p],n,e,i).pipe((0,On.b)(_=>{c[p]=_}))),Gt(1),(0,Lt.z)(()=>Object.keys(c).length===a.length?je(c):Ro.E))}(t._resolve,t,n,i).pipe((0,ot.U)(c=>(t._resolvedData=c,t.data=qe(qe({},t.data),Xs(t,e).resolve),null)))}(p.route,i,t,n)),(0,On.b)(()=>c++),Gt(1),(0,Lt.z)(p=>c===a.length?je(e):Ro.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,On.b)({next:()=>I=!0,complete:()=>{I||(this.restoreHistory(C),this.cancelNavigationTransition(C,"At least one route resolver didn't emit any value."))}}))}),(0,On.b)(C=>{const I=new Ol(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(I)}))}),nl(_=>{const{targetSnapshot:C,id:I,extractedUrl:R,rawUrl:x,extras:{skipLocationChange:V,replaceUrl:J}}=_;return this.hooks.afterPreactivation(C,{navigationId:I,appliedUrlTree:R,rawUrlTree:x,skipLocationChange:!!V,replaceUrl:!!J})}),(0,ot.U)(_=>{const C=function(t,n,e){const i=Gl(t,n._root,e?e._root:void 0);return new Fo(i,n)}(this.routeReuseStrategy,_.targetSnapshot,_.currentRouterState);return zn(qe({},_),{targetRouterState:C})}),(0,On.b)(_=>{this.currentUrlTree=_.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl),this.routerState=_.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_),this.browserUrlTree=_.urlAfterRedirects)}),((t,n,e)=>(0,ot.U)(i=>(new Md(n,i.targetRouterState,i.currentRouterState,e).activate(t),i)))(this.rootContexts,this.routeReuseStrategy,_=>this.triggerEvent(_)),(0,On.b)({next(){c=!0},complete(){c=!0}}),function(t){return(0,Un.e)((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}(()=>{var _;c||p||this.cancelNavigationTransition(a,`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`),(null==(_=this.currentNavigation)?void 0:_.id)===a.id&&(this.currentNavigation=null)}),gr(_=>{if(p=!0,function(t){return t&&t[rs]}(_)){const C=Or(_.url);C||(this.navigated=!0,this.restoreHistory(a,!0));const I=new io(a.id,this.serializeUrl(a.extractedUrl),_.message);i.next(I),C?setTimeout(()=>{const R=this.urlHandlingStrategy.merge(_.url,this.rawUrlTree),x={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||h(a.source)};this.scheduleNavigation(R,"imperative",null,x,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const C=new qs(a.id,this.serializeUrl(a.extractedUrl),_);i.next(C);try{a.resolve(this.errorHandler(_))}catch(I){a.reject(I)}}return Ro.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(qe(qe({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var _;const a={replaceUrl:!0},c=(null==(_=e.state)?void 0:_.navigationId)?e.state:null;if(c){const C=qe({},c);delete C.navigationId,delete C.\u0275routerPageId,0!==Object.keys(C).length&&(a.state=C)}const p=this.parseUrl(e.url);this.scheduleNavigation(p,i,c,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){xd(e),this.config=e.map(vn),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:a,queryParams:c,fragment:p,queryParamsHandling:_,preserveFragment:C}=i,I=a||this.routerState.root,R=C?this.currentUrlTree.fragment:p;let x=null;switch(_){case"merge":x=qe(qe({},this.currentUrlTree.queryParams),c);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=c||null}return null!==x&&(x=this.removeEmptyProps(x)),function(t,n,e,i,a){if(0===e.length)return Ad(n.root,n.root,n,i,a);const c=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new of(!0,0,t);let n=0,e=!1;const i=t.reduce((a,c,p)=>{if("object"==typeof c&&null!=c){if(c.outlets){const _={};return Tn(c.outlets,(C,I)=>{_[I]="string"==typeof C?C.split("/"):C}),[...a,{outlets:_}]}if(c.segmentPath)return[...a,c.segmentPath]}return"string"!=typeof c?[...a,c]:0===p?(c.split("/").forEach((_,C)=>{0==C&&"."===_||(0==C&&""===_?e=!0:".."===_?n++:""!=_&&a.push(_))}),a):[...a,c]},[]);return new of(e,n,i)}(e);if(c.toRoot())return Ad(n.root,new Z([],{}),n,i,a);const p=function(t,n,e){if(t.isAbsolute)return new jc(n.root,!0,0);if(-1===e.snapshot._lastPathIndex){const c=e.snapshot._urlSegment;return new jc(c,c===n.root,0)}const i=Wl(t.commands[0])?0:1;return function(t,n,e){let i=t,a=n,c=e;for(;c>a;){if(c-=a,i=i.parent,!i)throw new Error("Invalid number of '../'");a=i.segments.length}return new jc(i,!1,a-c)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(c,n,t),_=p.processChildren?Sd(p.segmentGroup,p.index,c.commands):sf(p.segmentGroup,p.index,c.commands);return Ad(p.segmentGroup,_,n,i,a)}(I,this.currentUrlTree,e,x,null!=R?R:null)}navigateByUrl(e,i={skipLocationChange:!1}){const a=Or(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function(t){for(let n=0;n<t.length;n++){const e=t[n];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${n}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(a){i=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return i}isActive(e,i){let a;if(a=!0===i?qe({},Wd):!1===i?qe({},vf):i,Or(e))return Za(this.currentUrlTree,e,a);const c=this.parseUrl(e);return Za(this.currentUrlTree,c,a)}removeEmptyProps(e){return Object.keys(e).reduce((i,a)=>{const c=e[a];return null!=c&&(i[a]=c),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new pn(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,a,c,p){var Nt,gt,Bn;if(this.disposed)return Promise.resolve(!1);const _=this.transitions.value,C=h(i)&&_&&!h(_.source),I=_.rawUrl.toString()===e.toString(),R=_.id===(null==(Nt=this.currentNavigation)?void 0:Nt.id);if(C&&I&&R)return Promise.resolve(!0);let V,J,_e;p?(V=p.resolve,J=p.reject,_e=p.promise):_e=new Promise((jt,ki)=>{V=jt,J=ki});const Me=++this.navigationId;let Je;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),Je=a&&a.\u0275routerPageId?a.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!=(gt=this.browserPageId)?gt:0:(null!=(Bn=this.browserPageId)?Bn:0)+1):Je=0,this.setTransition({id:Me,targetPageId:Je,source:i,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:c,resolve:V,reject:J,promise:_e,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_e.catch(jt=>Promise.reject(jt))}setBrowserUrl(e,i){const a=this.urlSerializer.serialize(e),c=qe(qe({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(a)||i.extras.replaceUrl?this.location.replaceState(a,"",c):this.location.go(a,"",c)}restoreHistory(e,i=!1){var a,c;if("computed"===this.canceledNavigationResolution){const p=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(a=this.currentNavigation)?void 0:a.finalUrl)||0===p?this.currentUrlTree===(null==(c=this.currentNavigation)?void 0:c.finalUrl)&&0===p&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(p)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const a=new io(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(a),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return t.\u0275fac=function(e){o.$Z()},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();function h(t){return"imperative"!==t}class X{}class Ie{preload(n,e){return je(null)}}let Ze=(()=>{class t{constructor(e,i,a,c){this.router=e,this.injector=a,this.preloadingStrategy=c,this.loader=new Pr(a,i,C=>e.triggerEvent(new ns(C)),C=>e.triggerEvent(new is(C)))}setUpPreloading(){this.subscription=this.router.events.pipe($t(e=>e instanceof pn),Nr(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(o.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const a=[];for(const c of i)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const p=c._loadedConfig;a.push(this.processRoutes(p.module,p.routes))}else c.loadChildren&&!c.canLoad?a.push(this.preloadConfig(e,c)):c.children&&a.push(this.processRoutes(e,c.children));return(0,_n.D)(a).pipe((0,Mo.J)(),(0,ot.U)(c=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?je(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,Lt.z)(c=>(i._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(wi),o.LFG(o.Sil),o.LFG(o.zs3),o.LFG(X))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),ze=(()=>{class t{constructor(e,i,a={}){this.router=e,this.viewportScroller=i,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Fc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof pn&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Fl&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Fl(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){o.$Z()},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();const dn=new o.OlP("ROUTER_CONFIGURATION"),oo=new o.OlP("ROUTER_FORROOT_GUARD"),so=[Be,{provide:Bt,useClass:bi},{provide:wi,useFactory:function(t,n,e,i,a,c,p={},_,C){const I=new wi(null,t,n,e,i,a,ja(c));return _&&(I.urlHandlingStrategy=_),C&&(I.routeReuseStrategy=C),function(t,n){t.errorHandler&&(n.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(n.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(n.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(n.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(n.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(n.canceledNavigationResolution=t.canceledNavigationResolution)}(p,I),p.enableTracing&&I.events.subscribe(R=>{var x,V;null==(x=console.group)||x.call(console,`Router Event: ${R.constructor.name}`),console.log(R.toString()),console.log(R),null==(V=console.groupEnd)||V.call(console)}),I},deps:[Bt,Xa,Be,o.zs3,o.Sil,tu,dn,[class{},new o.FiY],[class{},new o.FiY]]},Xa,{provide:za,useFactory:function(t){return t.routerState.root},deps:[wi]},Ze,Ie,class{preload(n,e){return e().pipe(gr(()=>je(null)))}},{provide:dn,useValue:{enableTracing:!1}}];function iu(){return new o.PXZ("Router",wi)}let ru=(()=>{class t{constructor(e,i){}static forRoot(e,i){return{ngModule:t,providers:[so,ou(e),{provide:oo,useFactory:Cf,deps:[[wi,new o.FiY,new o.tp0]]},{provide:dn,useValue:i||{}},{provide:oe,useFactory:il,deps:[re,[new o.tBr(se),new o.FiY],dn]},{provide:ze,useFactory:bf,deps:[wi,od,dn]},{provide:X,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Ie},{provide:o.PXZ,multi:!0,useFactory:iu},[rl,{provide:o.ip1,multi:!0,useFactory:au,deps:[rl]},{provide:Ig,useFactory:wf,deps:[rl]},{provide:o.tb,multi:!0,useExisting:Ig}]]}}static forChild(e){return{ngModule:t,providers:[ou(e)]}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(oo,8),o.LFG(wi,8))},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})();function bf(t,n,e){return e.scrollOffset&&n.setOffset(e.scrollOffset),new ze(t,n,e)}function il(t,n,e={}){return e.useHash?new ge(t,n):new ve(t,n)}function Cf(t){return"guarded"}function ou(t){return[{provide:o.deG,multi:!0,useValue:t},{provide:tu,multi:!0,useValue:t}]}let rl=(()=>{class t{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Dt.x}appInitializer(){return this.injector.get($,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const a=new Promise(_=>i=_),c=this.injector.get(wi),p=this.injector.get(dn);return"disabled"===p.initialNavigation?(c.setUpLocationChangeListener(),i(!0)):"enabled"===p.initialNavigation||"enabledBlocking"===p.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?je(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),c.initialNavigation()):i(!0),a})}bootstrapListener(e){const i=this.injector.get(dn),a=this.injector.get(Ze),c=this.injector.get(ze),p=this.injector.get(wi),_=this.injector.get(o.z2F);e===_.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&p.initialNavigation(),a.setUpPreloading(),c.init(),p.resetRootComponentType(_.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.zs3))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();function au(t){return t.appInitializer.bind(t)}function wf(t){return t.bootstrapListener.bind(t)}const Ig=new o.OlP("Router Initializer");var Cr=k(8239),Yd=k(1537);const B1=["addListener","removeListener"],wy=["addEventListener","removeEventListener"],V1=["on","off"];function Di(t,n,e,i){if((0,no.m)(e)&&(i=e,e=void 0),i)return Di(t,n,e).pipe(No(i));const[a,c]=function(t){return(0,no.m)(t.addEventListener)&&(0,no.m)(t.removeEventListener)}(t)?wy.map(p=>_=>t[p](n,_,e)):function(t){return(0,no.m)(t.addListener)&&(0,no.m)(t.removeListener)}(t)?B1.map(Sg(t,n)):function(t){return(0,no.m)(t.on)&&(0,no.m)(t.off)}(t)?V1.map(Sg(t,n)):[];if(!a&&(0,Yd.z)(t))return(0,Lt.z)(p=>Di(p,n,e))((0,on.Xf)(t));if(!a)throw new TypeError("Invalid event target");return new xn.y(p=>{const _=(...C)=>p.next(1<C.length?C:C[0]);return a(_),()=>c(_)})}function Sg(t,n){return e=>i=>t[e](n,i)}var Df=k(2210),H1=k(7398);function Mg(t=0,n,e=Df.P){let i=-1;return null!=n&&((0,H1.K)(n)?e=n:i=n),new xn.y(a=>{let c=function(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;c<0&&(c=0);let p=0;return e.schedule(function(){a.closed||(a.next(p++),0<=i?this.schedule(void 0,i):a.complete())},c)})}const{isArray:U1}=Array;function ao(t){return 1===t.length&&U1(t[0])?t[0]:t}var Ef=k(6921);function Tf(...t){const n=(0,Ar.jO)(t),e=ao(t);return e.length?new xn.y(i=>{let a=e.map(()=>[]),c=e.map(()=>!1);i.add(()=>{a=c=null});for(let p=0;!i.closed&&p<e.length;p++)(0,on.Xf)(e[p]).subscribe(new Jt.Q(i,_=>{if(a[p].push(_),a.every(C=>C.length)){const C=a.map(I=>I.shift());i.next(n?n(...C):C),a.some((I,R)=>!I.length&&c[R])&&i.complete()}},()=>{c[p]=!0,!a[p].length&&i.complete()}));return()=>{a=c=null}}):Ro.E}new xn.y(Ef.Z);var lu=k(3719);function Pn(t){return(0,Un.e)((n,e)=>{(0,on.Xf)(t).subscribe(new Jt.Q(e,()=>e.complete(),Ef.Z)),!e.closed&&n.subscribe(e)})}function ft(t,n){return t===n}function qd(...t){const n=(0,Ar.jO)(t);return(0,Un.e)((e,i)=>{const a=t.length,c=new Array(a);let p=t.map(()=>!1),_=!1;for(let C=0;C<a;C++)(0,on.Xf)(t[C]).subscribe(new Jt.Q(i,I=>{c[C]=I,!_&&!p[C]&&(p[C]=!0,(_=p.every(pr.y))&&(p=null))},Ef.Z));e.subscribe(new Jt.Q(i,C=>{if(_){const I=[C,...c];i.next(n?n(...I):I)}}))})}function Jd(t,n){return n?e=>zs(n.pipe((0,yn.q)(1),(0,Un.e)((t,n)=>{t.subscribe(new Jt.Q(n,Ef.Z))})),e.pipe(Jd(t))):(0,Lt.z)((e,i)=>t(e,i).pipe((0,yn.q)(1),function(t){return(0,ot.U)(()=>t)}(e)))}function Fr(t,n=Df.z){const e=Mg(t,n);return Jd(()=>e)}var Rg=k(3174);function Nf(t){return null!=t}function z1(t){const n=(0,o.QGY)(t)?(0,_n.D)(t):t;return(0,o.CqO)(n),n}function Y1(t){let n={};return t.forEach(e=>{n=null!=e?qe(qe({},n),e):n}),0===Object.keys(n).length?null:n}function q1(t,n){return n.map(e=>e(t))}function J1(t){return t.map(n=>function(t){return!t.validate}(n)?n:e=>n.validate(e))}function Py(t){return null!=t?function(t){if(!t)return null;const n=t.filter(Nf);return 0==n.length?null:function(e){return Y1(q1(e,n))}}(J1(t)):null}function Fy(t){return null!=t?function(t){if(!t)return null;const n=t.filter(Nf);return 0==n.length?null:function(e){return function(...t){const n=(0,Ar.jO)(t),{args:e,keys:i}=So(t),a=new xn.y(c=>{const{length:p}=e;if(!p)return void c.complete();const _=new Array(p);let C=p,I=p;for(let R=0;R<p;R++){let x=!1;(0,on.Xf)(e[R]).subscribe(new Jt.Q(c,V=>{x||(x=!0,I--),_[R]=V},()=>C--,void 0,()=>{(!C||!x)&&(I||c.next(i?es(i,_):_),c.complete())}))}});return n?a.pipe(No(n)):a}(q1(e,n).map(z1)).pipe((0,ot.U)(Y1))}}(J1(t)):null}class rr extends class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Py(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Fy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}{get formDirective(){return null}get path(){return null}}let Hg=(()=>{class t extends class{constructor(n){this._cd=n}is(n){var e,i,a;return"submitted"===n?!!(null==(e=this._cd)?void 0:e.submitted):!!(null==(a=null==(i=this._cd)?void 0:i.control)?void 0:a[n])}}{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(rr,10))},t.\u0275dir=o.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[o.qOj]}),t})(),jf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),Gf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})();const Wf=new o.OlP("NgModelWithFormControlWarning");let lv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Gf]]}),t})(),bT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[lv]}),t})(),CT=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Wf,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[lv]}),t})();const yu=["*"],Su=["dialog"];function sl(t){return null!=t}function al(t){return(t||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let n=this;if(!document.documentElement.contains(n))return null;do{if(n.matches(t))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null});const Dm={animation:!0,transitionTimerDelayMs:5};let ui=(()=>{class t{constructor(){this.animation=Dm.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})();const KC=()=>{},{transitionTimerDelayMs:$v}=Dm,sc=new Map,Fn=(t,n,e,i)=>{let a=i.context||{};const c=sc.get(n);if(c)switch(i.runningTransition){case"continue":return Ro.E;case"stop":t.run(()=>c.transition$.complete()),a=Object.assign(c.context,a),sc.delete(n)}const p=e(n,i.animation,a)||KC;if(!i.animation||"none"===window.getComputedStyle(n).transitionProperty)return t.run(()=>p()),je(void 0).pipe(function(t){return n=>new xn.y(e=>n.subscribe(p=>t.run(()=>e.next(p)),p=>t.run(()=>e.error(p)),()=>t.run(()=>e.complete())))}(t));const _=new Dt.x,C=new Dt.x,I=_.pipe(function(...t){return n=>zs(n,je(...t))}(!0));sc.set(n,{transition$:_,complete:()=>{C.next(),C.complete()},context:a});const R=function(t){const{transitionDelay:n,transitionDuration:e}=window.getComputedStyle(t);return 1e3*(parseFloat(n)+parseFloat(e))}(n);return t.runOutsideAngular(()=>{const x=Di(n,"transitionend").pipe(Pn(I),$t(({target:J})=>J===n));(function(...t){return 1===(t=ao(t)).length?(0,on.Xf)(t[0]):new xn.y(function(t){return n=>{let e=[];for(let i=0;e&&!n.closed&&i<t.length;i++)e.push((0,on.Xf)(t[i]).subscribe(new Jt.Q(n,a=>{if(e){for(let c=0;c<e.length;c++)c!==i&&e[c].unsubscribe();e=null}n.next(a)})))}}(t))})(Mg(R+$v).pipe(Pn(I)),x,C).pipe(Pn(I)).subscribe(()=>{sc.delete(n),t.run(()=>{p(),_.next(),_.complete()})})}),_.asObservable()};let Sm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Kn]]}),t})(),Zv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Kn]]}),t})(),qv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})(),Xv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Kn]]}),t})(),e0=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})();var wt=(()=>{return(t=wt||(wt={}))[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",wt;var t})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const km=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Om(t){const n=Array.from(t.querySelectorAll(km)).filter(e=>-1!==e.tabIndex);return[n[0],n[n.length-1]]}new class{getAllStyles(n){return window.getComputedStyle(n)}getStyle(n,e){return this.getAllStyles(n)[e]}isStaticPositioned(n){return"static"===(this.getStyle(n,"position")||"static")}offsetParent(n){let e=n.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(n,e=!0){let i,a={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(n,"position"))i=n.getBoundingClientRect(),i={top:i.top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{const c=this.offsetParent(n);i=this.offset(n,!1),c!==document.documentElement&&(a=this.offset(c,!1)),a.top+=c.clientTop,a.left+=c.clientLeft}return i.top-=a.top,i.bottom-=a.top,i.left-=a.left,i.right-=a.left,e&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i}offset(n,e=!0){const i=n.getBoundingClientRect(),a_top=window.pageYOffset-document.documentElement.clientTop,a_left=window.pageXOffset-document.documentElement.clientLeft;let c={height:i.height||n.offsetHeight,width:i.width||n.offsetWidth,top:i.top+a_top,bottom:i.bottom+a_top,left:i.left+a_left,right:i.right+a_left};return e&&(c.height=Math.round(c.height),c.width=Math.round(c.width),c.top=Math.round(c.top),c.bottom=Math.round(c.bottom),c.left=Math.round(c.left),c.right=Math.round(c.right)),c}positionElements(n,e,i,a){const[c="top",p="center"]=i.split("-"),_=a?this.offset(n,!1):this.position(n,!1),C=this.getAllStyles(e),I=parseFloat(C.marginTop),R=parseFloat(C.marginBottom),x=parseFloat(C.marginLeft),V=parseFloat(C.marginRight);let J=0,_e=0;switch(c){case"top":J=_.top-(e.offsetHeight+I+R);break;case"bottom":J=_.top+_.height;break;case"left":_e=_.left-(e.offsetWidth+x+V);break;case"right":_e=_.left+_.width}switch(p){case"top":J=_.top;break;case"bottom":J=_.top+_.height-e.offsetHeight;break;case"left":_e=_.left;break;case"right":_e=_.left+_.width-e.offsetWidth;break;case"center":"top"===c||"bottom"===c?_e=_.left+_.width/2-e.offsetWidth/2:J=_.top+_.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(_e)}px, ${Math.round(J)}px)`;const Me=e.getBoundingClientRect(),Je=document.documentElement,Nt=window.innerHeight||Je.clientHeight,gt=window.innerWidth||Je.clientWidth;return Me.left>=0&&Me.top>=0&&Me.right<=gt&&Me.bottom<=Nt}},new Date(1882,10,12),new Date(2174,10,25);let T0=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Kn,bT]]}),t})(),gp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})(),S0=(()=>{class t{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(ui))},t.\u0275prov=o.Yz7({factory:function(){return new t(o.LFG(ui))},token:t,providedIn:"root"}),t})();class hl{constructor(n,e,i){this.nodes=n,this.viewRef=e,this.componentRef=i}}const kw=()=>{};let N0=(()=>{class t{constructor(e){this._document=e}compensate(){const e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):kw}_adjustBody(e){const i=this._document.body,a=i.style.paddingRight,c=parseFloat(window.getComputedStyle(i)["padding-right"]);return i.style["padding-right"]=`${c+e}px`,()=>i.style["padding-right"]=a}_isPresent(e){const i=this._document.body.getBoundingClientRect();return window.innerWidth-(i.left+i.right)>=e-.1*e}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const i=this._document.body;i.appendChild(e);const a=e.getBoundingClientRect().width-e.clientWidth;return i.removeChild(e),a}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(ee))},t.\u0275prov=o.Yz7({factory:function(){return new t(o.LFG(ee))},token:t,providedIn:"root"}),t})(),Gm=(()=>{class t{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe((0,yn.q)(1)).subscribe(()=>{Fn(this._zone,this._el.nativeElement,(e,i)=>{i&&al(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Fn(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.R0b))},t.\u0275cmp=o.Xpm({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,i){2&e&&(o.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),o.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),t})();class M0{close(n){}dismiss(n){}}class R0{constructor(n,e,i,a){this._windowCmptRef=n,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=a,this._closed=new Dt.x,this._dismissed=new Dt.x,this._hidden=new Dt.x,n.instance.dismissEvent.subscribe(c=>{this.dismiss(c)}),this.result=new Promise((c,p)=>{this._resolve=c,this._reject=p}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Pn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Pn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(i=>{!1!==i&&this._dismiss(n)},()=>{}):!1!==e&&this._dismiss(n)}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():je(void 0);n.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Tf(n,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var yh=(()=>{return(t=yh||(yh={}))[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",yh;var t})();let Ow=(()=>{class t{constructor(e,i,a){this._document=e,this._elRef=i,this._zone=a,this._closed$=new Dt.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new o.vpe,this.shown=new Dt.x,this.hidden=new Dt.x}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,yn.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},p=Tf(Fn(this._zone,e,()=>e.classList.remove("show"),i),Fn(this._zone,this._dialogEl.nativeElement,()=>{},i));return p.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),p}_show(){const e={animation:this.animation,runningTransition:"continue"};Tf(Fn(this._zone,this._elRef.nativeElement,(c,p)=>{p&&al(c),c.classList.add("show")},e),Fn(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Di(e,"keydown").pipe(Pn(this._closed$),$t(a=>a.which===wt.Escape)).subscribe(a=>{this.keyboard?requestAnimationFrame(()=>{a.defaultPrevented||this._zone.run(()=>this.dismiss(yh.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Di(this._dialogEl.nativeElement,"mousedown").pipe(Pn(this._closed$),(0,On.b)(()=>i=!1),un(()=>Di(e,"mouseup").pipe(Pn(this._closed$),(0,yn.q)(1))),$t(({target:a})=>e===a)).subscribe(()=>{i=!0}),Di(e,"click").pipe(Pn(this._closed$)).subscribe(({target:a})=>{e===a&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(yh.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),a=Om(e)[0];(i||a||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let a;a=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>a.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Fn(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(ee),o.Y36(o.SBq),o.Y36(o.R0b))},t.\u0275cmp=o.Xpm({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&o.Gf(Su,7),2&e){let a;o.iGM(a=o.CRH())&&(i._dialogEl=a.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(o.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),o.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),o.ekj("fade",i.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:yu,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0,1),o.TgZ(2,"div",2),o.Hsn(3),o.qZA(),o.qZA()),2&e&&o.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),x0=(()=>{class t{constructor(e,i,a,c,p,_){this._applicationRef=e,this._injector=i,this._document=a,this._scrollBar=c,this._rendererFactory=p,this._ngZone=_,this._activeWindowCmptHasChanged=new Dt.x,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new o.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const C=this._windowCmpts[this._windowCmpts.length-1];((t,n,e,i=!1)=>{t.runOutsideAngular(()=>{const a=Di(n,"focusin").pipe(Pn(e),(0,ot.U)(c=>c.target));Di(n,"keydown").pipe(Pn(e),$t(c=>c.which===wt.Tab),qd(a)).subscribe(([c,p])=>{const[_,C]=Om(n);(p===_||p===n)&&c.shiftKey&&(C.focus(),c.preventDefault()),p===C&&!c.shiftKey&&(_.focus(),c.preventDefault())}),i&&Di(n,"click").pipe(Pn(e),qd(a),(0,ot.U)(c=>c[1])).subscribe(c=>c.focus())})})(this._ngZone,C.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(C.location.nativeElement)}})}open(e,i,a,c){const p=c.container instanceof HTMLElement?c.container:sl(c.container)?this._document.querySelector(c.container):this._document.body,_=this._rendererFactory.createRenderer(null,null),C=this._scrollBar.compensate(),I=()=>{this._modalRefs.length||(_.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!p)throw new Error(`The specified modal container "${c.container||"body"}" was not found in the DOM.`);const R=new M0,x=this._getContentRef(e,c.injector||i,a,R,c);let V=!1!==c.backdrop?this._attachBackdrop(e,p):void 0,J=this._attachWindowComponent(e,p,x),_e=new R0(J,x,V,c.beforeDismiss);return this._registerModalRef(_e),this._registerWindowCmpt(J),_e.result.then(C,C),_e.result.then(I,I),R.close=Me=>{_e.close(Me)},R.dismiss=Me=>{_e.dismiss(Me)},this._applyWindowOptions(J.instance,c),1===this._modalRefs.length&&_.addClass(this._document.body,"modal-open"),V&&V.instance&&(this._applyBackdropOptions(V.instance,c),V.changeDetectorRef.detectChanges()),J.changeDetectorRef.detectChanges(),_e}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,i){let c=e.resolveComponentFactory(Gm).create(this._injector);return this._applicationRef.attachView(c.hostView),i.appendChild(c.location.nativeElement),c}_attachWindowComponent(e,i,a){let p=e.resolveComponentFactory(Ow).create(this._injector,a.nodes);return this._applicationRef.attachView(p.hostView),i.appendChild(p.location.nativeElement),p}_applyWindowOptions(e,i){this._windowAttributes.forEach(a=>{sl(i[a])&&(e[a]=i[a])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(a=>{sl(i[a])&&(e[a]=i[a])})}_getContentRef(e,i,a,c,p){return a?a instanceof o.Rgc?this._createFromTemplateRef(a,c):function(t){return"string"==typeof t}(a)?this._createFromString(a):this._createFromComponent(e,i,a,c,p):new hl([])}_createFromTemplateRef(e,i){const c=e.createEmbeddedView({$implicit:i,close(p){i.close(p)},dismiss(p){i.dismiss(p)}});return this._applicationRef.attachView(c),new hl([c.rootNodes],c)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new hl([[i]])}_createFromComponent(e,i,a,c,p){const _=e.resolveComponentFactory(a),C=o.zs3.create({providers:[{provide:M0,useValue:c}],parent:i}),I=_.create(C),R=I.location.nativeElement;return p.scrollable&&R.classList.add("component-host-scrollable"),this._applicationRef.attachView(I.hostView),new hl([[R]],I.hostView,I)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(a=>{a!==e&&"SCRIPT"!==a.nodeName&&(this._ariaHiddenValues.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const a=this._modalRefs.indexOf(e);a>-1&&(this._modalRefs.splice(a,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.z2F),o.LFG(o.zs3),o.LFG(ee),o.LFG(N0),o.LFG(o.FYo),o.LFG(o.R0b))},t.\u0275prov=o.Yz7({factory:function(){return new t(o.LFG(o.z2F),o.LFG(o.gxx),o.LFG(ee),o.LFG(N0),o.LFG(o.FYo),o.LFG(o.R0b))},token:t,providedIn:"root"}),t})(),Wm=(()=>{class t{constructor(e,i,a,c){this._moduleCFR=e,this._injector=i,this._modalStack=a,this._config=c}open(e,i={}){const a=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,e,a)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o._Vd),o.LFG(o.zs3),o.LFG(x0),o.LFG(S0))},t.\u0275prov=o.Yz7({factory:function(){return new t(o.LFG(o._Vd),o.LFG(o.gxx),o.LFG(x0),o.LFG(S0))},token:t,providedIn:"root"}),t})(),k0=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[Wm]}),t})(),Jm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Kn]]}),t})(),Vw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Kn]]}),t})(),t_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Kn]]}),t})(),bh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Kn]]}),t})(),n_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Kn]]}),t})(),o_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Kn]]}),t})(),s_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Kn]]}),t})(),l_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})();new o.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let c_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Kn]]}),t})();const K0=[Sm,Zv,qv,Xv,e0,T0,gp,k0,Jm,Vw,t_,bh,n_,o_,s_,l_,c_];let Q0=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[K0,Sm,Zv,qv,Xv,e0,T0,gp,k0,Jm,Vw,t_,bh,n_,o_,s_,l_,c_]}),t})();var Dh=k(4763),X0=k(1733);class eb extends Dt.x{constructor(n=1/0,e=1/0,i=X0.l){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:i,_infiniteTimeWindow:a,_timestampProvider:c,_windowTime:p}=this;e||(i.push(n),!a&&i.push(c.now()+p)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:i,_buffer:a}=this,c=a.slice();for(let p=0;p<c.length&&!n.closed;p+=i?1:2)n.next(c[p]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:a}=this,c=(a?1:2)*n;if(n<1/0&&c<i.length&&i.splice(0,i.length-c),!a){const p=e.now();let _=0;for(let C=1;C<i.length&&i[C]<=p;C+=2)_=C;_&&i.splice(0,_+1)}}}function tb(t,n,e){var i,a;let c,p=!1;return t&&"object"==typeof t?(c=null!==(i=t.bufferSize)&&void 0!==i?i:1/0,n=null!==(a=t.windowTime)&&void 0!==a?a:1/0,p=!!t.refCount,e=t.scheduler):c=null!=t?t:1/0,(0,Rg.B)({connector:()=>new eb(c,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:p})}function u_(t,n){return(0,no.m)(n)?un(()=>t,n):un(()=>t)}var d_=k(5222),fo=k(7233),Ho=k(7905);k(7713);var pl=k(1572),hc=k(1177),F=k(4213),g_=k(3855);const wp=new Map,m_={activated:!1,tokenObservers:[]},sb={initialized:!1,enabled:!1};function ni(t){return wp.get(t)||m_}function Br(t,n){wp.set(t,n)}function Dp(){return sb}class cb{constructor(n,e,i,a,c){if(this.operation=n,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=a,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=a,a>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(n){var e=this;return(0,Cr.Z)(function*(){e.stop();try{e.pending=new F.BH,yield(t=e.getNextRun(n),new Promise(n=>{setTimeout(n,t)})),e.pending.resolve(),yield e.pending.promise,e.pending=new F.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}var t})()}getNextRun(n){if(n)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const sr=new F.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function y_(t){if(!ni(t).activated)throw sr.create("use-before-activation",{appName:t.name})}function Ri(t,n){return gl.apply(this,arguments)}function gl(){return(gl=(0,Cr.Z)(function*({url:t,body:n},e){const i={"Content-Type":"application/json"},a=e.getImmediate({optional:!0});a&&(i["X-Firebase-Client"]=a.getPlatformInfoString());const c={method:"POST",body:JSON.stringify(n),headers:i};let p,_;try{p=yield fetch(t,c)}catch(x){throw sr.create("fetch-network-error",{originalErrorMessage:x.message})}if(200!==p.status)throw sr.create("fetch-status-error",{httpStatus:p.status});try{_=yield p.json()}catch(x){throw sr.create("fetch-parse-error",{originalErrorMessage:x.message})}const C=_.ttl.match(/^([\d.]+)(s)$/);if(!C||!C[2]||isNaN(Number(C[1])))throw sr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const I=1e3*Number(C[1]),R=Date.now();return{token:_.attestationToken,expireTimeMillis:R+I,issuedAtTimeMillis:R}})).apply(this,arguments)}function fI(t,n){const{projectId:e,appId:i,apiKey:a}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${i}:exchangeDebugToken?key=${a}`,body:{debug_token:n}}}const fc="firebase-app-check-store";let Ah=null;function fb(){return Ah||(Ah=new Promise((t,n)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{t(i.target.result)},e.onerror=i=>{var a;n(sr.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(fc,{keyPath:"compositeKey"})}}catch(e){n(sr.create("storage-open",{originalErrorMessage:e.message}))}}),Ah)}function Nh(){return(Nh=(0,Cr.Z)(function*(t,n){const i=(yield fb()).transaction(fc,"readwrite"),c=i.objectStore(fc).put({compositeKey:t,value:n});return new Promise((p,_)=>{c.onsuccess=C=>{p()},i.onerror=C=>{var I;_(sr.create("storage-set",{originalErrorMessage:null===(I=C.target.error)||void 0===I?void 0:I.message}))}})})).apply(this,arguments)}const Uu=new g_.Yd("@firebase/app-check");function _b(t,n){return(0,F.hl)()?function(t,n){return function(t,n){return Nh.apply(this,arguments)}(function(t){return`${t.options.appId}-${t.name}`}(t),n)}(t,n).catch(e=>{Uu.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function yb(){return Dp().enabled}function vb(){return Np.apply(this,arguments)}function Np(){return(Np=(0,Cr.Z)(function*(){const t=Dp();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Cb={error:"UNKNOWN_ERROR"};function gD(t){return F.US.encodeString(JSON.stringify(t),!1)}function Rh(t){return Mp.apply(this,arguments)}function Mp(){return(Mp=(0,Cr.Z)(function*(t,n=!1){const e=t.app;y_(e);const i=ni(e);let c,a=i.token;if(!a){const C=yield i.cachedTokenPromise;C&&xh(C)&&(a=C)}if(!n&&a&&xh(a))return{token:a.token};let _,p=!1;if(yb()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Ri(fI(e,yield vb()),t.platformLoggerProvider).then(I=>(i.exchangeTokenPromise=void 0,I)),p=!0);const C=yield i.exchangeTokenPromise;return yield _b(e,C),Br(e,Object.assign(Object.assign({},i),{token:C})),{token:C.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(C=>(i.exchangeTokenPromise=void 0,C)),p=!0),a=yield i.exchangeTokenPromise}catch(C){"appCheck/throttled"===C.code?Uu.warn(C.message):Uu.error(C),c=C}return a?(_={token:a.token},Br(e,Object.assign(Object.assign({},i),{token:a})),yield _b(e,a)):_=wb(c),p&&E_(e,_),_})).apply(this,arguments)}function w_(t,n){const e=ni(t),i=e.tokenObservers.filter(a=>a.next!==n);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Br(t,Object.assign(Object.assign({},e),{tokenObservers:i}))}function D_(t){const{app:n}=t,e=ni(n);let i=e.tokenRefresher;i||(i=function(t){const{app:n}=t;return new cb((0,Cr.Z)(function*(){let i;if(i=ni(n).token?yield Rh(t,!0):yield Rh(t),i.error)throw i.error}),()=>!0,()=>{const e=ni(n);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(t),Br(n,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function E_(t,n){const e=ni(t).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=n.error?i.error(n.error):i.next(n)}catch(a){}}function xh(t){return t.expireTimeMillis-Date.now()>0}function wb(t){return{token:gD(Cb),error:t}}class Db{constructor(n,e){this.app=n,this.platformLoggerProvider=e}_delete(){const{tokenObservers:n}=ni(this.app);for(const e of n)w_(this.app,e.next);return Promise.resolve()}}const ED="app-check-internal";(0,pl._registerComponent)(new hc.wA("app-check",t=>function(t,n){return new Db(t,n)}(t.getProvider("app").getImmediate(),t.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,e)=>{t.getProvider(ED).initialize()})),(0,pl._registerComponent)(new hc.wA(ED,t=>function(t){return{getToken:n=>Rh(t,n),addTokenListener:n=>function(t,n,e,i){const{app:a}=t,c=ni(a),p={next:e,error:i,type:n};if(Br(a,Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,p]})),c.token&&xh(c.token)){const _=c.token;Promise.resolve().then(()=>{e({token:_.token}),D_(t)}).catch(()=>{})}c.cachedTokenPromise.then(()=>D_(t))}(t,"INTERNAL",n),removeTokenListener:n=>w_(t.app,n)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,pl.registerVersion)("@firebase/app-check","0.5.2");class kh{constructor(){return(0,fo.vb)("app-check")}}"undefined"!=typeof window&&window;var kb=k(7892);const Ob=new o.OlP("angularfire2.auth.use-emulator"),Op=new o.OlP("angularfire2.auth.settings"),po=new o.OlP("angularfire2.auth.tenant-id"),Pb=new o.OlP("angularfire2.auth.langugage-code"),Fb=new o.OlP("angularfire2.auth.use-device-language"),Lb=new o.OlP("angularfire.auth.persistence"),R_=(t,n,e,i,a,c,p,_)=>(0,Ho.cc)(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const C=n.runOutsideAngular(()=>t.auth());if(e&&C.useEmulator(...e),i&&(C.tenantId=i),C.languageCode=a,c&&C.useDeviceLanguage(),p)for(const[I,R]of Object.entries(p))C.settings[I]=R;return _&&C.setPersistence(_),C},[e,i,a,c,p,_]);let x_=(()=>{class t{constructor(e,i,a,c,p,_,C,I,R,x,V,J){const _e=new Dt.x,Me=je(void 0).pipe((0,Dh.Q)(p.outsideAngular),un(()=>c.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,9766)))),(0,ot.U)(()=>(0,Ho.on)(e,c,i)),(0,ot.U)(Je=>R_(Je,c,_,I,R,x,C,V)),tb({bufferSize:1,refCount:!1}));if(function(t){return"server"===t}(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=je(null);else{Me.pipe(Ys()).subscribe();const Nt=Me.pipe(un(jt=>jt.getRedirectResult().then(ki=>ki,()=>null)),fo.iC,tb({bufferSize:1,refCount:!1})),gt=Me.pipe(un(jt=>new xn.y(ki=>({unsubscribe:c.runOutsideAngular(()=>jt.onAuthStateChanged(yl=>ki.next(yl),yl=>ki.error(yl),()=>ki.complete()))})))),Bn=Me.pipe(un(jt=>new xn.y(ki=>({unsubscribe:c.runOutsideAngular(()=>jt.onIdTokenChanged(yl=>ki.next(yl),yl=>ki.error(yl),()=>ki.complete()))}))));this.authState=Nt.pipe(u_(gt),(0,d_.R)(p.outsideAngular),(0,Dh.Q)(p.insideAngular)),this.user=Nt.pipe(u_(Bn),(0,d_.R)(p.outsideAngular),(0,Dh.Q)(p.insideAngular)),this.idToken=this.user.pipe(un(jt=>jt?(0,_n.D)(jt.getIdToken()):je(null))),this.idTokenResult=this.user.pipe(un(jt=>jt?(0,_n.D)(jt.getIdTokenResult()):je(null))),this.credential=(0,lu.T)(Nt,_e,this.authState.pipe($t(jt=>!jt))).pipe((0,ot.U)(jt=>(null==jt?void 0:jt.user)?jt:null),(0,d_.R)(p.outsideAngular),(0,Dh.Q)(p.insideAngular))}return(0,Ho.pX)(this,Me,c,{spy:{apply:(Je,Nt,gt)=>{(Je.startsWith("signIn")||Je.startsWith("createUser"))&&gt.then(Bn=>_e.next(Bn))}}})}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Ho.Dh),o.LFG(Ho.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(fo.HU),o.LFG(Ob,8),o.LFG(Op,8),o.LFG(po,8),o.LFG(Pb,8),o.LFG(Fb,8),o.LFG(Lb,8),o.LFG(kh,8))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),k_=(()=>{class t{constructor(e,i){this.firebaseAuth=e,this.router=i,this.isLoggedIn=!1}signin(e,i){var a=this;return(0,Cr.Z)(function*(){yield a.firebaseAuth.signInWithEmailAndPassword(e,i).then(c=>{a.isLoggedIn=!0,localStorage.setItem("user",JSON.stringify(c.user))})})()}signup(e,i){var a=this;return(0,Cr.Z)(function*(){Fr(1e3),yield a.firebaseAuth.createUserWithEmailAndPassword(e,i).then(c=>{var p;a.isLoggedIn=!0,a.router.navigateByUrl("/Space"),localStorage.setItem("user",JSON.stringify(null===(p=c.user)||void 0===p?void 0:p.email))}).catch(c=>{alert(c.code),alert(c.message)})})()}logout(){this.firebaseAuth.signOut(),localStorage.removeItem("user")}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(x_),o.LFG(wi))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const xD=["contenido"];function II(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"h2"),o._uU(2,"Reg\xedstrate"),o.qZA(),o.TgZ(3,"form"),o.TgZ(4,"div",9),o.TgZ(5,"label",10),o._uU(6,"Correo"),o.qZA(),o.TgZ(7,"div",11),o._UZ(8,"input",12,13),o.qZA(),o.qZA(),o.TgZ(10,"div",9),o.TgZ(11,"label",14),o._uU(12,"Contrase\xf1a"),o.qZA(),o.TgZ(13,"div",11),o._UZ(14,"input",15,16),o.qZA(),o.qZA(),o.TgZ(16,"div",9),o.TgZ(17,"label",14),o._uU(18,"Confirmar Contrase\xf1a"),o.qZA(),o.TgZ(19,"div",11),o._UZ(20,"input",17,18),o.qZA(),o.qZA(),o.TgZ(22,"div",9),o.TgZ(23,"div",11),o.TgZ(24,"button",19),o.NdJ("click",function(){o.CHM(e);const a=o.MAs(9),c=o.MAs(15),p=o.MAs(21);return o.oxw(2).onSignup(a.value,c.value,p.value)}),o._uU(25,"Registrarse"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}}function Bb(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"h2"),o._uU(2,"Iniciar sesi\xf3n"),o.qZA(),o.TgZ(3,"div",9),o.TgZ(4,"label",10),o._uU(5,"Correo"),o.qZA(),o.TgZ(6,"div",11),o._UZ(7,"input",12,20),o.qZA(),o.qZA(),o.TgZ(9,"div",9),o.TgZ(10,"label",21),o._uU(11,"Contrase\xf1a"),o.qZA(),o.TgZ(12,"div",11),o._UZ(13,"input",15,22),o.qZA(),o.qZA(),o.TgZ(15,"div",9),o.TgZ(16,"div",11),o.TgZ(17,"button",19),o.NdJ("click",function(){o.CHM(e);const a=o.MAs(8),c=o.MAs(14);return o.oxw(2).onSignin(a.value,c.value)}),o._uU(18,"Iniciar Session"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}}function Vb(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div",6),o.TgZ(1,"button",7),o.NdJ("click",function(){return o.CHM(e).$implicit.close()}),o._uU(2,"X"),o.qZA(),o.YNc(3,II,26,0,"div",8),o.YNc(4,Bb,19,0,"div",8),o.qZA()}if(2&t){const e=o.oxw();o.xp6(3),o.Q6J("ngIf",!e.isSignedIn&&e.registrar),o.xp6(1),o.Q6J("ngIf",!e.isSignedIn&&!e.registrar)}}let Hb=(()=>{class t{constructor(e,i,a){this.modal=e,this.firebaseService=i,this.router=a,this.isSignedIn=!1,this.registrar=!1,this.ingresar=!1}ngOnInit(){this.isSignedIn=null!==localStorage.getItem("user")}onSignup(e,i,a){var c=this;return(0,Cr.Z)(function*(){i==a?(c.firebaseService.signup(e,i),console.log("\u2665\u2665\u2665"),c.isSignedIn=!0,c.modal.dismissAll()):alert("No coinciden las contrase\xf1as")})()}onSignin(e,i){var a=this;return(0,Cr.Z)(function*(){yield a.firebaseService.signin(e,i),a.firebaseService.isLoggedIn?(a.isSignedIn=!0,a.modal.dismissAll()):alert("No coinciden los datos")})()}handleLogout(){this.isSignedIn=!1}openXL(){this.modal.open(this.contenidoDelModal,{size:"xl"})}gotoSpace(){this.router.navigateByUrl("/Space")}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Wm),o.Y36(k_),o.Y36(wi))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-home"]],viewQuery:function(e,i){if(1&e&&o.Gf(xD,5),2&e){let a;o.iGM(a=o.CRH())&&(i.contenidoDelModal=a.first)}},decls:7,vars:0,consts:[[1,"Background"],["src","../../assets/imgs/Girar_1.png","id","Girar"],["src","../../assets/Inicio/Titulo.png","id","Title"],["src","../../assets/Inicio/INGRESAR.png","id","signIn",3,"click"],["src","../../assets/Inicio/REGISTRATE.png","id","signUp",3,"click"],["contenido",""],[1,"modal-body",2,"margin","0 0 0 0"],["type","button",1,"boton","btn","btn-danger",3,"click"],[4,"ngIf"],[1,"form-group","row"],["for","inputEmail3",1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["type","email","id","inputEmail3","placeholder","Correo",1,"form-control"],["emailSignup",""],["for","inputPassword",1,"col-sm-2","col-form-label"],["type","password","id","inputPassword3","placeholder","Contrase\xf1a",1,"form-control"],["passwordSignup",""],["type","password","id","inputPassword4","placeholder","Confirmar Contrase\xf1a",1,"form-control"],["passwordSignup2",""],[1,"btn","btn-primary",3,"click"],["email",""],["for","inputPassword3",1,"col-sm-2","col-form-label"],["password",""]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o._UZ(1,"img",1),o._UZ(2,"img",2),o.TgZ(3,"img",3),o.NdJ("click",function(){return i.openXL(),i.registrar=!1}),o.qZA(),o.TgZ(4,"img",4),o.NdJ("click",function(){return i.openXL(),i.registrar=!0}),o.qZA(),o.YNc(5,Vb,5,2,"ng-template",null,5,o.W1O),o.qZA())},directives:[tn,jf,Hg],styles:[".Background[_ngcontent-%COMP%]{background:url(Fondo.55407936fe632ee0.jpg) no-repeat center/cover fixed;height:100vh;width:100vw;margin:0}#Title[_ngcontent-%COMP%]{position:absolute;width:30%;left:35%;top:10%}.row[_ngcontent-%COMP%]{margin-top:1%}#signIn[_ngcontent-%COMP%]{position:absolute;top:40%;left:10%;width:22%;cursor:pointer}#signUp[_ngcontent-%COMP%]{position:absolute;top:40%;right:10%;width:22%;cursor:pointer}@media only screen and (orientation: portrait){#Girar[_ngcontent-%COMP%]{position:absolute;visibility:visible;width:100vw;height:100vh;z-index:80}}@media only screen and (orientation: landscape){#Girar[_ngcontent-%COMP%]{visibility:hidden;width:100vw;height:100vh}}"]}),t})();function kD(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div",5),o._UZ(1,"img",6),o.TgZ(2,"img",7),o.NdJ("click",function(){return o.CHM(e),o.oxw().section="bangColombia"}),o.qZA(),o.TgZ(3,"img",8),o.NdJ("click",function(){return o.CHM(e),o.oxw().section="meteoroGame"}),o.qZA(),o.qZA()}}function Ub(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div",5),o.TgZ(1,"img",9),o.NdJ("click",function(){return o.CHM(e),o.oxw().section="meteoroGameInfo"}),o.qZA(),o.TgZ(2,"img",7),o.NdJ("click",function(){return o.CHM(e),o.oxw().section="home"}),o.qZA(),o.TgZ(3,"img",8),o.NdJ("click",function(){return o.CHM(e),o.oxw().section="superNova"}),o.qZA(),o.qZA()}}function Oh(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div",5),o._UZ(1,"img",10),o.TgZ(2,"img",11),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(),c=o.MAs(20);return a.selectSrcGame("https://view.genial.ly/6172b8aed4be160deac3c8e5"),a.openXL(c)}),o.qZA(),o.TgZ(3,"img",12),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(),c=o.MAs(20);return a.selectSrcGame("https://view.genial.ly/619bd1fdf9582a0d915802de"),a.openXL(c)}),o.qZA(),o.TgZ(4,"img",13),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(),c=o.MAs(20);return a.selectSrcGame("https://view.genial.ly/619c1dd2d690800d642448ed"),a.openXL(c)}),o.qZA(),o.TgZ(5,"img",14),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(),c=o.MAs(20);return a.selectSrcGame("https://view.genial.ly/619ce85578ad330d92bcf578"),a.openXL(c)}),o.qZA(),o._UZ(6,"img",15),o.TgZ(7,"img",16),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(),c=o.MAs(20);return a.selectSrcGame("https://view.genial.ly/619cf3c033ef7a0d9523d5aa"),a.openXL(c)}),o.qZA(),o._UZ(8,"img",17),o._UZ(9,"img",18),o._UZ(10,"img",19),o._UZ(11,"img",20),o._UZ(12,"img",21),o._UZ(13,"img",22),o.TgZ(14,"img",7),o.NdJ("click",function(){return o.CHM(e),o.oxw().section="meteoroGame"}),o.qZA(),o.qZA()}}function O_(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div",5),o.TgZ(1,"img",23),o.NdJ("click",function(){return o.CHM(e),o.oxw().section="superNovaInfo"}),o.qZA(),o.TgZ(2,"img",7),o.NdJ("click",function(){return o.CHM(e),o.oxw().section="meteoroGame"}),o.qZA(),o.TgZ(3,"img",8),o.NdJ("click",function(){return o.CHM(e),o.oxw().section="Orion"}),o.qZA(),o.qZA()}}function $b(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div",5),o.TgZ(1,"img",7),o.NdJ("click",function(){return o.CHM(e),o.oxw().section="superNova"}),o.qZA(),o.TgZ(2,"img",24),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(),c=o.MAs(20);return a.selectSrcVideo("https://firebasestorage.googleapis.com/v0/b/crud-b437f.appspot.com/o/Capacitaci%C3%B3n_BANG_Parte_1_Editado.mp4?alt=media&token=8dc3fa32-3b88-4917-8102-14dbbee36f4a"),a.openXL(c)}),o.qZA(),o.TgZ(3,"img",25),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(),c=o.MAs(20);return a.selectSrcVideo("https://firebasestorage.googleapis.com/v0/b/crud-b437f.appspot.com/o/Capacitaci%C3%B3n_BANG_Parte_2_Editado.mp4?alt=media&token=c4470bce-26a5-40f4-a1c1-1007fee36397"),a.openXL(c)}),o.qZA(),o.TgZ(4,"img",26),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(),c=o.MAs(20);return a.selectSrcVideo("https://firebasestorage.googleapis.com/v0/b/crud-b437f.appspot.com/o/Capacitaci%C3%B3n_BANG_Parte_3_Editado.mp4?alt=media&token=7a95f48c-684e-49d0-9be7-f410c0aff8f4"),a.openXL(c)}),o.qZA(),o.TgZ(5,"img",27),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(),c=o.MAs(20);return a.selectSrcVideo("https://firebasestorage.googleapis.com/v0/b/crud-b437f.appspot.com/o/Grupo%2017_%20D%C3%ADa%20de%20la%20innovaci%C3%B3n_Editado.mp4?alt=media&token=0a5841ca-d527-4298-8ef3-e479981b20f9"),a.openXL(c)}),o.qZA(),o.qZA()}}function OD(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div",5),o.TgZ(1,"img",28),o.NdJ("click",function(){return o.CHM(e),o.oxw().section="orionInfo"}),o.qZA(),o.TgZ(2,"img",7),o.NdJ("click",function(){return o.CHM(e),o.oxw().section="superNova"}),o.qZA(),o.TgZ(3,"img",8),o.NdJ("click",function(){return o.CHM(e),o.oxw().section="nebulosaInnova"}),o.qZA(),o.qZA()}}function jb(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div",5),o._UZ(1,"img",29),o.TgZ(2,"img",30),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(),c=o.MAs(20);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n2.png"),a.openXL(c)}),o.qZA(),o.TgZ(3,"img",31),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(),c=o.MAs(20);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n3.png"),a.openXL(c)}),o.qZA(),o.TgZ(4,"img",32),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(),c=o.MAs(20);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n4.png"),a.openXL(c)}),o.qZA(),o.TgZ(5,"img",33),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(),c=o.MAs(20);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n5.png"),a.openXL(c)}),o.qZA(),o.TgZ(6,"img",34),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(),c=o.MAs(20);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n6.png"),a.openXL(c)}),o.qZA(),o.TgZ(7,"img",35),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(),c=o.MAs(20);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n6A.png"),a.openXL(c)}),o.qZA(),o.TgZ(8,"img",36),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(),c=o.MAs(20);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n7A.png"),a.openXL(c)}),o.qZA(),o.TgZ(9,"img",37),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(),c=o.MAs(20);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n7B.png"),a.openXL(c)}),o.qZA(),o.TgZ(10,"img",38),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(),c=o.MAs(20);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n8A.png"),a.openXL(c)}),o.qZA(),o.TgZ(11,"img",39),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(),c=o.MAs(20);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n8B.png"),a.openXL(c)}),o.qZA(),o.TgZ(12,"img",40),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(),c=o.MAs(20);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n9A.png"),a.openXL(c)}),o.qZA(),o.TgZ(13,"img",41),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(),c=o.MAs(20);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n9B.png"),a.openXL(c)}),o.qZA(),o.TgZ(14,"img",42),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(),c=o.MAs(20);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n10A.png"),a.openXL(c)}),o.qZA(),o.TgZ(15,"img",43),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(),c=o.MAs(20);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n10B.png"),a.openXL(c)}),o.qZA(),o.TgZ(16,"img",44),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(),c=o.MAs(20);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n11.png"),a.openXL(c)}),o.qZA(),o.TgZ(17,"img",45),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(),c=o.MAs(20);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n11A.png"),a.openXL(c)}),o.qZA(),o.TgZ(18,"img",46),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(),c=o.MAs(20);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n12.png"),a.openXL(c)}),o.qZA(),o.TgZ(19,"img",47),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(),c=o.MAs(20);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n13.png"),a.openXL(c)}),o.qZA(),o.TgZ(20,"img",48),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(),c=o.MAs(20);return a.selectSrcImage("../../assets/Orion/LibreriaOri\xf3n14.png"),a.openXL(c)}),o.qZA(),o.TgZ(21,"img",7),o.NdJ("click",function(){return o.CHM(e),o.oxw().section="Orion"}),o.qZA(),o.qZA()}}function Gb(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div",5),o.TgZ(1,"img",49),o.NdJ("click",function(){return o.CHM(e),o.oxw().section="nebulosaInnovaInfo"}),o.qZA(),o.TgZ(2,"img",7),o.NdJ("click",function(){return o.CHM(e),o.oxw().section="Orion"}),o.qZA(),o.TgZ(3,"img",8),o.NdJ("click",function(){return o.CHM(e),o.oxw().section="bangLite"}),o.qZA(),o.qZA()}}function PD(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div",5),o.TgZ(1,"img",50),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(),c=o.MAs(20);return a.selectSrcImage("../../assets/imgs/Master1.jpg"),a.openXL(c)}),o.qZA(),o.TgZ(2,"img",51),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(),c=o.MAs(20);return a.selectSrcImage("../../assets/imgs/Intraemprendedor1.jpg"),a.openXL(c)}),o.qZA(),o.TgZ(3,"img",52),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(),c=o.MAs(20);return a.selectSrcImage("../../assets/imgs/Trainer1.jpg"),a.openXL(c)}),o.qZA(),o.TgZ(4,"img",53),o.NdJ("click",function(){return o.CHM(e),o.oxw().goToMore()}),o.qZA(),o.TgZ(5,"img",7),o.NdJ("click",function(){return o.CHM(e),o.oxw().section="nebulosaInnova"}),o.qZA(),o.qZA()}}function FD(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div",5),o.TgZ(1,"img",54),o.NdJ("click",function(){return o.CHM(e),o.oxw().section="bangLiteInfo"}),o.qZA(),o.TgZ(2,"img",7),o.NdJ("click",function(){return o.CHM(e),o.oxw().section="nebulosaInnova"}),o.qZA(),o.TgZ(3,"img",8),o.NdJ("click",function(){return o.CHM(e),o.oxw().section="bangColombia"}),o.qZA(),o.qZA()}}function AI(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div",5),o.TgZ(1,"img",55),o.NdJ("click",function(){o.CHM(e);const a=o.oxw();return a.selectCharacterLite("crispi"),a.section="tarjetaLite"}),o.qZA(),o.TgZ(2,"img",56),o.NdJ("click",function(){o.CHM(e);const a=o.oxw();return a.selectCharacterLite("cristal"),a.section="tarjetaLite"}),o.qZA(),o.TgZ(3,"img",57),o.NdJ("click",function(){o.CHM(e);const a=o.oxw();return a.selectCharacterLite("cori"),a.section="tarjetaLite"}),o.qZA(),o.TgZ(4,"img",58),o.NdJ("click",function(){o.CHM(e);const a=o.oxw();return a.selectCharacterLite("cesia"),a.section="tarjetaLite"}),o.qZA(),o.TgZ(5,"img",59),o.NdJ("click",function(){o.CHM(e);const a=o.oxw();return a.selectCharacterLite("carmel"),a.section="tarjetaLite"}),o.qZA(),o.TgZ(6,"img",7),o.NdJ("click",function(){return o.CHM(e),o.oxw().section="bangLite"}),o.qZA(),o.qZA()}}function SI(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div",5),o.TgZ(1,"img",60),o.NdJ("click",function(){return o.CHM(e),o.oxw().section="bangColombiaInfo"}),o.qZA(),o.TgZ(2,"img",7),o.NdJ("click",function(){return o.CHM(e),o.oxw().section="bangLite"}),o.qZA(),o.TgZ(3,"img",8),o.NdJ("click",function(){return o.CHM(e),o.oxw().section="home"}),o.qZA(),o.qZA()}}function Wb(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div",5),o.TgZ(1,"img",61),o.NdJ("click",function(){o.CHM(e);const a=o.oxw();return a.selectCharacterLite("quillero"),a.section="tarjetaColombiaLite"}),o.qZA(),o.TgZ(2,"img",7),o.NdJ("click",function(){return o.CHM(e),o.oxw().section="bangColombia"}),o.qZA(),o.qZA()}}function LD(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"img",64),o.NdJ("click",function(){return o.CHM(e),o.oxw(2).random(10)}),o.qZA()}if(2&t){const e=o.oxw(2);o.MGl("src","../../assets/imgs/Tarjetas/",e.personaje,".png",o.LSH)}}function BD(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"img",64),o.NdJ("click",function(){return o.CHM(e),o.oxw(2).changed()}),o.qZA()}if(2&t){const e=o.oxw(2);o.hYB("src","../../assets/imgs/Tarjetas/",e.personaje,"-",e.num,".png",o.LSH)}}function VD(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div",5),o._UZ(1,"img",62),o.YNc(2,LD,1,1,"img",63),o.YNc(3,BD,1,2,"img",63),o.TgZ(4,"img",7),o.NdJ("click",function(){return o.CHM(e),o.oxw().section="bangLiteInfo"}),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.xp6(2),o.Q6J("ngIf",e.tarjeta),o.xp6(1),o.Q6J("ngIf",e.carta)}}function NI(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"img",64),o.NdJ("click",function(){return o.CHM(e),o.oxw(2).random(10)}),o.qZA()}if(2&t){const e=o.oxw(2);o.MGl("src","../../assets/imgs/BangLiteColombia/t-",e.personaje,".png",o.LSH)}}function MI(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"img",64),o.NdJ("click",function(){return o.CHM(e),o.oxw(2).changed()}),o.qZA()}if(2&t){const e=o.oxw(2);o.hYB("src","../../assets/imgs/BangLiteColombia/t-",e.personaje,"-",e.num,".png",o.LSH)}}function RI(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div",5),o._UZ(1,"img",65),o.YNc(2,NI,1,1,"img",63),o.YNc(3,MI,1,2,"img",63),o.TgZ(4,"img",7),o.NdJ("click",function(){return o.CHM(e),o.oxw().section="bangColombiaInfo"}),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.xp6(2),o.Q6J("ngIf",e.tarjeta),o.xp6(1),o.Q6J("ngIf",e.carta)}}function xI(t,n){if(1&t&&(o.TgZ(0,"div"),o._UZ(1,"video",69),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.s9C("src",e.srcVideo,o.LSH)}}function kI(t,n){if(1&t&&(o.TgZ(0,"div"),o._UZ(1,"img",70),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.s9C("src",e.srcImage,o.LSH)}}function HD(t,n){if(1&t&&(o.TgZ(0,"div",71),o.TgZ(1,"div",72),o._UZ(2,"iframe",73),o.qZA(),o.qZA()),2&t){const e=o.oxw(2);o.xp6(2),o.uIk("src",e.srcGame,o.uOi)}}function Pp(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div",66),o.TgZ(1,"button",1),o.NdJ("click",function(){return o.CHM(e).$implicit.close()}),o._uU(2,"X"),o.qZA(),o.YNc(3,xI,2,1,"div",67),o.YNc(4,kI,2,1,"div",67),o.YNc(5,HD,3,1,"div",68),o.qZA()}if(2&t){const e=o.oxw();o.xp6(3),o.Q6J("ngIf",e.video),o.xp6(1),o.Q6J("ngIf",e.image),o.xp6(1),o.Q6J("ngIf",e.game)}}const UD=[{path:"",pathMatch:"full",redirectTo:"Space"},{path:"Home",component:Hb},{path:"Space",component:(()=>{class t{constructor(e,i,a,c){this.Serv=e,this.modal=i,this.sanitizer=a,this.router=c,this.aux=["","","","","","","","",""],this.personajesArr=["crispi","cesia","cori","carmel","cristal"],this.carta=!1,this.tarjeta=!1,this.video=!1,this.game=!1,this.image=!1,this.tarjetaLite=!1,this.tarjetaColombiaLite=!1,this.closeModal="",this.video=!1,this.game=!1,this.image=!1}ngOnInit(){this.section="home",this.tarjeta=!0,null==localStorage.getItem("user")&&this.router.navigateByUrl("/Home")}openXL(e){var i=this;return(0,Cr.Z)(function*(){i.modal.open(e,{size:"xl"})})()}selectSrcImage(e){this.video=!1,this.game=!1,this.image=!0,this.srcImage=e}selectSrcGame(e){this.urlGame=this.sanitizer.bypassSecurityTrustResourceUrl(e),this.video=!1,this.srcGame=this.urlGame,this.image=!1,this.game=!0}selectSrcVideo(e){this.srcVideo=e,this.image=!1,this.game=!1,this.video=!0}random(e){let i=Math.floor(Math.random()*e+1);this.num=i.toString(),console.log("random[]"," =  ",i),this.carta=!0,this.tarjeta=!1}changed(){this.carta=!1,this.tarjeta=!0}selectCharacterLite(e){this.personaje=e}deleteAll(){this.Serv.logout(),this.router.navigateByUrl("/Home")}goToMore(){window.open("https://academiabang.com/Pages/Contacto.html","-parent")}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(k_),o.Y36(Wm),o.Y36(Qr),o.Y36(wi))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-start"]],decls:21,vars:15,consts:[[1,"embed-container"],["type","button",1,"boton","btn","btn-danger",3,"click"],["allow","accelerometer; magnetometer; gyroscope","src","https://panoraven.com/es/embed/nhCLZaVWc6"],["class","cont",4,"ngIf"],["contenido",""],[1,"cont"],["src","../../assets/Inicio/Titulo.png","id","Title"],["src","../../assets/imgs/flecha.png",1,"leftArrow",3,"click"],["src","../../assets/imgs/flecha.png",1,"rightArrow",3,"click"],["src","../../assets/imgs/meteoro-game.png","id","Title",3,"click"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 1.png","id","BotonG1"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 2.png","id","BotonG2",3,"click"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 3.png","id","BotonG3",3,"click"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 4.png","id","BotonG4",3,"click"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 5.png","id","BotonG5",3,"click"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 6.png","id","BotonG6"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 8.png","id","BotonG7",3,"click"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 9.png","id","BotonG8"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 13.png","id","BotonG9"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 14.png","id","BotonG10"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 15.png","id","BotonG11"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 16.png","id","BotonG12"],["src","../../assets/imgs/Botones Meteoro Game/Boton juegos 17.png","id","BotonG13"],["src","../../assets/imgs/supernova.png","id","Title",3,"click"],["src","../../assets/imgs/BOTON1.png","id","BotonV",3,"click"],["src","../../assets/imgs/BOTON2.png","id","BotonV1",3,"click"],["src","../../assets/imgs/BOTON3.png","id","BotonV2",3,"click"],["src","../../assets/imgs/BOTON3.png","id","BotonV3",3,"click"],["src","../../assets/imgs/Librer\xeda ori\xf3n.png","id","Title",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 1.png","id","Boton1"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 2.png","id","Boton2",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 3.png","id","Boton3",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 4.png","id","Boton4",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 5.png","id","Boton5",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 6.png","id","Boton6",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 6A.png","id","Boton6a",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 7A.png","id","Boton7A",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 7B.png","id","Boton7B",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 8A.png","id","Boton8A",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 8B.png","id","Boton8B",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 9A.png","id","Boton9A",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 9B.png","id","Boton9B",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 10A.png","id","Boton10A",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 10B.png","id","Boton10B",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 11.png","id","Boton11",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 11A.png","id","Boton11A",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 12.png","id","Boton12",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 13.png","id","Boton13",3,"click"],["src","../../assets/imgs/Botones Librer\xeda Ori\xf3n PNG/Boton 14.png","id","Boton14",3,"click"],["src","../../assets/imgs/Nebulosa Innova.png","id","Title",3,"click"],["src","../../assets/imgs/Logo_master.png","id","BotonMaster",3,"click"],["src","../../assets/imgs/Logo_intraemprendedor.png","id","BotonIntraE",3,"click"],["src","../../assets/imgs/Logo_trainer.png","id","BotonTrainer",3,"click"],["src","../../assets/imgs/CONOCEMAS.png","id","more",3,"click"],["src","../../assets/imgs/BangLite.png","id","Title",3,"click"],["src","../../assets/imgs/Circulo_CRISPI.png","id","CirculoCrispi",3,"click"],["src","../../assets/imgs/Circulo_CRISTAL.png","id","CirculoCristal",3,"click"],["src","../../assets/imgs/Circulo_CORI.png","id","CirculoCori",3,"click"],["src","../../assets/imgs/Circulo_CESIA.png","id","CirculoCesia",3,"click"],["src","../../assets/imgs/Circulo_CARMEL.png","id","CirculoCarmel",3,"click"],["src","../../assets/imgs/bangColombia.png","id","Title",3,"click"],["src","../../assets/imgs/QUILLERO.png","id","quillero",3,"click"],["src","../../assets/gifs/clickeame.gif",1,"clickeame"],["id","tarjetaLite",3,"src","click",4,"ngIf"],["id","tarjetaLite",3,"src","click"],["src","../../assets/gifs/clickeame.gif",1,"clickeame2"],[1,"modal-body",2,"margin","0 0 0 -10%"],[4,"ngIf"],["class","game",4,"ngIf"],["controls","","autoplay","",1,"image",3,"src"],[1,"infografia",3,"src"],[1,"game"],[2,"position","relative","padding-bottom","56.25%","padding-top","0","height","0"],["frameborder","0","width","1200","height","675","type","text/html","allowscriptaccess","always","allowfullscreen","true","scrolling","yes","allownetworking","all",2,"position","absolute","top","0","left","0","width","100%","height","100%"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"button",1),o.NdJ("click",function(){return i.deleteAll()}),o._uU(2,"Cerrar Session"),o.qZA(),o._UZ(3,"iframe",2),o.YNc(4,kD,4,0,"div",3),o.YNc(5,Ub,4,0,"div",3),o.YNc(6,Oh,15,0,"div",3),o.YNc(7,O_,4,0,"div",3),o.YNc(8,$b,6,0,"div",3),o.YNc(9,OD,4,0,"div",3),o.YNc(10,jb,22,0,"div",3),o.YNc(11,Gb,4,0,"div",3),o.YNc(12,PD,6,0,"div",3),o.YNc(13,FD,4,0,"div",3),o.YNc(14,AI,7,0,"div",3),o.YNc(15,SI,4,0,"div",3),o.YNc(16,Wb,3,0,"div",3),o.YNc(17,VD,5,2,"div",3),o.YNc(18,RI,5,2,"div",3),o.YNc(19,Pp,6,3,"ng-template",null,4,o.W1O),o.qZA()),2&e&&(o.xp6(4),o.Q6J("ngIf","home"==i.section),o.xp6(1),o.Q6J("ngIf","meteoroGame"==i.section),o.xp6(1),o.Q6J("ngIf","meteoroGameInfo"==i.section),o.xp6(1),o.Q6J("ngIf","superNova"==i.section),o.xp6(1),o.Q6J("ngIf","superNovaInfo"==i.section),o.xp6(1),o.Q6J("ngIf","Orion"==i.section),o.xp6(1),o.Q6J("ngIf","orionInfo"==i.section),o.xp6(1),o.Q6J("ngIf","nebulosaInnova"==i.section),o.xp6(1),o.Q6J("ngIf","nebulosaInnovaInfo"==i.section),o.xp6(1),o.Q6J("ngIf","bangLite"==i.section),o.xp6(1),o.Q6J("ngIf","bangLiteInfo"==i.section),o.xp6(1),o.Q6J("ngIf","bangColombia"==i.section),o.xp6(1),o.Q6J("ngIf","bangColombiaInfo"==i.section),o.xp6(1),o.Q6J("ngIf","tarjetaLite"==i.section),o.xp6(1),o.Q6J("ngIf","tarjetaColombiaLite"==i.section))},directives:[tn],styles:[".embed-container[_ngcontent-%COMP%]{position:relative;padding-bottom:0;height:100vh;overflow:hidden}.embed-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100vw;height:100vh}iframe[_ngcontent-%COMP%]{width:100vw;height:100vh}.cont[_ngcontent-%COMP%]{position:fixed;z-index:20}#Title[_ngcontent-%COMP%]{z-index:20;position:fixed;width:30%;left:35%;top:10%}.leftArrow[_ngcontent-%COMP%]{z-index:20;position:fixed;left:10%;bottom:10%;width:11vw;height:auto;transform:scaleX(-1)}.rightArrow[_ngcontent-%COMP%]{z-index:20;position:fixed;right:10%;bottom:10%;width:11vw;height:auto}#orionLib[_ngcontent-%COMP%]{z-index:20;position:fixed;width:80%;left:10%;top:14%}.infografia[_ngcontent-%COMP%]{width:79%}.image[_ngcontent-%COMP%]{width:79%}.game[_ngcontent-%COMP%]{width:75%}.modal-body[_ngcontent-%COMP%]{width:140%;padding:0;margin:0}.MODAL[_ngcontent-%COMP%]{position:absolute}.modal-footer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-shrink:0;align-items:center;justify-content:flex-end;border-top:1px solid #dee2e6;border-bottom-right-radius:calc(0.3rem - 1px);border-bottom-left-radius:calc(0.3rem - 1px);position:absolute;padding-top:1%}.boton[_ngcontent-%COMP%]{position:absolute;z-index:25}#Boton1[_ngcontent-%COMP%]{position:fixed;width:6%;z-index:30;top:43%;left:10.4%}#Boton2[_ngcontent-%COMP%]{position:fixed;width:6%;z-index:30;top:43%;left:17%}#Boton3[_ngcontent-%COMP%]{position:fixed;width:6%;z-index:30;top:43%;left:30.15%}#Boton4[_ngcontent-%COMP%]{position:fixed;width:6%;z-index:30;top:18%;left:50.4%}#Boton5[_ngcontent-%COMP%]{position:fixed;width:6%;z-index:30;top:46%;left:23.6%}#Boton6[_ngcontent-%COMP%]{position:fixed;width:9%;z-index:30;top:57.3%;left:12.5%}#Boton6a[_ngcontent-%COMP%]{position:fixed;width:5.6%;z-index:30;top:57.2%;left:30.4%}#Boton7A[_ngcontent-%COMP%]{position:fixed;width:9%;z-index:30;top:29.2%;left:39%}#Boton7B[_ngcontent-%COMP%]{position:fixed;width:5.6%;z-index:30;top:15.2%;left:44%}#Boton8A[_ngcontent-%COMP%]{position:fixed;width:6%;z-index:30;top:46.5%;left:77.1%}#Boton8B[_ngcontent-%COMP%]{position:fixed;width:9%;z-index:30;top:57.2%;left:66%}#Boton9A[_ngcontent-%COMP%]{position:fixed;width:5.5%;z-index:30;top:29.1%;left:57.2%}#Boton9B[_ngcontent-%COMP%]{position:fixed;width:6%;z-index:30;top:15%;left:57%}#Boton10A[_ngcontent-%COMP%]{position:fixed;width:9%;z-index:30;top:44%;left:39%}#Boton10B[_ngcontent-%COMP%]{position:fixed;width:6%;z-index:30;top:46%;left:83.8%}#Boton11[_ngcontent-%COMP%]{position:fixed;width:5.5%;z-index:30;top:43.5%;left:70.8%}#Boton11A[_ngcontent-%COMP%]{position:fixed;width:5.5%;z-index:30;top:43.5%;left:64.2%}#Boton12[_ngcontent-%COMP%]{position:fixed;width:5.5%;z-index:30;top:15.5%;left:37.4%}#Boton13[_ngcontent-%COMP%]{position:fixed;width:9%;z-index:30;top:57%;left:39%}#Boton14[_ngcontent-%COMP%]{position:fixed;width:9%;z-index:30;top:47%;left:52%}#BotonG1[_ngcontent-%COMP%]{position:fixed;width:20%;z-index:30;top:10%;left:10%}#BotonG2[_ngcontent-%COMP%]{position:fixed;width:12%;z-index:30;top:10%;left:33%}#BotonG3[_ngcontent-%COMP%]{position:fixed;width:12%;z-index:30;top:52%;left:12.5%}#BotonG4[_ngcontent-%COMP%]{position:fixed;width:10%;z-index:30;top:57%;left:30%}#BotonG5[_ngcontent-%COMP%]{position:fixed;width:9%;z-index:30;top:10%;left:46%}#BotonG6[_ngcontent-%COMP%]{position:fixed;width:10%;z-index:30;top:28%;left:32%}#BotonG7[_ngcontent-%COMP%]{position:fixed;width:12%;z-index:30;top:52%;left:41%}#BotonG8[_ngcontent-%COMP%]{position:fixed;width:10%;z-index:30;top:10%;left:57%}#BotonG9[_ngcontent-%COMP%]{position:fixed;width:10%;z-index:30;top:57%;left:55%}#BotonG10[_ngcontent-%COMP%]{position:fixed;width:10%;z-index:30;top:69%;left:41%}#BotonG11[_ngcontent-%COMP%]{position:fixed;width:9%;z-index:30;top:26%;left:68%}#BotonG12[_ngcontent-%COMP%]{position:fixed;width:12%;z-index:30;top:10%;left:68%}#BotonG13[_ngcontent-%COMP%]{position:fixed;width:10%;z-index:30;top:69%;left:66%}#BotonMaster[_ngcontent-%COMP%]{position:fixed;width:15%;z-index:30;top:25%;left:25%}#BotonIntraE[_ngcontent-%COMP%]{position:fixed;width:15%;z-index:30;top:25%;left:42.5%}#BotonTrainer[_ngcontent-%COMP%]{position:fixed;width:15%;z-index:30;top:25%;left:60%}#BotonV[_ngcontent-%COMP%]{position:fixed;width:15%;z-index:30;top:35%;left:18%}#BotonV1[_ngcontent-%COMP%]{position:fixed;width:15%;z-index:30;top:35%;left:34%}#BotonV2[_ngcontent-%COMP%]{position:fixed;width:15%;z-index:30;top:35%;left:50%}#BotonV3[_ngcontent-%COMP%]{position:fixed;width:15%;z-index:30;top:35%;left:66%}#CirculoCrispi[_ngcontent-%COMP%]{position:fixed;width:12%;z-index:30;top:10%;left:45%}#CirculoCarmel[_ngcontent-%COMP%]{position:fixed;width:12%;z-index:30;top:30%;left:59%}#CirculoCesia[_ngcontent-%COMP%]{position:fixed;width:12%;z-index:30;top:30.6%;left:32%}#CirculoCristal[_ngcontent-%COMP%]{position:fixed;width:14%;z-index:30;top:59%;left:53%}#CirculoCori[_ngcontent-%COMP%]{position:fixed;width:14%;z-index:30;top:55%;left:34%}#quillero[_ngcontent-%COMP%]{position:fixed;width:12%;z-index:30;top:40%;left:43%}#tarjetaLite[_ngcontent-%COMP%]{position:fixed;left:41%;top:12%;width:20%}.clickeame[_ngcontent-%COMP%]{position:fixed;width:6%;left:48%;top:75%;z-index:25}.clickeame2[_ngcontent-%COMP%]{position:fixed;width:6%;left:48%;top:61%;z-index:25}#more[_ngcontent-%COMP%]{position:fixed;width:25%;left:37%;top:60%}"]}),t})()},{path:"**",component:Hb}];let Zb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[ru.forRoot(UD)],ru]}),t})(),gc=(()=>{class t{constructor(){this.title="Space-Bang"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"router-outlet")},directives:[Gc],styles:["*{margin:0;padding:0}"]}),t})();k(9766);var P_=k(6293);const qb="@firebase/database";let Ph="";function F_(t){Ph=t}class Jb{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,e){null==e?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),(0,F.Pz)(e))}get(n){const e=this.domStorage_.getItem(this.prefixedName_(n));return null==e?null:(0,F.cI)(e)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class PI{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,e){null==e?delete this.cache_[n]:this.cache_[n]=e}get(n){return(0,F.r3)(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const $D=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){const n=window[t];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new Jb(n)}}catch(n){}return new PI},$u=$D("localStorage"),Kb=$D("sessionStorage"),Fh=new g_.Yd("@firebase/database"),jD=function(){let t=1;return function(){return t++}}(),GD=function(t){const n=(0,F.dS)(t),e=new F.gQ;e.update(n);const i=e.digest();return F.US.encodeByteArray(i)},ju=function(...t){let n="";for(let e=0;e<t.length;e++){const i=t[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=ju.apply(null,i):n+="object"==typeof i?(0,F.Pz)(i):i,n+=" "}return n};let mc=null,Qb=!0;const Xb=function(t,n){(0,F.hu)(!n||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Fh.logLevel=g_.in.VERBOSE,mc=Fh.log.bind(Fh),n&&Kb.set("logging_enabled",!0)):"function"==typeof t?mc=t:(mc=null,Kb.remove("logging_enabled"))},Ti=function(...t){if(!0===Qb&&(Qb=!1,null===mc&&!0===Kb.get("logging_enabled")&&Xb(!0)),mc){const n=ju.apply(null,t);mc(n)}},Gu=function(t){return function(...n){Ti(t,...n)}},Lp=function(...t){const n="FIREBASE INTERNAL ERROR: "+ju(...t);Fh.error(n)},Uo=function(...t){const n=`FIREBASE FATAL ERROR: ${ju(...t)}`;throw Fh.error(n),new Error(n)},ar=function(...t){const n="FIREBASE WARNING: "+ju(...t);Fh.warn(n)},Lh=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},ma="[MIN_NAME]",$o="[MAX_NAME]",fs=function(t,n){if(t===n)return 0;if(t===ma||n===$o)return-1;if(n===ma||t===$o)return 1;{const e=Vp(t),i=Vp(n);return null!==e?null!==i?e-i==0?t.length-n.length:e-i:-1:null!==i?1:t<n?-1:1}},ZD=function(t,n){return t===n?0:t<n?-1:1},Bh=function(t,n){if(n&&t in n)return n[t];throw new Error("Missing required key ("+t+") in object: "+(0,F.Pz)(n))},L_=function(t){if("object"!=typeof t||null===t)return(0,F.Pz)(t);const n=[];for(const i in t)n.push(i);n.sort();let e="{";for(let i=0;i<n.length;i++)0!==i&&(e+=","),e+=(0,F.Pz)(n[i]),e+=":",e+=L_(t[n[i]]);return e+="}",e},e1=function(t,n){const e=t.length;if(e<=n)return[t];const i=[];for(let a=0;a<e;a+=n)i.push(t.substring(a,a+n>e?e:a+n));return i};function xi(t,n){for(const e in t)t.hasOwnProperty(e)&&n(e,t[e])}const t1=function(t){(0,F.hu)(!Lh(t),"Invalid JSON number");const i=1023;let a,c,p,_,C;0===t?(c=0,p=0,a=1/t==-1/0?1:0):(a=t<0,(t=Math.abs(t))>=Math.pow(2,1-i)?(_=Math.min(Math.floor(Math.log(t)/Math.LN2),i),c=_+i,p=Math.round(t*Math.pow(2,52-_)-Math.pow(2,52))):(c=0,p=Math.round(t/Math.pow(2,-1074))));const I=[];for(C=52;C;C-=1)I.push(p%2?1:0),p=Math.floor(p/2);for(C=11;C;C-=1)I.push(c%2?1:0),c=Math.floor(c/2);I.push(a?1:0),I.reverse();const R=I.join("");let x="";for(C=0;C<64;C+=8){let V=parseInt(R.substr(C,8),2).toString(16);1===V.length&&(V="0"+V),x+=V}return x.toLowerCase()},JD=new RegExp("^-?(0*)\\d{1,10}$"),n1=-2147483648,B_=2147483647,Vp=function(t){if(JD.test(t)){const n=Number(t);if(n>=n1&&n<=B_)return n}return null},Vh=function(t){try{t()}catch(n){setTimeout(()=>{throw ar("Exception was thrown by user callback.",n.stack||""),n},Math.floor(0))}},Hp=function(t,n){const e=setTimeout(t,n);return"object"==typeof e&&e.unref&&e.unref(),e};class LI{constructor(n,e){this.appName_=n,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(i=>this.appCheck=i)}getToken(n){return this.appCheck?this.appCheck.getToken(n):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(e,i):e(null)},0)})}addTokenChangeListener(n){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(n))}notifyForInvalidToken(){ar(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class BI{constructor(n,e,i){this.appName_=n,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(a=>this.auth_=a)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(e=>e&&"auth/token-not-initialized"===e.code?(Ti("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(e,i):e(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(e=>e.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(e=>e.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';n+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ar(n)}}let Hh=(()=>{class t{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const s=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,g="websocket",y="long_polling";class b{constructor(n,e,i,a,c=!1,p="",_=!1){this.secure=e,this.namespace=i,this.webSocketOnly=a,this.nodeAdmin=c,this.persistenceKey=p,this.includeNamespaceInQueryParams=_,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$u.get("host:"+n)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&$u.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function A(t,n,e){let i;if((0,F.hu)("string"==typeof n,"typeof type must == string"),(0,F.hu)("object"==typeof e,"typeof params must == object"),n===g)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(n!==y)throw new Error("Unknown connection type: "+n);i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(e.ns=t.namespace);const a=[];return xi(e,(c,p)=>{a.push(c+"="+p)}),i+a.join("&")}class N{constructor(){this.counters_={}}incrementCounter(n,e=1){(0,F.r3)(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=e}get(){return(0,F.p$)(this.counters_)}}const P={},j={};function q(t){const n=t.toString();return P[n]||(P[n]=new N),P[n]}class Ne{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,e){this.closeAfterResponse=n,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,e){for(this.pendingResponses[n]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<i.length;++a)i[a]&&Vh(()=>{this.onMessage_(i[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class jp{constructor(n,e,i,a,c,p,_){this.connId=n,this.repoInfo=e,this.applicationId=i,this.appCheckToken=a,this.authToken=c,this.transportSessionId=p,this.lastSessionId=_,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Gu(n),this.stats_=q(e),this.urlFn=C=>(this.appCheckToken&&(C.ac=this.appCheckToken),A(e,y,C))}open(n,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Ne(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,F.Yr)()||"complete"===document.readyState)t();else{let n=!1;const e=function(){document.body?n||(n=!0,t()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new eE((...c)=>{const[p,_,C,I,R]=c;if(this.incrementIncomingBytes_(c),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===p)this.id=_,this.password=C;else{if("close"!==p)throw new Error("Unrecognized command received: "+p);_?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(_,()=>{this.onClosed_()})):this.onClosed_()}},(...c)=>{const[p,_]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(p,_)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&s.test(location.hostname)&&(i.r="f");const a=this.urlFn(i);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){jp.forceAllow_=!0}static forceDisallow(){jp.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!jp.forceAllow_&&(jp.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const e=(0,F.Pz)(n);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,F.h$)(e),a=e1(i,1840);for(let c=0;c<a.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[c]),this.curSegmentNum++}addDisconnectPingFrame(n,e){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=n,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const e=(0,F.Pz)(n).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class eE{constructor(n,e,i,a){if(this.onDisconnect=i,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=n,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=jD(),window["pLPCommand"+this.uniqueCallbackIdentifier]=n,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=eE.createIFrame_();let c="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(c='<script>document.domain="'+document.domain+'";<\/script>');const p="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(p),this.myIFrame.doc.close()}catch(_){Ti("frame writing exception"),_.stack&&Ti(_.stack),Ti(_)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(n);try{n.contentWindow.document||Ti("No IE domain setting required")}catch(e){const i=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,e){for(this.myID=n,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n.id=this.myID,n.pw=this.myPW,n.ser=this.currentSerial;let e=this.urlFn(n),i="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const p=this.pendingSegs.shift();i=i+"&seg"+a+"="+p.seg+"&ts"+a+"="+p.ts+"&d"+a+"="+p.d,a++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(n,e,i){this.pendingSegs.push({seg:n,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(n,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(i,Math.floor(25e3));this.addTag(n,()=>{clearTimeout(a),i()})}addTag(n,e){(0,F.Yr)()?this.doNodeLongPoll(n,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=n,i.onload=i.onreadystatechange=function(){const a=i.readyState;(!a||"loaded"===a||"complete"===a)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Ti("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let z_=null;"undefined"!=typeof MozWebSocket?z_=MozWebSocket:"undefined"!=typeof WebSocket&&(z_=WebSocket);let Y_=(()=>{class t{constructor(e,i,a,c,p,_,C){this.connId=e,this.applicationId=a,this.appCheckToken=c,this.authToken=p,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Gu(this.connId),this.stats_=q(i),this.connURL=t.connectionURL_(i,_,C,c),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,a,c){const p={v:"5"};return!(0,F.Yr)()&&"undefined"!=typeof location&&location.hostname&&s.test(location.hostname)&&(p.r="f"),i&&(p.s=i),a&&(p.ls=a),c&&(p.ac=c),A(e,g,p)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$u.set("previous_websocket_failure",!0);try{if((0,F.Yr)()){const c={headers:{"User-Agent":`Firebase/5/${Ph}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(c.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(c.headers["X-Firebase-AppCheck"]=this.appCheckToken);const p=process.env,_=0===this.connURL.indexOf("wss://")?p.HTTPS_PROXY||p.https_proxy:p.HTTP_PROXY||p.http_proxy;_&&(c.proxy={origin:_}),this.mySock=new z_(this.connURL,[],c)}else this.mySock=new z_(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(a){this.log_("Error instantiating WebSocket.");const c=a.message||a.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const c=a.message||a.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==z_&&!t.forceDisallow_}static previouslyFailed(){return $u.isInMemoryStorage||!0===$u.get("previous_websocket_failure")}markConnectionHealthy(){$u.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const a=(0,F.cI)(i);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const a=this.extractFrameCount_(i);null!==a&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const i=(0,F.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=e1(i,16384);a.length>1&&this.sendString_(String(a.length));for(let c=0;c<a.length;c++)this.sendString_(a[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})();class tE{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[jp,Y_]}initTransports_(n){const e=Y_&&Y_.isAvailable();let i=e&&!Y_.previouslyFailed();if(n.webSocketOnly&&(e||ar("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Y_];else{const a=this.transports_=[];for(const c of tE.ALL_TRANSPORTS)c&&c.isAvailable()&&a.push(c)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class WI{constructor(n,e,i,a,c,p,_,C,I,R){this.id=n,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=a,this.authToken_=c,this.onMessage_=p,this.onReady_=_,this.onDisconnect_=C,this.onKill_=I,this.lastSessionId=R,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Gu("c:"+this.id+":"),this.transportManager_=new tE(e),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const a=n.healthyTimeout||0;a>0&&(this.healthyTimeout_=Hp(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return e=>{n===this.conn_?this.onConnectionLost_(e):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return e=>{2!==this.state_&&(n===this.rx_?this.onPrimaryMessageReceived_(e):n===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(n){this.sendData_({t:"d",d:n})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if("t"in n){const e=n.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const e=Bh("t",n),i=Bh("d",n);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const e=Bh("t",n),i=Bh("d",n);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const e=Bh("t",n);if("d"in n){const i=n.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?Lp("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Lp("Unknown control packet command: "+e)}}onHandshake_(n){const e=n.ts,i=n.v,a=n.h;this.sessionId=n.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&ar("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),Hp(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,e){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Hp(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,n||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($u.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(n)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class ZI{put(n,e,i,a){}merge(n,e,i,a){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,e,i){}onDisconnectMerge(n,e,i){}onDisconnectCancel(n,e){}reportStats(n){}}class zI{constructor(n){this.allowedEvents_=n,this.listeners_={},(0,F.hu)(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...e){if(Array.isArray(this.listeners_[n])){const i=[...this.listeners_[n]];for(let a=0;a<i.length;a++)i[a].callback.apply(i[a].context,e)}}on(n,e,i){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:e,context:i});const a=this.getInitialEvent(n);a&&e.apply(i,a)}off(n,e,i){this.validateEventType_(n);const a=this.listeners_[n]||[];for(let c=0;c<a.length;c++)if(a[c].callback===e&&(!i||i===a[c].context))return void a.splice(c,1)}validateEventType_(n){(0,F.hu)(this.allowedEvents_.find(e=>e===n),"Unknown event: "+n)}}class i1 extends zI{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new i1}getInitialEvent(n){return(0,F.hu)("online"===n,"Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}class ln{constructor(n,e){if(void 0===e){this.pieces_=n.split("/");let i=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[i]=this.pieces_[a],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=e}toString(){let n="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(n+="/"+this.pieces_[e]);return n||"/"}}function Kt(){return new ln("")}function At(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Wu(t){return t.pieces_.length-t.pieceNum_}function Cn(t){let n=t.pieceNum_;return n<t.pieces_.length&&n++,new ln(t.pieces_,n)}function iE(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function q_(t,n=0){return t.pieces_.slice(t.pieceNum_+n)}function JI(t){if(t.pieceNum_>=t.pieces_.length)return null;const n=[];for(let e=t.pieceNum_;e<t.pieces_.length-1;e++)n.push(t.pieces_[e]);return new ln(n,0)}function Ln(t,n){const e=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);if(n instanceof ln)for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);else{const i=n.split("/");for(let a=0;a<i.length;a++)i[a].length>0&&e.push(i[a])}return new ln(e,0)}function St(t){return t.pieceNum_>=t.pieces_.length}function Hr(t,n){const e=At(t),i=At(n);if(null===e)return n;if(e===i)return Hr(Cn(t),Cn(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")}function rN(t,n){const e=q_(t,0),i=q_(n,0);for(let a=0;a<e.length&&a<i.length;a++){const c=fs(e[a],i[a]);if(0!==c)return c}return e.length===i.length?0:e.length<i.length?-1:1}function rE(t,n){if(Wu(t)!==Wu(n))return!1;for(let e=t.pieceNum_,i=n.pieceNum_;e<=t.pieces_.length;e++,i++)if(t.pieces_[e]!==n.pieces_[i])return!1;return!0}function ps(t,n){let e=t.pieceNum_,i=n.pieceNum_;if(Wu(t)>Wu(n))return!1;for(;e<t.pieces_.length;){if(t.pieces_[e]!==n.pieces_[i])return!1;++e,++i}return!0}class oN{constructor(n,e){this.errorPrefix_=e,this.parts_=q_(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,F.ug)(this.parts_[i]);KI(this)}}function KI(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Uh(t))}function Uh(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class oE extends zI{constructor(){let n,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",n="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",n="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",n="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[n];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new oE}getInitialEvent(n){return(0,F.hu)("visible"===n,"Unknown event type: "+n),[this.visible_]}}const J_=1e3;let o1,$h=(()=>{class t extends ZI{constructor(e,i,a,c,p,_,C,I){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=a,this.onConnectStatus_=c,this.onServerInfoUpdate_=p,this.authTokenProvider_=_,this.appCheckTokenProvider_=C,this.authOverride_=I,this.id=t.nextPersistentConnectionId_++,this.log_=Gu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=J_,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,I&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");oE.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&i1.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,a){const c=++this.requestNumber_,p={r:c,a:e,b:i};this.log_((0,F.Pz)(p)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(p),a&&(this.requestCBHash_[c]=a)}get(e){this.initConnection_();const i=new F.BH,a={p:e._path.toString(),q:e._queryObject},c={action:"g",request:a,onComplete:_=>{const C=_.d;"ok"===_.s?(this.onDataUpdate_(a.p,C,!1,null),i.resolve(C)):i.reject(C)}};this.outstandingGets_.push(c),this.outstandingGetCount_++;const p=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const _=this.outstandingGets_[p];void 0===_||c!==_||(delete this.outstandingGets_[p],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+p+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(p),i.promise}listen(e,i,a,c){this.initConnection_();const p=e._queryIdentifier,_=e._path.toString();this.log_("Listen called for "+_+" "+p),this.listens.has(_)||this.listens.set(_,new Map),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(_).has(p),"listen() called twice for same path/queryId.");const C={onComplete:c,hashFn:i,query:e,tag:a};this.listens.get(_).set(p,C),this.connected_&&this.sendListen_(C)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(a)})}sendListen_(e){const i=e.query,a=i._path.toString(),c=i._queryIdentifier;this.log_("Listen on "+a+" for "+c);const p={p:a};e.tag&&(p.q=i._queryObject,p.t=e.tag),p.h=e.hashFn(),this.sendRequest("q",p,C=>{const I=C.d,R=C.s;t.warnOnListenWarnings_(I,i),(this.listens.get(a)&&this.listens.get(a).get(c))===e&&(this.log_("listen response",C),"ok"!==R&&this.removeListen_(a,c),e.onComplete&&e.onComplete(R,I))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,F.r3)(e,"w")){const a=(0,F.DV)(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const c='".indexOn": "'+i._queryParams.getIndex().toString()+'"',p=i._path.toString();ar(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${p} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,F.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,F.w9)(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(i,a,c=>{const p=c.s,_=c.d||"error";this.authToken_===e&&("ok"===p?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(p,_))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,a=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,a)})}unlisten(e,i){const a=e._path.toString(),c=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+c),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,c)&&this.connected_&&this.sendUnlisten_(a,c,e._queryObject,i)}sendUnlisten_(e,i,a,c){this.log_("Unlisten on "+e+" for "+i);const p={p:e};c&&(p.q=a,p.t=c),this.sendRequest("n",p)}onDisconnectPut(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:a})}onDisconnectMerge(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:a})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,a,c){const p={p:i,d:a};this.log_("onDisconnect "+e,p),this.sendRequest(e,p,_=>{c&&setTimeout(()=>{c(_.s,_.d)},Math.floor(0))})}put(e,i,a,c){this.putInternal("p",e,i,a,c)}merge(e,i,a,c){this.putInternal("m",e,i,a,c)}putInternal(e,i,a,c,p){this.initConnection_();const _={p:i,d:a};void 0!==p&&(_.h=p),this.outstandingPuts_.push({action:e,request:_,onComplete:c}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,c=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,a,p=>{this.log_(i+" response",p),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),c&&c(p.s,p.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,F.Pz)(e));const i=e.r,a=this.requestCBHash_[i];a&&(delete this.requestCBHash_[i],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):Lp("Unrecognized action received from server: "+(0,F.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=J_,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=J_,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=J_),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Cr.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),a=e.onReady_.bind(e),c=e.onRealtimeDisconnect_.bind(e),p=e.id+":"+t.nextConnectionId_++,_=e.lastSessionId;let C=!1,I=null;const R=function(){I?I.close():(C=!0,c())};e.realtime_={close:R,sendRequest:function(J){(0,F.hu)(I,"sendRequest call when we're not connected not allowed."),I.sendRequest(J)}};const V=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[J,_e]=yield Promise.all([e.authTokenProvider_.getToken(V),e.appCheckTokenProvider_.getToken(V)]);C?Ti("getToken() completed but was canceled"):(Ti("getToken() completed. Creating connection."),e.authToken_=J&&J.accessToken,e.appCheckToken_=_e&&_e.token,I=new WI(p,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,a,c,Me=>{ar(Me+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},_))}catch(J){e.log_("Failed to get token: "+J),C||(e.repoInfo_.nodeAdmin&&ar(J),R())}}})()}interrupt(e){Ti("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ti("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=J_,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let a;a=i?i.map(p=>L_(p)).join("$"):"default";const c=this.removeListen_(e,a);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(e,i){const a=new ln(e).toString();let c;if(this.listens.has(a)){const p=this.listens.get(a);c=p.get(i),p.delete(i),0===p.size&&this.listens.delete(a)}else c=void 0;return c}onAuthRevoked_(e,i){Ti("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Ti("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,F.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+Ph.replace(/\./g,"-")]=1,(0,F.uI)()?e["framework.cordova"]=1:(0,F.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=i1.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&e}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class Rt{constructor(n,e){this.name=n,this.node=e}static Wrap(n,e){return new Rt(n,e)}}class r1{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,e){const i=new Rt(ma,n),a=new Rt(ma,e);return 0!==this.compare(i,a)}minPost(){return Rt.MIN}}class eA extends r1{static get __EMPTY_NODE(){return o1}static set __EMPTY_NODE(n){o1=n}compare(n,e){return fs(n.name,e.name)}isDefinedOn(n){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,e){return!1}minPost(){return Rt.MIN}maxPost(){return new Rt($o,o1)}makePost(n,e){return(0,F.hu)("string"==typeof n,"KeyIndex indexValue must always be a string."),new Rt(n,o1)}toString(){return".key"}}const ml=new eA;class s1{constructor(n,e,i,a,c=null){this.isReverse_=a,this.resultGenerator_=c,this.nodeStack_=[];let p=1;for(;!n.isEmpty();)if(n=n,p=e?i(n.key,e):1,a&&(p*=-1),p<0)n=this.isReverse_?n.left:n.right;else{if(0===p){this.nodeStack_.push(n);break}this.nodeStack_.push(n),n=this.isReverse_?n.right:n.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,n=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}let aE,_a=(()=>{class t{constructor(e,i,a,c,p){this.key=e,this.value=i,this.color=null!=a?a:t.RED,this.left=null!=c?c:go.EMPTY_NODE,this.right=null!=p?p:go.EMPTY_NODE}copy(e,i,a,c,p){return new t(null!=e?e:this.key,null!=i?i:this.value,null!=a?a:this.color,null!=c?c:this.left,null!=p?p:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let c=this;const p=a(e,c.key);return c=p<0?c.copy(null,null,null,c.left.insert(e,i,a),null):0===p?c.copy(null,i,null,null,null):c.copy(null,null,null,null,c.right.insert(e,i,a)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return go.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let a,c;if(a=this,i(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===i(e,a.key)){if(a.right.isEmpty())return go.EMPTY_NODE;c=a.right.min_(),a=a.copy(c.key,c.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,i))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class go{constructor(n,e=go.EMPTY_NODE){this.comparator_=n,this.root_=e}insert(n,e){return new go(this.comparator_,this.root_.insert(n,e,this.comparator_).copy(null,null,_a.BLACK,null,null))}remove(n){return new go(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,_a.BLACK,null,null))}get(n){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(n,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(n){let e,i=this.root_,a=null;for(;!i.isEmpty();){if(e=this.comparator_(n,i.key),0===e){if(i.left.isEmpty())return a?a.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(a=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new s1(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,e){return new s1(this.root_,n,this.comparator_,!1,e)}getReverseIteratorFrom(n,e){return new s1(this.root_,n,this.comparator_,!0,e)}getReverseIterator(n){return new s1(this.root_,null,this.comparator_,!0,n)}}function pN(t,n){return fs(t.name,n.name)}function sE(t,n){return fs(t,n)}go.EMPTY_NODE=new class{copy(n,e,i,a,c){return this}insert(n,e,i){return new _a(n,e,null)}remove(n,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const tA=function(t){return"number"==typeof t?"number:"+t1(t):"string:"+t},nA=function(t){if(t.isLeafNode()){const n=t.val();(0,F.hu)("string"==typeof n||"number"==typeof n||"object"==typeof n&&(0,F.r3)(n,".sv"),"Priority must be a string or number.")}else(0,F.hu)(t===aE||t.isEmpty(),"priority of unexpected type.");(0,F.hu)(t===aE||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let iA,rA,oA,Gp=(()=>{class t{constructor(e,i=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),nA(this.priorityNode_)}static set __childrenNodeConstructor(e){iA=e}static get __childrenNodeConstructor(){return iA}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new t(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return St(e)?this:".priority"===At(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const a=At(e);return null===a?i:i.isEmpty()&&".priority"!==a?this:((0,F.hu)(".priority"!==a||1===Wu(e),".priority must be the last token in a path"),this.updateImmediateChild(a,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Cn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+tA(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?t1(this.value_):this.value_,this.lazyHash_=GD(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:((0,F.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,a=typeof this.value_,c=t.VALUE_TYPE_ORDER.indexOf(i),p=t.VALUE_TYPE_ORDER.indexOf(a);return(0,F.hu)(c>=0,"Unknown leaf type: "+i),(0,F.hu)(p>=0,"Unknown leaf type: "+a),c===p?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:p-c}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const An=new class extends r1{compare(n,e){const i=n.node.getPriority(),a=e.node.getPriority(),c=i.compareTo(a);return 0===c?fs(n.name,e.name):c}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,e){return!n.getPriority().equals(e.getPriority())}minPost(){return Rt.MIN}maxPost(){return new Rt($o,new Gp("[PRIORITY-POST]",oA))}makePost(n,e){const i=rA(n);return new Rt(e,new Gp("[PRIORITY-POST]",i))}toString(){return".priority"}},vN=Math.log(2);class bN{constructor(n){this.count=parseInt(Math.log(n+1)/vN,10),this.current_=this.count-1;const a=(c=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=n+1&a}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const a1=function(t,n,e,i){t.sort(n);const a=function(C,I){const R=I-C;let x,V;if(0===R)return null;if(1===R)return x=t[C],V=e?e(x):x,new _a(V,x.node,_a.BLACK,null,null);{const J=parseInt(R/2,10)+C,_e=a(C,J),Me=a(J+1,I);return x=t[J],V=e?e(x):x,new _a(V,x.node,_a.BLACK,_e,Me)}},_=function(C){let I=null,R=null,x=t.length;const V=function(_e,Me){const Je=x-_e,Nt=x;x-=_e;const gt=a(Je+1,Nt),Bn=t[Je],jt=e?e(Bn):Bn;J(new _a(jt,Bn.node,Me,null,gt))},J=function(_e){I?(I.left=_e,I=_e):(R=_e,I=_e)};for(let _e=0;_e<C.count;++_e){const Me=C.nextBitIsOne(),Je=Math.pow(2,C.count-(_e+1));Me?V(Je,_a.BLACK):(V(Je,_a.BLACK),V(Je,_a.RED))}return R}(new bN(t.length));return new go(i||n,_)};let lE;const Wp={};class yc{constructor(n,e){this.indexes_=n,this.indexSet_=e}static get Default(){return(0,F.hu)(Wp&&An,"ChildrenNode.ts has not been loaded"),lE=lE||new yc({".priority":Wp},{".priority":An}),lE}get(n){const e=(0,F.DV)(this.indexes_,n);if(!e)throw new Error("No index defined for "+n);return e instanceof go?e:null}hasIndex(n){return(0,F.r3)(this.indexSet_,n.toString())}addIndex(n,e){(0,F.hu)(n!==ml,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let a=!1;const c=e.getIterator(Rt.Wrap);let _,p=c.getNext();for(;p;)a=a||n.isDefinedOn(p.node),i.push(p),p=c.getNext();_=a?a1(i,n.getCompare()):Wp;const C=n.toString(),I=Object.assign({},this.indexSet_);I[C]=n;const R=Object.assign({},this.indexes_);return R[C]=_,new yc(R,I)}addToIndexes(n,e){const i=(0,F.UI)(this.indexes_,(a,c)=>{const p=(0,F.DV)(this.indexSet_,c);if((0,F.hu)(p,"Missing index implementation for "+c),a===Wp){if(p.isDefinedOn(n.node)){const _=[],C=e.getIterator(Rt.Wrap);let I=C.getNext();for(;I;)I.name!==n.name&&_.push(I),I=C.getNext();return _.push(n),a1(_,p.getCompare())}return Wp}{const _=e.get(n.name);let C=a;return _&&(C=C.remove(new Rt(n.name,_))),C.insert(n,n.node)}});return new yc(i,this.indexSet_)}removeFromIndexes(n,e){const i=(0,F.UI)(this.indexes_,a=>{if(a===Wp)return a;{const c=e.get(n.name);return c?a.remove(new Rt(n.name,c)):a}});return new yc(i,this.indexSet_)}}let K_,yt=(()=>{class t{constructor(e,i,a){this.children_=e,this.priorityNode_=i,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&nA(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return K_||(K_=new t(new go(sE),null,yc.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||K_}updatePriority(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?K_:i}}getChild(e){const i=At(e);return null===i?this:this.getImmediateChild(i).getChild(Cn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,F.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const a=new Rt(e,i);let c,p;i.isEmpty()?(c=this.children_.remove(e),p=this.indexMap_.removeFromIndexes(a,this.children_)):(c=this.children_.insert(e,i),p=this.indexMap_.addToIndexes(a,this.children_));const _=c.isEmpty()?K_:this.priorityNode_;return new t(c,_,p)}}updateChild(e,i){const a=At(e);if(null===a)return i;{(0,F.hu)(".priority"!==At(e)||1===Wu(e),".priority must be the last token in a path");const c=this.getImmediateChild(a).updateChild(Cn(e),i);return this.updateImmediateChild(a,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let a=0,c=0,p=!0;if(this.forEachChild(An,(_,C)=>{i[_]=C.val(e),a++,p&&t.INTEGER_REGEXP_.test(_)?c=Math.max(c,Number(_)):p=!1}),!e&&p&&c<2*a){const _=[];for(const C in i)_[C]=i[C];return _}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+tA(this.getPriority().val())+":"),this.forEachChild(An,(i,a)=>{const c=a.hash();""!==c&&(e+=":"+i+":"+c)}),this.lazyHash_=""===e?"":GD(e)}return this.lazyHash_}getPredecessorChildName(e,i,a){const c=this.resolveIndex_(a);if(c){const p=c.getPredecessorKey(new Rt(e,i));return p?p.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Rt(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Rt(i,this.children_.get(i)):null}forEachChild(e,i){const a=this.resolveIndex_(e);return a?a.inorderTraversal(c=>i(c.name,c.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(e,c=>c);{const c=this.children_.getIteratorFrom(e.name,Rt.Wrap);let p=c.peek();for(;null!=p&&i.compare(p,e)<0;)c.getNext(),p=c.peek();return c}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(e,c=>c);{const c=this.children_.getReverseIteratorFrom(e.name,Rt.Wrap);let p=c.peek();for(;null!=p&&i.compare(p,e)>0;)c.getNext(),p=c.peek();return c}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Q_?-1:0}withIndex(e){if(e===ml||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===ml||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const a=this.getIterator(An),c=i.getIterator(An);let p=a.getNext(),_=c.getNext();for(;p&&_;){if(p.name!==_.name||!p.node.equals(_.node))return!1;p=a.getNext(),_=c.getNext()}return null===p&&null===_}return!1}return!1}}resolveIndex_(e){return e===ml?null:this.indexMap_.get(e.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const Q_=new class extends yt{constructor(){super(new go(sE),yt.EMPTY_NODE,yc.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return yt.EMPTY_NODE}isEmpty(){return!1}};function Zn(t,n=null){if(null===t)return yt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(n=t[".priority"]),(0,F.hu)(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Gp(t,Zn(n));if(t instanceof Array){let e=yt.EMPTY_NODE;return xi(t,(i,a)=>{if((0,F.r3)(t,i)&&"."!==i.substring(0,1)){const c=Zn(a);(c.isLeafNode()||!c.isEmpty())&&(e=e.updateImmediateChild(i,c))}}),e.updatePriority(Zn(n))}{const e=[];let i=!1;if(xi(t,(p,_)=>{if("."!==p.substring(0,1)){const C=Zn(_);C.isEmpty()||(i=i||!C.getPriority().isEmpty(),e.push(new Rt(p,C)))}}),0===e.length)return yt.EMPTY_NODE;const c=a1(e,pN,p=>p.name,sE);if(i){const p=a1(e,An.getCompare());return new yt(c,Zn(n),new yc({".priority":p},{".priority":An}))}return new yt(c,Zn(n),yc.Default)}}Object.defineProperties(Rt,{MIN:{value:new Rt(ma,yt.EMPTY_NODE)},MAX:{value:new Rt($o,Q_)}}),eA.__EMPTY_NODE=yt.EMPTY_NODE,Gp.__childrenNodeConstructor=yt,aE=Q_,oA=Q_,function(t){rA=t}(Zn);class cE extends r1{constructor(n){super(),this.indexPath_=n,(0,F.hu)(!St(n)&&".priority"!==At(n),"Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,e){const i=this.extractChild(n.node),a=this.extractChild(e.node),c=i.compareTo(a);return 0===c?fs(n.name,e.name):c}makePost(n,e){const i=Zn(n),a=yt.EMPTY_NODE.updateChild(this.indexPath_,i);return new Rt(e,a)}maxPost(){const n=yt.EMPTY_NODE.updateChild(this.indexPath_,Q_);return new Rt($o,n)}toString(){return q_(this.indexPath_,0).join("/")}}const uE=new class extends r1{compare(n,e){const i=n.node.compareTo(e.node);return 0===i?fs(n.name,e.name):i}isDefinedOn(n){return!0}indexedValueChanged(n,e){return!n.equals(e)}minPost(){return Rt.MIN}maxPost(){return Rt.MAX}makePost(n,e){const i=Zn(n);return new Rt(e,i)}toString(){return".value"}},Zp="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",EN=function(){let t=0;const n=[];return function(e){const i=e===t;let a;t=e;const c=new Array(8);for(a=7;a>=0;a--)c[a]=Zp.charAt(e%64),e=Math.floor(e/64);(0,F.hu)(0===e,"Cannot push at time == 0");let p=c.join("");if(i){for(a=11;a>=0&&63===n[a];a--)n[a]=0;n[a]++}else for(a=0;a<12;a++)n[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)p+=Zp.charAt(n[a]);return(0,F.hu)(20===p.length,"nextPushId: Length should be 20."),p}}(),lA=function(t){if(t===""+B_)return"-";const n=Vp(t);if(null!=n)return""+(n+1);const e=new Array(t.length);for(let p=0;p<e.length;p++)e[p]=t.charAt(p);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return $o;const c=Zp.charAt(Zp.indexOf(e[i])+1);return e[i]=c,e.slice(0,i+1).join("")},cA=function(t){if(t===""+n1)return ma;const n=Vp(t);if(null!=n)return""+(n-1);const e=new Array(t.length);for(let i=0;i<e.length;i++)e[i]=t.charAt(i);return"-"===e[e.length-1]?1===e.length?""+B_:(delete e[e.length-1],e.join("")):(e[e.length-1]=Zp.charAt(Zp.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function uA(t){return{type:"value",snapshotNode:t}}function zp(t,n){return{type:"child_added",snapshotNode:n,childName:t}}function X_(t,n){return{type:"child_removed",snapshotNode:n,childName:t}}function ey(t,n,e){return{type:"child_changed",snapshotNode:n,childName:t,oldSnap:e}}class hE{constructor(n){this.index_=n}updateChild(n,e,i,a,c,p){(0,F.hu)(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const _=n.getImmediateChild(e);return _.getChild(a).equals(i.getChild(a))&&_.isEmpty()===i.isEmpty()||(null!=p&&(i.isEmpty()?n.hasChild(e)?p.trackChildChange(X_(e,_)):(0,F.hu)(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):_.isEmpty()?p.trackChildChange(zp(e,i)):p.trackChildChange(ey(e,i,_))),n.isLeafNode()&&i.isEmpty())?n:n.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(n,e,i){return null!=i&&(n.isLeafNode()||n.forEachChild(An,(a,c)=>{e.hasChild(a)||i.trackChildChange(X_(a,c))}),e.isLeafNode()||e.forEachChild(An,(a,c)=>{if(n.hasChild(a)){const p=n.getImmediateChild(a);p.equals(c)||i.trackChildChange(ey(a,c,p))}else i.trackChildChange(zp(a,c))})),e.withIndex(this.index_)}updatePriority(n,e){return n.isEmpty()?yt.EMPTY_NODE:n.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ty{constructor(n){this.indexedFilter_=new hE(n.getIndex()),this.index_=n.getIndex(),this.startPost_=ty.getStartPost_(n),this.endPost_=ty.getEndPost_(n)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){return this.index_.compare(this.getStartPost(),n)<=0&&this.index_.compare(n,this.getEndPost())<=0}updateChild(n,e,i,a,c,p){return this.matches(new Rt(e,i))||(i=yt.EMPTY_NODE),this.indexedFilter_.updateChild(n,e,i,a,c,p)}updateFullNode(n,e,i){e.isLeafNode()&&(e=yt.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(yt.EMPTY_NODE);const c=this;return e.forEachChild(An,(p,_)=>{c.matches(new Rt(p,_))||(a=a.updateImmediateChild(p,yt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,a,i)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const e=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),e)}return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const e=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),e)}return n.getIndex().maxPost()}}class IN{constructor(n){this.rangedFilter_=new ty(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft()}updateChild(n,e,i,a,c,p){return this.rangedFilter_.matches(new Rt(e,i))||(i=yt.EMPTY_NODE),n.getImmediateChild(e).equals(i)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,e,i,a,c,p):this.fullLimitUpdateChild_(n,e,i,c,p)}updateFullNode(n,e,i){let a;if(e.isLeafNode()||e.isEmpty())a=yt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let c;a=yt.EMPTY_NODE.withIndex(this.index_),c=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let p=0;for(;c.hasNext()&&p<this.limit_;){const _=c.getNext();let C;if(C=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),_)<=0:this.index_.compare(_,this.rangedFilter_.getEndPost())<=0,!C)break;a=a.updateImmediateChild(_.name,_.node),p++}}else{let c,p,_,C;if(a=e.withIndex(this.index_),a=a.updatePriority(yt.EMPTY_NODE),this.reverse_){C=a.getReverseIterator(this.index_),c=this.rangedFilter_.getEndPost(),p=this.rangedFilter_.getStartPost();const x=this.index_.getCompare();_=(V,J)=>x(J,V)}else C=a.getIterator(this.index_),c=this.rangedFilter_.getStartPost(),p=this.rangedFilter_.getEndPost(),_=this.index_.getCompare();let I=0,R=!1;for(;C.hasNext();){const x=C.getNext();!R&&_(c,x)<=0&&(R=!0),R&&I<this.limit_&&_(x,p)<=0?I++:a=a.updateImmediateChild(x.name,yt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,a,i)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,e,i,a,c){let p;if(this.reverse_){const x=this.index_.getCompare();p=(V,J)=>x(J,V)}else p=this.index_.getCompare();const _=n;(0,F.hu)(_.numChildren()===this.limit_,"");const C=new Rt(e,i),I=this.reverse_?_.getFirstChild(this.index_):_.getLastChild(this.index_),R=this.rangedFilter_.matches(C);if(_.hasChild(e)){const x=_.getImmediateChild(e);let V=a.getChildAfterChild(this.index_,I,this.reverse_);for(;null!=V&&(V.name===e||_.hasChild(V.name));)V=a.getChildAfterChild(this.index_,V,this.reverse_);const J=null==V?1:p(V,C);if(R&&!i.isEmpty()&&J>=0)return null!=c&&c.trackChildChange(ey(e,i,x)),_.updateImmediateChild(e,i);{null!=c&&c.trackChildChange(X_(e,x));const Me=_.updateImmediateChild(e,yt.EMPTY_NODE);return null!=V&&this.rangedFilter_.matches(V)?(null!=c&&c.trackChildChange(zp(V.name,V.node)),Me.updateImmediateChild(V.name,V.node)):Me}}return i.isEmpty()?n:R&&p(I,C)>=0?(null!=c&&(c.trackChildChange(X_(I.name,I.node)),c.trackChildChange(zp(e,i))),_.updateImmediateChild(e,i).updateImmediateChild(I.name,yt.EMPTY_NODE)):n}}class l1{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=An}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ma}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:$o}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===An}copy(){const n=new l1;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function fE(t,n,e){const i=t.copy();return i.startSet_=!0,void 0===n&&(n=null),i.indexStartValue_=n,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function pE(t,n,e){const i=t.copy();return i.endSet_=!0,void 0===n&&(n=null),i.indexEndValue_=n,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function c1(t,n){const e=t.copy();return e.index_=n,e}function dA(t){const n={};if(t.isDefault())return n;let e;return t.index_===An?e="$priority":t.index_===uE?e="$value":t.index_===ml?e="$key":((0,F.hu)(t.index_ instanceof cE,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=(0,F.Pz)(e),t.startSet_&&(n.startAt=(0,F.Pz)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+(0,F.Pz)(t.indexStartName_))),t.endSet_&&(n.endAt=(0,F.Pz)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+(0,F.Pz)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_),n}function hA(t){const n={};if(t.startSet_&&(n.sp=t.indexStartValue_,t.startNameSet_&&(n.sn=t.indexStartName_)),t.endSet_&&(n.ep=t.indexEndValue_,t.endNameSet_&&(n.en=t.indexEndName_)),t.limitSet_){n.l=t.limit_;let e=t.viewFrom_;""===e&&(e=t.isViewFromLeft()?"l":"r"),n.vf=e}return t.index_!==An&&(n.i=t.index_.toString()),n}class u1 extends ZI{constructor(n,e,i,a){super(),this.repoInfo_=n,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=a,this.log_=Gu("p:rest:"),this.listens_={}}reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,e){return void 0!==e?"tag$"+e:((0,F.hu)(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}listen(n,e,i,a){const c=n._path.toString();this.log_("Listen called for "+c+" "+n._queryIdentifier);const p=u1.getListenId_(n,i),_={};this.listens_[p]=_;const C=dA(n._queryParams);this.restRequest_(c+".json",C,(I,R)=>{let x=R;if(404===I&&(x=null,I=null),null===I&&this.onDataUpdate_(c,x,!1,i),(0,F.DV)(this.listens_,p)===_){let V;V=I?401===I?"permission_denied":"rest_error:"+I:"ok",a(V,null)}})}unlisten(n,e){const i=u1.getListenId_(n,e);delete this.listens_[i]}get(n){const e=dA(n._queryParams),i=n._path.toString(),a=new F.BH;return this.restRequest_(i+".json",e,(c,p)=>{let _=p;404===c&&(_=null,c=null),null===c?(this.onDataUpdate_(i,_,!1,null),a.resolve(_)):a.reject(new Error(_))}),a.promise}refreshAuthToken(n){}restRequest_(n,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,c])=>{a&&a.accessToken&&(e.auth=a.accessToken),c&&c.token&&(e.ac=c.token);const p=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+(0,F.xO)(e);this.log_("Sending REST request for "+p);const _=new XMLHttpRequest;_.onreadystatechange=()=>{if(i&&4===_.readyState){this.log_("REST Response for "+p+" received. status:",_.status,"response:",_.responseText);let C=null;if(_.status>=200&&_.status<300){try{C=(0,F.cI)(_.responseText)}catch(I){ar("Failed to parse JSON response for "+p+": "+_.responseText)}i(null,C)}else 401!==_.status&&404!==_.status&&ar("Got unsuccessful REST response for "+p+" Status: "+_.status),i(_.status);i=null}},_.open("GET",p,!0),_.send()})}}class xN{constructor(){this.rootNode_=yt.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,e){this.rootNode_=this.rootNode_.updateChild(n,e)}}function d1(){return{value:null,children:new Map}}function Yp(t,n,e){if(St(n))t.value=e,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(n,e);else{const i=At(n);t.children.has(i)||t.children.set(i,d1()),Yp(t.children.get(i),n=Cn(n),e)}}function gE(t,n){if(St(n))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;{const e=t.value;return t.value=null,e.forEachChild(An,(i,a)=>{Yp(t,new ln(i),a)}),gE(t,n)}}if(t.children.size>0){const e=At(n);return n=Cn(n),t.children.has(e)&&gE(t.children.get(e),n)&&t.children.delete(e),0===t.children.size}return!0}function mE(t,n,e){null!==t.value?e(n,t.value):function(t,n){t.children.forEach((e,i)=>{n(i,e)})}(t,(i,a)=>{mE(a,new ln(n.toString()+"/"+i),e)})}class ON{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),e=Object.assign({},n);return this.last_&&xi(this.last_,(i,a)=>{e[i]=e[i]-a}),this.last_=n,e}}class LN{constructor(n,e){this.server_=e,this.statsToReport_={},this.statsListener_=new ON(n);const i=1e4+2e4*Math.random();Hp(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const n=this.statsListener_.get(),e={};let i=!1;xi(n,(a,c)=>{c>0&&(0,F.r3)(this.statsToReport_,a)&&(e[a]=c,i=!0)}),i&&this.server_.reportStats(e),Hp(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var gs=(()=>(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(gs||(gs={})),gs))();function vE(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class h1{constructor(n,e,i){this.path=n,this.affectedTree=e,this.revert=i,this.type=gs.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(n){if(St(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new ln(n));return new h1(Kt(),e,this.revert)}}return(0,F.hu)(At(this.path)===n,"operationForChild called for unrelated child."),new h1(Cn(this.path),this.affectedTree,this.revert)}}class ny{constructor(n,e){this.source=n,this.path=e,this.type=gs.LISTEN_COMPLETE}operationForChild(n){return St(this.path)?new ny(this.source,Kt()):new ny(this.source,Cn(this.path))}}class jh{constructor(n,e,i){this.source=n,this.path=e,this.snap=i,this.type=gs.OVERWRITE}operationForChild(n){return St(this.path)?new jh(this.source,Kt(),this.snap.getImmediateChild(n)):new jh(this.source,Cn(this.path),this.snap)}}class qp{constructor(n,e,i){this.source=n,this.path=e,this.children=i,this.type=gs.MERGE}operationForChild(n){if(St(this.path)){const e=this.children.subtree(new ln(n));return e.isEmpty()?null:e.value?new jh(this.source,Kt(),e.value):new qp(this.source,Kt(),e)}return(0,F.hu)(At(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new qp(this.source,Cn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Zu{constructor(n,e,i){this.node_=n,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(St(n))return this.isFullyInitialized()&&!this.filtered_;const e=At(n);return this.isCompleteForChild(e)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class BN{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function iy(t,n,e,i,a,c){const p=i.filter(_=>_.type===e);p.sort((_,C)=>function(t,n,e){if(null==n.childName||null==e.childName)throw(0,F.g5)("Should only compare child_ events.");const i=new Rt(n.childName,n.snapshotNode),a=new Rt(e.childName,e.snapshotNode);return t.index_.compare(i,a)}(t,_,C)),p.forEach(_=>{const C=function(t,n,e){return"value"===n.type||"child_removed"===n.type||(n.prevName=e.getPredecessorChildName(n.childName,n.snapshotNode,t.index_)),n}(t,_,c);a.forEach(I=>{I.respondsTo(_.type)&&n.push(I.createEvent(C,t.query_))})})}function f1(t,n){return{eventCache:t,serverCache:n}}function ry(t,n,e,i){return f1(new Zu(n,e,i),t.serverCache)}function pA(t,n,e,i){return f1(t.eventCache,new Zu(n,e,i))}function p1(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Gh(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let bE;class Sn{constructor(n,e=(()=>(bE||(bE=new go(ZD)),bE))()){this.value=n,this.children=e}static fromObject(n){let e=new Sn(null);return xi(n,(i,a)=>{e=e.set(new ln(i),a)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,e){if(null!=this.value&&e(this.value))return{path:Kt(),value:this.value};if(St(n))return null;{const i=At(n),a=this.children.get(i);if(null!==a){const c=a.findRootMostMatchingPathAndValue(Cn(n),e);return null!=c?{path:Ln(new ln(i),c.path),value:c.value}:null}return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(St(n))return this;{const e=At(n),i=this.children.get(e);return null!==i?i.subtree(Cn(n)):new Sn(null)}}set(n,e){if(St(n))return new Sn(e,this.children);{const i=At(n),c=(this.children.get(i)||new Sn(null)).set(Cn(n),e),p=this.children.insert(i,c);return new Sn(this.value,p)}}remove(n){if(St(n))return this.children.isEmpty()?new Sn(null):new Sn(null,this.children);{const e=At(n),i=this.children.get(e);if(i){const a=i.remove(Cn(n));let c;return c=a.isEmpty()?this.children.remove(e):this.children.insert(e,a),null===this.value&&c.isEmpty()?new Sn(null):new Sn(this.value,c)}return this}}get(n){if(St(n))return this.value;{const e=At(n),i=this.children.get(e);return i?i.get(Cn(n)):null}}setTree(n,e){if(St(n))return e;{const i=At(n),c=(this.children.get(i)||new Sn(null)).setTree(Cn(n),e);let p;return p=c.isEmpty()?this.children.remove(i):this.children.insert(i,c),new Sn(this.value,p)}}fold(n){return this.fold_(Kt(),n)}fold_(n,e){const i={};return this.children.inorderTraversal((a,c)=>{i[a]=c.fold_(Ln(n,a),e)}),e(n,this.value,i)}findOnPath(n,e){return this.findOnPath_(n,Kt(),e)}findOnPath_(n,e,i){const a=!!this.value&&i(e,this.value);if(a)return a;if(St(n))return null;{const c=At(n),p=this.children.get(c);return p?p.findOnPath_(Cn(n),Ln(e,c),i):null}}foreachOnPath(n,e){return this.foreachOnPath_(n,Kt(),e)}foreachOnPath_(n,e,i){if(St(n))return this;{this.value&&i(e,this.value);const a=At(n),c=this.children.get(a);return c?c.foreachOnPath_(Cn(n),Ln(e,a),i):new Sn(null)}}foreach(n){this.foreach_(Kt(),n)}foreach_(n,e){this.children.inorderTraversal((i,a)=>{a.foreach_(Ln(n,i),e)}),this.value&&e(n,this.value)}foreachChild(n){this.children.inorderTraversal((e,i)=>{i.value&&n(e,i.value)})}}class ya{constructor(n){this.writeTree_=n}static empty(){return new ya(new Sn(null))}}function oy(t,n,e){if(St(n))return new ya(new Sn(e));{const i=t.writeTree_.findRootMostValueAndPath(n);if(null!=i){const a=i.path;let c=i.value;const p=Hr(a,n);return c=c.updateChild(p,e),new ya(t.writeTree_.set(a,c))}{const a=new Sn(e),c=t.writeTree_.setTree(n,a);return new ya(c)}}}function CE(t,n,e){let i=t;return xi(e,(a,c)=>{i=oy(i,Ln(n,a),c)}),i}function gA(t,n){if(St(n))return ya.empty();{const e=t.writeTree_.setTree(n,new Sn(null));return new ya(e)}}function wE(t,n){return null!=Wh(t,n)}function Wh(t,n){const e=t.writeTree_.findRootMostValueAndPath(n);return null!=e?t.writeTree_.get(e.path).getChild(Hr(e.path,n)):null}function mA(t){const n=[],e=t.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(An,(i,a)=>{n.push(new Rt(i,a))}):t.writeTree_.children.inorderTraversal((i,a)=>{null!=a.value&&n.push(new Rt(i,a.value))}),n}function zu(t,n){if(St(n))return t;{const e=Wh(t,n);return new ya(null!=e?new Sn(e):t.writeTree_.subtree(n))}}function DE(t){return t.writeTree_.isEmpty()}function Jp(t,n){return _A(Kt(),t.writeTree_,n)}function _A(t,n,e){if(null!=n.value)return e.updateChild(t,n.value);{let i=null;return n.children.inorderTraversal((a,c)=>{".priority"===a?((0,F.hu)(null!==c.value,"Priority writes must always be leaf nodes"),i=c.value):e=_A(Ln(t,a),c,e)}),!e.getChild(t).isEmpty()&&null!==i&&(e=e.updateChild(Ln(t,".priority"),i)),e}}function g1(t,n){return wA(n,t)}function zN(t,n){if(t.snap)return ps(t.path,n);for(const e in t.children)if(t.children.hasOwnProperty(e)&&ps(Ln(t.path,e),n))return!0;return!1}function qN(t){return t.visible}function yA(t,n,e){let i=ya.empty();for(let a=0;a<t.length;++a){const c=t[a];if(n(c)){const p=c.path;let _;if(c.snap)ps(e,p)?(_=Hr(e,p),i=oy(i,_,c.snap)):ps(p,e)&&(_=Hr(p,e),i=oy(i,Kt(),c.snap.getChild(_)));else{if(!c.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(ps(e,p))_=Hr(e,p),i=CE(i,_,c.children);else if(ps(p,e))if(_=Hr(p,e),St(_))i=CE(i,Kt(),c.children);else{const C=(0,F.DV)(c.children,At(_));if(C){const I=C.getChild(Cn(_));i=oy(i,Kt(),I)}}}}}return i}function vA(t,n,e,i,a){if(i||a){const c=zu(t.visibleWrites,n);return!a&&DE(c)?e:a||null!=e||wE(c,Kt())?Jp(yA(t.allWrites,function(I){return(I.visible||a)&&(!i||!~i.indexOf(I.writeId))&&(ps(I.path,n)||ps(n,I.path))},n),e||yt.EMPTY_NODE):null}{const c=Wh(t.visibleWrites,n);if(null!=c)return c;{const p=zu(t.visibleWrites,n);return DE(p)?e:null!=e||wE(p,Kt())?Jp(p,e||yt.EMPTY_NODE):null}}}function m1(t,n,e,i){return vA(t.writeTree,t.treePath,n,e,i)}function EE(t,n){return function(t,n,e){let i=yt.EMPTY_NODE;const a=Wh(t.visibleWrites,n);if(a)return a.isLeafNode()||a.forEachChild(An,(c,p)=>{i=i.updateImmediateChild(c,p)}),i;if(e){const c=zu(t.visibleWrites,n);return e.forEachChild(An,(p,_)=>{const C=Jp(zu(c,new ln(p)),_);i=i.updateImmediateChild(p,C)}),mA(c).forEach(p=>{i=i.updateImmediateChild(p.name,p.node)}),i}return mA(zu(t.visibleWrites,n)).forEach(p=>{i=i.updateImmediateChild(p.name,p.node)}),i}(t.writeTree,t.treePath,n)}function bA(t,n,e,i){return function(t,n,e,i,a){(0,F.hu)(i||a,"Either existingEventSnap or existingServerSnap must exist");const c=Ln(n,e);if(wE(t.visibleWrites,c))return null;{const p=zu(t.visibleWrites,c);return DE(p)?a.getChild(e):Jp(p,a.getChild(e))}}(t.writeTree,t.treePath,n,e,i)}function _1(t,n){return function(t,n){return Wh(t.visibleWrites,n)}(t.writeTree,Ln(t.treePath,n))}function TE(t,n,e){return function(t,n,e,i){const a=Ln(n,e),c=Wh(t.visibleWrites,a);return null!=c?c:i.isCompleteForChild(e)?Jp(zu(t.visibleWrites,a),i.getNode().getImmediateChild(e)):null}(t.writeTree,t.treePath,n,e)}function CA(t,n){return wA(Ln(t.treePath,n),t.writeTree)}function wA(t,n){return{treePath:t,writeTree:n}}class iM{constructor(){this.changeMap=new Map}trackChildChange(n){const e=n.type,i=n.childName;(0,F.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(i);if(a){const c=a.type;if("child_added"===e&&"child_removed"===c)this.changeMap.set(i,ey(i,n.snapshotNode,a.snapshotNode));else if("child_removed"===e&&"child_added"===c)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===c)this.changeMap.set(i,X_(i,a.oldSnap));else if("child_changed"===e&&"child_added"===c)this.changeMap.set(i,zp(i,n.snapshotNode));else{if("child_changed"!==e||"child_changed"!==c)throw(0,F.g5)("Illegal combination of changes: "+n+" occurred after "+a);this.changeMap.set(i,ey(i,n.snapshotNode,a.oldSnap))}}else this.changeMap.set(i,n)}getChanges(){return Array.from(this.changeMap.values())}}const DA=new class{getCompleteChild(n){return null}getChildAfterChild(n,e,i){return null}};class IE{constructor(n,e,i=null){this.writes_=n,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(n){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(n))return e.getNode().getImmediateChild(n);{const i=null!=this.optCompleteServerCache_?new Zu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return TE(this.writes_,n,i)}}getChildAfterChild(n,e,i){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Gh(this.viewCache_),c=function(t,n,e,i,a,c){return function(t,n,e,i,a,c,p){let _;const C=zu(t.visibleWrites,n),I=Wh(C,Kt());if(null!=I)_=I;else{if(null==e)return[];_=Jp(C,e)}if(_=_.withIndex(p),_.isEmpty()||_.isLeafNode())return[];{const R=[],x=p.getCompare(),V=c?_.getReverseIteratorFrom(i,p):_.getIteratorFrom(i,p);let J=V.getNext();for(;J&&R.length<a;)0!==x(J,i)&&R.push(J),J=V.getNext();return R}}(t.writeTree,t.treePath,n,e,i,a,c)}(this.writes_,a,e,1,i,n);return 0===c.length?null:c[0]}}function EA(t,n,e,i,a,c){const p=n.eventCache;if(null!=_1(i,e))return n;{let _,C;if(St(e))if((0,F.hu)(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const I=Gh(n),x=EE(i,I instanceof yt?I:yt.EMPTY_NODE);_=t.filter.updateFullNode(n.eventCache.getNode(),x,c)}else{const I=m1(i,Gh(n));_=t.filter.updateFullNode(n.eventCache.getNode(),I,c)}else{const I=At(e);if(".priority"===I){(0,F.hu)(1===Wu(e),"Can't have a priority with additional path components");const R=p.getNode();C=n.serverCache.getNode();const x=bA(i,e,R,C);_=null!=x?t.filter.updatePriority(R,x):p.getNode()}else{const R=Cn(e);let x;if(p.isCompleteForChild(I)){C=n.serverCache.getNode();const V=bA(i,e,p.getNode(),C);x=null!=V?p.getNode().getImmediateChild(I).updateChild(R,V):p.getNode().getImmediateChild(I)}else x=TE(i,I,n.serverCache);_=null!=x?t.filter.updateChild(p.getNode(),I,x,R,a,c):p.getNode()}}return ry(n,_,p.isFullyInitialized()||St(e),t.filter.filtersNodes())}}function y1(t,n,e,i,a,c,p,_){const C=n.serverCache;let I;const R=p?t.filter:t.filter.getIndexedFilter();if(St(e))I=R.updateFullNode(C.getNode(),i,null);else if(R.filtersNodes()&&!C.isFiltered()){const J=C.getNode().updateChild(e,i);I=R.updateFullNode(C.getNode(),J,null)}else{const J=At(e);if(!C.isCompleteForPath(e)&&Wu(e)>1)return n;const _e=Cn(e),Je=C.getNode().getImmediateChild(J).updateChild(_e,i);I=".priority"===J?R.updatePriority(C.getNode(),Je):R.updateChild(C.getNode(),J,Je,_e,DA,null)}const x=pA(n,I,C.isFullyInitialized()||St(e),R.filtersNodes());return EA(t,x,e,a,new IE(a,x,c),_)}function AE(t,n,e,i,a,c,p){const _=n.eventCache;let C,I;const R=new IE(a,n,c);if(St(e))I=t.filter.updateFullNode(n.eventCache.getNode(),i,p),C=ry(n,I,!0,t.filter.filtersNodes());else{const x=At(e);if(".priority"===x)I=t.filter.updatePriority(n.eventCache.getNode(),i),C=ry(n,I,_.isFullyInitialized(),_.isFiltered());else{const V=Cn(e),J=_.getNode().getImmediateChild(x);let _e;if(St(V))_e=i;else{const Me=R.getCompleteChild(x);_e=null!=Me?".priority"===iE(V)&&Me.getChild(JI(V)).isEmpty()?Me:Me.updateChild(V,i):yt.EMPTY_NODE}C=J.equals(_e)?n:ry(n,t.filter.updateChild(_.getNode(),x,_e,V,R,p),_.isFullyInitialized(),t.filter.filtersNodes())}}return C}function TA(t,n){return t.eventCache.isCompleteForChild(n)}function IA(t,n,e){return e.foreach((i,a)=>{n=n.updateChild(i,a)}),n}function SE(t,n,e,i,a,c,p,_){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let I,C=n;I=St(e)?i:new Sn(null).setTree(e,i);const R=n.serverCache.getNode();return I.children.inorderTraversal((x,V)=>{if(R.hasChild(x)){const _e=IA(0,n.serverCache.getNode().getImmediateChild(x),V);C=y1(t,C,new ln(x),_e,a,c,p,_)}}),I.children.inorderTraversal((x,V)=>{const J=!n.serverCache.isCompleteForChild(x)&&void 0===V.value;if(!R.hasChild(x)&&!J){const Me=IA(0,n.serverCache.getNode().getImmediateChild(x),V);C=y1(t,C,new ln(x),Me,a,c,p,_)}}),C}class fM{constructor(n,e){this.query_=n,this.eventRegistrations_=[];const i=this.query_._queryParams,a=new hE(i.getIndex()),c=function(t){return t.loadsAllData()?new hE(t.getIndex()):t.hasLimit()?new IN(t):new ty(t)}(i);this.processor_=function(t){return{filter:t}}(c);const p=e.serverCache,_=e.eventCache,C=a.updateFullNode(yt.EMPTY_NODE,p.getNode(),null),I=c.updateFullNode(yt.EMPTY_NODE,_.getNode(),null),R=new Zu(C,p.isFullyInitialized(),a.filtersNodes()),x=new Zu(I,_.isFullyInitialized(),c.filtersNodes());this.viewCache_=f1(x,R),this.eventGenerator_=new BN(this.query_)}get query(){return this.query_}}function mM(t,n){const e=Gh(t.viewCache_);return e&&(t.query._queryParams.loadsAllData()||!St(n)&&!e.getImmediateChild(At(n)).isEmpty())?e.getChild(n):null}function AA(t){return 0===t.eventRegistrations_.length}function SA(t,n,e){const i=[];if(e){(0,F.hu)(null==n,"A cancel should cancel all event registrations.");const a=t.query._path;t.eventRegistrations_.forEach(c=>{const p=c.createCancelEvent(e,a);p&&i.push(p)})}if(n){let a=[];for(let c=0;c<t.eventRegistrations_.length;++c){const p=t.eventRegistrations_[c];if(p.matches(n)){if(n.hasAnyCallback()){a=a.concat(t.eventRegistrations_.slice(c+1));break}}else a.push(p)}t.eventRegistrations_=a}else t.eventRegistrations_=[];return i}function NA(t,n,e,i){n.type===gs.MERGE&&null!==n.source.queryId&&((0,F.hu)(Gh(t.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(p1(t.viewCache_),"Missing event cache, even though we have a server cache"));const a=t.viewCache_,c=function(t,n,e,i,a){const c=new iM;let p,_;if(e.type===gs.OVERWRITE){const I=e;I.source.fromUser?p=AE(t,n,I.path,I.snap,i,a,c):((0,F.hu)(I.source.fromServer,"Unknown source."),_=I.source.tagged||n.serverCache.isFiltered()&&!St(I.path),p=y1(t,n,I.path,I.snap,i,a,_,c))}else if(e.type===gs.MERGE){const I=e;I.source.fromUser?p=function(t,n,e,i,a,c,p){let _=n;return i.foreach((C,I)=>{const R=Ln(e,C);TA(n,At(R))&&(_=AE(t,_,R,I,a,c,p))}),i.foreach((C,I)=>{const R=Ln(e,C);TA(n,At(R))||(_=AE(t,_,R,I,a,c,p))}),_}(t,n,I.path,I.children,i,a,c):((0,F.hu)(I.source.fromServer,"Unknown source."),_=I.source.tagged||n.serverCache.isFiltered(),p=SE(t,n,I.path,I.children,i,a,_,c))}else if(e.type===gs.ACK_USER_WRITE){const I=e;p=I.revert?function(t,n,e,i,a,c){let p;if(null!=_1(i,e))return n;{const _=new IE(i,n,a),C=n.eventCache.getNode();let I;if(St(e)||".priority"===At(e)){let R;if(n.serverCache.isFullyInitialized())R=m1(i,Gh(n));else{const x=n.serverCache.getNode();(0,F.hu)(x instanceof yt,"serverChildren would be complete if leaf node"),R=EE(i,x)}R=R,I=t.filter.updateFullNode(C,R,c)}else{const R=At(e);let x=TE(i,R,n.serverCache);null==x&&n.serverCache.isCompleteForChild(R)&&(x=C.getImmediateChild(R)),I=null!=x?t.filter.updateChild(C,R,x,Cn(e),_,c):n.eventCache.getNode().hasChild(R)?t.filter.updateChild(C,R,yt.EMPTY_NODE,Cn(e),_,c):C,I.isEmpty()&&n.serverCache.isFullyInitialized()&&(p=m1(i,Gh(n)),p.isLeafNode()&&(I=t.filter.updateFullNode(I,p,c)))}return p=n.serverCache.isFullyInitialized()||null!=_1(i,Kt()),ry(n,I,p,t.filter.filtersNodes())}}(t,n,I.path,i,a,c):function(t,n,e,i,a,c,p){if(null!=_1(a,e))return n;const _=n.serverCache.isFiltered(),C=n.serverCache;if(null!=i.value){if(St(e)&&C.isFullyInitialized()||C.isCompleteForPath(e))return y1(t,n,e,C.getNode().getChild(e),a,c,_,p);if(St(e)){let I=new Sn(null);return C.getNode().forEachChild(ml,(R,x)=>{I=I.set(new ln(R),x)}),SE(t,n,e,I,a,c,_,p)}return n}{let I=new Sn(null);return i.foreach((R,x)=>{const V=Ln(e,R);C.isCompleteForPath(V)&&(I=I.set(R,C.getNode().getChild(V)))}),SE(t,n,e,I,a,c,_,p)}}(t,n,I.path,I.affectedTree,i,a,c)}else{if(e.type!==gs.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+e.type);p=function(t,n,e,i,a){const c=n.serverCache;return EA(t,pA(n,c.getNode(),c.isFullyInitialized()||St(e),c.isFiltered()),e,i,DA,a)}(t,n,e.path,i,c)}const C=c.getChanges();return function(t,n,e){const i=n.eventCache;if(i.isFullyInitialized()){const a=i.getNode().isLeafNode()||i.getNode().isEmpty(),c=p1(t);(e.length>0||!t.eventCache.isFullyInitialized()||a&&!i.getNode().equals(c)||!i.getNode().getPriority().equals(c.getPriority()))&&e.push(uA(p1(n)))}}(n,p,C),{viewCache:p,changes:C}}(t.processor_,a,n,e,i);return function(t,n){(0,F.hu)(n.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(n.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,c.viewCache),(0,F.hu)(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=c.viewCache,MA(t,c.changes,c.viewCache.eventCache.getNode(),null)}function MA(t,n,e,i){return function(t,n,e,i){const a=[],c=[];return n.forEach(p=>{"child_changed"===p.type&&t.index_.indexedValueChanged(p.oldSnap,p.snapshotNode)&&c.push(function(t,n){return{type:"child_moved",snapshotNode:n,childName:t}}(p.childName,p.snapshotNode))}),iy(t,a,"child_removed",n,i,e),iy(t,a,"child_added",n,i,e),iy(t,a,"child_moved",c,i,e),iy(t,a,"child_changed",n,i,e),iy(t,a,"value",n,i,e),a}(t.eventGenerator_,n,e,i?[i]:t.eventRegistrations_)}let v1,C1;class RA{constructor(){this.views=new Map}}function NE(t,n,e,i){const a=n.source.queryId;if(null!==a){const c=t.views.get(a);return(0,F.hu)(null!=c,"SyncTree gave us an op for an invalid query."),NA(c,n,e,i)}{let c=[];for(const p of t.views.values())c=c.concat(NA(p,n,e,i));return c}}function xA(t,n,e,i,a){const p=t.views.get(n._queryIdentifier);if(!p){let _=m1(e,a?i:null),C=!1;_?C=!0:i instanceof yt?(_=EE(e,i),C=!1):(_=yt.EMPTY_NODE,C=!1);const I=f1(new Zu(_,C,!1),new Zu(i,a,!1));return new fM(n,I)}return p}function kA(t){const n=[];for(const e of t.views.values())e.query._queryParams.loadsAllData()||n.push(e);return n}function Yu(t,n){let e=null;for(const i of t.views.values())e=e||mM(i,n);return e}function OA(t,n){return n._queryParams.loadsAllData()?b1(t):t.views.get(n._queryIdentifier)}function PA(t,n){return null!=OA(t,n)}function qu(t){return null!=b1(t)}function b1(t){for(const n of t.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let IM=1;class FA{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Sn(null),this.pendingWriteTree_={visibleWrites:ya.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ME(t,n,e,i,a){return function(t,n,e,i,a){(0,F.hu)(i>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),t.allWrites.push({path:n,snap:e,writeId:i,visible:a}),a&&(t.visibleWrites=oy(t.visibleWrites,n,e)),t.lastWriteId=i}(t.pendingWriteTree_,n,e,i,a),a?Kp(t,new jh({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,e)):[]}function Ju(t,n,e=!1){const i=function(t,n){for(let e=0;e<t.allWrites.length;e++){const i=t.allWrites[e];if(i.writeId===n)return i}return null}(t.pendingWriteTree_,n);if(function(t,n){const e=t.allWrites.findIndex(_=>_.writeId===n);(0,F.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[e];t.allWrites.splice(e,1);let a=i.visible,c=!1,p=t.allWrites.length-1;for(;a&&p>=0;){const _=t.allWrites[p];_.visible&&(p>=e&&zN(_,i.path)?a=!1:ps(i.path,_.path)&&(c=!0)),p--}return!!a&&(c?(function(t){t.visibleWrites=yA(t.allWrites,qN,Kt()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(i.snap?t.visibleWrites=gA(t.visibleWrites,i.path):xi(i.children,C=>{t.visibleWrites=gA(t.visibleWrites,Ln(i.path,C))}),!0))}(t.pendingWriteTree_,n)){let c=new Sn(null);return null!=i.snap?c=c.set(Kt(),!0):xi(i.children,p=>{c=c.set(new ln(p),!0)}),Kp(t,new h1(i.path,c,e))}return[]}function sy(t,n,e){return Kp(t,new jh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,e))}function RE(t,n,e,i){const a=n._path,c=t.syncPointTree_.get(a);let p=[];if(c&&("default"===n._queryIdentifier||PA(c,n))){const _=function(t,n,e,i){const a=n._queryIdentifier,c=[];let p=[];const _=qu(t);if("default"===a)for(const[C,I]of t.views.entries())p=p.concat(SA(I,e,i)),AA(I)&&(t.views.delete(C),I.query._queryParams.loadsAllData()||c.push(I.query));else{const C=t.views.get(a);C&&(p=p.concat(SA(C,e,i)),AA(C)&&(t.views.delete(a),C.query._queryParams.loadsAllData()||c.push(C.query)))}return _&&!qu(t)&&c.push(new((0,F.hu)(v1,"Reference.ts has not been loaded"),v1)(n._repo,n._path)),{removed:c,events:p}}(c,n,e,i);(function(t){return 0===t.views.size})(c)&&(t.syncPointTree_=t.syncPointTree_.remove(a));const C=_.removed;p=_.events;const I=-1!==C.findIndex(x=>x._queryParams.loadsAllData()),R=t.syncPointTree_.findOnPath(a,(x,V)=>qu(V));if(I&&!R){const x=t.syncPointTree_.subtree(a);if(!x.isEmpty()){const V=function(t){return t.fold((n,e,i)=>{if(e&&qu(e))return[b1(e)];{let a=[];return e&&(a=kA(e)),xi(i,(c,p)=>{a=a.concat(p)}),a}})}(x);for(let J=0;J<V.length;++J){const _e=V[J],Me=_e.query,Je=HA(t,_e);t.listenProvider_.startListening(ay(Me),D1(t,Me),Je.hashFn,Je.onComplete)}}}if(!R&&C.length>0&&!i)if(I){const x=null;t.listenProvider_.stopListening(ay(n),x)}else C.forEach(x=>{const V=t.queryToTagMap.get(E1(x));t.listenProvider_.stopListening(ay(x),V)});!function(t,n){for(let e=0;e<n.length;++e){const i=n[e];if(!i._queryParams.loadsAllData()){const a=E1(i),c=t.queryToTagMap.get(a);t.queryToTagMap.delete(a),t.tagToQueryMap.delete(c)}}}(t,C)}return p}function LA(t,n,e){const i=n._path;let a=null,c=!1;t.syncPointTree_.foreachOnPath(i,(x,V)=>{const J=Hr(x,i);a=a||Yu(V,J),c=c||qu(V)});let _,p=t.syncPointTree_.get(i);p?(c=c||qu(p),a=a||Yu(p,Kt())):(p=new RA,t.syncPointTree_=t.syncPointTree_.set(i,p)),null!=a?_=!0:(_=!1,a=yt.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((V,J)=>{const _e=Yu(J,Kt());_e&&(a=a.updateImmediateChild(V,_e))}));const C=PA(p,n);if(!C&&!n._queryParams.loadsAllData()){const x=E1(n);(0,F.hu)(!t.queryToTagMap.has(x),"View does not exist, but we have a tag");const V=IM++;t.queryToTagMap.set(x,V),t.tagToQueryMap.set(V,x)}let R=function(t,n,e,i,a,c){const p=xA(t,n,i,a,c);return t.views.has(n._queryIdentifier)||t.views.set(n._queryIdentifier,p),function(t,n){t.eventRegistrations_.push(n)}(p,e),function(t,n){const e=t.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(An,(c,p)=>{i.push(zp(c,p))}),e.isFullyInitialized()&&i.push(uA(e.getNode())),MA(t,i,e.getNode(),n)}(p,e)}(p,n,e,g1(t.pendingWriteTree_,i),a,_);if(!C&&!c){const x=OA(p,n);R=R.concat(function(t,n,e){const i=n._path,a=D1(t,n),c=HA(t,e),p=t.listenProvider_.startListening(ay(n),a,c.hashFn,c.onComplete),_=t.syncPointTree_.subtree(i);if(a)(0,F.hu)(!qu(_.value),"If we're adding a query, it shouldn't be shadowed");else{const C=_.fold((I,R,x)=>{if(!St(I)&&R&&qu(R))return[b1(R).query];{let V=[];return R&&(V=V.concat(kA(R).map(J=>J.query))),xi(x,(J,_e)=>{V=V.concat(_e)}),V}});for(let I=0;I<C.length;++I){const R=C[I];t.listenProvider_.stopListening(ay(R),D1(t,R))}}return p}(t,n,x))}return R}function w1(t,n,e){const a=t.pendingWriteTree_,c=t.syncPointTree_.findOnPath(n,(p,_)=>{const I=Yu(_,Hr(p,n));if(I)return I});return vA(a,n,c,e,!0)}function Kp(t,n){return BA(n,t.syncPointTree_,null,g1(t.pendingWriteTree_,Kt()))}function BA(t,n,e,i){if(St(t.path))return VA(t,n,e,i);{const a=n.get(Kt());null==e&&null!=a&&(e=Yu(a,Kt()));let c=[];const p=At(t.path),_=t.operationForChild(p),C=n.children.get(p);if(C&&_){const I=e?e.getImmediateChild(p):null,R=CA(i,p);c=c.concat(BA(_,C,I,R))}return a&&(c=c.concat(NE(a,t,i,e))),c}}function VA(t,n,e,i){const a=n.get(Kt());null==e&&null!=a&&(e=Yu(a,Kt()));let c=[];return n.children.inorderTraversal((p,_)=>{const C=e?e.getImmediateChild(p):null,I=CA(i,p),R=t.operationForChild(p);R&&(c=c.concat(VA(R,_,C,I)))}),a&&(c=c.concat(NE(a,t,i,e))),c}function HA(t,n){const e=n.query,i=D1(t,e);return{hashFn:()=>(function(t){return t.viewCache_.serverCache.getNode()}(n)||yt.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return i?function(t,n,e){const i=xE(t,e);if(i){const a=kE(i),c=a.path,p=a.queryId,_=Hr(c,n);return OE(t,c,new ny(vE(p),_))}return[]}(t,e._path,i):function(t,n){return Kp(t,new ny({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n))}(t,e._path);{const c=function(t,n){let e="Unknown Error";"too_big"===t?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?e="Client doesn't have permission to access the desired data.":"unavailable"===t&&(e="The service is unavailable");const i=new Error(t+" at "+n._path.toString()+": "+e);return i.code=t.toUpperCase(),i}(a,e);return RE(t,e,null,c)}}}}function D1(t,n){const e=E1(n);return t.queryToTagMap.get(e)}function E1(t){return t._path.toString()+"$"+t._queryIdentifier}function xE(t,n){return t.tagToQueryMap.get(n)}function kE(t){const n=t.indexOf("$");return(0,F.hu)(-1!==n&&n<t.length-1,"Bad queryKey."),{queryId:t.substr(n+1),path:new ln(t.substr(0,n))}}function OE(t,n,e){const i=t.syncPointTree_.get(n);return(0,F.hu)(i,"Missing sync point for query tag that we're tracking"),NE(i,e,g1(t.pendingWriteTree_,n),null)}function ay(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new((0,F.hu)(C1,"Reference.ts has not been loaded"),C1)(t._repo,t._path):t}class PE{constructor(n){this.node_=n}getImmediateChild(n){const e=this.node_.getImmediateChild(n);return new PE(e)}node(){return this.node_}}class FE{constructor(n,e){this.syncTree_=n,this.path_=e}getImmediateChild(n){const e=Ln(this.path_,n);return new FE(this.syncTree_,e)}node(){return w1(this.syncTree_,this.path_)}}const UA=function(t,n,e){return t&&"object"==typeof t?((0,F.hu)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?VM(t[".sv"],n,e):"object"==typeof t[".sv"]?HM(t[".sv"],n):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},VM=function(t,n,e){if("timestamp"===t)return e.timestamp;(0,F.hu)(!1,"Unexpected server value: "+t)},HM=function(t,n,e){t.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;"number"!=typeof i&&(0,F.hu)(!1,"Unexpected increment value: "+i);const a=n.node();if((0,F.hu)(null!=a,"Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return i;const p=a.getValue();return"number"!=typeof p?i:p+i},$A=function(t,n,e,i){return BE(n,new FE(e,t),i)},LE=function(t,n,e){return BE(t,new PE(n),e)};function BE(t,n,e){const i=t.getPriority().val(),a=UA(i,n.getImmediateChild(".priority"),e);let c;if(t.isLeafNode()){const p=t,_=UA(p.getValue(),n,e);return _!==p.getValue()||a!==p.getPriority().val()?new Gp(_,Zn(a)):t}{const p=t;return c=p,a!==p.getPriority().val()&&(c=c.updatePriority(new Gp(a))),p.forEachChild(An,(_,C)=>{const I=BE(C,n.getImmediateChild(_),e);I!==C&&(c=c.updateImmediateChild(_,I))}),c}}class VE{constructor(n="",e=null,i={children:{},childCount:0}){this.name=n,this.parent=e,this.node=i}}function T1(t,n){let e=n instanceof ln?n:new ln(n),i=t,a=At(e);for(;null!==a;){const c=(0,F.DV)(i.node.children,a)||{children:{},childCount:0};i=new VE(a,i,c),e=Cn(e),a=At(e)}return i}function Zh(t){return t.node.value}function HE(t,n){t.node.value=n,UE(t)}function jA(t){return t.node.childCount>0}function I1(t,n){xi(t.node.children,(e,i)=>{n(new VE(e,t,i))})}function GA(t,n,e,i){e&&!i&&n(t),I1(t,a=>{GA(a,n,!0,i)}),e&&i&&n(t)}function ly(t){return new ln(null===t.parent?t.name:ly(t.parent)+"/"+t.name)}function UE(t){null!==t.parent&&function(t,n,e){const i=function(t){return void 0===Zh(t)&&!jA(t)}(e),a=(0,F.r3)(t.node.children,n);i&&a?(delete t.node.children[n],t.node.childCount--,UE(t)):!i&&!a&&(t.node.children[n]=e.node,t.node.childCount++,UE(t))}(t.parent,t.name,t)}const GM=/[\[\].#$\/\u0000-\u001F\u007F]/,WM=/[\[\].#$\u0000-\u001F\u007F]/,$E=10485760,A1=function(t){return"string"==typeof t&&0!==t.length&&!GM.test(t)},WA=function(t){return"string"==typeof t&&0!==t.length&&!WM.test(t)},cy=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!Lh(t)||t&&"object"==typeof t&&(0,F.r3)(t,".sv")},_l=function(t,n,e,i){i&&void 0===n||uy((0,F.gK)(t,"value"),n,e)},uy=function(t,n,e){const i=e instanceof ln?new oN(e,t):e;if(void 0===n)throw new Error(t+"contains undefined "+Uh(i));if("function"==typeof n)throw new Error(t+"contains a function "+Uh(i)+" with contents = "+n.toString());if(Lh(n))throw new Error(t+"contains "+n.toString()+" "+Uh(i));if("string"==typeof n&&n.length>$E/3&&(0,F.ug)(n)>$E)throw new Error(t+"contains a string greater than "+$E+" utf8 bytes "+Uh(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){let a=!1,c=!1;if(xi(n,(p,_)=>{if(".value"===p)a=!0;else if(".priority"!==p&&".sv"!==p&&(c=!0,!A1(p)))throw new Error(t+" contains an invalid key ("+p+") "+Uh(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(t,n){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(n),t.byteLength_+=(0,F.ug)(n),KI(t)})(i,p),uy(t,_,i),function(t){const n=t.parts_.pop();t.byteLength_-=(0,F.ug)(n),t.parts_.length>0&&(t.byteLength_-=1)}(i)}),a&&c)throw new Error(t+' contains ".value" child '+Uh(i)+" in addition to actual children.")}},ZA=function(t,n,e,i){if(i&&void 0===n)return;const a=(0,F.gK)(t,"values");if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(a+" must be an object containing the children to replace.");const c=[];xi(n,(p,_)=>{const C=new ln(p);if(uy(a,_,Ln(e,C)),".priority"===iE(C)&&!cy(_))throw new Error(a+"contains an invalid value for '"+C.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(C)}),function(t,n){let e,i;for(e=0;e<n.length;e++){i=n[e];const c=q_(i);for(let p=0;p<c.length;p++)if((".priority"!==c[p]||p!==c.length-1)&&!A1(c[p]))throw new Error(t+"contains an invalid key ("+c[p]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}n.sort(rN);let a=null;for(e=0;e<n.length;e++){if(i=n[e],null!==a&&ps(a,i))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+i.toString());a=i}}(a,c)},jE=function(t,n,e){if(!e||void 0!==n){if(Lh(n))throw new Error((0,F.gK)(t,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!cy(n))throw new Error((0,F.gK)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},dy=function(t,n,e,i){if(!(i&&void 0===e||A1(e)))throw new Error((0,F.gK)(t,n)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},hy=function(t,n,e,i){if(!(i&&void 0===e||WA(e)))throw new Error((0,F.gK)(t,n)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ms=function(t,n){if(".info"===At(n))throw new Error(t+" failed = Can't modify data under /.info/")},zA=function(t,n){const e=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!A1(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==e.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),WA(t)}(e))throw new Error((0,F.gK)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class qM{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function S1(t,n){let e=null;for(let i=0;i<n.length;i++){const a=n[i],c=a.getPath();null!==e&&!rE(c,e.path)&&(t.eventLists_.push(e),e=null),null===e&&(e={events:[],path:c}),e.events.push(a)}e&&t.eventLists_.push(e)}function GE(t,n,e){S1(t,e),YA(t,i=>rE(i,n))}function _s(t,n,e){S1(t,e),YA(t,i=>ps(i,n)||ps(n,i))}function YA(t,n){t.recursionDepth_++;let e=!0;for(let i=0;i<t.eventLists_.length;i++){const a=t.eventLists_[i];a&&(n(a.path)?(JM(t.eventLists_[i]),t.eventLists_[i]=null):e=!1)}e&&(t.eventLists_=[]),t.recursionDepth_--}function JM(t){for(let n=0;n<t.events.length;n++){const e=t.events[n];if(null!==e){t.events[n]=null;const i=e.getEventRunner();mc&&Ti("event: "+e.toString()),Vh(i)}}}const qA="repo_interrupt";class QM{constructor(n,e,i,a){this.repoInfo_=n,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qM,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=d1(),this.transactionQueueTree_=new VE,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function JA(t){const e=t.infoData_.getNode(new ln(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function fy(t){return function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t}({timestamp:JA(t)})}function KA(t,n,e,i,a){t.dataUpdateCount++;const c=new ln(n);e=t.interceptServerDataCallback_?t.interceptServerDataCallback_(n,e):e;let p=[];if(a)if(i){const C=(0,F.UI)(e,I=>Zn(I));p=function(t,n,e,i){const a=xE(t,i);if(a){const c=kE(a),p=c.path,_=c.queryId,C=Hr(p,n),I=Sn.fromObject(e);return OE(t,p,new qp(vE(_),C,I))}return[]}(t.serverSyncTree_,c,C,a)}else{const C=Zn(e);p=function(t,n,e,i){const a=xE(t,i);if(null!=a){const c=kE(a),p=c.path,_=c.queryId,C=Hr(p,n);return OE(t,p,new jh(vE(_),C,e))}return[]}(t.serverSyncTree_,c,C,a)}else if(i){const C=(0,F.UI)(e,I=>Zn(I));p=function(t,n,e){const i=Sn.fromObject(e);return Kp(t,new qp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,i))}(t.serverSyncTree_,c,C)}else{const C=Zn(e);p=sy(t.serverSyncTree_,c,C)}let _=c;p.length>0&&(_=Xp(t,c)),_s(t.eventQueue_,_,p)}function QA(t,n){WE(t,"connected",n),!1===n&&function(t){Qp(t,"onDisconnectEvents");const n=fy(t),e=d1();mE(t.onDisconnect_,Kt(),(a,c)=>{const p=$A(a,c,t.serverSyncTree_,n);Yp(e,a,p)});let i=[];mE(e,Kt(),(a,c)=>{i=i.concat(sy(t.serverSyncTree_,a,c));const p=qE(t,a);Xp(t,p)}),t.onDisconnect_=d1(),_s(t.eventQueue_,Kt(),i)}(t)}function WE(t,n,e){const i=new ln("/.info/"+n),a=Zn(e);t.infoData_.updateSnapshot(i,a);const c=sy(t.infoSyncTree_,i,a);_s(t.eventQueue_,i,c)}function N1(t){return t.nextWriteId_++}function ZE(t,n,e,i,a){Qp(t,"set",{path:n.toString(),value:e,priority:i});const c=fy(t),p=Zn(e,i),_=w1(t.serverSyncTree_,n),C=LE(p,_,c),I=N1(t),R=ME(t.serverSyncTree_,n,C,I,!0);S1(t.eventQueue_,R),t.server_.put(n.toString(),p.val(!0),(V,J)=>{const _e="ok"===V;_e||ar("set at "+n+" failed: "+V);const Me=Ju(t.serverSyncTree_,I,!_e);_s(t.eventQueue_,n,Me),Ku(0,a,V,J)});const x=qE(t,n);Xp(t,x),_s(t.eventQueue_,x,[])}function rR(t,n,e){t.server_.onDisconnectCancel(n.toString(),(i,a)=>{"ok"===i&&gE(t.onDisconnect_,n),Ku(0,e,i,a)})}function XA(t,n,e,i){const a=Zn(e);t.server_.onDisconnectPut(n.toString(),a.val(!0),(c,p)=>{"ok"===c&&Yp(t.onDisconnect_,n,a),Ku(0,i,c,p)})}function zE(t,n,e){let i;i=".info"===At(n._path)?RE(t.infoSyncTree_,n,e):RE(t.serverSyncTree_,n,e),GE(t.eventQueue_,n._path,i)}function eS(t){t.persistentConnection_&&t.persistentConnection_.interrupt(qA)}function Qp(t,...n){let e="";t.persistentConnection_&&(e=t.persistentConnection_.id+":"),Ti(e,...n)}function Ku(t,n,e,i){n&&Vh(()=>{if("ok"===e)n(null);else{const a=(e||"error").toUpperCase();let c=a;i&&(c+=": "+i);const p=new Error(c);p.code=a,n(p)}})}function YE(t,n,e){return w1(t.serverSyncTree_,n,e)||yt.EMPTY_NODE}function M1(t,n=t.transactionQueueTree_){if(n||R1(t,n),Zh(n)){const e=nS(t,n);(0,F.hu)(e.length>0,"Sending zero length transaction queue"),e.every(a=>0===a.status)&&function(t,n,e){const i=e.map(I=>I.currentWriteId),a=YE(t,n,i);let c=a;const p=a.hash();for(let I=0;I<e.length;I++){const R=e[I];(0,F.hu)(0===R.status,"tryToSendTransactionQueue_: items in queue should all be run."),R.status=1,R.retryCount++;const x=Hr(n,R.path);c=c.updateChild(x,R.currentOutputSnapshotRaw)}const _=c.val(!0),C=n;t.server_.put(C.toString(),_,I=>{Qp(t,"transaction put response",{path:C.toString(),status:I});let R=[];if("ok"===I){const x=[];for(let V=0;V<e.length;V++)e[V].status=2,R=R.concat(Ju(t.serverSyncTree_,e[V].currentWriteId)),e[V].onComplete&&x.push(()=>e[V].onComplete(null,!0,e[V].currentOutputSnapshotResolved)),e[V].unwatcher();R1(t,T1(t.transactionQueueTree_,n)),M1(t,t.transactionQueueTree_),_s(t.eventQueue_,n,R);for(let V=0;V<x.length;V++)Vh(x[V])}else{if("datastale"===I)for(let x=0;x<e.length;x++)e[x].status=3===e[x].status?4:0;else{ar("transaction at "+C.toString()+" failed: "+I);for(let x=0;x<e.length;x++)e[x].status=4,e[x].abortReason=I}Xp(t,n)}},p)}(t,ly(n),e)}else jA(n)&&I1(n,e=>{M1(t,e)})}function Xp(t,n){const e=tS(t,n),i=ly(e);return function(t,n,e){if(0===n.length)return;const i=[];let a=[];const p=n.filter(_=>0===_.status).map(_=>_.currentWriteId);for(let _=0;_<n.length;_++){const C=n[_],I=Hr(e,C.path);let x,R=!1;if((0,F.hu)(null!==I,"rerunTransactionsUnderNode_: relativePath should not be null."),4===C.status)R=!0,x=C.abortReason,a=a.concat(Ju(t.serverSyncTree_,C.currentWriteId,!0));else if(0===C.status)if(C.retryCount>=25)R=!0,x="maxretry",a=a.concat(Ju(t.serverSyncTree_,C.currentWriteId,!0));else{const V=YE(t,C.path,p);C.currentInputSnapshot=V;const J=n[_].update(V.val());if(void 0!==J){uy("transaction failed: Data returned ",J,C.path);let _e=Zn(J);"object"==typeof J&&null!=J&&(0,F.r3)(J,".priority")||(_e=_e.updatePriority(V.getPriority()));const Je=C.currentWriteId,Nt=fy(t),gt=LE(_e,V,Nt);C.currentOutputSnapshotRaw=_e,C.currentOutputSnapshotResolved=gt,C.currentWriteId=N1(t),p.splice(p.indexOf(Je),1),a=a.concat(ME(t.serverSyncTree_,C.path,gt,C.currentWriteId,C.applyLocally)),a=a.concat(Ju(t.serverSyncTree_,Je,!0))}else R=!0,x="nodata",a=a.concat(Ju(t.serverSyncTree_,C.currentWriteId,!0))}_s(t.eventQueue_,e,a),a=[],R&&(n[_].status=2,setTimeout(n[_].unwatcher,Math.floor(0)),n[_].onComplete&&i.push("nodata"===x?()=>n[_].onComplete(null,!1,n[_].currentInputSnapshot):()=>n[_].onComplete(new Error(x),!1,null)))}R1(t,t.transactionQueueTree_);for(let _=0;_<i.length;_++)Vh(i[_]);M1(t,t.transactionQueueTree_)}(t,nS(t,e),i),i}function tS(t,n){let e,i=t.transactionQueueTree_;for(e=At(n);null!==e&&void 0===Zh(i);)i=T1(i,e),e=At(n=Cn(n));return i}function nS(t,n){const e=[];return iS(t,n,e),e.sort((i,a)=>i.order-a.order),e}function iS(t,n,e){const i=Zh(n);if(i)for(let a=0;a<i.length;a++)e.push(i[a]);I1(n,a=>{iS(t,a,e)})}function R1(t,n){const e=Zh(n);if(e){let i=0;for(let a=0;a<e.length;a++)2!==e[a].status&&(e[i]=e[a],i++);e.length=i,HE(n,e.length>0?e:void 0)}I1(n,i=>{R1(t,i)})}function qE(t,n){const e=ly(tS(t,n)),i=T1(t.transactionQueueTree_,n);return function(t,n,e){let i=t.parent;for(;null!==i;){if(n(i))return!0;i=i.parent}}(i,a=>{JE(t,a)}),JE(t,i),GA(i,a=>{JE(t,a)}),e}function JE(t,n){const e=Zh(n);if(e){const i=[];let a=[],c=-1;for(let p=0;p<e.length;p++)3===e[p].status||(1===e[p].status?((0,F.hu)(c===p-1,"All SENT items should be at beginning of queue."),c=p,e[p].status=3,e[p].abortReason="set"):((0,F.hu)(0===e[p].status,"Unexpected transaction status in abort"),e[p].unwatcher(),a=a.concat(Ju(t.serverSyncTree_,e[p].currentWriteId,!0)),e[p].onComplete&&i.push(e[p].onComplete.bind(null,new Error("set"),!1,null))));-1===c?HE(n,void 0):e.length=c+1,_s(t.eventQueue_,ly(n),a);for(let p=0;p<i.length;p++)Vh(i[p])}}const KE=function(t,n){const e=pR(t),i=e.namespace;return"firebase.com"===e.domain&&Uo(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Uo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ar("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new b(e.host,e.secure,i,n,"ws"===e.scheme||"wss"===e.scheme,"",i!==e.subdomain),path:new ln(e.pathString)}},pR=function(t){let n="",e="",i="",a="",c="",p=!0,_="https",C=443;if("string"==typeof t){let I=t.indexOf("//");I>=0&&(_=t.substring(0,I-1),t=t.substring(I+2));let R=t.indexOf("/");-1===R&&(R=t.length);let x=t.indexOf("?");-1===x&&(x=t.length),n=t.substring(0,Math.min(R,x)),R<x&&(a=function(t){let n="";const e=t.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let a=e[i];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch(c){}n+="/"+a}return n}(t.substring(R,x)));const V=function(t){const n={};"?"===t.charAt(0)&&(t=t.substring(1));for(const e of t.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?n[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ar(`Invalid query segment '${e}' in query '${t}'`)}return n}(t.substring(Math.min(t.length,x)));I=n.indexOf(":"),I>=0?(p="https"===_||"wss"===_,C=parseInt(n.substring(I+1),10)):I=n.length;const J=n.slice(0,I);if("localhost"===J.toLowerCase())e="localhost";else if(J.split(".").length<=2)e=J;else{const _e=n.indexOf(".");i=n.substring(0,_e).toLowerCase(),e=n.substring(_e+1),c=i}"ns"in V&&(c=V.ns)}return{host:n,port:C,domain:e,subdomain:i,secure:p,scheme:_,pathString:a,namespace:c}};class rS{constructor(n,e,i,a){this.eventType=n,this.eventRegistration=e,this.snapshot=i,this.prevName=a}getPath(){const n=this.snapshot.ref;return"value"===this.eventType?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Pz)(this.snapshot.exportVal())}}class oS{constructor(n,e,i){this.eventRegistration=n,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class sS{constructor(n,e){this.snapshotCallback=n,this.cancelCallback=e}onValue(n,e){this.snapshotCallback.call(null,n,e)}onCancel(n){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class aS{constructor(n,e){this._repo=n,this._path=e}cancel(){const n=new F.BH;return rR(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){ms("OnDisconnect.remove",this._path);const n=new F.BH;return XA(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){ms("OnDisconnect.set",this._path),_l("OnDisconnect.set",n,this._path,!1);const e=new F.BH;return XA(this._repo,this._path,n,e.wrapCallback(()=>{})),e.promise}setWithPriority(n,e){ms("OnDisconnect.setWithPriority",this._path),_l("OnDisconnect.setWithPriority",n,this._path,!1),jE("OnDisconnect.setWithPriority",e,!1);const i=new F.BH;return function(t,n,e,i,a){const c=Zn(e,i);t.server_.onDisconnectPut(n.toString(),c.val(!0),(p,_)=>{"ok"===p&&Yp(t.onDisconnect_,n,c),Ku(0,a,p,_)})}(this._repo,this._path,n,e,i.wrapCallback(()=>{})),i.promise}update(n){ms("OnDisconnect.update",this._path),ZA("OnDisconnect.update",n,this._path,!1);const e=new F.BH;return function(t,n,e,i){if((0,F.xb)(e))return Ti("onDisconnect().update() called with empty data.  Don't do anything."),void Ku(0,i,"ok",void 0);t.server_.onDisconnectMerge(n.toString(),e,(a,c)=>{"ok"===a&&xi(e,(p,_)=>{const C=Zn(_);Yp(t.onDisconnect_,Ln(n,p),C)}),Ku(0,i,a,c)})}(this._repo,this._path,n,e.wrapCallback(()=>{})),e.promise}}class mo{constructor(n,e,i,a){this._repo=n,this._path=e,this._queryParams=i,this._orderByCalled=a}get key(){return St(this._path)?null:iE(this._path)}get ref(){return new ys(this._repo,this._path)}get _queryIdentifier(){const n=hA(this._queryParams),e=L_(n);return"{}"===e?"default":e}get _queryObject(){return hA(this._queryParams)}isEqual(n){if(!((n=(0,F.m9)(n))instanceof mo))return!1;const e=this._repo===n._repo,i=rE(this._path,n._path);return e&&i&&this._queryIdentifier===n._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(t){let n="";for(let e=t.pieceNum_;e<t.pieces_.length;e++)""!==t.pieces_[e]&&(n+="/"+encodeURIComponent(String(t.pieces_[e])));return n||"/"}(this._path)}}function x1(t,n){if(!0===t._orderByCalled)throw new Error(n+": You can't combine multiple orderBy calls.")}function Qu(t){let n=null,e=null;if(t.hasStart()&&(n=t.getIndexStartValue()),t.hasEnd()&&(e=t.getIndexEndValue()),t.getIndex()===ml){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==ma)throw new Error(i);if("string"!=typeof n)throw new Error(a)}if(t.hasEnd()){if(t.getIndexEndName()!==$o)throw new Error(i);if("string"!=typeof e)throw new Error(a)}}else if(t.getIndex()===An){if(null!=n&&!cy(n)||null!=e&&!cy(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,F.hu)(t.getIndex()instanceof cE||t.getIndex()===uE,"unknown index type."),null!=n&&"object"==typeof n||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function k1(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ys extends mo{constructor(n,e){super(n,e,new l1,!1)}get parent(){const n=JI(this._path);return null===n?null:new ys(this._repo,n)}get root(){let n=this;for(;null!==n.parent;)n=n.parent;return n}}class zh{constructor(n,e,i){this._node=n,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const e=new ln(n),i=Yh(this.ref,n);return new zh(this._node.getChild(e),i,An)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,a)=>n(new zh(a,Yh(this.ref,i),An)))}hasChild(n){const e=new ln(n);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function lS(t,n){return(t=(0,F.m9)(t))._checkNotDeleted("ref"),void 0!==n?Yh(t._root,n):t._root}function cS(t,n){(t=(0,F.m9)(t))._checkNotDeleted("refFromURL");const e=KE(n,t._repo.repoInfo_.nodeAdmin);zA("refFromURL",e);const i=e.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&i.host!==t._repo.repoInfo_.host&&Uo("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+t._repo.repoInfo_.host+")"),lS(t,e.path.toString())}function Yh(t,n){return null===At((t=(0,F.m9)(t))._path)?(e=n,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),hy("child","path",e,!1)):hy("child","path",n,!1),new ys(t._repo,Ln(t._path,n));var e}function QE(t,n){t=(0,F.m9)(t),ms("set",t._path),_l("set",n,t._path,!1);const e=new F.BH;return ZE(t._repo,t._path,n,null,e.wrapCallback(()=>{})),e.promise}function vR(t,n){ZA("update",n,t._path,!1);const e=new F.BH;return function(t,n,e,i){Qp(t,"update",{path:n.toString(),value:e});let a=!0;const c=fy(t),p={};if(xi(e,(_,C)=>{a=!1,p[_]=$A(Ln(n,_),Zn(C),t.serverSyncTree_,c)}),a)Ti("update() called with empty data.  Don't do anything."),Ku(0,i,"ok",void 0);else{const _=N1(t),C=function(t,n,e,i){!function(t,n,e,i){(0,F.hu)(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:n,children:e,writeId:i,visible:!0}),t.visibleWrites=CE(t.visibleWrites,n,e),t.lastWriteId=i}(t.pendingWriteTree_,n,e,i);const a=Sn.fromObject(e);return Kp(t,new qp({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,a))}(t.serverSyncTree_,n,p,_);S1(t.eventQueue_,C),t.server_.merge(n.toString(),e,(I,R)=>{const x="ok"===I;x||ar("update at "+n+" failed: "+I);const V=Ju(t.serverSyncTree_,_,!x),J=V.length>0?Xp(t,n):n;_s(t.eventQueue_,J,V),Ku(0,i,I,R)}),xi(e,I=>{const R=qE(t,Ln(n,I));Xp(t,R)}),_s(t.eventQueue_,n,[])}}(t._repo,t._path,n,e.wrapCallback(()=>{})),e.promise}function bR(t){return function(t,n){const e=function(t,n){const e=n._path;let i=null;t.syncPointTree_.foreachOnPath(e,(I,R)=>{const x=Hr(I,e);i=i||Yu(R,x)});let a=t.syncPointTree_.get(e);a?i=i||Yu(a,Kt()):(a=new RA,t.syncPointTree_=t.syncPointTree_.set(e,a));const c=null!=i,p=c?new Zu(i,!0,!1):null;return function(t){return p1(t.viewCache_)}(xA(a,n,g1(t.pendingWriteTree_,n._path),c?p.getNode():yt.EMPTY_NODE,c))}(t.serverSyncTree_,n);return null!=e?Promise.resolve(e):t.server_.get(n).then(i=>{const a=Zn(i).withIndex(n._queryParams.getIndex()),c=sy(t.serverSyncTree_,n._path,a);return GE(t.eventQueue_,n._path,c),Promise.resolve(a)},i=>(Qp(t,"get for query "+(0,F.Pz)(n)+" failed: "+i),Promise.reject(new Error(i))))}((t=(0,F.m9)(t))._repo,t).then(n=>new zh(n,new ys(t._repo,t._path),t._queryParams.getIndex()))}class O1{constructor(n){this.callbackContext=n}respondsTo(n){return"value"===n}createEvent(n,e){const i=e._queryParams.getIndex();return new rS("value",this,new zh(n.snapshotNode,new ys(e._repo,e._path),i))}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new oS(this,n,e):null}matches(n){return n instanceof O1&&(!n.callbackContext||!this.callbackContext||n.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class P1{constructor(n,e){this.eventType=n,this.callbackContext=e}respondsTo(n){let e="children_added"===n?"child_added":n;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new oS(this,n,e):null}createEvent(n,e){(0,F.hu)(null!=n.childName,"Child events should have a childName.");const i=Yh(new ys(e._repo,e._path),n.childName),a=e._queryParams.getIndex();return new rS(n.type,this,new zh(n.snapshotNode,i,a),n.prevName)}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,n.prevName)}matches(n){return n instanceof P1&&this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function py(t,n,e,i,a){let c;if("object"==typeof i&&(c=void 0,a=i),"function"==typeof i&&(c=i),a&&a.onlyOnce){const C=e,I=(R,x)=>{zE(t._repo,t,_),C(R,x)};I.userCallback=e.userCallback,I.context=e.context,e=I}const p=new sS(e,c||void 0),_="value"===n?new O1(p):new P1(n,p);return function(t,n,e){let i;i=".info"===At(n._path)?LA(t.infoSyncTree_,n,e):LA(t.serverSyncTree_,n,e),GE(t.eventQueue_,n._path,i)}(t._repo,t,_),()=>zE(t._repo,t,_)}function XE(t,n,e,i){return py(t,"value",n,e,i)}function uS(t,n,e,i){return py(t,"child_added",n,e,i)}function dS(t,n,e,i){return py(t,"child_changed",n,e,i)}function hS(t,n,e,i){return py(t,"child_moved",n,e,i)}function fS(t,n,e,i){return py(t,"child_removed",n,e,i)}function pS(t,n,e){let i=null;const a=e?new sS(e):null;"value"===n?i=new O1(a):n&&(i=new P1(n,a)),zE(t._repo,t,i)}class va{}class gS extends va{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){_l("endAt",this._value,n._path,!0);const e=pE(n._queryParams,this._value,this._key);if(k1(e),Qu(e),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new mo(n._repo,n._path,e,n._orderByCalled)}}class wR extends va{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){_l("endBefore",this._value,n._path,!1);const e=function(t,n,e){let i,a;return t.index_===ml?("string"==typeof n&&(n=cA(n)),a=pE(t,n,e)):(i=null==e?ma:cA(e),a=pE(t,n,i)),a.endBeforeSet_=!0,a}(n._queryParams,this._value,this._key);if(k1(e),Qu(e),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new mo(n._repo,n._path,e,n._orderByCalled)}}class mS extends va{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){_l("startAt",this._value,n._path,!0);const e=fE(n._queryParams,this._value,this._key);if(k1(e),Qu(e),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new mo(n._repo,n._path,e,n._orderByCalled)}}class TR extends va{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){_l("startAfter",this._value,n._path,!1);const e=function(t,n,e){let i;if(t.index_===ml)"string"==typeof n&&(n=lA(n)),i=fE(t,n,e);else{let a;a=null==e?$o:lA(e),i=fE(t,n,a)}return i.startAfterSet_=!0,i}(n._queryParams,this._value,this._key);if(k1(e),Qu(e),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new mo(n._repo,n._path,e,n._orderByCalled)}}class AR extends va{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new mo(n._repo,n._path,function(t,n){const e=t.copy();return e.limitSet_=!0,e.limit_=n,e.viewFrom_="l",e}(n._queryParams,this._limit),n._orderByCalled)}}class NR extends va{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new mo(n._repo,n._path,function(t,n){const e=t.copy();return e.limitSet_=!0,e.limit_=n,e.viewFrom_="r",e}(n._queryParams,this._limit),n._orderByCalled)}}class RR extends va{constructor(n){super(),this._path=n}_apply(n){x1(n,"orderByChild");const e=new ln(this._path);if(St(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new cE(e),a=c1(n._queryParams,i);return Qu(a),new mo(n._repo,n._path,a,!0)}}class kR extends va{_apply(n){x1(n,"orderByKey");const e=c1(n._queryParams,ml);return Qu(e),new mo(n._repo,n._path,e,!0)}}class PR extends va{_apply(n){x1(n,"orderByPriority");const e=c1(n._queryParams,An);return Qu(e),new mo(n._repo,n._path,e,!0)}}class LR extends va{_apply(n){x1(n,"orderByValue");const e=c1(n._queryParams,uE);return Qu(e),new mo(n._repo,n._path,e,!0)}}class VR extends va{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){if(_l("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new gS(this._value,this._key)._apply(new mS(this._value,this._key)._apply(n))}}function ba(t,...n){let e=(0,F.m9)(t);for(const i of n)e=i._apply(e);return e}(function(t){(0,F.hu)(!v1,"__referenceConstructor has already been defined"),v1=t})(ys),function(t){(0,F.hu)(!C1,"__referenceConstructor has already been defined"),C1=t}(ys);const eT={};function yS(t,n,e,i,a){let c=i||t.options.databaseURL;void 0===c&&(t.options.projectId||Uo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ti("Using default host for project ",t.options.projectId),c=`${t.options.projectId}-default-rtdb.firebaseio.com`);let C,I,p=KE(c,a),_=p.repoInfo;"undefined"!=typeof process&&(I=process.env.FIREBASE_DATABASE_EMULATOR_HOST),I?(C=!0,c=`http://${I}?ns=${_.namespace}`,p=KE(c,a),_=p.repoInfo):C=!p.repoInfo.secure;const R=a&&C?new Hh(Hh.OWNER):new BI(t.name,t.options,n);zA("Invalid Firebase Database URL",p),St(p.path)||Uo("Database URL must point to the root of a Firebase Database (not including a child path).");const x=function(t,n,e,i){let a=eT[n.name];a||(a={},eT[n.name]=a);let c=a[t.toURLString()];return c&&Uo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new QM(t,false,e,i),a[t.toURLString()]=c,c}(_,t,R,new LI(t.name,e));return new ZR(x,t)}class ZR{constructor(n,e){this._repoInternal=n,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(t,n,e){if(t.stats_=q(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new u1(t.repoInfo_,(i,a,c,p)=>{KA(t,i,a,c,p)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>QA(t,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new $h(t.repoInfo_,n,(i,a,c,p)=>{KA(t,i,a,c,p)},i=>{QA(t,i)},i=>{!function(t,n){xi(n,(e,i)=>{WE(t,e,i)})}(t,i)},t.authTokenProvider_,t.appCheckProvider_,e),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=function(t,n){const e=t.toString();return j[e]||(j[e]=n()),j[e]}(t.repoInfo_,()=>new LN(t.stats_,t.server_)),t.infoData_=new xN,t.infoSyncTree_=new FA({startListening:(i,a,c,p)=>{let _=[];const C=t.infoData_.getNode(i._path);return C.isEmpty()||(_=sy(t.infoSyncTree_,i._path,C),setTimeout(()=>{p("ok")},0)),_},stopListening:()=>{}}),WE(t,"connected",!1),t.serverSyncTree_=new FA({startListening:(i,a,c,p)=>(t.server_.listen(i,c,a,(_,C)=>{const I=p(_,C);_s(t.eventQueue_,i._path,I)}),[]),stopListening:(i,a)=>{t.server_.unlisten(i,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ys(this._repo,Kt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(t,n){const e=eT[n];(!e||e[t.key]!==t)&&Uo(`Database ${n}(${t.repoInfo_}) has already been deleted.`),eS(t),delete e[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){null===this._rootInternal&&Uo("Cannot call "+n+" on a deleted database.")}}function JR(t,n){Xb(t,n)}class tx{constructor(n,e){this.committed=n,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}$h.prototype.simpleListen=function(t,n){this.sendRequest("q",{p:t},n)},$h.prototype.echo=function(t,n){this.sendRequest("echo",{d:t},n)},F_(pl.SDK_VERSION),(0,pl._registerComponent)(new hc.wA("database",(n,{instanceIdentifier:e})=>yS(n.getProvider("app").getImmediate(),n.getProvider("auth-internal"),n.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,pl.registerVersion)(qb,"0.12.4",void 0),(0,pl.registerVersion)(qb,"0.12.4","esm2017");const ox=new g_.Yd("@firebase/database-compat"),vS=function(t){ox.warn("FIREBASE WARNING: "+t)};class lx{constructor(n){this._delegate=n}cancel(n){(0,F.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,F.Wj)("OnDisconnect.cancel","onComplete",n,!0);const e=this._delegate.cancel();return n&&e.then(()=>n(null),i=>n(i)),e}remove(n){(0,F.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,F.Wj)("OnDisconnect.remove","onComplete",n,!0);const e=this._delegate.remove();return n&&e.then(()=>n(null),i=>n(i)),e}set(n,e){(0,F.Dv)("OnDisconnect.set",1,2,arguments.length),(0,F.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(n);return e&&i.then(()=>e(null),a=>e(a)),i}setWithPriority(n,e,i){(0,F.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,F.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const a=this._delegate.setWithPriority(n,e);return i&&a.then(()=>i(null),c=>i(c)),a}update(n,e){if((0,F.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(n)){const a={};for(let c=0;c<n.length;++c)a[""+c]=n[c];n=a,vS("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,F.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(n);return e&&i.then(()=>e(null),a=>e(a)),i}}class cx{constructor(n,e){this.committed=n,this.snapshot=e}toJSON(){return(0,F.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Xu{constructor(n,e){this._database=n,this._delegate=e}val(){return(0,F.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,F.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,F.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,F.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(n){return(0,F.Dv)("DataSnapshot.child",0,1,arguments.length),n=String(n),hy("DataSnapshot.child","path",n,!1),new Xu(this._database,this._delegate.child(n))}hasChild(n){return(0,F.Dv)("DataSnapshot.hasChild",1,1,arguments.length),hy("DataSnapshot.hasChild","path",n,!1),this._delegate.hasChild(n)}getPriority(){return(0,F.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(n){return(0,F.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,F.Wj)("DataSnapshot.forEach","action",n,!1),this._delegate.forEach(e=>n(new Xu(this._database,e)))}hasChildren(){return(0,F.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,F.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,F.Dv)("DataSnapshot.ref",0,0,arguments.length),new jo(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class lr{constructor(n,e){this.database=n,this._delegate=e}on(n,e,i,a){var c;(0,F.Dv)("Query.on",2,4,arguments.length),(0,F.Wj)("Query.on","callback",e,!1);const p=lr.getCancelAndContextArgs_("Query.on",i,a),_=(I,R)=>{e.call(p.context,new Xu(this.database,I),R)};_.userCallback=e,_.context=p.context;const C=null===(c=p.cancel)||void 0===c?void 0:c.bind(p.context);switch(n){case"value":return XE(this._delegate,_,C),e;case"child_added":return uS(this._delegate,_,C),e;case"child_removed":return fS(this._delegate,_,C),e;case"child_changed":return dS(this._delegate,_,C),e;case"child_moved":return hS(this._delegate,_,C),e;default:throw new Error((0,F.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(n,e,i){if((0,F.Dv)("Query.off",0,3,arguments.length),function(t,n,e){if(void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,F.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,n),(0,F.Wj)("Query.off","callback",e,!0),(0,F.lb)("Query.off","context",i,!0),e){const a=()=>{};a.userCallback=e,a.context=i,pS(this._delegate,n,a)}else pS(this._delegate,n)}get(){return bR(this._delegate).then(n=>new Xu(this.database,n))}once(n,e,i,a){(0,F.Dv)("Query.once",1,4,arguments.length),(0,F.Wj)("Query.once","callback",e,!0);const c=lr.getCancelAndContextArgs_("Query.once",i,a),p=new F.BH,_=(I,R)=>{const x=new Xu(this.database,I);e&&e.call(c.context,x,R),p.resolve(x)};_.userCallback=e,_.context=c.context;const C=I=>{c.cancel&&c.cancel.call(c.context,I),p.reject(I)};switch(n){case"value":XE(this._delegate,_,C,{onlyOnce:!0});break;case"child_added":uS(this._delegate,_,C,{onlyOnce:!0});break;case"child_removed":fS(this._delegate,_,C,{onlyOnce:!0});break;case"child_changed":dS(this._delegate,_,C,{onlyOnce:!0});break;case"child_moved":hS(this._delegate,_,C,{onlyOnce:!0});break;default:throw new Error((0,F.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return p.promise}limitToFirst(n){return(0,F.Dv)("Query.limitToFirst",1,1,arguments.length),new lr(this.database,ba(this._delegate,function(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new AR(t)}(n)))}limitToLast(n){return(0,F.Dv)("Query.limitToLast",1,1,arguments.length),new lr(this.database,ba(this._delegate,function(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new NR(t)}(n)))}orderByChild(n){return(0,F.Dv)("Query.orderByChild",1,1,arguments.length),new lr(this.database,ba(this._delegate,function(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return hy("orderByChild","path",t,!1),new RR(t)}(n)))}orderByKey(){return(0,F.Dv)("Query.orderByKey",0,0,arguments.length),new lr(this.database,ba(this._delegate,new kR))}orderByPriority(){return(0,F.Dv)("Query.orderByPriority",0,0,arguments.length),new lr(this.database,ba(this._delegate,new PR))}orderByValue(){return(0,F.Dv)("Query.orderByValue",0,0,arguments.length),new lr(this.database,ba(this._delegate,new LR))}startAt(n=null,e){return(0,F.Dv)("Query.startAt",0,2,arguments.length),new lr(this.database,ba(this._delegate,function(t=null,n){return dy("startAt","key",n,!0),new mS(t,n)}(n,e)))}startAfter(n=null,e){return(0,F.Dv)("Query.startAfter",0,2,arguments.length),new lr(this.database,ba(this._delegate,function(t,n){return dy("startAfter","key",n,!0),new TR(t,n)}(n,e)))}endAt(n=null,e){return(0,F.Dv)("Query.endAt",0,2,arguments.length),new lr(this.database,ba(this._delegate,function(t,n){return dy("endAt","key",n,!0),new gS(t,n)}(n,e)))}endBefore(n=null,e){return(0,F.Dv)("Query.endBefore",0,2,arguments.length),new lr(this.database,ba(this._delegate,function(t,n){return dy("endBefore","key",n,!0),new wR(t,n)}(n,e)))}equalTo(n,e){return(0,F.Dv)("Query.equalTo",1,2,arguments.length),new lr(this.database,ba(this._delegate,function(t,n){return dy("equalTo","key",n,!0),new VR(t,n)}(n,e)))}toString(){return(0,F.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,F.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(n){if((0,F.Dv)("Query.isEqual",1,1,arguments.length),!(n instanceof lr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(n._delegate)}static getCancelAndContextArgs_(n,e,i){const a={cancel:void 0,context:void 0};if(e&&i)a.cancel=e,(0,F.Wj)(n,"cancel",a.cancel,!0),a.context=i,(0,F.lb)(n,"context",a.context,!0);else if(e)if("object"==typeof e&&null!==e)a.context=e;else{if("function"!=typeof e)throw new Error((0,F.gK)(n,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=e}return a}get ref(){return new jo(this.database,new ys(this._delegate._repo,this._delegate._path))}}class jo extends lr{constructor(n,e){super(n,new mo(e._repo,e._path,new l1,!1)),this.database=n,this._delegate=e}getKey(){return(0,F.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(n){return(0,F.Dv)("Reference.child",1,1,arguments.length),"number"==typeof n&&(n=String(n)),new jo(this.database,Yh(this._delegate,n))}getParent(){(0,F.Dv)("Reference.parent",0,0,arguments.length);const n=this._delegate.parent;return n?new jo(this.database,n):null}getRoot(){return(0,F.Dv)("Reference.root",0,0,arguments.length),new jo(this.database,this._delegate.root)}set(n,e){(0,F.Dv)("Reference.set",1,2,arguments.length),(0,F.Wj)("Reference.set","onComplete",e,!0);const i=QE(this._delegate,n);return e&&i.then(()=>e(null),a=>e(a)),i}update(n,e){if((0,F.Dv)("Reference.update",1,2,arguments.length),Array.isArray(n)){const a={};for(let c=0;c<n.length;++c)a[""+c]=n[c];n=a,vS("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ms("Reference.update",this._delegate._path),(0,F.Wj)("Reference.update","onComplete",e,!0);const i=vR(this._delegate,n);return e&&i.then(()=>e(null),a=>e(a)),i}setWithPriority(n,e,i){(0,F.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,F.Wj)("Reference.setWithPriority","onComplete",i,!0);const a=function(t,n,e){if(ms("setWithPriority",t._path),_l("setWithPriority",n,t._path,!1),jE("setWithPriority",e,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";const i=new F.BH;return ZE(t._repo,t._path,n,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,n,e);return i&&a.then(()=>i(null),c=>i(c)),a}remove(n){(0,F.Dv)("Reference.remove",0,1,arguments.length),(0,F.Wj)("Reference.remove","onComplete",n,!0);const e=function(t){return ms("remove",t._path),QE(t,null)}(this._delegate);return n&&e.then(()=>n(null),i=>n(i)),e}transaction(n,e,i){(0,F.Dv)("Reference.transaction",1,3,arguments.length),(0,F.Wj)("Reference.transaction","transactionUpdate",n,!1),(0,F.Wj)("Reference.transaction","onComplete",e,!0),function(t,n,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,F.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const a=function(t,n,e){var i;if(t=(0,F.m9)(t),ms("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";const a=null===(i=null==e?void 0:e.applyLocally)||void 0===i||i,c=new F.BH,_=XE(t,()=>{});return function(t,n,e,i,a,c){Qp(t,"transaction on "+n);const p={path:n,update:e,onComplete:i,status:null,order:jD(),applyLocally:c,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},_=YE(t,n,void 0);p.currentInputSnapshot=_;const C=p.update(_.val());if(void 0===C)p.unwatcher(),p.currentOutputSnapshotRaw=null,p.currentOutputSnapshotResolved=null,p.onComplete&&p.onComplete(null,!1,p.currentInputSnapshot);else{uy("transaction failed: Data returned ",C,p.path),p.status=0;const I=T1(t.transactionQueueTree_,n),R=Zh(I)||[];let x;R.push(p),HE(I,R),"object"==typeof C&&null!==C&&(0,F.r3)(C,".priority")?(x=(0,F.DV)(C,".priority"),(0,F.hu)(cy(x),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):x=(w1(t.serverSyncTree_,n)||yt.EMPTY_NODE).getPriority().val();const V=fy(t),J=Zn(C,x),_e=LE(J,_,V);p.currentOutputSnapshotRaw=J,p.currentOutputSnapshotResolved=_e,p.currentWriteId=N1(t);const Me=ME(t.serverSyncTree_,n,_e,p.currentWriteId,p.applyLocally);_s(t.eventQueue_,n,Me),M1(t,t.transactionQueueTree_)}}(t._repo,t._path,n,(C,I,R)=>{let x=null;C?c.reject(C):(x=new zh(R,new ys(t._repo,t._path),An),c.resolve(new tx(I,x)))},_,a),c.promise}(this._delegate,n,{applyLocally:i}).then(c=>new cx(c.committed,new Xu(this.database,c.snapshot)));return e&&a.then(c=>e(null,c.committed,c.snapshot),c=>e(c,!1,null)),a}setPriority(n,e){(0,F.Dv)("Reference.setPriority",1,2,arguments.length),(0,F.Wj)("Reference.setPriority","onComplete",e,!0);const i=function(t,n){t=(0,F.m9)(t),ms("setPriority",t._path),jE("setPriority",n,!1);const e=new F.BH;return ZE(t._repo,Ln(t._path,".priority"),n,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,n);return e&&i.then(()=>e(null),a=>e(a)),i}push(n,e){(0,F.Dv)("Reference.push",0,2,arguments.length),(0,F.Wj)("Reference.push","onComplete",e,!0);const i=function(t,n){t=(0,F.m9)(t),ms("push",t._path),_l("push",n,t._path,!0);const e=JA(t._repo),i=EN(e),a=Yh(t,i),c=Yh(t,i);let p;return p=null!=n?QE(c,n).then(()=>c):Promise.resolve(c),a.then=p.then.bind(p),a.catch=p.then.bind(p,void 0),a}(this._delegate,n),a=i.then(p=>new jo(this.database,p));e&&a.then(()=>e(null),p=>e(p));const c=new jo(this.database,i);return c.then=a.then.bind(a),c.catch=a.catch.bind(a,void 0),c}onDisconnect(){return ms("Reference.onDisconnect",this._delegate._path),new lx(new aS(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class gy{constructor(n,e){this._delegate=n,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(n,e,i={}){!function(t,n,e,i={}){(t=(0,F.m9)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&Uo("Cannot call useEmulator() after instance has already been initialized.");const a=t._repoInternal;let c;if(a.repoInfo_.nodeAdmin)i.mockUserToken&&Uo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Hh(Hh.OWNER);else if(i.mockUserToken){const p="string"==typeof i.mockUserToken?i.mockUserToken:(0,F.Sg)(i.mockUserToken,t.app.options.projectId);c=new Hh(p)}!function(t,n,e,i){t.repoInfo_=new b(`${n}:${e}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),i&&(t.authTokenProvider_=i)}(a,n,e,c)}(this._delegate,n,e,i)}ref(n){if((0,F.Dv)("database.ref",0,1,arguments.length),n instanceof jo){const e=cS(this._delegate,n.toString());return new jo(this,e)}{const e=lS(this._delegate,n);return new jo(this,e)}}refFromURL(n){(0,F.Dv)("database.refFromURL",1,1,arguments.length);const i=cS(this._delegate,n);return new jo(this,i)}goOffline(){return(0,F.Dv)("database.goOffline",0,0,arguments.length),function(t){(t=(0,F.m9)(t))._checkNotDeleted("goOffline"),eS(t._repo)}(this._delegate)}goOnline(){return(0,F.Dv)("database.goOnline",0,0,arguments.length),function(t){(t=(0,F.m9)(t))._checkNotDeleted("goOnline"),function(t){t.persistentConnection_&&t.persistentConnection_.resume(qA)}(t._repo)}(this._delegate)}}gy.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:t=>function(t){return{".sv":{increment:t}}}(t)};var dx=Object.freeze({__proto__:null,initStandalone:function({app:t,url:n,version:e,customAuthImpl:i,namespace:a,nodeAdmin:c=!1}){F_(e);const p=new hc.zt("auth-internal",new hc.H0("database-standalone"));return p.setComponent(new hc.wA("auth-internal",()=>i,"PRIVATE")),{instance:new gy(yS(t,p,void 0,n,c),t),namespace:a}}});const hx=gy.ServerValue;function bS(t){return null==t}function CS(t){return"function"==typeof t.set}function wS(t,n){return CS(n)?n:t.ref(n)}function DS(t,n){if(function(t){return"string"==typeof t}(t))return n.stringCase();if(CS(t))return n.firebaseCase();if(function(t){return"function"==typeof t.exportVal}(t))return n.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function my(t,n,e="on",i=Df.z){return new xn.y(a=>{let c=null;return c=t[e](n,(p,_)=>{i.schedule(()=>{a.next({snapshot:p,prevKey:_})}),"once"===e&&i.schedule(()=>a.complete())},p=>{i.schedule(()=>a.error(p))}),"on"===e?{unsubscribe(){null!=c&&t.off(n,c)}}:{unsubscribe(){}}}).pipe((0,ot.U)(a=>{const{snapshot:c,prevKey:p}=a;let _=null;return c.exists()&&(_=c.key),{type:n,payload:c,prevKey:p,key:_}}),(0,Rg.B)())}function ES(t,n){const e=t.length;for(let i=0;i<e;i++)if(t[i].payload.key===n)return i;return-1}function yx(t,n){const{payload:e,prevKey:i,key:a}=n,c=ES(t,a),p=function(t,n){if(bS(n))return 0;{const e=ES(t,n);return-1===e?t.length:e+1}}(t,i);switch(n.type){case"value":if(n.payload&&n.payload.exists()){let _=null;n.payload.forEach(C=>{const I={payload:C,type:"value",prevKey:_,key:C.key};return _=C.key,t=[...t,I],!1})}return t;case"child_added":if(c>-1){const _=t[c-1];(_&&_.key||null)!==i&&(t=t.filter(C=>C.payload.key!==e.key)).splice(p,0,n)}else{if(null==i)return[n,...t];(t=t.slice()).splice(p,0,n)}return t;case"child_removed":return t.filter(_=>_.payload.key!==e.key);case"child_changed":return t.map(_=>_.payload.key===a?n:_);case"child_moved":if(c>-1){const _=t.splice(c,1)[0];return(t=t.slice()).splice(p,0,_),t}return t;default:return t}}function TS(t){return(bS(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function IS(t,n,e){return function(t,n,e){return my(t,"value","once",e).pipe(un(i=>{const a=[je(i)];return n.forEach(c=>a.push(my(t,c,"on",e))),(0,lu.T)(...a).pipe(Sr(yx,[]))}),function(t,n=pr.y){return t=null!=t?t:ft,(0,Un.e)((e,i)=>{let a,c=!0;e.subscribe(new Jt.Q(i,p=>{const _=n(p);(c||!t(a,_))&&(c=!1,a=_,i.next(p))}))})}())}(t,n=TS(n),e)}function AS(t,n,e){const i=(n=TS(n)).map(a=>my(t,a,"on",e));return(0,lu.T)(...i)}function SS(t,n){return function(i,a){return DS(i,{stringCase:()=>t.child(i)[n](a),firebaseCase:()=>i[n](a),snapshotCase:()=>i.ref[n](a)})}}function wx(t){return function(e){return e?DS(e,{stringCase:()=>t.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):t.remove()}}function NS(t,n){return function(){return my(t,"value","on",n)}}!function(t){t.INTERNAL.registerComponent(new hc.wA("database-compat",(n,{instanceIdentifier:e})=>{const i=n.getProvider("app-compat").getImmediate(),a=n.getProvider("database").getImmediate({identifier:e});return new gy(a,i)},"PUBLIC").setServiceProps({Reference:jo,Query:lr,Database:gy,DataSnapshot:Xu,enableLogging:JR,INTERNAL:dx,ServerValue:hx}).setMultipleInstances(!0)),t.registerVersion("@firebase/database-compat","0.1.4")}(P_.Z);const Tx=new o.OlP("angularfire2.realtimeDatabaseURL"),Ix=new o.OlP("angularfire2.database.use-emulator");let Ax=(()=>{class t{constructor(e,i,a,c,p,_,C,I,R,x,V,J,_e,Me,Je){this.schedulers=_;const Nt=C,gt=(0,Ho.on)(e,p,i);I&&R_(gt,p,R,V,J,_e,x,Me),this.database=(0,Ho.cc)(`${gt.name}.database.${a}`,"AngularFireDatabase",gt.name,()=>{const Bn=p.runOutsideAngular(()=>gt.database(a||void 0));return Nt&&Bn.useEmulator(...Nt),Bn},[Nt])}list(e,i){const a=this.schedulers.ngZone.runOutsideAngular(()=>wS(this.database,e));let c=a;return i&&(c=i(a)),function(t,n){const e=n.schedulers.outsideAngular,i=n.schedulers.ngZone.run(()=>t.ref);return{query:t,update:SS(i,"update"),set:SS(i,"set"),push:a=>i.push(a),remove:wx(i),snapshotChanges:a=>IS(t,a,e).pipe(fo.iC),stateChanges:a=>AS(t,a,e).pipe(fo.iC),auditTrail:a=>function(t,n,e){return function(t,n,e){return function(t,n){return my(t,"value","on",n).pipe((0,ot.U)(e=>{let i;return e.payload.forEach(a=>(i=a.key,!1)),{data:e,lastKeyToLoad:i}}))}(t,e).pipe(qd(n),(0,ot.U)(([a,c])=>{const p=a.lastKeyToLoad,_=c.map(C=>C.key);return{actions:c,lastKeyToLoad:p,loadedKeys:_}}),(0,Un.e)((n,e)=>{let i=!1;n.subscribe(new Jt.Q(e,c=>(i||(i=!(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad))(c)))&&e.next(c)))}),(0,ot.U)(a=>a.actions))}(t,AS(t,n).pipe(Sr((a,c)=>[...a,c],[])),e)}(t,a,e).pipe(fo.iC),valueChanges:(a,c)=>IS(t,a,e).pipe((0,ot.U)(_=>_.map(C=>c&&c.idField?Object.assign(Object.assign({},C.payload.val()),{[c.idField]:C.key}):C.payload.val())),fo.iC)}}(c,this)}object(e){return function(t,n){return{query:t,snapshotChanges:()=>NS(t,n.schedulers.outsideAngular)().pipe(fo.iC),update:e=>t.ref.update(e),set:e=>t.ref.set(e),remove:()=>t.ref.remove(),valueChanges:()=>NS(t,n.schedulers.outsideAngular)().pipe(fo.iC,(0,ot.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>wS(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Ho.Dh),o.LFG(Ho.xv,8),o.LFG(Tx,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(fo.HU),o.LFG(Ix,8),o.LFG(x_,8),o.LFG(Ob,8),o.LFG(Op,8),o.LFG(po,8),o.LFG(Pb,8),o.LFG(Fb,8),o.LFG(Lb,8),o.LFG(kh,8))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),Sx=(()=>{class t{constructor(){kb.Z.registerVersion("angularfire",fo.q4.full,"rtdb-compat")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[Ax]}),t})();function Nx(t,n){return{type:7,name:t,definitions:n,options:{}}}function MS(t,n=null){return{type:4,styles:n,timings:t}}function tT(t){return{type:6,styles:t,offset:null}}function nT(t,n,e){return{type:0,name:t,styles:n,options:e}}function RS(t,n,e=null){return{type:1,expr:t,animation:n,options:e}}const kS=["toast-component",""];function Mx(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"button",5),o.NdJ("click",function(){return o.CHM(e),o.oxw().remove()}),o.TgZ(1,"span",6),o._uU(2,"\xd7"),o.qZA(),o.qZA()}}function Rx(t,n){if(1&t&&(o.ynx(0),o._uU(1),o.BQk()),2&t){const e=o.oxw(2);o.xp6(1),o.hij("[",e.duplicatesCount+1,"]")}}function xx(t,n){if(1&t&&(o.TgZ(0,"div"),o._uU(1),o.YNc(2,Rx,2,1,"ng-container",4),o.qZA()),2&t){const e=o.oxw();o.Tol(e.options.titleClass),o.uIk("aria-label",e.title),o.xp6(1),o.hij(" ",e.title," "),o.xp6(1),o.Q6J("ngIf",e.duplicatesCount)}}function kx(t,n){if(1&t&&o._UZ(0,"div",7),2&t){const e=o.oxw();o.Tol(e.options.messageClass),o.Q6J("innerHTML",e.message,o.oJD)}}function Ox(t,n){if(1&t&&(o.TgZ(0,"div",8),o._uU(1),o.qZA()),2&t){const e=o.oxw();o.Tol(e.options.messageClass),o.uIk("aria-label",e.message),o.xp6(1),o.hij(" ",e.message," ")}}function Px(t,n){if(1&t&&(o.TgZ(0,"div"),o._UZ(1,"div",9),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Udp("width",e.width+"%")}}function Fx(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"button",5),o.NdJ("click",function(){return o.CHM(e),o.oxw().remove()}),o.TgZ(1,"span",6),o._uU(2,"\xd7"),o.qZA(),o.qZA()}}function Lx(t,n){if(1&t&&(o.ynx(0),o._uU(1),o.BQk()),2&t){const e=o.oxw(2);o.xp6(1),o.hij("[",e.duplicatesCount+1,"]")}}function Bx(t,n){if(1&t&&(o.TgZ(0,"div"),o._uU(1),o.YNc(2,Lx,2,1,"ng-container",4),o.qZA()),2&t){const e=o.oxw();o.Tol(e.options.titleClass),o.uIk("aria-label",e.title),o.xp6(1),o.hij(" ",e.title," "),o.xp6(1),o.Q6J("ngIf",e.duplicatesCount)}}function Vx(t,n){if(1&t&&o._UZ(0,"div",7),2&t){const e=o.oxw();o.Tol(e.options.messageClass),o.Q6J("innerHTML",e.message,o.oJD)}}function Hx(t,n){if(1&t&&(o.TgZ(0,"div",8),o._uU(1),o.qZA()),2&t){const e=o.oxw();o.Tol(e.options.messageClass),o.uIk("aria-label",e.message),o.xp6(1),o.hij(" ",e.message," ")}}function Ux(t,n){if(1&t&&(o.TgZ(0,"div"),o._UZ(1,"div",9),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Udp("width",e.width+"%")}}class $x{constructor(n,e){this.component=n,this.injector=e}attach(n,e){return this._attachedHost=n,n.attach(this,e)}detach(){const n=this._attachedHost;if(n)return this._attachedHost=void 0,n.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class F1{constructor(n,e,i,a,c,p){this.toastId=n,this.config=e,this.message=i,this.title=a,this.toastType=c,this.toastRef=p,this._onTap=new Dt.x,this._onAction=new Dt.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(n){this._onAction.next(n)}onAction(){return this._onAction.asObservable()}}const OS={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},PS=new o.OlP("ToastConfig");class Gx{constructor(n){this._overlayRef=n,this.duplicatesCount=0,this._afterClosed=new Dt.x,this._activate=new Dt.x,this._manualClose=new Dt.x,this._resetTimeout=new Dt.x,this._countDuplicate=new Dt.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(n,e){n&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class Wx{constructor(n,e){this._toastPackage=n,this._parentInjector=e}get(n,e,i){return n===F1?this._toastPackage:this._parentInjector.get(n,e,i)}}class Zx extends class{attach(n,e){return this._attachedPortal=n,this.attachComponentPortal(n,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(n){this._disposeFn=n}}{constructor(n,e,i){super(),this._hostDomElement=n,this._componentFactoryResolver=e,this._appRef=i}attachComponentPortal(n,e){const i=this._componentFactoryResolver.resolveComponentFactory(n.component);let a;return a=i.create(n.injector),this._appRef.attachView(a.hostView),this.setDisposeFn(()=>{this._appRef.detachView(a.hostView),a.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(a),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(a)),a}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}class zx{constructor(n){this._portalHost=n}attach(n,e=!0){return this._portalHost.attach(n,e)}detach(){return this._portalHost.detach()}}let Yx=(()=>{class t{constructor(e){this._document=e}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("overlay-container"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(ee))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),qx=(()=>{class t{constructor(e,i,a,c){this._overlayContainer=e,this._componentFactoryResolver=i,this._appRef=a,this._document=c,this._paneElements=new Map}create(e,i){return this._createOverlayRef(this.getPaneElement(e,i))}getPaneElement(e="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[e]||(this._paneElements.get(i)[e]=this._createPaneElement(e,i)),this._paneElements.get(i)[e]}_createPaneElement(e,i){const a=this._document.createElement("div");return a.id="toast-container",a.classList.add(e),a.classList.add("toast-container"),i?i.getContainerElement().appendChild(a):this._overlayContainer.getContainerElement().appendChild(a),a}_createPortalHost(e){return new Zx(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new zx(this._createPortalHost(e))}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Yx),o.LFG(o._Vd),o.LFG(o.z2F),o.LFG(ee))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),FS=(()=>{class t{constructor(e,i,a,c,p){this.overlay=i,this._injector=a,this.sanitizer=c,this.ngZone=p,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=qe(qe({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=qe(qe({},e.default.iconClasses),e.config.iconClasses))}show(e,i,a={},c=""){return this._preBuildNotification(c,e,i,this.applyConfig(a))}success(e,i,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,i,this.applyConfig(a))}error(e,i,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,i,this.applyConfig(a))}info(e,i,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,i,this.applyConfig(a))}warning(e,i,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,i,this.applyConfig(a))}clear(e){for(const i of this.toasts)if(void 0!==e){if(i.toastId===e)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(e){const i=this._findToast(e);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const a=this.toasts[this.currentlyActive].toastRef;a.isInactive()||(this.currentlyActive=this.currentlyActive+1,a.activate())}return!0}findDuplicate(e="",i="",a,c){const{includeTitleDuplicates:p}=this.toastrConfig;for(const _ of this.toasts){const C=p&&_.title===e;if((!p||C)&&_.message===i)return _.toastRef.onDuplicate(a,c),_}return null}applyConfig(e={}){return qe(qe({},this.toastrConfig),e)}_findToast(e){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===e)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(e,i,a,c){return c.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,i,a,c)):this._buildNotification(e,i,a,c)}_buildNotification(e,i,a,c){if(!c.toastComponent)throw new Error("toastComponent required");const p=this.findDuplicate(a,i,this.toastrConfig.resetTimeoutOnDuplicate&&c.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&a||i)&&this.toastrConfig.preventDuplicates&&null!==p)return p;this.previousToastMessage=i;let _=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(_=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const C=this.overlay.create(c.positionClass,this.overlayContainer);this.index=this.index+1;let I=i;i&&c.enableHtml&&(I=this.sanitizer.sanitize(o.q3G.HTML,i));const R=new Gx(C),x=new F1(this.index,c,I,a,e,R),V=new Wx(x,this._injector),J=new $x(c.toastComponent,V),_e=C.attach(J,this.toastrConfig.newestOnTop);R.componentInstance=_e.instance;const Me={toastId:this.index,title:a||"",message:i||"",toastRef:R,onShown:R.afterActivate(),onHidden:R.afterClosed(),onTap:x.onTap(),onAction:x.onAction(),portal:_e};return _||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Me.toastRef.activate()})),this.toasts.push(Me),Me}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(PS),o.LFG(qx),o.LFG(o.zs3),o.LFG(Qr),o.LFG(o.R0b))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Jx=(()=>{class t{constructor(e,i,a){this.toastrService=e,this.toastPackage=i,this.ngZone=a,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(c=>{this.duplicatesCount=c})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=zn(qe({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=zn(qe({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=zn(qe({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),i)):this.timeout=setTimeout(()=>e(),i)}outsideInterval(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),i)):this.intervalId=setInterval(()=>e(),i)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(FS),o.Y36(F1),o.Y36(o.R0b))},t.\u0275cmp=o.Xpm({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&e&&(o.d8E("@flyInOut",i.state),o.Tol(i.toastClasses),o.Udp("display",i.displayStyle))},attrs:kS,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(e,i){1&e&&(o.YNc(0,Mx,3,0,"button",0),o.YNc(1,xx,3,5,"div",1),o.YNc(2,kx,1,3,"div",2),o.YNc(3,Ox,2,4,"div",3),o.YNc(4,Px,2,2,"div",4)),2&e&&(o.Q6J("ngIf",i.options.closeButton),o.xp6(1),o.Q6J("ngIf",i.title),o.xp6(1),o.Q6J("ngIf",i.message&&i.options.enableHtml),o.xp6(1),o.Q6J("ngIf",i.message&&!i.options.enableHtml),o.xp6(1),o.Q6J("ngIf",i.options.progressBar))},directives:[tn],encapsulation:2,data:{animation:[Nx("flyInOut",[nT("inactive",tT({opacity:0})),nT("active",tT({opacity:1})),nT("removed",tT({opacity:0})),RS("inactive => active",MS("{{ easeTime }}ms {{ easing }}")),RS("active => removed",MS("{{ easeTime }}ms {{ easing }}"))])]}}),t})();const Kx=zn(qe({},OS),{toastComponent:Jx});let Qx=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[{provide:PS,useValue:{default:Kx,config:e}}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Kn]]}),t})(),Xx=(()=>{class t{constructor(e,i,a){this.toastrService=e,this.toastPackage=i,this.appRef=a,this.width=-1,this.toastClasses="",this.state="inactive",this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(c=>{this.duplicatesCount=c})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(FS),o.Y36(F1),o.Y36(o.z2F))},t.\u0275cmp=o.Xpm({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&e&&(o.Tol(i.toastClasses),o.Udp("display",i.displayStyle))},attrs:kS,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(e,i){1&e&&(o.YNc(0,Fx,3,0,"button",0),o.YNc(1,Bx,3,5,"div",1),o.YNc(2,Vx,1,3,"div",2),o.YNc(3,Hx,2,4,"div",3),o.YNc(4,Ux,2,2,"div",4)),2&e&&(o.Q6J("ngIf",i.options.closeButton),o.xp6(1),o.Q6J("ngIf",i.title),o.xp6(1),o.Q6J("ngIf",i.message&&i.options.enableHtml),o.xp6(1),o.Q6J("ngIf",i.message&&!i.options.enableHtml),o.xp6(1),o.Q6J("ngIf",i.options.progressBar))},directives:[tn],encapsulation:2}),t})();zn(qe({},OS),{toastComponent:Xx});let ek=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t,bootstrap:[gc]}),t.\u0275inj=o.cJS({providers:[],imports:[[Bs,Zb,CT,Q0,Ho.hO.initializeApp({apiKey:"AIzaSyDKFzMx-S9LorlXSrA8HxlxiVbgKjWqwvg",authDomain:"cunmovilpwa.firebaseapp.com",databaseURL:"https://cunmovilpwa.firebaseio.com",projectId:"cunmovilpwa",storageBucket:"cunmovilpwa.appspot.com",messagingSenderId:"561460101557",appId:"1:561460101557:web:1f8dab21bb06d9bb0e59fc"}),Sx,Qx.forRoot()]]}),t})();(0,o.G48)(),Ko().bootstrapModule(ek).catch(t=>console.error(t))},9162:(Ve,he,k)=>{"use strict";function re(te,ce,fe,me){return new(fe||(fe=Promise))(function(ue,dt){function xt(st){try{ct(me.next(st))}catch(pt){dt(pt)}}function wn(st){try{ct(me.throw(st))}catch(pt){dt(pt)}}function ct(st){st.done?ue(st.value):function(ue){return ue instanceof fe?ue:new fe(function(dt){dt(ue)})}(st.value).then(xt,wn)}ct((me=me.apply(te,ce||[])).next())})}function oe(te){return this instanceof oe?(this.v=te,this):new oe(te)}function Y(te,ce,fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,me=fe.apply(te,ce||[]),ue=[];return Se={},dt("next"),dt("throw"),dt("return"),Se[Symbol.asyncIterator]=function(){return this},Se;function dt(Zt){me[Zt]&&(Se[Zt]=function(ii){return new Promise(function(hi,zt){ue.push([Zt,ii,hi,zt])>1||xt(Zt,ii)})})}function xt(Zt,ii){try{!function(Zt){Zt.value instanceof oe?Promise.resolve(Zt.value.v).then(ct,st):pt(ue[0][2],Zt)}(me[Zt](ii))}catch(hi){pt(ue[0][3],hi)}}function ct(Zt){xt("next",Zt)}function st(Zt){xt("throw",Zt)}function pt(Zt,ii){Zt(ii),ue.shift(),ue.length&&xt(ue[0][0],ue[0][1])}}function ve(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,ce=te[Symbol.asyncIterator];return ce?ce.call(te):(te=function(te){var ce="function"==typeof Symbol&&Symbol.iterator,fe=ce&&te[ce],me=0;if(fe)return fe.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&me>=te.length&&(te=void 0),{value:te&&te[me++],done:!te}}};throw new TypeError(ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),fe={},me("next"),me("throw"),me("return"),fe[Symbol.asyncIterator]=function(){return this},fe);function me(ue){fe[ue]=te[ue]&&function(dt){return new Promise(function(xt,wn){!function(ue,dt,xt,wn){Promise.resolve(wn).then(function(ct){ue({value:ct,done:xt})},dt)}(xt,wn,(dt=te[ue](dt)).done,dt.value)})}}}k.d(he,{mG:()=>re,qq:()=>oe,FC:()=>Y,KL:()=>ve})},3668:(Ve,he,k)=>{"use strict";k.d(he,{deG:()=>$a,tb:()=>DD,AFp:()=>A_,ip1:()=>I_,CZH:()=>pc,hGG:()=>Vp,z2F:()=>Oh,sBO:()=>LD,Sil:()=>kh,_Vd:()=>vh,EJc:()=>Nb,SBq:()=>Vu,qLn:()=>Xl,vpe:()=>hs,gxx:()=>gu,tBr:()=>sn,XFs:()=>tt,OlP:()=>Gt,zs3:()=>co,ZZ4:()=>Bp,aQg:()=>fs,soG:()=>S_,YKP:()=>o_,h0i:()=>wh,PXZ:()=>x_,R0b:()=>Vr,FiY:()=>ei,Lbi:()=>Sb,g9A:()=>wD,Qsj:()=>$w,FYo:()=>e_,JOm:()=>ro,q3G:()=>vn,tp0:()=>Mi,Rgc:()=>Cp,dDg:()=>MD,q4F:()=>$0,GfV:()=>t_,s_b:()=>p_,ifc:()=>He,eFA:()=>k_,G48:()=>FD,Gpc:()=>U,X6Q:()=>PD,_c5:()=>t1,VLi:()=>Ob,c2e:()=>kp,zSh:()=>im,wAp:()=>at,vHH:()=>ke,EiD:()=>xd,mCW:()=>ea,qzn:()=>qa,JVY:()=>Ja,pB0:()=>sg,eBb:()=>Zl,L6k:()=>Ad,LAX:()=>of,cg1:()=>Fm,kL8:()=>yw,yhl:()=>Wl,dqk:()=>lt,sIi:()=>sh,CqO:()=>Bv,QGY:()=>Cm,F4k:()=>wm,RDi:()=>od,AaK:()=>re,z3N:()=>xr,qOj:()=>cm,TTD:()=>Wr,_Bn:()=>Qm,xp6:()=>qd,uIk:()=>hm,Tol:()=>Qv,DjV:()=>lp,ekj:()=>Ru,Suo:()=>ub,Xpm:()=>fn,lG2:()=>yo,Yz7:()=>zt,cJS:()=>gn,oAB:()=>vs,Yjl:()=>bl,Y36:()=>lh,_UZ:()=>Mu,BQk:()=>bn,ynx:()=>In,qZA:()=>ci,TgZ:()=>vm,EpF:()=>oc,n5z:()=>Ua,Ikx:()=>up,SDv:()=>_p,QtT:()=>F0,pQV:()=>yp,LFG:()=>Z,$8M:()=>yn,$Z:()=>Lv,NdJ:()=>al,CRH:()=>db,oxw:()=>Uv,ALo:()=>eb,lcZ:()=>u_,Hsn:()=>$v,F$t:()=>QC,Q6J:()=>_m,s9C:()=>sc,MGl:()=>Fn,hYB:()=>Tm,VKq:()=>l_,WLB:()=>z0,kEZ:()=>Y0,iGM:()=>lb,MAs:()=>Tv,CHM:()=>Ir,oJD:()=>nr,uOi:()=>as,LSH:()=>Zc,kYT:()=>Zo,Udp:()=>Kv,d8E:()=>lc,YNc:()=>Ev,W1O:()=>Th,_uU:()=>dh,Oqu:()=>hh,hij:()=>ap,Gf:()=>cb});var o=k(273),K=k(7908),O=k(8305),ae=k(3719),ie=k(3174);function de(r){for(let s in r)if(r[s]===de)return s;throw Error("Could not find renamed property on target object.")}function ee(r,s){for(const l in s)s.hasOwnProperty(l)&&!r.hasOwnProperty(l)&&(r[l]=s[l])}function re(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(re).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const l=s.indexOf("\n");return-1===l?s:s.substring(0,l)}function le(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const $=de({__forward_ref__:de});function U(r){return r.__forward_ref__=U,r.toString=function(){return re(this())},r}function Q(r){return xe(r)?r():r}function xe(r){return"function"==typeof r&&r.hasOwnProperty($)&&r.__forward_ref__===U}class ke extends Error{constructor(s,l){super(function(r,s){return`${r?`NG0${r}: `:""}${s}`}(s,l)),this.code=s}}function Y(r){return"string"==typeof r?r:null==r?"":String(r)}function se(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Y(r)}function Te(r,s){const l=s?` in ${s}`:"";throw new ke("201",`No provider for ${se(r)} found${l}`)}function pt(r,s,l,u){throw new Error(`ASSERTION ERROR: ${r}`+(null==u?"":` [Expected=> ${l} ${u} ${s} <=Actual]`))}function zt(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function gn(r){return{providers:r.providers||[],imports:r.imports||[]}}function Oi(r){return Tt(r,cr)||Tt(r,Vn)}function Tt(r,s){return r.hasOwnProperty(s)?r[s]:null}function Gi(r){return r&&(r.hasOwnProperty(Ee)||r.hasOwnProperty(Nn))?r[Ee]:null}const cr=de({\u0275prov:de}),Ee=de({\u0275inj:de}),Vn=de({ngInjectableDef:de}),Nn=de({ngInjectorDef:de});var tt=(()=>((tt=tt||{})[tt.Default=0]="Default",tt[tt.Host=1]="Host",tt[tt.Self=2]="Self",tt[tt.SkipSelf=4]="SkipSelf",tt[tt.Optional=8]="Optional",tt))();let Mt;function fi(r){const s=Mt;return Mt=r,s}function Ke(r,s,l){const u=Oi(r);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:l&tt.Optional?null:void 0!==s?s:void Te(re(r),"Injector")}function mt(r){return{toString:r}.toString()}var _t=(()=>((_t=_t||{})[_t.OnPush=0]="OnPush",_t[_t.Default=1]="Default",_t))(),He=(()=>{return(r=He||(He={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",He;var r})();const Qe="undefined"!=typeof globalThis&&globalThis,Ca="undefined"!=typeof window&&window,Ur="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,lt=Qe||"undefined"!=typeof global&&global||Ca||Ur,G={},B=[],W=de({\u0275cmp:de}),ye=de({\u0275dir:de}),ne=de({\u0275pipe:de}),$e=de({\u0275mod:de}),et=de({\u0275fac:de}),Pt=de({__NG_ELEMENT_ID__:de});let Yn=0;function fn(r){return mt(()=>{const l={},u={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===_t.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||B,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||He.Emulated,id:"c",styles:r.styles||B,_:null,setInput:null,schemas:r.schemas||null,tView:null},d=r.directives,g=r.features,y=r.pipes;return u.id+=Yn++,u.inputs=wa(r.inputs,l),u.outputs=wa(r.outputs),g&&g.forEach(b=>b(u)),u.directiveDefs=d?()=>("function"==typeof d?d():d).map(Ct):null,u.pipeDefs=y?()=>("function"==typeof y?y():y).map(qn):null,u})}function Ct(r){return Yt(r)||function(r){return r[ye]||null}(r)}function qn(r){return function(r){return r[ne]||null}(r)}const _o={};function vs(r){return mt(()=>{const s={type:r.type,bootstrap:r.bootstrap||B,declarations:r.declarations||B,imports:r.imports||B,exports:r.exports||B,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(_o[r.id]=r.type),s})}function Zo(r,s){return mt(()=>{const l=Jn(r,!0);l.declarations=s.declarations||B,l.imports=s.imports||B,l.exports=s.exports||B})}function wa(r,s){if(null==r)return G;const l={};for(const u in r)if(r.hasOwnProperty(u)){let d=r[u],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),l[d]=u,s&&(s[d]=g)}return l}const yo=fn;function bl(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function Yt(r){return r[W]||null}function Jn(r,s){const l=r[$e]||null;if(!l&&!0===s)throw new Error(`Type ${re(r)} does not have '\u0275mod' property.`);return l}function ur(r){return Array.isArray(r)&&"object"==typeof r[1]}function dr(r){return Array.isArray(r)&&!0===r[1]}function kn(r){return 0!=(8&r.flags)}function Dr(r){return 2==(2&r.flags)}function Cl(r){return 1==(1&r.flags)}function Hi(r){return null!==r.template}function qi(r){return 0!=(512&r[2])}function hr(r,s){return r.hasOwnProperty(et)?r[et]:null}class El{constructor(s,l,u){this.previousValue=s,this.currentValue=l,this.firstChange=u}isFirstChange(){return this.firstChange}}function Wr(){return qo}function qo(r){return r.type.prototype.ngOnChanges&&(r.setInput=Kn),Zr}function Zr(){const r=Qn(this),s=null==r?void 0:r.current;if(s){const l=r.previous;if(l===G)r.previous=s;else for(let u in s)l[u]=s[u];r.current=null,this.ngOnChanges(s)}}function Kn(r,s,l,u){const d=Qn(r)||function(r,s){return r[Ic]=s}(r,{previous:G,current:null}),g=d.current||(d.current={}),y=d.previous,b=this.declaredInputs[l],w=y[b];g[b]=new El(w&&w.currentValue,s,y===G),r[u]=s}Wr.ngInherit=!0;const Ic="__ngSimpleChanges__";function Qn(r){return r[Ic]||null}let Ia;function od(r){Ia=r}function Is(){return void 0!==Ia?Ia:"undefined"!=typeof document?document:void 0}function Ut(r){return!!r.listen}const Al={createRenderer:(r,s)=>Is()};function Dn(r){for(;Array.isArray(r);)r=r[0];return r}function Ki(r,s){return Dn(s[r])}function En(r,s){return Dn(s[r.index])}function Do(r,s){return r.data[s]}function Eo(r,s){return r[s]}function Ft(r,s){const l=s[r];return ur(l)?l:l[0]}function Tr(r){return 4==(4&r[2])}function As(r){return 128==(128&r[2])}function yi(r,s){return null==s?null:r[s]}function Ss(r){r[18]=0}function zr(r,s){r[5]+=s;let l=r,u=r[3];for(;null!==u&&(1===s&&1===l[5]||-1===s&&0===l[5]);)u[5]+=s,l=u,u=u[3]}const We={lFrame:Ml(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Na(){return We.bindingsEnabled}function Ce(){return We.lFrame.lView}function vt(){return We.lFrame.tView}function Ir(r){return We.lFrame.contextLView=r,r[8]}function nn(){let r=Rs();for(;null!==r&&64===r.type;)r=r.parent;return r}function Rs(){return We.lFrame.currentTNode}function Yr(){const r=We.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}function Xn(r,s){const l=We.lFrame;l.currentTNode=r,l.isParent=s}function Ra(){return We.lFrame.isParent}function Io(){We.lFrame.isParent=!1}function xs(){return We.isInCheckNoChangesMode}function Ao(r){We.isInCheckNoChangesMode=r}function Hn(){const r=We.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}function Qi(){return We.lFrame.bindingIndex}function qr(){return We.lFrame.bindingIndex++}function fr(r){const s=We.lFrame,l=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,l}function Ps(r){We.lFrame.inI18n=r}function Fs(r,s){const l=We.lFrame;l.bindingIndex=l.bindingRootIndex=r,Ls(s)}function Ls(r){We.lFrame.currentDirectiveIndex=r}function Ko(r){const s=We.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}function ka(){return We.lFrame.currentQueryIndex}function Bs(r){We.lFrame.currentQueryIndex=r}function Nc(r){const s=r[1];return 2===s.type?s.declTNode:1===s.type?r[6]:null}function Oa(r,s,l){if(l&tt.SkipSelf){let d=s,g=r;for(;!(d=d.parent,null!==d||l&tt.Host||(d=Nc(g),null===d||(g=g[15],10&d.type))););if(null===d)return!1;s=d,r=g}const u=We.lFrame=Vs();return u.currentTNode=s,u.lView=r,!0}function Pa(r){const s=Vs(),l=r[1];We.lFrame=s,s.currentTNode=l.firstChild,s.lView=r,s.tView=l,s.contextLView=r,s.bindingIndex=l.bindingStartIndex,s.inI18n=!1}function Vs(){const r=We.lFrame,s=null===r?null:r.child;return null===s?Ml(r):s}function Ml(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function Hs(){const r=We.lFrame;return We.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Mc=Hs;function Us(){const r=Hs();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function qt(){return We.lFrame.selectedIndex}function Jr(r){We.lFrame.selectedIndex=r}function rn(){const r=We.lFrame;return Do(r.tView,r.selectedIndex)}function Kr(r,s){for(let l=s.directiveStart,u=s.directiveEnd;l<u;l++){const g=r.data[l].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:b,ngAfterViewInit:w,ngAfterViewChecked:A,ngOnDestroy:N}=g;y&&(r.contentHooks||(r.contentHooks=[])).push(-l,y),b&&((r.contentHooks||(r.contentHooks=[])).push(l,b),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(l,b)),w&&(r.viewHooks||(r.viewHooks=[])).push(-l,w),A&&((r.viewHooks||(r.viewHooks=[])).push(l,A),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(l,A)),null!=N&&(r.destroyHooks||(r.destroyHooks=[])).push(l,N)}}function Fa(r,s,l){xl(r,s,3,l)}function js(r,s,l,u){(3&r[2])===l&&xl(r,s,l,u)}function xc(r,s){let l=r[2];(3&l)===s&&(l&=2047,l+=1,r[2]=l)}function xl(r,s,l,u){const g=null!=u?u:-1,y=s.length-1;let b=0;for(let w=void 0!==u?65535&r[18]:0;w<y;w++)if("number"==typeof s[w+1]){if(b=s[w],null!=u&&b>=u)break}else s[w]<0&&(r[18]+=65536),(b<g||-1==g)&&(kc(r,l,s,w),r[18]=(4294901760&r[18])+w+2),w++}function kc(r,s,l,u){const d=l[u]<0,g=l[u+1],b=r[d?-l[u]:l[u]];if(d){if(r[2]>>11<r[18]>>16&&(3&r[2])===s){r[2]+=2048;try{g.call(b)}finally{}}}else try{g.call(b)}finally{}}class Gs{constructor(s,l,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=u}}function _n(r,s,l){const u=Ut(r);let d=0;for(;d<l.length;){const g=l[d];if("number"==typeof g){if(0!==g)break;d++;const y=l[d++],b=l[d++],w=l[d++];u?r.setAttribute(s,b,w,y):s.setAttributeNS(y,b,w)}else{const y=g,b=l[++d];je(y)?u&&r.setProperty(s,y,b):u?r.setAttribute(s,y,b):s.setAttribute(y,b),d++}}return d}function Ar(r){return 3===r||4===r||6===r}function je(r){return 64===r.charCodeAt(0)}function Dt(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let l=-1;for(let u=0;u<s.length;u++){const d=s[u];"number"==typeof d?l=d:0===l||Rn(r,l,d,null,-1===l||2===l?s[++u]:null)}}return r}function Rn(r,s,l,u,d){let g=0,y=r.length;if(-1===s)y=-1;else for(;g<r.length;){const b=r[g++];if("number"==typeof b){if(b===s){y=-1;break}if(b>s){y=g-1;break}}}for(;g<r.length;){const b=r[g];if("number"==typeof b)break;if(b===l){if(null===u)return void(null!==d&&(r[g+1]=d));if(u===r[g+1])return void(r[g+2]=d)}g++,null!==u&&g++,null!==d&&g++}-1!==y&&(r.splice(y,0,s),g=y+1),r.splice(g++,0,l),null!==u&&r.splice(g++,0,u),null!==d&&r.splice(g++,0,d)}function xn(r){return-1!==r}function Xo(r){return 32767&r}function Ws(r,s){let l=function(r){return r>>16}(r),u=s;for(;l>0;)u=u[15],l--;return u}let Va=!0;function So(r){const s=Va;return Va=r,s}let dd=0;function No(r,s){const l=Jt(r,s);if(-1!==l)return l;const u=s[1];u.firstCreatePass&&(r.injectorIndex=s.length,es(u.data,r),es(s,null),es(u.blueprint,null));const d=Ha(r,s),g=r.injectorIndex;if(xn(d)){const y=Xo(d),b=Ws(d,s),w=b[1].data;for(let A=0;A<8;A++)s[g+A]=b[y+A]|w[y+A]}return s[g+8]=d,g}function es(r,s){r.push(0,0,0,0,0,0,0,0,s)}function Jt(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function Ha(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let l=0,u=null,d=s;for(;null!==d;){const g=d[1],y=g.type;if(u=2===y?g.declTNode:1===y?d[6]:null,null===u)return-1;if(l++,d=d[15],-1!==u.injectorIndex)return u.injectorIndex|l<<16}return-1}function Xi(r,s,l){!function(r,s,l){let u;"string"==typeof l?u=l.charCodeAt(0)||0:l.hasOwnProperty(Pt)&&(u=l[Pt]),null==u&&(u=l[Pt]=dd++);const d=255&u;s.data[r+(d>>5)]|=1<<d}(r,s,l)}function er(r,s,l){if(l&tt.Optional)return r;Te(s,"NodeInjector")}function kl(r,s,l,u){if(l&tt.Optional&&void 0===u&&(u=null),0==(l&(tt.Self|tt.Host))){const d=r[9],g=fi(void 0);try{return d?d.get(s,u,l&tt.Optional):Ke(s,u,l&tt.Optional)}finally{fi(g)}}return er(u,s,l)}function ts(r,s,l,u=tt.Default,d){if(null!==r){const g=function(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(Pt)?r[Pt]:void 0;return"number"==typeof s?s>=0?255&s:Zs:s}(l);if("function"==typeof g){if(!Oa(s,r,u))return u&tt.Host?er(d,l,u):kl(s,l,u,d);try{const y=g(u);if(null!=y||u&tt.Optional)return y;Te(l)}finally{Mc()}}else if("number"==typeof g){let y=null,b=Jt(r,s),w=-1,A=u&tt.Host?s[16][6]:null;for((-1===b||u&tt.SkipSelf)&&(w=-1===b?Ha(r,s):s[b+8],-1!==w&&Un(u,!1)?(y=s[1],b=Xo(w),s=Ws(w,s)):b=-1);-1!==b;){const N=s[1];if(xo(g,b,N.data)){const P=zs(b,s,l,y,u,A);if(P!==Mo)return P}w=s[b+8],-1!==w&&Un(u,s[1].data[b+8]===A)&&xo(g,b,s)?(y=N,b=Xo(w),s=Ws(w,s)):b=-1}}}return kl(s,l,u,d)}const Mo={};function Zs(){return new Xt(nn(),Ce())}function zs(r,s,l,u,d,g){const y=s[1],b=y.data[r+8],N=on(b,y,l,null==u?Dr(b)&&Va:u!=y&&0!=(3&b.type),d&tt.Host&&g===b);return null!==N?eo(s,y,N,b):Mo}function on(r,s,l,u,d){const g=r.providerIndexes,y=s.data,b=1048575&g,w=r.directiveStart,N=g>>20,j=d?b+N:r.directiveEnd;for(let q=u?b:b+N;q<j;q++){const pe=y[q];if(q<w&&l===pe||q>=w&&pe.type===l)return q}if(d){const q=y[w];if(q&&Hi(q)&&q.type===l)return w}return null}function eo(r,s,l,u){let d=r[l];const g=s.data;if(function(r){return r instanceof Gs}(d)){const y=d;y.resolving&&function(r,s){throw new ke("200",`Circular dependency in DI detected for ${r}`)}(se(g[l]));const b=So(y.canSeeViewProviders);y.resolving=!0;const w=y.injectImpl?fi(y.injectImpl):null;Oa(r,u,tt.Default);try{d=r[l]=y.factory(void 0,g,r,u),s.firstCreatePass&&l>=u.directiveStart&&function(r,s,l){const{ngOnChanges:u,ngOnInit:d,ngDoCheck:g}=s.type.prototype;if(u){const y=qo(s);(l.preOrderHooks||(l.preOrderHooks=[])).push(r,y),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(r,y)}d&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-r,d),g&&((l.preOrderHooks||(l.preOrderHooks=[])).push(r,g),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(r,g))}(l,g[l],s)}finally{null!==w&&fi(w),So(b),y.resolving=!1,Mc()}}return d}function xo(r,s,l){return!!(l[s+(r>>5)]&1<<r)}function Un(r,s){return!(r&tt.Self||r&tt.Host&&s)}class Xt{constructor(s,l){this._tNode=s,this._lView=l}get(s,l,u){return ts(this._tNode,this._lView,s,u,l)}}function Ua(r){return mt(()=>{const s=r.prototype.constructor,l=s[et]||un(s),u=Object.prototype;let d=Object.getPrototypeOf(r.prototype).constructor;for(;d&&d!==u;){const g=d[et]||un(d);if(g&&g!==l)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function un(r){return xe(r)?()=>{const s=un(Q(r));return s&&s()}:hr(r)}function yn(r){return function(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const l=r.attrs;if(l){const u=l.length;let d=0;for(;d<u;){const g=l[d];if(Ar(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<u&&"string"==typeof l[d];)d++;else{if(g===s)return l[d+1];d+=2}}}return null}(nn(),r)}const to="__parameters__";function Lt(r,s,l){return mt(()=>{const u=function(r){return function(...l){if(r){const u=r(...l);for(const d in u)this[d]=u[d]}}}(s);function d(...g){if(this instanceof d)return u.apply(this,g),this;const y=new d(...g);return b.annotation=y,b;function b(w,A,N){const P=w.hasOwnProperty(to)?w[to]:Object.defineProperty(w,to,{value:[]})[to];for(;P.length<=N;)P.push(null);return(P[N]=P[N]||[]).push(y),w}}return l&&(d.prototype=Object.create(l.prototype)),d.prototype.ngMetadataName=r,d.annotationCls=d,d})}class Gt{constructor(s,l){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=zt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const $a=new Gt("AnalyzeForEntryComponents");function Ni(r,s){void 0===s&&(s=r);for(let l=0;l<r.length;l++){let u=r[l];Array.isArray(u)?(s===r&&(s=r.slice(0,l)),Ni(u,s)):s!==r&&s.push(u)}return s}function mr(r,s){r.forEach(l=>Array.isArray(l)?mr(l,s):s(l))}function Ol(r,s,l){s>=r.length?r.push(l):r.splice(s,0,l)}function ns(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function is(r,s){const l=[];for(let u=0;u<r;u++)l.push(s);return l}function si(r,s,l){let u=rs(r,s);return u>=0?r[1|u]=l:(u=~u,function(r,s,l,u){let d=r.length;if(d==s)r.push(l,u);else if(1===d)r.push(u,r[0]),r[0]=l;else{for(d--,r.push(r[d-1],r[d]);d>s;)r[d]=r[d-2],d--;r[s]=l,r[s+1]=u}}(r,u,s,l)),u}function _r(r,s){const l=rs(r,s);if(l>=0)return r[1|l]}function rs(r,s){return function(r,s,l){let u=0,d=r.length>>l;for(;d!==u;){const g=u+(d-u>>1),y=r[g<<l];if(s===y)return g<<l;y>s?d=g:u=g+1}return~(d<<l)}(r,s,1)}const Ga={},Wa="__NG_DI_FLAG__",Mr="ngTempTokenPath",Cd=/\n/gm,D="__source",E=de({provide:String,useValue:de});let M;function L(r){const s=M;return M=r,s}function z(r,s=tt.Default){if(void 0===M)throw new Error("inject() must be called from an injection context");return null===M?Ke(r,void 0,s):M.get(r,s&tt.Optional?null:void 0,s)}function Z(r,s=tt.Default){return(Mt||z)(Q(r),s)}function Fe(r){const s=[];for(let l=0;l<r.length;l++){const u=Q(r[l]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let d,g=tt.Default;for(let y=0;y<u.length;y++){const b=u[y],w=Bt(b);"number"==typeof w?-1===w?d=b.token:g|=w:d=b}s.push(Z(d,g))}else s.push(Z(u))}return s}function bt(r,s){return r[Wa]=s,r.prototype[Wa]=s,r}function Bt(r){return r[Wa]}const sn=bt(Lt("Inject",r=>({token:r})),-1),ei=bt(Lt("Optional"),8),Mi=bt(Lt("SkipSelf"),4);let Ui,Xs;function Fo(r){var s;return(null==(s=function(){if(void 0===Ui&&(Ui=null,lt.trustedTypes))try{Ui=lt.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return Ui}())?void 0:s.createHTML(r))||r}function Id(){if(void 0===Xs&&(Xs=null,lt.trustedTypes))try{Xs=lt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return Xs}function Ya(r){var s;return(null==(s=Id())?void 0:s.createHTML(r))||r}function $l(r){var s;return(null==(s=Id())?void 0:s.createScriptURL(r))||r}class ss{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class $c extends ss{getTypeName(){return"HTML"}}class jl extends ss{getTypeName(){return"Style"}}class rg extends ss{getTypeName(){return"Script"}}class Gl extends ss{getTypeName(){return"URL"}}class og extends ss{getTypeName(){return"ResourceURL"}}function xr(r){return r instanceof ss?r.changingThisBreaksApplicationSecurity:r}function qa(r,s){const l=Wl(r);if(null!=l&&l!==s){if("ResourceURL"===l&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===s}function Wl(r){return r instanceof ss&&r.getTypeName()||null}function Ja(r){return new $c(r)}function Ad(r){return new jl(r)}function Zl(r){return new rg(r)}function of(r){return new Gl(r)}function sg(r){return new og(r)}function jc(r){const s=new lg(r);return function(){try{return!!(new window.DOMParser).parseFromString(Fo(""),"text/html")}catch(r){return!1}}()?new ag(s):s}class ag{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const l=(new window.DOMParser).parseFromString(Fo(s),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(s):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class lg{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const u=this.inertDocument.createElement("body");l.appendChild(u)}}getInertBodyElement(s){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=Fo(s),l;const u=this.inertDocument.createElement("body");return u.innerHTML=Fo(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(s){const l=s.attributes;for(let d=l.length-1;0<d;d--){const y=l.item(d).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&s.removeAttribute(y)}let u=s.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const sf=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Nd=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ea(r){return(r=String(r)).match(sf)||r.match(Nd)?r:"unsafe:"+r}function af(r){return(r=String(r)).split(",").map(s=>ea(s.trim())).join(", ")}function kr(r){const s={};for(const l of r.split(","))s[l]=!0;return s}function Ka(...r){const s={};for(const l of r)for(const u in l)l.hasOwnProperty(u)&&(s[u]=!0);return s}const lf=kr("area,br,col,hr,img,wbr"),Md=kr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cf=kr("rp,rt"),Or=Ka(lf,Ka(Md,kr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ka(cf,kr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ka(cf,Md)),Rd=kr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zl=kr("srcset"),Qa=Ka(Rd,zl,kr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),kr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),na=kr("script,style,template");class dg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let l=s.firstChild,u=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?u=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,u&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let d=this.checkClobberedElement(l,l.nextSibling);if(d){l=d;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(s){const l=s.nodeName.toLowerCase();if(!Or.hasOwnProperty(l))return this.sanitizedSomething=!0,!na.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const u=s.attributes;for(let d=0;d<u.length;d++){const g=u.item(d),y=g.name,b=y.toLowerCase();if(!Qa.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let w=g.value;Rd[b]&&(w=ea(w)),zl[b]&&(w=af(w)),this.buf.push(" ",y,'="',df(w),'"')}return this.buf.push(">"),!0}endElement(s){const l=s.nodeName.toLowerCase();Or.hasOwnProperty(l)&&!lf.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(s){this.buf.push(df(s))}checkClobberedElement(s,l){if(l&&(s.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return l}}const Xa=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Gc=/([^\#-~ |!])/g;function df(r){return r.replace(/&/g,"&amp;").replace(Xa,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Gc,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Yl;function xd(r,s){let l=null;try{Yl=Yl||jc(r);let u=s?String(s):"";l=Yl.getInertBodyElement(u);let d=5,g=u;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,u=g,g=l.innerHTML,l=Yl.getInertBodyElement(u)}while(u!==g);return Fo((new dg).sanitizeChildren(hf(l)||l))}finally{if(l){const u=hf(l)||l;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function hf(r){return"content"in r&&function(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var vn=(()=>((vn=vn||{})[vn.NONE=0]="NONE",vn[vn.HTML=1]="HTML",vn[vn.STYLE=2]="STYLE",vn[vn.SCRIPT=3]="SCRIPT",vn[vn.URL=4]="URL",vn[vn.RESOURCE_URL=5]="RESOURCE_URL",vn))();function nr(r){const s=el();return s?Ya(s.sanitize(vn.HTML,r)||""):qa(r,"HTML")?Ya(xr(r)):xd(Is(),Y(r))}function Zc(r){const s=el();return s?s.sanitize(vn.URL,r)||"":qa(r,"URL")?xr(r):ea(Y(r))}function as(r){const s=el();if(s)return $l(s.sanitize(vn.RESOURCE_URL,r)||"");if(qa(r,"ResourceURL"))return $l(xr(r));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function el(){const r=Ce();return r&&r[12]}const qc="__ngContext__";function ti(r,s){r[qc]=s}function Od(r){const s=function(r){return r[qc]||null}(r);return s?Array.isArray(s)?s:s.lView:null}function Ld(r){return r.ngOriginalError}function Cg(r,...s){r.error(...s)}class Xl{constructor(){this._console=console}handleError(s){const l=this._findOriginalError(s),u=(r=s)&&r.ngErrorLogger||Cg;var r;u(this._console,"ERROR",s),l&&u(this._console,"ORIGINAL ERROR",l)}_findOriginalError(s){let l=s&&Ld(s);for(;l&&Ld(l);)l=Ld(l);return l||null}}const gf=/^>|^->|<!--|-->|--!>|<!-$/g,Bd=/(<|>)/;const Ud=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(lt))();function br(r){return r instanceof Function?r():r}var ro=(()=>((ro=ro||{})[ro.Important=1]="Important",ro[ro.DashCase=2]="DashCase",ro))();let jd;function nl(r,s){return jd(r,s)}function la(r){const s=r[3];return dr(s)?s[3]:s}function ca(r){return Gd(r[13])}function nu(r){return Gd(r[4])}function Gd(r){for(;null!==r&&!dr(r);)r=r[4];return r}function ua(r,s,l,u,d){if(null!=u){let g,y=!1;dr(u)?g=u:ur(u)&&(y=!0,u=u[0]);const b=Dn(u);0===r&&null!==l?null==d?iu(s,l,b):so(s,l,b,d||null,!0):1===r&&null!==l?so(s,l,b,d||null,!0):2===r?L1(s,b,y):3===r&&s.destroyNode(b),null!=g&&function(r,s,l,u,d){const g=l[7];g!==Dn(l)&&ua(s,r,u,g,d);for(let b=10;b<l.length;b++){const w=l[b];Yd(w[1],w,r,s,u,g)}}(s,r,g,l,d)}}function Wd(r,s){return Ut(r)?r.createText(s):r.createTextNode(s)}function vf(r,s,l){Ut(r)?r.setValue(s,l):s.textContent=l}function wi(r,s){return r.createComment(function(r){return r.replace(gf,s=>s.replace(Bd,"\u200b$1\u200b"))}(s))}function m(r,s,l){return Ut(r)?r.createElement(s,l):null===l?r.createElement(s):r.createElementNS(l,s)}function X(r,s){const l=r[9],u=l.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,zr(d,-1)),l.splice(u,1)}function Ae(r,s){if(r.length<=10)return;const l=10+s,u=r[l];if(u){const d=u[17];null!==d&&d!==r&&X(d,u),s>0&&(r[l-1][4]=u[4]);const g=ns(r,10+s);!function(r,s){Yd(r,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const y=g[19];null!==y&&y.detachView(g[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Ie(r,s){if(!(256&s[2])){const l=s[11];Ut(l)&&l.destroyNode&&Yd(r,s,l,3,null,null),function(r){let s=r[13];if(!s)return Ze(r[1],r);for(;s;){let l=null;if(ur(s))l=s[13];else{const u=s[10];u&&(l=u)}if(!l){for(;s&&!s[4]&&s!==r;)ur(s)&&Ze(s[1],s),s=s[3];null===s&&(s=r),ur(s)&&Ze(s[1],s),l=s&&s[4]}s=l}}(s)}}function Ze(r,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(r,s){let l;if(null!=r&&null!=(l=r.destroyHooks))for(let u=0;u<l.length;u+=2){const d=s[l[u]];if(!(d instanceof Gs)){const g=l[u+1];if(Array.isArray(g))for(let y=0;y<g.length;y+=2){const b=d[g[y]],w=g[y+1];try{w.call(b)}finally{}}else try{g.call(d)}finally{}}}}(r,s),function(r,s){const l=r.cleanup,u=s[7];let d=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const y=l[g+1],b="function"==typeof y?y(s):Dn(s[y]),w=u[d=l[g+2]],A=l[g+3];"boolean"==typeof A?b.removeEventListener(l[g],w,A):A>=0?u[d=A]():u[d=-A].unsubscribe(),g+=2}else{const y=u[d=l[g+1]];l[g].call(y)}if(null!==u){for(let g=d+1;g<u.length;g++)u[g]();s[7]=null}}(r,s),1===s[1].type&&Ut(s[11])&&s[11].destroy();const l=s[17];if(null!==l&&dr(s[3])){l!==s[3]&&X(l,s);const u=s[19];null!==u&&u.detachView(r)}}}function dn(r,s,l){return oo(r,s.parent,l)}function oo(r,s,l){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return l[0];if(2&u.flags){const d=r.data[u.directiveStart].encapsulation;if(d===He.None||d===He.Emulated)return null}return En(u,l)}function so(r,s,l,u,d){Ut(r)?r.insertBefore(s,l,u,d):s.insertBefore(l,u,d)}function iu(r,s,l){Ut(r)?r.appendChild(s,l):s.appendChild(l)}function ru(r,s,l,u,d){null!==u?so(r,s,l,u,d):iu(r,s,l)}function il(r,s){return Ut(r)?r.parentNode(s):s.parentNode}function ou(r,s,l){return Zd(r,s,l)}function su(r,s,l){return 40&r.type?En(r,l):null}let zd,Zd=su;function rl(r,s){Zd=r,zd=s}function au(r,s,l,u){const d=dn(r,u,s),g=s[11],b=ou(u.parent||s[6],u,s);if(null!=d)if(Array.isArray(l))for(let w=0;w<l.length;w++)ru(g,d,l[w],b,!1);else ru(g,d,l,b,!1);void 0!==zd&&zd(g,u,s,l,d)}function wf(r,s){if(null!==s){const l=s.type;if(3&l)return En(s,r);if(4&l)return Ag(-1,r[s.index]);if(8&l){const u=s.child;if(null!==u)return wf(r,u);{const d=r[s.index];return dr(d)?Ag(-1,d):Dn(d)}}if(32&l)return nl(s,r)()||Dn(r[s.index]);{const u=Ig(r,s);return null!==u?Array.isArray(u)?u[0]:wf(la(r[16]),u):wf(r,s.next)}}return null}function Ig(r,s){return null!==s?r[16][6].projection[s.projection]:null}function Ag(r,s){const l=10+r+1;if(l<s.length){const u=s[l],d=u[1].firstChild;if(null!==d)return wf(u,d)}return s[7]}function L1(r,s,l){const u=il(r,s);u&&function(r,s,l,u){Ut(r)?r.removeChild(s,l,u):s.removeChild(l)}(r,u,s,l)}function Cr(r,s,l,u,d,g,y){for(;null!=l;){const b=u[l.index],w=l.type;if(y&&0===s&&(b&&ti(Dn(b),u),l.flags|=4),64!=(64&l.flags))if(8&w)Cr(r,s,l.child,u,d,g,!1),ua(s,r,d,b,g);else if(32&w){const A=nl(l,u);let N;for(;N=A();)ua(s,r,d,N,g);ua(s,r,d,b,g)}else 16&w?wy(r,s,u,l,d,g):ua(s,r,d,b,g);l=y?l.projectionNext:l.next}}function Yd(r,s,l,u,d,g){Cr(l,u,r.firstChild,s,d,g,!1)}function wy(r,s,l,u,d,g){const y=l[16],w=y[6].projection[u.projection];if(Array.isArray(w))for(let A=0;A<w.length;A++)ua(s,r,d,w[A],g);else Cr(r,s,w,y[3],d,g,!0)}function Sg(r,s,l){Ut(r)?r.setAttribute(s,"style",l):s.style.cssText=l}function Ng(r,s,l){Ut(r)?""===l?r.removeAttribute(s,"class"):r.setAttribute(s,"class",l):s.className=l}function Dy(r,s,l){let u=r.length;for(;;){const d=r.indexOf(s,l);if(-1===d)return d;if(0===d||r.charCodeAt(d-1)<=32){const g=s.length;if(d+g===u||r.charCodeAt(d+g)<=32)return d}l=d+1}}const Df="ng-template";function H1(r,s,l){let u=0;for(;u<r.length;){let d=r[u++];if(l&&"class"===d){if(d=r[u],-1!==Dy(d.toLowerCase(),s,0))return!0}else if(1===d){for(;u<r.length&&"string"==typeof(d=r[u++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function Ey(r){return 4===r.type&&r.value!==Df}function Mg(r,s,l){return s===(4!==r.type||l?r.value:Df)}function U1(r,s,l){let u=4;const d=r.attrs||[],g=function(r){for(let s=0;s<r.length;s++)if(Ar(r[s]))return s;return r.length}(d);let y=!1;for(let b=0;b<s.length;b++){const w=s[b];if("number"!=typeof w){if(!y)if(4&u){if(u=2|1&u,""!==w&&!Mg(r,w,l)||""===w&&1===s.length){if(ao(u))return!1;y=!0}}else{const A=8&u?w:s[++b];if(8&u&&null!==r.attrs){if(!H1(r.attrs,A,l)){if(ao(u))return!1;y=!0}continue}const P=Ty(8&u?"class":w,d,Ey(r),l);if(-1===P){if(ao(u))return!1;y=!0;continue}if(""!==A){let j;j=P>g?"":d[P+1].toLowerCase();const q=8&u?j:null;if(q&&-1!==Dy(q,A,0)||2&u&&A!==j){if(ao(u))return!1;y=!0}}}}else{if(!y&&!ao(u)&&!ao(w))return!1;if(y&&ao(w))continue;y=!1,u=w|1&u}}return ao(u)||y}function ao(r){return 0==(1&r)}function Ty(r,s,l,u){if(null===s)return-1;let d=0;if(u||!l){let g=!1;for(;d<s.length;){const y=s[d];if(y===r)return d;if(3===y||6===y)g=!0;else{if(1===y||2===y){let b=s[++d];for(;"string"==typeof b;)b=s[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=g?1:2}return-1}return function(r,s){let l=r.indexOf(4);if(l>-1)for(l++;l<r.length;){const u=r[l];if("number"==typeof u)return-1;if(u===s)return l;l++}return-1}(s,r)}function Iy(r,s,l=!1){for(let u=0;u<s.length;u++)if(U1(r,s[u],l))return!0;return!1}function Tf(r,s){e:for(let l=0;l<s.length;l++){const u=s[l];if(r.length===u.length){for(let d=0;d<r.length;d++)if(r[d]!==u[d])continue e;return!0}}return!1}function lu(r,s){return r?":not("+s.trim()+")":s}function $1(r){let s=r[0],l=1,u=2,d="",g=!1;for(;l<r.length;){let y=r[l];if("string"==typeof y)if(2&u){const b=r[++l];d+="["+y+(b.length>0?'="'+b+'"':"")+"]"}else 8&u?d+="."+y:4&u&&(d+=" "+y);else""!==d&&!ao(y)&&(s+=lu(g,d),d=""),u=y,g=g||!ao(u);l++}return""!==d&&(s+=lu(g,d)),s}const ft={};function qd(r){Sy(vt(),Ce(),qt()+r,xs())}function Sy(r,s,l,u){if(!u)if(3==(3&s[2])){const g=r.preOrderCheckHooks;null!==g&&Fa(s,g,l)}else{const g=r.preOrderHooks;null!==g&&js(s,g,0,l)}Jr(l)}function Jd(r,s){return r<<17|s<<2}function Fr(r){return r>>17&32767}function xg(r){return 2|r}function ls(r){return(131068&r)>>2}function da(r,s){return-131069&r|s<<2}function kg(r){return 1|r}function Hg(r,s){const l=r.contentQueries;if(null!==l)for(let u=0;u<l.length;u+=2){const d=l[u],g=l[u+1];if(-1!==g){const y=r.data[g];Bs(d),y.contentQueries(2,s[g],g)}}}function Xd(r,s,l,u,d,g,y,b,w,A){const N=s.blueprint.slice();return N[0]=d,N[2]=140|u,Ss(N),N[3]=N[15]=r,N[8]=l,N[10]=y||r&&r[10],N[11]=b||r&&r[11],N[12]=w||r&&r[12]||null,N[9]=A||r&&r[9]||null,N[6]=g,N[16]=2==s.type?r[16]:N,N}function ol(r,s,l,u,d){let g=r.data[s];if(null===g)g=$g(r,s,l,u,d),We.lFrame.inI18n&&(g.flags|=64);else if(64&g.type){g.type=l,g.value=u,g.attrs=d;const y=Yr();g.injectorIndex=null===y?-1:y.injectorIndex}return Xn(g,!0),g}function $g(r,s,l,u,d){const g=Rs(),y=Ra(),w=r.data[s]=function(r,s,l,u,d,g){return{type:l,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?g:g&&g.parent,l,s,u,d);return null===r.firstChild&&(r.firstChild=w),null!==g&&(y?null==g.child&&null!==w.parent&&(g.child=w):null===g.next&&(g.next=w)),w}function eh(r,s,l,u){if(0===l)return-1;const d=s.length;for(let g=0;g<l;g++)s.push(u),r.blueprint.push(u),r.data.push(null);return d}function Of(r,s,l){Pa(s);try{const u=r.viewQuery;null!==u&&Gf(1,u,l);const d=r.template;null!==d&&tC(r,s,d,1,l),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Hg(r,s),r.staticViewQueries&&Gf(2,r.viewQuery,l);const g=r.components;null!==g&&function(r,s){for(let l=0;l<s.length;l++)aC(r,s[l])}(s,g)}catch(u){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),u}finally{s[2]&=-5,Us()}}function th(r,s,l,u){const d=s[2];if(256==(256&d))return;Pa(s);const g=xs();try{Ss(s),function(r){We.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==l&&tC(r,s,l,2,u);const y=3==(3&d);if(!g)if(y){const A=r.preOrderCheckHooks;null!==A&&Fa(s,A,null)}else{const A=r.preOrderHooks;null!==A&&js(s,A,0,null),xc(s,0)}if(function(r){for(let s=ca(r);null!==s;s=nu(s)){if(!s[2])continue;const l=s[9];for(let u=0;u<l.length;u++){const d=l[u],g=d[3];0==(1024&d[2])&&zr(g,1),d[2]|=1024}}}(s),function(r){for(let s=ca(r);null!==s;s=nu(s))for(let l=10;l<s.length;l++){const u=s[l],d=u[1];As(u)&&th(d,u,d.template,u[8])}}(s),null!==r.contentQueries&&Hg(r,s),!g)if(y){const A=r.contentCheckHooks;null!==A&&Fa(s,A)}else{const A=r.contentHooks;null!==A&&js(s,A,1),xc(s,1)}!function(r,s){const l=r.hostBindingOpCodes;if(null!==l)try{for(let u=0;u<l.length;u++){const d=l[u];if(d<0)Jr(~d);else{const g=d,y=l[++u],b=l[++u];Fs(y,g),b(2,s[g])}}}finally{Jr(-1)}}(r,s);const b=r.components;null!==b&&function(r,s){for(let l=0;l<s.length;l++)pT(r,s[l])}(s,b);const w=r.viewQuery;if(null!==w&&Gf(2,w,u),!g)if(y){const A=r.viewCheckHooks;null!==A&&Fa(s,A)}else{const A=r.viewHooks;null!==A&&js(s,A,2),xc(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),g||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,zr(s[3],-1))}finally{Us()}}function cT(r,s,l,u){const d=s[10],g=!xs(),y=Tr(s);try{g&&!y&&d.begin&&d.begin(),y&&Of(r,s,u),th(r,s,l,u)}finally{g&&!y&&d.end&&d.end()}}function tC(r,s,l,u,d){const g=qt(),y=2&u;try{Jr(-1),y&&s.length>20&&Sy(r,s,20,xs()),l(u,d)}finally{Jr(g)}}function nC(r,s,l){if(kn(s)){const d=s.directiveEnd;for(let g=s.directiveStart;g<d;g++){const y=r.data[g];y.contentQueries&&y.contentQueries(1,l[g],g)}}}function jg(r,s,l){!Na()||(function(r,s,l,u){const d=l.directiveStart,g=l.directiveEnd;r.firstCreatePass||No(l,s),ti(u,s);const y=l.initialInputs;for(let b=d;b<g;b++){const w=r.data[b],A=Hi(w);A&&Hf(s,l,w);const N=eo(s,r,b,l);ti(N,s),null!==y&&sC(0,b-d,N,w,0,y),A&&(Ft(l.index,s)[8]=N)}}(r,s,l,En(l,s)),128==(128&l.flags)&&function(r,s,l){const u=l.directiveStart,d=l.directiveEnd,y=l.index,b=We.lFrame.currentDirectiveIndex;try{Jr(y);for(let w=u;w<d;w++){const A=r.data[w],N=s[w];Ls(w),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&Wy(A,N)}}finally{Jr(-1),Ls(b)}}(r,s,l))}function uu(r,s,l=En){const u=s.localNames;if(null!==u){let d=s.index+1;for(let g=0;g<u.length;g+=2){const y=u[g+1],b=-1===y?l(s,r):r[y];r[d++]=b}}}function du(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=nc(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):s}function nc(r,s,l,u,d,g,y,b,w,A){const N=20+u,P=N+d,j=function(r,s){const l=[];for(let u=0;u<s;u++)l.push(u<r?null:ft);return l}(N,P),q="function"==typeof A?A():A;return j[1]={type:r,blueprint:j,template:l,queries:null,viewQuery:b,declTNode:s,data:j.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:w,consts:q,incompleteFirstPass:!1}}function Hy(r,s,l,u){const d=Qy(s);null===l?d.push(u):(d.push(l),r.firstCreatePass&&Xg(r).push(u,d.length-1))}function Gg(r,s,l){for(let u in r)if(r.hasOwnProperty(u)){const d=r[u];(l=null===l?{}:l).hasOwnProperty(u)?l[u].push(s,d):l[u]=[s,d]}return l}function Lr(r,s,l,u,d,g,y,b){const w=En(s,l);let N,A=s.inputs;!b&&null!=A&&(N=A[u])?(em(r,l,N,u,d),Dr(s)&&function(r,s){const l=Ft(s,r);16&l[2]||(l[2]|=64)}(l,s.index)):3&s.type&&(u=function(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(u),d=null!=y?y(d,s.value||"",u):d,Ut(g)?g.setProperty(w,u,d):je(u)||(w.setProperty?w.setProperty(u,d):w[u]=d))}function Gy(r,s,l,u){let d=!1;if(Na()){const g=function(r,s,l){const u=r.directiveRegistry;let d=null;if(u)for(let g=0;g<u.length;g++){const y=u[g];Iy(l,y.selectors,!1)&&(d||(d=[]),Xi(No(l,s),r,y.type),Hi(y)?(zg(r,l),d.unshift(y)):d.push(y))}return d}(r,s,l),y=null===u?null:{"":-1};if(null!==g){d=!0,Bf(l,r.data.length,g.length);for(let N=0;N<g.length;N++){const P=g[N];P.providersResolver&&P.providersResolver(P)}let b=!1,w=!1,A=eh(r,s,g.length,null);for(let N=0;N<g.length;N++){const P=g[N];l.mergedAttrs=Dt(l.mergedAttrs,P.hostAttrs),Vf(r,l,s,A,P),Zy(A,P,y),null!==P.contentQueries&&(l.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(l.flags|=128);const j=P.type.prototype;!b&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(l.index),b=!0),!w&&(j.ngOnChanges||j.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(l.index),w=!0),A++}!function(r,s){const u=s.directiveEnd,d=r.data,g=s.attrs,y=[];let b=null,w=null;for(let A=s.directiveStart;A<u;A++){const N=d[A],P=N.inputs,j=null===g||Ey(s)?null:rh(P,g);y.push(j),b=Gg(P,A,b),w=Gg(N.outputs,A,w)}null!==b&&(b.hasOwnProperty("class")&&(s.flags|=16),b.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=y,s.inputs=b,s.outputs=w}(r,l)}y&&function(r,s,l){if(s){const u=r.localNames=[];for(let d=0;d<s.length;d+=2){const g=l[s[d+1]];if(null==g)throw new ke("301",`Export of name '${s[d+1]}' not found!`);u.push(s[d],g)}}}(l,u,y)}return l.mergedAttrs=Dt(l.mergedAttrs,l.attrs),d}function hu(r,s,l,u,d,g){const y=g.hostBindings;if(y){let b=r.hostBindingOpCodes;null===b&&(b=r.hostBindingOpCodes=[]);const w=~s.index;(function(r){let s=r.length;for(;s>0;){const l=r[--s];if("number"==typeof l&&l<0)return l}return 0})(b)!=w&&b.push(w),b.push(u,d,y)}}function Wy(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function zg(r,s){s.flags|=2,(r.components||(r.components=[])).push(s.index)}function Zy(r,s,l){if(l){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)l[s.exportAs[u]]=r;Hi(s)&&(l[""]=r)}}function Bf(r,s,l){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+l,r.providerIndexes=s}function Vf(r,s,l,u,d){r.data[u]=d;const g=d.factory||(d.factory=hr(d.type)),y=new Gs(g,Hi(d),null);r.blueprint[u]=y,l[u]=y,hu(r,s,0,u,eh(r,l,d.hostVars,ft),d)}function Hf(r,s,l){const u=En(s,r),d=du(l),g=r[10],y=Uf(r,Xd(r,d,null,l.onPush?64:16,u,s,g,g.createRenderer(u,l),null,null));r[s.index]=y}function qg(r,s,l,u,d,g,y){if(null==g)Ut(r)?r.removeAttribute(s,d,l):s.removeAttribute(d);else{const b=null==y?Y(g):y(g,u||"",d);Ut(r)?r.setAttribute(s,d,b,l):l?s.setAttributeNS(l,d,b):s.setAttribute(d,b)}}function sC(r,s,l,u,d,g){const y=g[s];if(null!==y){const b=u.setInput;for(let w=0;w<y.length;){const A=y[w++],N=y[w++],P=y[w++];null!==b?u.setInput(l,P,A,N):l[N]=P}}}function rh(r,s){let l=null,u=0;for(;u<s.length;){const d=s[u];if(0!==d)if(5!==d){if("number"==typeof d)break;r.hasOwnProperty(d)&&(null===l&&(l=[]),l.push(d,r[d],s[u+1])),u+=2}else u+=2;else u+=4}return l}function Jg(r,s,l,u){return new Array(r,!0,!1,s,null,0,u,l,null,null)}function pT(r,s){const l=Ft(s,r);if(As(l)){const u=l[1];80&l[2]?th(u,l,u.template,l[8]):l[5]>0&&Yy(l)}}function Yy(r){for(let u=ca(r);null!==u;u=nu(u))for(let d=10;d<u.length;d++){const g=u[d];if(1024&g[2]){const y=g[1];th(y,g,y.template,g[8])}else g[5]>0&&Yy(g)}const l=r[1].components;if(null!==l)for(let u=0;u<l.length;u++){const d=Ft(l[u],r);As(d)&&d[5]>0&&Yy(d)}}function aC(r,s){const l=Ft(s,r),u=l[1];(function(r,s){for(let l=s.length;l<r.blueprint.length;l++)s.push(r.blueprint[l])})(u,l),Of(u,l,l[8])}function Uf(r,s){return r[13]?r[14][4]=s:r[13]=s,r[14]=s,s}function $f(r){for(;r;){r[2]|=64;const s=la(r);if(qi(r)&&!s)return r;r=s}return null}function Kg(r,s,l){const u=s[10];u.begin&&u.begin();try{th(r,s,r.template,l)}catch(d){throw Xy(s,d),d}finally{u.end&&u.end()}}function Qg(r){!function(r){for(let s=0;s<r.components.length;s++){const l=r.components[s],u=Od(l),d=u[1];cT(d,u,d.template,l)}}(r[8])}function Gf(r,s,l){Bs(0),s(r,l)}const Ky=(()=>Promise.resolve(null))();function Qy(r){return r[7]||(r[7]=[])}function Xg(r){return r.cleanup||(r.cleanup=[])}function Xy(r,s){const l=r[9],u=l?l.get(Xl,null):null;u&&u.handleError(s)}function em(r,s,l,u,d){for(let g=0;g<l.length;){const y=l[g++],b=l[g++],w=s[y],A=r.data[y];null!==A.setInput?A.setInput(w,d,u,b):w[b]=d}}function pu(r,s,l){let u=l?r.styles:null,d=l?r.classes:null,g=0;if(null!==s)for(let y=0;y<s.length;y++){const b=s[y];"number"==typeof b?g=b:1==g?d=le(d,b):2==g&&(u=le(u,b+": "+s[++y]+";"))}l?r.styles=u:r.stylesWithoutHost=u,l?r.classes=d:r.classesWithoutHost=d}const gu=new Gt("INJECTOR",-1);class nm{get(s,l=Ga){if(l===Ga){const u=new Error(`NullInjectorError: No provider for ${re(s)}!`);throw u.name="NullInjectorError",u}return l}}const im=new Gt("Set Injector scope."),mu={},uC={};let Zf;function ev(){return void 0===Zf&&(Zf=new nm),Zf}function zf(r,s=null,l=null,u){const d=rm(r,s,l,u);return d._resolveInjectorDefTypes(),d}function rm(r,s=null,l=null,u){return new dC(r,l,s||ev(),u)}class dC{constructor(s,l,u,d=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];l&&mr(l,b=>this.processProvider(b,s,l)),mr([s],b=>this.processInjectorType(b,[],g)),this.records.set(gu,ic(void 0,this));const y=this.records.get(im);this.scope=null!=y?y.value:null,this.source=d||("object"==typeof s?null:re(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,l=Ga,u=tt.Default){this.assertNotDestroyed();const d=L(this),g=fi(void 0);try{if(!(u&tt.SkipSelf)){let b=this.records.get(s);if(void 0===b){const w=("function"==typeof(r=s)||"object"==typeof r&&r instanceof Gt)&&Oi(s);b=w&&this.injectableDefInScope(w)?ic(Yf(s),mu):null,this.records.set(s,b)}if(null!=b)return this.hydrate(s,b)}return(u&tt.Self?ev():this.parent).get(s,l=u&tt.Optional&&l===Ga?null:l)}catch(y){if("NullInjectorError"===y.name){if((y[Mr]=y[Mr]||[]).unshift(re(s)),d)throw y;return function(r,s,l,u){const d=r[Mr];throw s[D]&&d.unshift(s[D]),r.message=function(r,s,l,u=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let d=re(s);if(Array.isArray(s))d=s.map(re).join(" -> ");else if("object"==typeof s){let g=[];for(let y in s)if(s.hasOwnProperty(y)){let b=s[y];g.push(y+":"+("string"==typeof b?JSON.stringify(b):re(b)))}d=`{${g.join(", ")}}`}return`${l}${u?"("+u+")":""}[${d}]: ${r.replace(Cd,"\n  ")}`}("\n"+r.message,d,l,u),r.ngTokenPath=d,r[Mr]=null,r}(y,s,"R3InjectorError",this.source)}throw y}finally{fi(g),L(d)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((u,d)=>s.push(re(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,l,u){if(!(s=Q(s)))return!1;let d=Gi(s);const g=null==d&&s.ngModule||void 0,y=void 0===g?s:g,b=-1!==u.indexOf(y);if(void 0!==g&&(d=Gi(g)),null==d)return!1;if(null!=d.imports&&!b){let N;u.push(y);try{mr(d.imports,P=>{this.processInjectorType(P,l,u)&&(void 0===N&&(N=[]),N.push(P))})}finally{}if(void 0!==N)for(let P=0;P<N.length;P++){const{ngModule:j,providers:q}=N[P];mr(q,pe=>this.processProvider(pe,j,q||B))}}this.injectorDefTypes.add(y);const w=hr(y)||(()=>new y);this.records.set(y,ic(w,mu));const A=d.providers;if(null!=A&&!b){const N=s;mr(A,P=>this.processProvider(P,N,A))}return void 0!==g&&void 0!==s.providers}processProvider(s,l,u){let d=_u(s=Q(s))?s:Q(s&&s.provide);const g=(r=s,om(r)?ic(void 0,r.useValue):ic(qf(r),mu));var r;if(_u(s)||!0!==s.multi)this.records.get(d);else{let y=this.records.get(d);y||(y=ic(void 0,mu,!0),y.factory=()=>Fe(y.multi),this.records.set(d,y)),d=s,y.multi.push(s)}this.records.set(d,g)}hydrate(s,l){return l.value===mu&&(l.value=uC,l.value=l.factory()),"object"==typeof l.value&&l.value&&null!==(r=l.value)&&"object"==typeof r&&"function"==typeof r.ngOnDestroy&&this.onDestroy.add(l.value),l.value;var r}injectableDefInScope(s){if(!s.providedIn)return!1;const l=Q(s.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function Yf(r){const s=Oi(r),l=null!==s?s.factory:hr(r);if(null!==l)return l;if(r instanceof Gt)throw new Error(`Token ${re(r)} is missing a \u0275prov definition.`);if(r instanceof Function)return function(r){const s=r.length;if(s>0){const u=is(s,"?");throw new Error(`Can't resolve all parameters for ${re(r)}: (${u.join(", ")}).`)}const l=function(r){const s=r&&(r[cr]||r[Vn]);if(s){const l=function(r){if(r.hasOwnProperty("name"))return r.name;const s=(""+r).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),s}return null}(r);return null!==l?()=>l.factory(r):()=>new r}(r);throw new Error("unreachable")}function qf(r,s,l){let u;if(_u(r)){const d=Q(r);return hr(d)||Yf(d)}if(om(r))u=()=>Q(r.useValue);else if(function(r){return!(!r||!r.useFactory)}(r))u=()=>r.useFactory(...Fe(r.deps||[]));else if(function(r){return!(!r||!r.useExisting)}(r))u=()=>Z(Q(r.useExisting));else{const d=Q(r&&(r.useClass||r.provide));if(!function(r){return!!r.deps}(r))return hr(d)||Yf(d);u=()=>new d(...Fe(r.deps))}return u}function ic(r,s,l=!1){return{factory:r,value:s,multi:l?[]:void 0}}function om(r){return null!==r&&"object"==typeof r&&E in r}function _u(r){return"function"==typeof r}let co=(()=>{class r{static create(l,u){var d;if(Array.isArray(l))return zf({name:""},u,l,"");{const g=null!=(d=l.name)?d:"";return zf({name:g},l.parent,l.providers,g)}}}return r.THROW_IF_NOT_FOUND=Ga,r.NULL=new nm,r.\u0275prov=zt({token:r,providedIn:"any",factory:()=>Z(gu)}),r.__NG_ELEMENT_ID__=-1,r})();function yu(r,s){Kr(Od(r)[1],nn())}function cm(r){let s=function(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),l=!0;const u=[r];for(;s;){let d;if(Hi(r))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");d=s.\u0275dir}if(d){if(l){u.push(d);const y=r;y.inputs=um(r.inputs),y.declaredInputs=um(r.declaredInputs),y.outputs=um(r.outputs);const b=d.hostBindings;b&&wC(r,b);const w=d.viewQuery,A=d.contentQueries;if(w&&bC(r,w),A&&CC(r,A),ee(r.inputs,d.inputs),ee(r.declaredInputs,d.declaredInputs),ee(r.outputs,d.outputs),Hi(d)&&d.data.animation){const N=r.data;N.animation=(N.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let y=0;y<g.length;y++){const b=g[y];b&&b.ngInherit&&b(r),b===cm&&(l=!1)}}s=Object.getPrototypeOf(s)}!function(r){let s=0,l=null;for(let u=r.length-1;u>=0;u--){const d=r[u];d.hostVars=s+=d.hostVars,d.hostAttrs=Dt(d.hostAttrs,l=Dt(l,d.hostAttrs))}}(u)}function um(r){return r===G?{}:r===B?[]:r}function bC(r,s){const l=r.viewQuery;r.viewQuery=l?(u,d)=>{s(u,d),l(u,d)}:s}function CC(r,s){const l=r.contentQueries;r.contentQueries=l?(u,d,g)=>{s(u,d,g),l(u,d,g)}:s}function wC(r,s){const l=r.hostBindings;r.hostBindings=l?(u,d)=>{s(u,d),l(u,d)}:s}let Kf=null;function vu(){if(!Kf){const r=lt.Symbol;if(r&&r.iterator)Kf=r.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<s.length;++l){const u=s[l];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Kf=u)}}}return Kf}function sh(r){return!!dm(r)&&(Array.isArray(r)||!(r instanceof Map)&&vu()in r)}function dm(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function us(r,s,l){return r[s]=l}function ji(r,s,l){return!Object.is(r[s],l)&&(r[s]=l,!0)}function rc(r,s,l,u){const d=ji(r,s,l);return ji(r,s+1,u)||d}function hm(r,s,l,u){const d=Ce();return ji(d,qr(),s)&&(vt(),function(r,s,l,u,d,g){const y=En(r,s);qg(s[11],y,g,r.value,l,u,d)}(rn(),d,r,s,l,u)),hm}function Cu(r,s,l,u){return ji(r,qr(),l)?s+Y(l)+u:ft}function Eu(r,s,l,u,d,g,y,b,w,A){const P=function(r,s,l,u,d,g){const y=rc(r,s,l,u);return rc(r,s+2,d,g)||y}(r,Qi(),l,d,y,w);return fr(4),P?s+Y(l)+u+Y(d)+g+Y(y)+b+Y(w)+A:ft}function Ev(r,s,l,u,d,g,y,b){const w=Ce(),A=vt(),N=r+20,P=A.firstCreatePass?function(r,s,l,u,d,g,y,b,w){const A=s.consts,N=ol(s,r,4,y||null,yi(A,b));Gy(s,l,N,yi(A,w)),Kr(s,N);const P=N.tViews=nc(2,N,u,d,g,s.directiveRegistry,s.pipeRegistry,null,s.schemas,A);return null!==s.queries&&(s.queries.template(s,N),P.queries=s.queries.embeddedTView(N)),N}(N,A,w,s,l,u,d,g,y):A.data[N];Xn(P,!1);const j=w[11].createComment("");au(A,w,j,P),ti(j,w),Uf(w,w[N]=Jg(j,w,j,P)),Cl(P)&&jg(A,w,P),null!=y&&uu(w,P,b)}function Tv(r){return Eo(We.lFrame.contextLView,20+r)}function lh(r,s=tt.Default){const l=Ce();return null===l?Z(r,s):ts(nn(),l,Q(r),s)}function Lv(){throw new Error("invalid")}function _m(r,s,l){const u=Ce();return ji(u,qr(),s)&&Lr(vt(),rn(),u,r,s,u[11],l,!1),_m}function ym(r,s,l,u,d){const y=d?"class":"style";em(r,l,s.inputs[y],y,u)}function vm(r,s,l,u){const d=Ce(),g=vt(),y=20+r,b=d[11],w=d[y]=m(b,s,We.lFrame.currentNamespace),A=g.firstCreatePass?function(r,s,l,u,d,g,y){const b=s.consts,A=ol(s,r,2,d,yi(b,g));return Gy(s,l,A,yi(b,y)),null!==A.attrs&&pu(A,A.attrs,!1),null!==A.mergedAttrs&&pu(A,A.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,A),A}(y,g,d,0,s,l,u):g.data[y];Xn(A,!0);const N=A.mergedAttrs;null!==N&&_n(b,w,N);const P=A.classes;null!==P&&Ng(b,w,P);const j=A.styles;null!==j&&Sg(b,w,j),64!=(64&A.flags)&&au(g,d,w,A),0===We.lFrame.elementDepthCount&&ti(w,d),We.lFrame.elementDepthCount++,Cl(A)&&(jg(g,d,A),nC(g,A,d)),null!==u&&uu(d,A)}function ci(){let r=nn();Ra()?Io():(r=r.parent,Xn(r,!1));const s=r;We.lFrame.elementDepthCount--;const l=vt();l.firstCreatePass&&(Kr(l,r),kn(r)&&l.queries.elementEnd(r)),null!=s.classesWithoutHost&&function(r){return 0!=(16&r.flags)}(s)&&ym(l,s,Ce(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(r){return 0!=(32&r.flags)}(s)&&ym(l,s,Ce(),s.stylesWithoutHost,!1)}function Mu(r,s,l,u){vm(r,s,l,u),ci()}function In(r,s,l){const u=Ce(),d=vt(),g=r+20,y=d.firstCreatePass?function(r,s,l,u,d){const g=s.consts,y=yi(g,u),b=ol(s,r,8,"ng-container",y);return null!==y&&pu(b,y,!0),Gy(s,l,b,yi(g,d)),null!==s.queries&&s.queries.elementStart(s,b),b}(g,d,u,s,l):d.data[g];Xn(y,!0);const b=u[g]=u[11].createComment("");au(d,u,b,y),ti(b,u),Cl(y)&&(jg(d,u,y),nC(d,y,u)),null!=l&&uu(u,y)}function bn(){let r=nn();const s=vt();Ra()?Io():(r=r.parent,Xn(r,!1)),s.firstCreatePass&&(Kr(s,r),kn(r)&&s.queries.elementEnd(r))}function oc(){return Ce()}function Cm(r){return!!r&&"function"==typeof r.then}function wm(r){return!!r&&"function"==typeof r.subscribe}const Bv=wm;function al(r,s,l,u){const d=Ce(),g=vt(),y=nn();return function(r,s,l,u,d,g,y,b){const w=Cl(u),N=r.firstCreatePass&&Xg(r),P=s[8],j=Qy(s);let q=!0;if(3&u.type||b){const Pe=En(u,s),Ye=b?b(Pe):Pe,we=j.length,it=b?Et=>b(Dn(Et[u.index])):u.index;if(Ut(l)){let Et=null;if(!b&&w&&(Et=function(r,s,l,u){const d=r.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const y=d[g];if(y===l&&d[g+1]===u){const b=s[7],w=d[g+2];return b.length>w?b[w]:null}"string"==typeof y&&(g+=2)}return null}(r,s,d,u.index)),null!==Et)(Et.__ngLastListenerFn__||Et).__ngNextListenerFn__=g,Et.__ngLastListenerFn__=g,q=!1;else{g=Em(u,s,P,g,!1);const Wt=l.listen(Ye,d,g);j.push(g,Wt),N&&N.push(d,it,we,we+1)}}else g=Em(u,s,P,g,!0),Ye.addEventListener(d,g,y),j.push(g),N&&N.push(d,it,we,y)}else g=Em(u,s,P,g,!1);const pe=u.outputs;let Ne;if(q&&null!==pe&&(Ne=pe[d])){const Pe=Ne.length;if(Pe)for(let Ye=0;Ye<Pe;Ye+=2){const wr=s[Ne[Ye]][Ne[Ye+1]].subscribe(g),_c=j.length;j.push(g,wr),N&&N.push(d,u.index,_c,-(_c+1))}}}(g,d,d[11],y,r,s,!!l,u),al}function ui(r,s,l,u){try{return!1!==l(u)}catch(d){return Xy(r,d),!1}}function Em(r,s,l,u,d){return function g(y){if(y===Function)return u;const b=2&r.flags?Ft(r.index,s):s;0==(32&s[2])&&$f(b);let w=ui(s,0,u,y),A=g.__ngNextListenerFn__;for(;A;)w=ui(s,0,A,y)&&w,A=A.__ngNextListenerFn__;return d&&!1===w&&(y.preventDefault(),y.returnValue=!1),w}}function Uv(r=1){return function(r){return(We.lFrame.contextLView=function(r,s){for(;r>0;)s=s[15],r--;return s}(r,We.lFrame.contextLView))[8]}(r)}function KC(r,s){let l=null;const u=function(r){const s=r.attrs;if(null!=s){const l=s.indexOf(5);if(0==(1&l))return s[l+1]}return null}(r);for(let d=0;d<s.length;d++){const g=s[d];if("*"!==g){if(null===u?Iy(r,g,!0):Tf(u,g))return d}else l=d}return l}function QC(r){const s=Ce()[16][6];if(!s.projection){const u=s.projection=is(r?r.length:1,null),d=u.slice();let g=s.child;for(;null!==g;){const y=r?KC(g,r):0;null!==y&&(d[y]?d[y].projectionNext=g:u[y]=g,d[y]=g),g=g.next}}}function $v(r,s=0,l){const u=Ce(),d=vt(),g=ol(d,20+r,16,null,l||null);null===g.projection&&(g.projection=s),Io(),64!=(64&g.flags)&&function(r,s,l){wy(s[11],0,s,l,dn(r,l,s),ou(l.parent||s[6],l,s))}(d,u,g)}function sc(r,s,l){return Fn(r,"",s,"",l),sc}function Fn(r,s,l,u,d){const g=Ce(),y=Cu(g,s,l,u);return y!==ft&&Lr(vt(),rn(),g,r,y,g[11],d,!1),Fn}function Tm(r,s,l,u,d,g,y){const b=Ce(),w=function(r,s,l,u,d,g){const b=rc(r,Qi(),l,d);return fr(2),b?s+Y(l)+u+Y(d)+g:ft}(b,s,l,u,d,g);return w!==ft&&Lr(vt(),rn(),b,r,w,b[11],y,!1),Tm}function Sm(r,s,l,u,d){const g=r[l+1],y=null===s;let b=u?Fr(g):ls(g),w=!1;for(;0!==b&&(!1===w||y);){const N=r[b+1];ew(r[b],s)&&(w=!0,r[b+1]=u?kg(N):xg(N)),b=u?Fr(N):ls(N)}w&&(r[l+1]=u?xg(g):kg(g))}function ew(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&rs(r,s)>=0}const di={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function tw(r){return r.substring(di.key,di.keyEnd)}function zv(r,s){const l=di.textEnd;return l===s?-1:(s=di.keyEnd=function(r,s,l){for(;s<l&&r.charCodeAt(s)>32;)s++;return s}(r,di.key=s,l),ch(r,s,l))}function ch(r,s,l){for(;s<l&&r.charCodeAt(s)<=32;)s++;return s}function Kv(r,s,l){return ho(r,s,l,!1),Kv}function Ru(r,s){return ho(r,s,null,!0),Ru}function Qv(r){Bo(si,ds,r,!0)}function ds(r,s){for(let l=function(r){return function(r){di.key=0,di.keyEnd=0,di.value=0,di.valueEnd=0,di.textEnd=r.length}(r),zv(r,ch(r,0,di.textEnd))}(s);l>=0;l=zv(s,l))si(r,tw(s),!0)}function ho(r,s,l,u){const d=Ce(),g=vt(),y=fr(2);g.firstUpdatePass&&sw(g,r,y,u),s!==ft&&ji(d,y,s)&&n0(g,g.data[qt()],d,d[11],r,d[y+1]=function(r,s){return null==r||("string"==typeof s?r+=s:"object"==typeof r&&(r=re(xr(r)))),r}(s,l),u,y)}function Bo(r,s,l,u){const d=vt(),g=fr(2);d.firstUpdatePass&&sw(d,null,g,u);const y=Ce();if(l!==ft&&ji(y,g,l)){const b=d.data[qt()];if(r0(b,u)&&!ll(d,g)){let w=u?b.classesWithoutHost:b.stylesWithoutHost;null!==w&&(l=le(w,l||"")),ym(d,b,y,l,u)}else!function(r,s,l,u,d,g,y,b){d===ft&&(d=B);let w=0,A=0,N=0<d.length?d[0]:null,P=0<g.length?g[0]:null;for(;null!==N||null!==P;){const j=w<d.length?d[w+1]:void 0,q=A<g.length?g[A+1]:void 0;let Ne,pe=null;N===P?(w+=2,A+=2,j!==q&&(pe=P,Ne=q)):null===P||null!==N&&N<P?(w+=2,pe=N):(A+=2,pe=P,Ne=q),null!==pe&&n0(r,s,l,u,pe,Ne,y,b),N=w<d.length?d[w]:null,P=A<g.length?g[A]:null}}(d,b,y,y[11],y[g+1],y[g+1]=function(r,s,l){if(null==l||""===l)return B;const u=[],d=xr(l);if(Array.isArray(d))for(let g=0;g<d.length;g++)r(u,d[g],!0);else if("object"==typeof d)for(const g in d)d.hasOwnProperty(g)&&r(u,g,d[g]);else"string"==typeof d&&s(u,d);return u}(r,s,l),u,g)}}function ll(r,s){return s>=r.expandoStartIndex}function sw(r,s,l,u){const d=r.data;if(null===d[l+1]){const g=d[qt()],y=ll(r,l);r0(g,u)&&null===s&&!y&&(s=!1),s=function(r,s,l,u){const d=Ko(r);let g=u?s.residualClasses:s.residualStyles;if(null===d)0===(u?s.classBindings:s.styleBindings)&&(l=xu(l=Gn(null,r,s,l,u),s.attrs,u),g=null);else{const y=s.directiveStylingLast;if(-1===y||r[y]!==d)if(l=Gn(d,r,s,l,u),null===g){let w=function(r,s,l){const u=l?s.classBindings:s.styleBindings;if(0!==ls(u))return r[Fr(u)]}(r,s,u);void 0!==w&&Array.isArray(w)&&(w=Gn(null,r,s,w[1],u),w=xu(w,s.attrs,u),function(r,s,l,u){r[Fr(l?s.classBindings:s.styleBindings)]=u}(r,s,u,w))}else g=function(r,s,l){let u;const d=s.directiveEnd;for(let g=1+s.directiveStylingLast;g<d;g++)u=xu(u,r[g].hostAttrs,l);return xu(u,s.attrs,l)}(r,s,u)}return void 0!==g&&(u?s.residualClasses=g:s.residualStyles=g),l}(d,g,s,u),function(r,s,l,u,d,g){let y=g?s.classBindings:s.styleBindings,b=Fr(y),w=ls(y);r[u]=l;let N,A=!1;if(Array.isArray(l)){const P=l;N=P[1],(null===N||rs(P,N)>0)&&(A=!0)}else N=l;if(d)if(0!==w){const j=Fr(r[b+1]);r[u+1]=Jd(j,b),0!==j&&(r[j+1]=da(r[j+1],u)),r[b+1]=function(r,s){return 131071&r|s<<17}(r[b+1],u)}else r[u+1]=Jd(b,0),0!==b&&(r[b+1]=da(r[b+1],u)),b=u;else r[u+1]=Jd(w,0),0===b?b=u:r[w+1]=da(r[w+1],u),w=u;A&&(r[u+1]=xg(r[u+1])),Sm(r,N,u,!0),Sm(r,N,u,!1),function(r,s,l,u,d){const g=d?r.residualClasses:r.residualStyles;null!=g&&"string"==typeof s&&rs(g,s)>=0&&(l[u+1]=kg(l[u+1]))}(s,N,r,u,g),y=Jd(b,w),g?s.classBindings=y:s.styleBindings=y}(d,g,s,l,y,u)}}function Gn(r,s,l,u,d){let g=null;const y=l.directiveEnd;let b=l.directiveStylingLast;for(-1===b?b=l.directiveStart:b++;b<y&&(g=s[b],u=xu(u,g.hostAttrs,d),g!==r);)b++;return null!==r&&(l.directiveStylingLast=b),u}function xu(r,s,l){const u=l?1:2;let d=-1;if(null!==s)for(let g=0;g<s.length;g++){const y=s[g];"number"==typeof y?d=y:d===u&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),si(r,y,!!l||s[++g]))}return void 0===r?null:r}function n0(r,s,l,u,d,g,y,b){if(!(3&s.type))return;const w=r.data,A=w[b+1];uh(function(r){return 1==(1&r)}(A)?ac(w,s,l,d,ls(A),y):void 0)||(uh(g)||function(r){return 2==(2&r)}(A)&&(g=ac(w,null,l,d,b,y)),function(r,s,l,u,d){const g=Ut(r);if(s)d?g?r.addClass(l,u):l.classList.add(u):g?r.removeClass(l,u):l.classList.remove(u);else{let y=-1===u.indexOf("-")?void 0:ro.DashCase;if(null==d)g?r.removeStyle(l,u,y):l.style.removeProperty(u);else{const b="string"==typeof d&&d.endsWith("!important");b&&(d=d.slice(0,-10),y|=ro.Important),g?r.setStyle(l,u,d,y):l.style.setProperty(u,d,b?"important":"")}}}(u,y,Ki(qt(),l),d,g))}function ac(r,s,l,u,d,g){const y=null===s;let b;for(;d>0;){const w=r[d],A=Array.isArray(w),N=A?w[1]:w,P=null===N;let j=l[d+1];j===ft&&(j=P?B:void 0);let q=P?_r(j,u):N===u?j:void 0;if(A&&!uh(q)&&(q=_r(w,u)),uh(q)&&(b=q,y))return b;const pe=r[d+1];d=y?Fr(pe):ls(pe)}if(null!==s){let w=g?s.residualClasses:s.residualStyles;null!=w&&(b=_r(w,u))}return b}function uh(r){return void 0!==r}function r0(r,s){return 0!=(r.flags&(s?16:32))}function dh(r,s=""){const l=Ce(),u=vt(),d=r+20,g=u.firstCreatePass?ol(u,d,1,s,null):u.data[d],y=l[d]=Wd(l[11],s);au(u,l,y,g),Xn(g,!1)}function hh(r){return ap("",r,""),hh}function ap(r,s,l){const u=Ce(),d=Cu(u,r,s,l);return d!==ft&&function(r,s,l){const u=Ki(s,r);vf(r[11],u,l)}(u,qt(),d),ap}function lp(r,s,l,u,d,g,y,b,w){Bo(si,ds,Eu(Ce(),r,s,l,u,d,g,y,b,w),!0)}function up(r,s,l){const u=Ce();return ji(u,qr(),s)&&Lr(vt(),rn(),u,r,s,u[11],l,!0),up}function lc(r,s,l){const u=Ce();if(ji(u,qr(),s)){const g=vt(),y=rn();Lr(g,y,u,r,s,function(r,s,l){return(null===r||Hi(r))&&(l=function(r){for(;Array.isArray(r);){if("object"==typeof r[1])return r;r=r[0]}return null}(l[s.index])),l[11]}(Ko(g.data),y,u),l,!0)}return lc}const cc=void 0;var _w=["en",[["a","p"],["AM","PM"],cc],[["AM","PM"],cc,cc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],cc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],cc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",cc,"{1} 'at' {0}",cc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(r){const l=Math.floor(Math.abs(r)),u=r.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===u?1:5}];let uc={};function Fm(r){const s=function(r){return r.toLowerCase().replace(/_/g,"-")}(r);let l=vw(s);if(l)return l;const u=s.split("-")[0];if(l=vw(u),l)return l;if("en"===u)return _w;throw new Error(`Missing locale data for the locale "${r}".`)}function yw(r){return Fm(r)[at.PluralCase]}function vw(r){return r in uc||(uc[r]=lt.ng&&lt.ng.common&&lt.ng.common.locales&&lt.ng.common.locales[r]),uc[r]}var at=(()=>((at=at||{})[at.LocaleId=0]="LocaleId",at[at.DayPeriodsFormat=1]="DayPeriodsFormat",at[at.DayPeriodsStandalone=2]="DayPeriodsStandalone",at[at.DaysFormat=3]="DaysFormat",at[at.DaysStandalone=4]="DaysStandalone",at[at.MonthsFormat=5]="MonthsFormat",at[at.MonthsStandalone=6]="MonthsStandalone",at[at.Eras=7]="Eras",at[at.FirstDayOfWeek=8]="FirstDayOfWeek",at[at.WeekendRange=9]="WeekendRange",at[at.DateFormat=10]="DateFormat",at[at.TimeFormat=11]="TimeFormat",at[at.DateTimeFormat=12]="DateTimeFormat",at[at.NumberSymbols=13]="NumberSymbols",at[at.NumberFormats=14]="NumberFormats",at[at.CurrencyCode=15]="CurrencyCode",at[at.CurrencySymbol=16]="CurrencySymbol",at[at.CurrencyName=17]="CurrencyName",at[at.Currencies=18]="Currencies",at[at.Directionality=19]="Directionality",at[at.PluralCase=20]="PluralCase",at[at.ExtraData=21]="ExtraData",at))();const HT=["zero","one","two","few","many"],Lm="en-US",Bm={marker:"element"},Vm={marker:"ICU"};var Wn=(()=>((Wn=Wn||{})[Wn.SHIFT=2]="SHIFT",Wn[Wn.APPEND_EAGERLY=1]="APPEND_EAGERLY",Wn[Wn.COMMENT=2]="COMMENT",Wn))();let v0=Lm;function bw(r,s,l){const u=s.insertBeforeIndex,d=Array.isArray(u)?u[0]:u;return null===d?su(r,0,l):Dn(l[d])}function Cw(r,s,l,u,d){const g=s.insertBeforeIndex;if(Array.isArray(g)){let y=u,b=null;if(3&s.type||(b=y,y=d),null!==y&&0==(2&s.flags))for(let w=1;w<g.length;w++)so(r,y,l[g[w]],b,!1)}}function ww(r,s){if(r.push(s),r.length>1)for(let l=r.length-2;l>=0;l--){const u=r[l];Dw(u)||b0(u,s)&&null===WT(u)&&Vo(u,s.index)}}function Dw(r){return!(64&r.type)}function b0(r,s){return Dw(s)||r.index>s.index}function WT(r){const s=r.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function Vo(r,s){const l=r.insertBeforeIndex;Array.isArray(l)?l[0]=s:(rl(bw,Cw),r.insertBeforeIndex=s)}function an(r,s){const l=r.data[s];return null===l||"string"==typeof l?null:l.hasOwnProperty("currentCaseLViewIndex")?l:l.value}function Um(r,s,l){const u=$g(r,l,64,null,null);return ww(s,u),u}function dp(r,s){const l=s[r.currentCaseLViewIndex];return null===l?l:l<0?~l:l}function w0(r){return r>>>17}function hp(r){return(131070&r)>>>1}let ul=0,Pu=0;function D0(r,s,l,u){const d=l[11];let y,g=null;for(let b=0;b<s.length;b++){const w=s[b];if("string"==typeof w){const A=s[++b];null===l[A]&&(l[A]=Wd(d,w))}else if("number"==typeof w)switch(1&w){case 0:const A=w0(w);let N,P;if(null===g&&(g=A,y=il(d,u)),A===g?(N=u,P=y):(N=null,P=Dn(l[A])),null!==P){const Ne=hp(w);so(d,P,l[Ne],N,!1);const Ye=an(r,Ne);if(null!==Ye&&"object"==typeof Ye){const we=dp(Ye,l);null!==we&&D0(r,Ye.create[we],l,l[Ye.anchorIdx])}}break;case 1:const q=s[++b],pe=s[++b];qg(d,Ki(w>>>1,l),null,null,q,pe,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${w}"`)}else switch(w){case Vm:const A=s[++b],N=s[++b];null===l[N]&&ti(l[N]=wi(d,A),l);break;case Bm:const P=s[++b],j=s[++b];null===l[j]&&ti(l[j]=m(d,P,null),l)}}}function dc(r,s,l,u,d){for(let g=0;g<l.length;g++){const y=l[g],b=l[++g];if(y&d){let w="";for(let A=g+1;A<=g+b;A++){const N=l[A];if("string"==typeof N)w+=N;else if("number"==typeof N)if(N<0)w+=Y(s[u-N]);else{const P=N>>>2;switch(3&N){case 1:const j=l[++A],q=l[++A],pe=r.data[P];"string"==typeof pe?qg(s[11],s[P],null,pe,j,w,q):Lr(r,pe,s,j,w,s[11],q,!1);break;case 0:const Ne=s[P];null!==Ne&&vf(s[11],Ne,w);break;case 2:ph(r,an(r,P),s,w);break;case 3:dl(r,an(r,P),u,s)}}}}else{const w=l[g+1];if(w>0&&3==(3&w)){const N=an(r,w>>>2);s[N.currentCaseLViewIndex]<0&&dl(r,N,u,s)}}g+=b}}function dl(r,s,l,u){let d=u[s.currentCaseLViewIndex];if(null!==d){let g=ul;d<0&&(d=u[s.currentCaseLViewIndex]=~d,g=-1),dc(r,u,s.update[d],l,g)}}function ph(r,s,l,u){const d=function(r,s){let l=r.cases.indexOf(s);if(-1===l)switch(r.type){case 1:{const u=function(r,s){const l=yw(s)(parseInt(r,10)),u=HT[l];return void 0!==u?u:"other"}(s,v0);l=r.cases.indexOf(u),-1===l&&"other"!==u&&(l=r.cases.indexOf("other"));break}case 0:l=r.cases.indexOf("other")}return-1===l?null:l}(s,u);if(dp(s,l)!==d&&(gh(r,s,l),l[s.currentCaseLViewIndex]=null===d?null:~d,null!==d)){const y=l[s.anchorIdx];y&&D0(r,s.create[d],l,y)}}function gh(r,s,l){let u=dp(s,l);if(null!==u){const d=s.remove[u];for(let g=0;g<d.length;g++){const y=d[g];if(y>0){const b=Ki(y,l);null!==b&&L1(l[11],b)}else gh(r,an(r,~y),l)}}}function fp(){const r=[];let l,u,s=-1;function g(b,w){s=0;const A=dp(b,w);u=null!==A?b.remove[A]:B}function y(){if(s<u.length){const b=u[s++];return b>0?l[b]:(r.push(s,u),g(l[1].data[~b],l),y())}return 0===r.length?null:(u=r.pop(),s=r.pop(),y())}return function(b,w){for(l=w;r.length;)r.pop();return g(b.value,w),y}}const $m=/\ufffd(\d+):?\d*\ufffd/gi,zT=/\ufffd(\d+)\ufffd/,Mw=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,YT=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,qT=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,JT=/\uE500/g;function Rw(r,s,l,u,d,g,y){const b=eh(r,u,1,null);let w=b<<Wn.SHIFT,A=Yr();s===A&&(A=null),null===A&&(w|=Wn.APPEND_EAGERLY),y&&(w|=Wn.COMMENT,function(r){void 0===jd&&(jd=r())}(fp)),d.push(w,null===g?"":g);const N=$g(r,b,y?32:1,null===g?"":g,null);ww(l,N);const P=N.index;return Xn(N,!1),null!==A&&s!==A&&function(r,s){let l=r.insertBeforeIndex;null===l?(rl(bw,Cw),l=r.insertBeforeIndex=[null,s]):(function(r,s,l){r!=s&&pt(l,r,s,"==")}(Array.isArray(l),!0,"Expecting array here"),l.push(s))}(A,P),N}function XT(r,s,l,u,d,g,y){const b=y.match($m),w=Rw(r,s,l,g,u,b?null:y,!1);b&&Lu(d,y,w.index,null,0,null)}function Lu(r,s,l,u,d,g){const y=r.length,b=y+1;r.push(null,null);const w=y+2,A=s.split($m);let N=0;for(let P=0;P<A.length;P++){const j=A[P];if(1&P){const q=d+parseInt(j,10);r.push(-1-q),N|=jm(q)}else""!==j&&r.push(j)}return r.push(l<<2|(u?1:0)),u&&r.push(u,g),r[y]=N,r[b]=r.length-w,N}function jm(r){return 1<<Math.min(r,31)}function mh(r){let s,g,l="",u=0,d=!1;for(;null!==(s=YT.exec(r));)d?s[0]===`\ufffd/*${g}\ufffd`&&(u=s.index,d=!1):(l+=r.substring(u,s.index+s[0].length),g=s[1],d=!0);return l+=r.substr(u),l}function _h(r,s,l,u,d,g){let y=0;const b={type:d.type,currentCaseLViewIndex:eh(r,s,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function(r,s,l){r.push(jm(s.mainBinding),2,-1-s.mainBinding,l<<2|2)})(l,d,g),function(r,s,l){const u=r.data[s];null===u?r.data[s]=l:u.value=l}(r,g,b);const w=d.values;for(let A=0;A<w.length;A++){const N=w[A],P=[];for(let j=0;j<N.length;j++){const q=N[j];if("string"!=typeof q){const pe=P.push(q)-1;N[j]=`\x3c!--\ufffd${pe}\ufffd--\x3e`}}y=S0(r,b,s,l,u,d.cases[A],N.join(""),P)|y}y&&function(r,s,l){r.push(s,1,l<<2|3)}(l,y,g)}function eI(r){const s=[],l=[];let u=1,d=0;const g=gp(r=r.replace(Mw,function(y,b,w){return u="select"===w?0:1,d=parseInt(b.substr(1),10),""}));for(let y=0;y<g.length;){let b=g[y++].trim();1===u&&(b=b.replace(/\s*(?:=)?(\w+)\s*/,"$1")),b.length&&s.push(b);const w=gp(g[y++]);s.length>l.length&&l.push(w)}return{type:u,mainBinding:d,cases:s,values:l}}function gp(r){if(!r)return[];let s=0;const l=[],u=[],d=/[{}]/g;let g;for(d.lastIndex=0;g=d.exec(r);){const b=g.index;if("}"==g[0]){if(l.pop(),0==l.length){const w=r.substring(s,b);Mw.test(w)?u.push(eI(w)):u.push(w),s=b+1}}else{if(0==l.length){const w=r.substring(s,b);u.push(w),s=b+1}l.push("{")}}const y=r.substring(s);return u.push(y),u}function S0(r,s,l,u,d,g,y,b){const w=[],A=[],N=[];s.cases.push(g),s.create.push(w),s.remove.push(A),s.update.push(N);const j=jc(Is()).getInertBodyElement(y),q=hf(j)||j;return q?hl(r,s,l,u,w,A,N,q,d,b,0):0}function hl(r,s,l,u,d,g,y,b,w,A,N){let P=0,j=b.firstChild;for(;j;){const q=eh(r,l,1,null);switch(j.nodeType){case Node.ELEMENT_NODE:const pe=j,Ne=pe.tagName.toLowerCase();if(Or.hasOwnProperty(Ne)){Gm(d,Bm,Ne,w,q),r.data[q]=Ne;const it=pe.attributes;for(let Et=0;Et<it.length;Et++){const Wt=it.item(Et),wr=Wt.name.toLowerCase();Wt.value.match($m)?Qa.hasOwnProperty(wr)&&Lu(y,Wt.value,q,Wt.name,0,Rd[wr]?ea:zl[wr]?af:null):M0(d,q,Wt)}P=hl(r,s,l,u,d,g,y,j,q,A,N+1)|P,mp(g,q,N)}break;case Node.TEXT_NODE:const Pe=j.textContent||"",Ye=Pe.match($m);Gm(d,null,Ye?"":Pe,w,q),mp(g,q,N),Ye&&(P=Lu(y,Pe,q,null,0,null)|P);break;case Node.COMMENT_NODE:const we=zT.exec(j.textContent||"");if(we){const Et=A[parseInt(we[1],10)];Gm(d,Vm,"",w,q),_h(r,l,u,w,Et,q),kw(g,q,N)}}j=j.nextSibling}return P}function mp(r,s,l){0===l&&r.push(s)}function kw(r,s,l){0===l&&(r.push(~s),r.push(s))}function Gm(r,s,l,u,d){null!==s&&r.push(s),r.push(l,d,function(r,s,l){return 0|s<<17|l<<1}(0,u,d))}function M0(r,s,l){r.push(s<<1|1,l.name,l.value)}function P0(r,s,l=-1){const u=vt(),d=Ce(),g=20+r,y=yi(u.consts,s),b=Yr();u.firstCreatePass&&function(r,s,l,u,d,g){const y=Yr(),b=[],w=[],A=[[]];d=function(r,s){if(function(r){return-1===r}(s))return mh(r);{const l=r.indexOf(`:${s}\ufffd`)+2+s.toString().length,u=r.search(new RegExp(`\ufffd\\/\\*\\d+:${s}\ufffd`));return mh(r.substring(l,u))}}(d,g);const N=function(r){return r.replace(JT," ")}(d).split(qT);for(let P=0;P<N.length;P++){let j=N[P];if(0==(1&P)){const q=gp(j);for(let pe=0;pe<q.length;pe++){let Ne=q[pe];if(0==(1&pe)){const Pe=Ne;""!==Pe&&XT(r,y,A[0],b,w,l,Pe)}else{const Pe=Ne;if("object"!=typeof Pe)throw new Error(`Unable to parse ICU expression in "${d}" message.`);_h(r,l,w,s,Pe,Rw(r,y,A[0],l,b,"",!0).index)}}}else{const q=47===j.charCodeAt(0),Ne=(j.charCodeAt(q?1:0),20+Number.parseInt(j.substring(q?2:1)));if(q)A.shift(),Xn(Yr(),!1);else{const Pe=Um(r,A[0],Ne);A.unshift([]),Xn(Pe,!0)}}}r.data[u]={create:b,update:w}}(u,null===b?0:b.index,d,g,y,l);const w=u.data[g],N=oo(u,b===d[6]?null:b,d);(function(r,s,l,u){const d=r[11];for(let g=0;g<s.length;g++){const y=s[g++],b=s[g],w=(y&Wn.COMMENT)===Wn.COMMENT,A=(y&Wn.APPEND_EAGERLY)===Wn.APPEND_EAGERLY,N=y>>>Wn.SHIFT;let P=r[N];null===P&&(P=r[N]=w?d.createComment(b):Wd(d,b)),A&&null!==l&&so(d,l,P,u,!1)}})(d,w.create,N,b&&8&b.type?d[b.index]:null),Ps(!0)}function _p(r,s,l){P0(r,s,l),Ps(!1)}function yp(r){return function(r){r&&(ul|=1<<Math.min(Pu,31)),Pu++}(ji(Ce(),qr(),r)),yp}function F0(r){!function(r,s,l){if(Pu>0){const u=r.data[l];dc(r,s,Array.isArray(u)?u:u.update,Qi()-Pu-1,ul)}ul=0,Pu=0}(vt(),Ce(),r+20)}function qm(r,s,l,u,d){if(r=Q(r),Array.isArray(r))for(let g=0;g<r.length;g++)qm(r[g],s,l,u,d);else{const g=vt(),y=Ce();let b=_u(r)?r:Q(r.provide),w=qf(r);const A=nn(),N=1048575&A.providerIndexes,P=A.directiveStart,j=A.providerIndexes>>20;if(_u(r)||!r.multi){const q=new Gs(w,d,lh),pe=Km(b,s,d?N:N+j,P);-1===pe?(Xi(No(A,y),g,b),L0(g,r,s.length),s.push(b),A.directiveStart++,A.directiveEnd++,d&&(A.providerIndexes+=1048576),l.push(q),y.push(q)):(l[pe]=q,y[pe]=q)}else{const q=Km(b,s,N+j,P),pe=Km(b,s,N,N+j),Ne=q>=0&&l[q],Pe=pe>=0&&l[pe];if(d&&!Pe||!d&&!Ne){Xi(No(A,y),g,b);const Ye=function(r,s,l,u,d){const g=new Gs(r,l,lh);return g.multi=[],g.index=s,g.componentProviders=0,Jm(g,d,u&&!l),g}(d?V0:B0,l.length,d,u,w);!d&&Pe&&(l[pe].providerFactory=Ye),L0(g,r,s.length,0),s.push(b),A.directiveStart++,A.directiveEnd++,d&&(A.providerIndexes+=1048576),l.push(Ye),y.push(Ye)}else L0(g,r,q>-1?q:pe,Jm(l[d?pe:q],w,!d&&u));!d&&u&&Pe&&l[pe].componentProviders++}}}function L0(r,s,l,u){const d=_u(s),g=function(r){return!!r.useClass}(s);if(d||g){const w=(g?Q(s.useClass):s).prototype.ngOnDestroy;if(w){const A=r.destroyHooks||(r.destroyHooks=[]);if(!d&&s.multi){const N=A.indexOf(l);-1===N?A.push(l,[u,w]):A[N+1].push(u,w)}else A.push(l,w)}}}function Jm(r,s,l){return l&&r.componentProviders++,r.multi.push(s)-1}function Km(r,s,l,u){for(let d=l;d<u;d++)if(s[d]===r)return d;return-1}function B0(r,s,l,u){return vp(this.multi,[])}function V0(r,s,l,u){const d=this.multi;let g;if(this.providerFactory){const y=this.providerFactory.componentProviders,b=eo(l,l[1],this.providerFactory.index,u);g=b.slice(0,y),vp(d,g);for(let w=y;w<b.length;w++)g.push(b[w])}else g=[],vp(d,g);return g}function vp(r,s){for(let l=0;l<r.length;l++)s.push((0,r[l])());return s}function Qm(r,s=[]){return l=>{l.providersResolver=(u,d)=>function(r,s,l){const u=vt();if(u.firstCreatePass){const d=Hi(r);qm(l,u.data,u.blueprint,d,!0),qm(s,u.data,u.blueprint,d,!1)}}(u,d?d(r):r,s)}}class Xm{}class Hw{resolveComponentFactory(s){throw function(r){const s=Error(`No component factory found for ${re(r)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=r,s}(s)}}let vh=(()=>{class r{}return r.NULL=new Hw,r})();function Uw(){return Bu(nn(),Ce())}function Bu(r,s){return new Vu(En(r,s))}let Vu=(()=>{class r{constructor(l){this.nativeElement=l}}return r.__NG_ELEMENT_ID__=Uw,r})();function iI(r){return r instanceof Vu?r.nativeElement:r}class e_{}let $w=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function(){const r=Ce(),l=Ft(nn().index,r);return function(r){return r[11]}(ur(l)?l:r)}(),r})(),oI=(()=>{class r{}return r.\u0275prov=zt({token:r,providedIn:"root",factory:()=>null}),r})();class t_{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const $0=new t_("13.0.3"),j0={};function bh(r,s,l,u,d=!1){for(;null!==l;){const g=s[l.index];if(null!==g&&u.push(Dn(g)),dr(g))for(let b=10;b<g.length;b++){const w=g[b],A=w[1].firstChild;null!==A&&bh(w[1],w,A,u)}const y=l.type;if(8&y)bh(r,s,l.child,u);else if(32&y){const b=nl(l,s);let w;for(;w=b();)u.push(w)}else if(16&y){const b=Ig(s,l);if(Array.isArray(b))u.push(...b);else{const w=la(s[16]);bh(w[1],w,b,u,!0)}}l=d?l.projectionNext:l.next}return u}class Ch{constructor(s,l){this._lView=s,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,l=s[1];return bh(l,s,l.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(dr(s)){const l=s[8],u=l?l.indexOf(this):-1;u>-1&&(Ae(s,u),ns(l,u))}this._attachedToViewContainer=!1}Ie(this._lView[1],this._lView)}onDestroy(s){Hy(this._lView[1],this._lView,null,s)}markForCheck(){$f(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Kg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(r,s,l){Ao(!0);try{Kg(r,s,l)}finally{Ao(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,Yd(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class sI extends Ch{constructor(s){super(s),this._view=s}detectChanges(){Qg(this._view)}checkNoChanges(){!function(r){Ao(!0);try{Qg(r)}finally{Ao(!1)}}(this._view)}get context(){return null}}class n_ extends vh{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const l=Yt(s);return new r_(l,this.ngModule)}}function i_(r){const s=[];for(let l in r)r.hasOwnProperty(l)&&s.push({propName:r[l],templateName:l});return s}const Zw=new Gt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ud});class r_ extends Xm{constructor(s,l){super(),this.componentDef=s,this.ngModule=l,this.componentType=s.type,this.selector=s.selectors.map($1).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return i_(this.componentDef.inputs)}get outputs(){return i_(this.componentDef.outputs)}create(s,l,u,d){const g=(d=d||this.ngModule)?function(r,s){return{get:(l,u,d)=>{const g=r.get(l,j0,d);return g!==j0||u===j0?g:s.get(l,u,d)}}}(s,d.injector):s,y=g.get(e_,Al),b=g.get(oI,null),w=y.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",N=u?function(r,s,l){if(Ut(r))return r.selectRootElement(s,l===He.ShadowDom);let u="string"==typeof s?r.querySelector(s):s;return u.textContent="",u}(w,u,this.componentDef.encapsulation):m(y.createRenderer(null,this.componentDef),A,function(r){const s=r.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(A)),P=this.componentDef.onPush?576:528,j=function(r,s){return{components:[],scheduler:r||Ud,clean:Ky,playerHandler:s||null,flags:0}}(),q=nc(0,null,null,1,0,null,null,null,null,null),pe=Xd(null,q,j,P,null,null,y,w,b,g);let Ne,Pe;Pa(pe);try{const Ye=function(r,s,l,u,d,g){const y=l[1];l[20]=r;const w=ol(y,20,2,"#host",null),A=w.mergedAttrs=s.hostAttrs;null!==A&&(pu(w,A,!0),null!==r&&(_n(d,r,A),null!==w.classes&&Ng(d,r,w.classes),null!==w.styles&&Sg(d,r,w.styles)));const N=u.createRenderer(r,s),P=Xd(l,du(s),null,s.onPush?64:16,l[20],w,u,N,g||null,null);return y.firstCreatePass&&(Xi(No(w,l),y,s.type),zg(y,w),Bf(w,l.length,1)),Uf(l,P),l[20]=P}(N,this.componentDef,pe,y,w);if(N)if(u)_n(w,N,["ng-version",$0.full]);else{const{attrs:we,classes:it}=function(r){const s=[],l=[];let u=1,d=2;for(;u<r.length;){let g=r[u];if("string"==typeof g)2===d?""!==g&&s.push(g,r[++u]):8===d&&l.push(g);else{if(!ao(d))break;d=g}u++}return{attrs:s,classes:l}}(this.componentDef.selectors[0]);we&&_n(w,N,we),it&&it.length>0&&Ng(w,N,it.join(" "))}if(Pe=Do(q,20),void 0!==l){const we=Pe.projection=[];for(let it=0;it<this.ngContentSelectors.length;it++){const Et=l[it];we.push(null!=Et?Array.from(Et):null)}}Ne=function(r,s,l,u,d){const g=l[1],y=function(r,s,l){const u=nn();r.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),Vf(r,u,s,eh(r,s,1,null),l));const d=eo(s,r,u.directiveStart,u);ti(d,s);const g=En(u,s);return g&&ti(g,s),d}(g,l,s);if(u.components.push(y),r[8]=y,d&&d.forEach(w=>w(y,s)),s.contentQueries){const w=nn();s.contentQueries(1,y,w.directiveStart)}const b=nn();return!g.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Jr(b.index),hu(l[1],b,0,b.directiveStart,b.directiveEnd,s),Wy(s,y)),y}(Ye,this.componentDef,pe,j,[yu]),Of(q,pe,null)}finally{Us()}return new qw(this.componentType,Ne,Bu(Pe,pe),pe,Pe)}}class qw extends class{}{constructor(s,l,u,d,g){super(),this.location=u,this._rootLView=d,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new sI(d),this.componentType=s}get injector(){return new Xt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class wh{}class o_{}const Hu=new Map;class Z0 extends wh{constructor(s,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new n_(this);const u=Jn(s);this._bootstrapComponents=br(u.bootstrap),this._r3Injector=rm(s,l,[{provide:wh,useValue:this},{provide:vh,useValue:this.componentFactoryResolver}],re(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,l=co.THROW_IF_NOT_FOUND,u=tt.Default){return s===co||s===wh||s===gu?this:this._r3Injector.get(s,l,u)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class a_ extends o_{constructor(s){super(),this.moduleType=s,null!==Jn(s)&&function(r){const s=new Set;!function l(u){const d=Jn(u,!0),g=d.id;null!==g&&(function(r,s,l){if(s&&s!==l)throw new Error(`Duplicate module registered for ${r} - ${re(s)} vs ${re(s.name)}`)}(g,Hu.get(g),u),Hu.set(g,u));const y=br(d.imports);for(const b of y)s.has(b)||(s.add(b),l(b))}(r)}(s)}create(s){return new Z0(this.moduleType,s)}}function l_(r,s,l,u){return c_(Ce(),Hn(),r,s,l,u)}function z0(r,s,l,u,d){return function(r,s,l,u,d,g,y){const b=s+l;return rc(r,b,d,g)?us(r,b+2,y?u.call(y,d,g):u(d,g)):bp(r,b+2)}(Ce(),Hn(),r,s,l,u,d)}function Y0(r,s,l,u,d,g){return function(r,s,l,u,d,g,y,b){const w=s+l;return function(r,s,l,u,d){const g=rc(r,s,l,u);return ji(r,s+2,d)||g}(r,w,d,g,y)?us(r,w+3,b?u.call(b,d,g,y):u(d,g,y)):bp(r,w+3)}(Ce(),Hn(),r,s,l,u,d,g)}function bp(r,s){const l=r[s];return l===ft?void 0:l}function c_(r,s,l,u,d,g){const y=s+l;return ji(r,y,d)?us(r,y+1,g?u.call(g,d):u(d)):bp(r,y+1)}function eb(r,s){const l=vt();let u;const d=r+20;l.firstCreatePass?(u=function(r,s){if(s)for(let l=s.length-1;l>=0;l--){const u=s[l];if(r===u.name)return u}}(s,l.pipeRegistry),l.data[d]=u,u.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(d,u.onDestroy)):u=l.data[d];const g=u.factory||(u.factory=hr(u.type)),y=fi(lh);try{const b=So(!1),w=g();return So(b),function(r,s,l,u){l>=r.data.length&&(r.data[l]=null,r.blueprint[l]=null),s[l]=u}(l,Ce(),d,w),w}finally{fi(y)}}function u_(r,s,l){const u=r+20,d=Ce(),g=Eo(d,u);return function(r,s){return r[1].data[s].pure}(d,u)?c_(d,Hn(),s,g.transform,l,g):g.transform(l)}function ib(r){return s=>{setTimeout(r,void 0,s)}}const hs=class extends o.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,l,u){var w,A,N;let d=s,g=l||(()=>null),y=u;if(s&&"object"==typeof s){const P=s;d=null==(w=P.next)?void 0:w.bind(P),g=null==(A=P.error)?void 0:A.bind(P),y=null==(N=P.complete)?void 0:N.bind(P)}this.__isAsync&&(g=ib(g),d&&(d=ib(d)),y&&(y=ib(y)));const b=super.subscribe({next:d,error:g,complete:y});return s instanceof K.w0&&s.add(b),b}};function h_(){return this._results[vu()]()}class rb{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=vu(),u=rb.prototype;u[l]||(u[l]=h_)}get changes(){return this._changes||(this._changes=new hs)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,l){return this._results.reduce(s,l)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,l){const u=this;u.dirty=!1;const d=Ni(s);(this._changesDetected=!function(r,s,l){if(r.length!==s.length)return!1;for(let u=0;u<r.length;u++){let d=r[u],g=s[u];if(l&&(d=l(d),g=l(g)),g!==d)return!1}return!0}(u._results,d,l))&&(u._results=d,u.length=d.length,u.last=d[this.length-1],u.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Cp=(()=>{class r{}return r.__NG_ELEMENT_ID__=uI,r})();const iD=Cp,rD=class extends iD{constructor(s,l,u){super(),this._declarationLView=s,this._declarationTContainer=l,this.elementRef=u}createEmbeddedView(s){const l=this._declarationTContainer.tViews,u=Xd(this._declarationLView,l,s,16,null,l.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(u[19]=g.createEmbeddedView(l)),Of(l,u,s),new Ch(u)}};function uI(){return f_(nn(),Ce())}function f_(r,s){return 4&r.type?new rD(s,r,Bu(r,s)):null}let p_=(()=>{class r{}return r.__NG_ELEMENT_ID__=dI,r})();function dI(){return pl(nn(),Ce())}const hI=p_,oD=class extends hI{constructor(s,l,u){super(),this._lContainer=s,this._hostTNode=l,this._hostLView=u}get element(){return Bu(this._hostTNode,this._hostLView)}get injector(){return new Xt(this._hostTNode,this._hostLView)}get parentInjector(){const s=Ha(this._hostTNode,this._hostLView);if(xn(s)){const l=Ws(s,this._hostLView),u=Xo(s);return new Xt(l[1].data[u+8],l)}return new Xt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const l=sD(this._lContainer);return null!==l&&l[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,l,u){const d=s.createEmbeddedView(l||{});return this.insert(d,u),d}createComponent(s,l,u,d,g){const y=s&&!("function"==typeof s);let b;if(y)b=l;else{const P=l||{};b=P.index,u=P.injector,d=P.projectableNodes,g=P.ngModuleRef}const w=y?s:new r_(Yt(s)),A=u||this.parentInjector;if(!g&&null==w.ngModule&&A){const P=A.get(wh,null);P&&(g=P)}const N=w.create(A,d,void 0,g);return this.insert(N.hostView,b),N}insert(s,l){const u=s._lView,d=u[1];if(dr(u[3])){const N=this.indexOf(s);if(-1!==N)this.detach(N);else{const P=u[3],j=new oD(P,P[6],P[3]);j.detach(j.indexOf(s))}}const g=this._adjustIndex(l),y=this._lContainer;!function(r,s,l,u){const d=10+u,g=l.length;u>0&&(l[d-1][4]=s),u<g-10?(s[4]=l[d],Ol(l,10+u,s)):(l.push(s),s[4]=null),s[3]=l;const y=s[17];null!==y&&l!==y&&function(r,s){const l=r[9];s[16]!==s[3][3][16]&&(r[2]=!0),null===l?r[9]=[s]:l.push(s)}(y,s);const b=s[19];null!==b&&b.insertView(r),s[2]|=128}(d,u,y,g);const b=Ag(g,y),w=u[11],A=il(w,y[7]);return null!==A&&function(r,s,l,u,d,g){u[0]=d,u[6]=s,Yd(r,u,l,1,d,g)}(d,y[6],w,u,A,b),s.attachToViewContainerRef(),Ol(ob(y),g,s),s}move(s,l){return this.insert(s,l)}indexOf(s){const l=sD(this._lContainer);return null!==l?l.indexOf(s):-1}remove(s){const l=this._adjustIndex(s,-1),u=Ae(this._lContainer,l);u&&(ns(ob(this._lContainer),l),Ie(u[1],u))}detach(s){const l=this._adjustIndex(s,-1),u=Ae(this._lContainer,l);return u&&null!=ns(ob(this._lContainer),l)?new Ch(u):null}_adjustIndex(s,l=0){return null==s?this.length+l:s}};function sD(r){return r[8]}function ob(r){return r[8]||(r[8]=[])}function pl(r,s){let l;const u=s[r.index];if(dr(u))l=u;else{let d;if(8&r.type)d=Dn(u);else{const g=s[11];d=g.createComment("");const y=En(r,s);so(g,il(g,y),d,function(r,s){return Ut(r)?r.nextSibling(s):s.nextSibling}(g,y),!1)}s[r.index]=l=Jg(u,s,d,r),Uf(s,l)}return new oD(l,r,s)}class wp{constructor(s){this.queryList=s,this.matches=null}clone(){return new wp(this.queryList)}setDirty(){this.queryList.setDirty()}}class m_{constructor(s=[]){this.queries=s}createEmbeddedView(s){const l=s.queries;if(null!==l){const u=null!==s.contentQueries?s.contentQueries[0]:l.length,d=[];for(let g=0;g<u;g++){const y=l.getByIndex(g);d.push(this.queries[y.indexInDeclarationView].clone())}return new m_(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let l=0;l<this.queries.length;l++)null!==Tp(s,l).matches&&this.queries[l].setDirty()}}class sb{constructor(s,l,u=null){this.predicate=s,this.flags=l,this.read=u}}class ni{constructor(s=[]){this.queries=s}elementStart(s,l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,l)}elementEnd(s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(s)}embeddedTView(s){let l=null;for(let u=0;u<this.length;u++){const d=null!==l?l.length:0,g=this.getByIndex(u).embeddedTView(s,d);g&&(g.indexInDeclarationView=u,null!==l?l.push(g):l=[g])}return null!==l?new ni(l):null}template(s,l){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,l)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Br{constructor(s,l=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(s,l){this.isApplyingToNode(l)&&this.matchTNode(s,l)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,l){this.elementStart(s,l)}embeddedTView(s,l){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,l),new Br(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==l;)u=u.parent;return l===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,l){const u=this.metadata.predicate;if(Array.isArray(u))for(let d=0;d<u.length;d++){const g=u[d];this.matchTNodeWithReadOption(s,l,Dp(l,g)),this.matchTNodeWithReadOption(s,l,on(l,s,g,!1,!1))}else u===Cp?4&l.type&&this.matchTNodeWithReadOption(s,l,-1):this.matchTNodeWithReadOption(s,l,on(l,s,u,!1,!1))}matchTNodeWithReadOption(s,l,u){if(null!==u){const d=this.metadata.read;if(null!==d)if(d===Vu||d===p_||d===Cp&&4&l.type)this.addMatch(l.index,-2);else{const g=on(l,s,d,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,u)}}addMatch(s,l){null===this.matches?this.matches=[s,l]:this.matches.push(s,l)}}function Dp(r,s){const l=r.localNames;if(null!==l)for(let u=0;u<l.length;u+=2)if(l[u]===s)return l[u+1];return null}function aD(r,s,l,u){return-1===l?function(r,s){return 11&r.type?Bu(r,s):4&r.type?f_(r,s):null}(s,r):-2===l?function(r,s,l){return l===Vu?Bu(s,r):l===Cp?f_(s,r):l===p_?pl(s,r):void 0}(r,s,u):eo(r,r[1],l,s)}function ab(r,s,l,u){const d=s[19].queries[u];if(null===d.matches){const g=r.data,y=l.matches,b=[];for(let w=0;w<y.length;w+=2){const A=y[w];b.push(A<0?null:aD(s,g[A],y[w+1],l.metadata.read))}d.matches=b}return d.matches}function Ep(r,s,l,u){const d=r.queries.getByIndex(l),g=d.matches;if(null!==g){const y=ab(r,s,d,l);for(let b=0;b<g.length;b+=2){const w=g[b];if(w>0)u.push(y[b/2]);else{const A=g[b+1],N=s[-w];for(let P=10;P<N.length;P++){const j=N[P];j[17]===j[3]&&Ep(j[1],j,A,u)}if(null!==N[9]){const P=N[9];for(let j=0;j<P.length;j++){const q=P[j];Ep(q[1],q,A,u)}}}}}return u}function lb(r){const s=Ce(),l=vt(),u=ka();Bs(u+1);const d=Tp(l,u);if(r.dirty&&Tr(s)===(2==(2&d.metadata.flags))){if(null===d.matches)r.reset([]);else{const g=d.crossesNgTemplate?Ep(l,s,u,[]):ab(l,s,d,u);r.reset(g,iI),r.notifyOnChanges()}return!0}return!1}function cb(r,s,l){const u=vt();u.firstCreatePass&&(y_(u,new sb(r,s,l),-1),2==(2&s)&&(u.staticViewQueries=!0)),Eh(u,Ce(),s)}function ub(r,s,l,u){const d=vt();if(d.firstCreatePass){const g=nn();y_(d,new sb(s,l,u),g.index),function(r,s){const l=r.contentQueries||(r.contentQueries=[]);s!==(l.length?l[l.length-1]:-1)&&l.push(r.queries.length-1,s)}(d,r),2==(2&l)&&(d.staticContentQueries=!0)}Eh(d,Ce(),l)}function db(){return r=Ce(),s=ka(),r[19].queries[s].queryList;var r,s}function Eh(r,s,l){const u=new rb(4==(4&l));Hy(r,s,u,u.destroy),null===s[19]&&(s[19]=new m_),s[19].queries.push(new wp(u))}function y_(r,s,l){null===r.queries&&(r.queries=new ni),r.queries.track(new Br(s,l))}function Tp(r,s){return r.queries.getByIndex(s)}function Th(r,s){return f_(r,s)}function Rp(...r){}const I_=new Gt("Application Initializer");let pc=(()=>{class r{constructor(l){this.appInits=l,this.resolve=Rp,this.reject=Rp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,d)=>{this.resolve=u,this.reject=d})}runInitializers(){if(this.initialized)return;const l=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(Cm(g))l.push(g);else if(Bv(g)){const y=new Promise((b,w)=>{g.subscribe({complete:b,error:w})});l.push(y)}}Promise.all(l).then(()=>{u()}).catch(d=>{this.reject(d)}),0===l.length&&u(),this.initialized=!0}}return r.\u0275fac=function(l){return new(l||r)(Z(I_,8))},r.\u0275prov=zt({token:r,factory:r.\u0275fac}),r})();const A_=new Gt("AppId"),Ab={provide:A_,useFactory:function(){return`${xp()}${xp()}${xp()}`},deps:[]};function xp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const wD=new Gt("Platform Initializer"),Sb=new Gt("Platform ID"),DD=new Gt("appBootstrapListener");let kp=(()=>{class r{log(l){console.log(l)}warn(l){console.warn(l)}}return r.\u0275fac=function(l){return new(l||r)},r.\u0275prov=zt({token:r,factory:r.\u0275fac}),r})();const S_=new Gt("LocaleId"),Nb=new Gt("DefaultCurrencyCode");class N_{constructor(s,l){this.ngModuleFactory=s,this.componentFactories=l}}let kh=(()=>{class r{compileModuleSync(l){return new a_(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const u=this.compileModuleSync(l),g=br(Jn(l).declarations).reduce((y,b)=>{const w=Yt(b);return w&&y.push(new r_(w)),y},[]);return new N_(u,g)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return r.\u0275fac=function(l){return new(l||r)},r.\u0275prov=zt({token:r,factory:r.\u0275fac}),r})();const CI=(()=>Promise.resolve(0))();function M_(r){"undefined"==typeof Zone?CI.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class Vr{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hs(!1),this.onMicrotaskEmpty=new hs(!1),this.onStable=new hs(!1),this.onError=new hs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!u&&l,d.shouldCoalesceRunChangeDetection=u,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let r=lt.requestAnimationFrame,s=lt.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&s){const l=r[Zone.__symbol__("OriginalDelegate")];l&&(r=l);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(r){const s=()=>{!function(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(lt,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,xb(r),r.isCheckStableRunning=!0,Rb(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),xb(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,u,d,g,y,b)=>{try{return SD(r),l.invokeTask(d,g,y,b)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||r.shouldCoalesceRunChangeDetection)&&s(),ND(r)}},onInvoke:(l,u,d,g,y,b,w)=>{try{return SD(r),l.invoke(d,g,y,b,w)}finally{r.shouldCoalesceRunChangeDetection&&s(),ND(r)}},onHasTask:(l,u,d,g)=>{l.hasTask(d,g),u===d&&("microTask"==g.change?(r._hasPendingMicrotasks=g.microTask,xb(r),Rb(r)):"macroTask"==g.change&&(r.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,u,d,g)=>(l.handleError(d,g),r.runOutsideAngular(()=>r.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Vr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,l,u){return this._inner.run(s,l,u)}runTask(s,l,u,d){const g=this._inner,y=g.scheduleEventTask("NgZoneEvent: "+d,s,ID,Rp,Rp);try{return g.runTask(y,l,u)}finally{g.cancelTask(y)}}runGuarded(s,l,u){return this._inner.runGuarded(s,l,u)}runOutsideAngular(s){return this._outer.run(s)}}const ID={};function Rb(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function xb(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function SD(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function ND(r){r._nesting--,Rb(r)}class EI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new hs,this.onMicrotaskEmpty=new hs,this.onStable=new hs,this.onError=new hs}run(s,l,u){return s.apply(l,u)}runGuarded(s,l,u){return s.apply(l,u)}runOutsideAngular(s){return s()}runTask(s,l,u,d){return s.apply(l,u)}}let MD=(()=>{class r{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vr.assertNotInAngularZone(),M_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())M_(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(l)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,u,d){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==g),l(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:d})}whenStable(l,u,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,u,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,u,d){return[]}}return r.\u0275fac=function(l){return new(l||r)(Z(Vr))},r.\u0275prov=zt({token:r,factory:r.\u0275fac}),r})(),kb=(()=>{class r{constructor(){this._applications=new Map,Op.addToWindow(this)}registerApplication(l,u){this._applications.set(l,u)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,u=!0){return Op.findTestabilityInTree(this,l,u)}}return r.\u0275fac=function(l){return new(l||r)},r.\u0275prov=zt({token:r,factory:r.\u0275fac}),r})();class RD{addToWindow(s){}findTestabilityInTree(s,l,u){return null}}function Ob(r){Op=r}let po,Op=new RD;const R_=new Gt("AllowMultipleToken");class x_{constructor(s,l){this.name=s,this.token=l}}function k_(r,s,l=[]){const u=`Platform: ${s}`,d=new Gt(u);return(g=[])=>{let y=Bb();if(!y||y.injector.get(R_,!1))if(r)r(l.concat(g).concat({provide:d,useValue:!0}));else{const b=l.concat(g).concat({provide:d,useValue:!0},{provide:im,useValue:"platform"});!function(r){if(po&&!po.destroyed&&!po.injector.get(R_,!1))throw new ke("400","");po=r.get(Vb);const s=r.get(wD,null);s&&s.forEach(l=>l())}(co.create({providers:b,name:u}))}return function(r){const s=Bb();if(!s)throw new ke("401","");return s}()}}function Bb(){return po&&!po.destroyed?po:null}let Vb=(()=>{class r{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,u){const b=function(r,s){let l;return l="noop"===r?new EI:("zone.js"===r?void 0:r)||new Vr({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),l}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),w=[{provide:Vr,useValue:b}];return b.run(()=>{const A=co.create({providers:w,parent:this.injector,name:l.moduleType.name}),N=l.create(A),P=N.injector.get(Xl,null);if(!P)throw new ke("402","");return b.runOutsideAngular(()=>{const j=b.onError.subscribe({next:q=>{P.handleError(q)}});N.onDestroy(()=>{O_(this._modules,N),j.unsubscribe()})}),function(r,s,l){try{const u=l();return Cm(u)?u.catch(d=>{throw s.runOutsideAngular(()=>r.handleError(d)),d}):u}catch(u){throw s.runOutsideAngular(()=>r.handleError(u)),u}}(P,b,()=>{const j=N.injector.get(pc);return j.runInitializers(),j.donePromise.then(()=>(function(r){(function(r,s){null==r&&pt(s,r,null,"!=")})(r,"Expected localeId to be defined"),"string"==typeof r&&(v0=r.toLowerCase().replace(/_/g,"-"))}(N.injector.get(S_,Lm)||Lm),this._moduleDoBootstrap(N),N))})})}bootstrapModule(l,u=[]){const d=Ub({},u);return function(r,s,l){const u=new a_(l);return Promise.resolve(u)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(l){const u=l.injector.get(Oh);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(d=>u.bootstrap(d));else{if(!l.instance.ngDoBootstrap)throw new ke("403","");l.instance.ngDoBootstrap(u)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ke("404","");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(l){return new(l||r)(Z(co))},r.\u0275prov=zt({token:r,factory:r.\u0275fac}),r})();function Ub(r,s){return Array.isArray(s)?s.reduce(Ub,r):qe(qe({},r),s)}let Oh=(()=>{class r{constructor(l,u,d,g,y){this._zone=l,this._injector=u,this._exceptionHandler=d,this._componentFactoryResolver=g,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new O.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),w=new O.y(A=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{Vr.assertNotInAngularZone(),M_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{Vr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{N.unsubscribe(),P.unsubscribe()}});this.isStable=(0,ae.T)(b,w.pipe((0,ie.B)()))}bootstrap(l,u){if(!this._initStatus.done)throw new ke("405","");let d;d=l instanceof Xm?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(d.componentType);const g=function(r){return r.isBoundToModule}(d)?void 0:this._injector.get(wh),b=d.create(co.NULL,[],u||d.selector,g),w=b.location.nativeElement,A=b.injector.get(MD,null),N=A&&b.injector.get(kb);return A&&N&&N.registerApplication(w,A),b.onDestroy(()=>{this.detachView(b.hostView),O_(this.components,b),N&&N.unregisterApplication(w)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new ke("101","");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const u=l;this._views.push(u),u.attachToAppRef(this)}detachView(l){const u=l;O_(this._views,u),u.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(DD,[]).concat(this._bootstrapListeners).forEach(d=>d(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(l){return new(l||r)(Z(Vr),Z(co),Z(Xl),Z(vh),Z(pc))},r.\u0275prov=zt({token:r,factory:r.\u0275fac}),r})();function O_(r,s){const l=r.indexOf(s);l>-1&&r.splice(l,1)}let jb=!0,Gb=!1;function PD(){return Gb=!0,jb}function FD(){if(Gb)throw new Error("Cannot enable prod mode after platform setup.");jb=!1}let LD=(()=>{class r{}return r.__NG_ELEMENT_ID__=BD,r})();function BD(r){return function(r,s,l){if(Dr(r)&&!l){const u=Ft(r.index,s);return new Ch(u,u)}return 47&r.type?new Ch(s[16],s):null}(nn(),Ce(),16==(16&r))}class ju{constructor(){}supports(s){return sh(s)}create(s){return new Qb(s)}}const mc=(r,s)=>s;class Qb{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||mc}forEachItem(s){let l;for(l=this._itHead;null!==l;l=l._next)s(l)}forEachOperation(s){let l=this._itHead,u=this._removalsHead,d=0,g=null;for(;l||u;){const y=!u||l&&l.currentIndex<Lp(u,d,g)?l:u,b=Lp(y,d,g),w=y.currentIndex;if(y===u)d--,u=u._nextRemoved;else if(l=l._next,null==y.previousIndex)d++;else{g||(g=[]);const A=b-d,N=w-d;if(A!=N){for(let j=0;j<A;j++){const q=j<g.length?g[j]:g[j]=0,pe=q+j;N<=pe&&pe<A&&(g[j]=q+1)}g[y.previousIndex]=N-A}}b!==w&&s(y,b,w)}}forEachPreviousItem(s){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)s(l)}forEachAddedItem(s){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)s(l)}forEachMovedItem(s){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)s(l)}forEachRemovedItem(s){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)s(l)}forEachIdentityChange(s){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)s(l)}diff(s){if(null==s&&(s=[]),!sh(s))throw new Error(`Error trying to diff '${re(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,g,y,l=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let b=0;b<this.length;b++)g=s[b],y=this._trackByFn(b,g),null!==l&&Object.is(l.trackById,y)?(u&&(l=this._verifyReinsertion(l,g,y,b)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,y,b),u=!0),l=l._next}else d=0,function(r,s){if(Array.isArray(r))for(let l=0;l<r.length;l++)s(r[l]);else{const l=r[vu()]();let u;for(;!(u=l.next()).done;)s(u.value)}}(s,b=>{y=this._trackByFn(d,b),null!==l&&Object.is(l.trackById,y)?(u&&(l=this._verifyReinsertion(l,b,y,d)),Object.is(l.item,b)||this._addIdentityChange(l,b)):(l=this._mismatch(l,b,y,d),u=!0),l=l._next,d++}),this.length=d;return this._truncate(l),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,l,u,d){let g;return null===s?g=this._itTail:(g=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,l)||this._addIdentityChange(s,l),this._reinsertAfter(s,g,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,d))?(Object.is(s.item,l)||this._addIdentityChange(s,l),this._moveAfter(s,g,d)):s=this._addAfter(new Xb(l,u),g,d),s}_verifyReinsertion(s,l,u,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?s=this._reinsertAfter(g,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const l=s._next;this._addToRemovals(this._unlink(s)),s=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,l,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,g=s._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(s,l,u),this._addToMoves(s,u),s}_moveAfter(s,l,u){return this._unlink(s),this._insertAfter(s,l,u),this._addToMoves(s,u),s}_addAfter(s,l,u){return this._insertAfter(s,l,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,l,u){const d=null===l?this._itHead:l._next;return s._next=d,s._prev=l,null===d?this._itTail=s:d._prev=s,null===l?this._itHead=s:l._next=s,null===this._linkedRecords&&(this._linkedRecords=new Gu),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const l=s._prev,u=s._next;return null===l?this._itHead=u:l._next=u,null===u?this._itTail=l:u._prev=l,s}_addToMoves(s,l){return s.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Gu),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,l){return s.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Xb{constructor(s,l){this.item=s,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ti{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,l){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===l||l<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const l=s._prevDup,u=s._nextDup;return null===l?this._head=u:l._nextDup=u,null===u?this._tail=l:u._prevDup=l,null===this._head}}class Gu{constructor(){this.map=new Map}put(s){const l=s.trackById;let u=this.map.get(l);u||(u=new Ti,this.map.set(l,u)),u.add(s)}get(s,l){const d=this.map.get(s);return d?d.get(s,l):null}remove(s){const l=s.trackById;return this.map.get(l).remove(s)&&this.map.delete(l),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Lp(r,s,l){const u=r.previousIndex;if(null===u)return u;let d=0;return l&&u<l.length&&(d=l[u]),u+s+d}class Uo{constructor(){}supports(s){return s instanceof Map||dm(s)}create(){return new ar}}class ar{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let l;for(l=this._mapHead;null!==l;l=l._next)s(l)}forEachPreviousItem(s){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)s(l)}forEachChangedItem(s){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)s(l)}forEachAddedItem(s){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)s(l)}forEachRemovedItem(s){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)s(l)}diff(s){if(s){if(!(s instanceof Map||dm(s)))throw new Error(`Error trying to diff '${re(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,d)=>{if(l&&l.key===d)this._maybeAddToChanges(l,u),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(d,u);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let u=l;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,l){if(s){const u=s._prev;return l._next=s,l._prev=u,s._prev=l,u&&(u._next=l),s===this._mapHead&&(this._mapHead=l),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(s,l){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,l);const g=d._prev,y=d._next;return g&&(g._next=y),y&&(y._prev=g),d._next=null,d._prev=null,d}const u=new WD(s);return this._records.set(s,u),u.currentValue=l,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,l){Object.is(l,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=l,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,l){s instanceof Map?s.forEach(l):Object.keys(s).forEach(u=>l(s[u],u))}}class WD{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Lh(){return new Bp([new ju])}let Bp=(()=>{class r{constructor(l){this.factories=l}static create(l,u){if(null!=u){const d=u.factories.slice();l=l.concat(d)}return new r(l)}static extend(l){return{provide:r,useFactory:u=>r.create(l,u||Lh()),deps:[[r,new Mi,new ei]]}}find(l){const u=this.factories.find(d=>d.supports(l));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${l}' of type '${function(r){return r.name||typeof r}(l)}'`)}}return r.\u0275prov=zt({token:r,providedIn:"root",factory:Lh}),r})();function $o(){return new fs([new Uo])}let fs=(()=>{class r{constructor(l){this.factories=l}static create(l,u){if(u){const d=u.factories.slice();l=l.concat(d)}return new r(l)}static extend(l){return{provide:r,useFactory:u=>r.create(l,u||$o()),deps:[[r,new Mi,new ei]]}}find(l){const u=this.factories.find(d=>d.supports(l));if(u)return u;throw new Error(`Cannot find a differ supporting object '${l}'`)}}return r.\u0275prov=zt({token:r,providedIn:"root",factory:$o}),r})();const ZD=[new Uo],L_=new Bp([new ju]),e1=new fs(ZD),t1=k_(null,"core",[{provide:Sb,useValue:"unknown"},{provide:Vb,deps:[co]},{provide:kb,deps:[]},{provide:kp,deps:[]}]),n1=[{provide:Oh,useClass:Oh,deps:[Vr,co,Xl,vh,pc]},{provide:Zw,deps:[Vr],useFactory:function(r){let s=[];return r.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(l){s.push(l)}}},{provide:pc,useClass:pc,deps:[[new ei,I_]]},{provide:kh,useClass:kh,deps:[]},Ab,{provide:Bp,useFactory:function(){return L_},deps:[]},{provide:fs,useFactory:function(){return e1},deps:[]},{provide:S_,useFactory:function(r){return r||"undefined"!=typeof $localize&&$localize.locale||Lm},deps:[[new sn(S_),new ei,new Mi]]},{provide:Nb,useValue:"USD"}];let Vp=(()=>{class r{constructor(l){}}return r.\u0275fac=function(l){return new(l||r)(Z(Oh))},r.\u0275mod=vs({type:r}),r.\u0275inj=gn({providers:n1}),r})()},6293:(Ve,he,k)=>{"use strict";k.d(he,{Z:()=>ke});var o=k(4213),K=k(1177),O=k(1572),ae=k(3855);class ie{constructor(oe,Y){this._delegate=oe,this.firebase=Y,(0,O._addComponent)(oe,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=oe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(oe){this._delegate.automaticDataCollectionEnabled=oe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(oe=>{this._delegate.checkDestroyed(),oe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(oe,Y=O._DEFAULT_ENTRY_NAME){var se;this._delegate.checkDestroyed();const ve=this._delegate.container.getProvider(oe);return!ve.isInitialized()&&"EXPLICIT"===(null===(se=ve.getComponent())||void 0===se?void 0:se.instantiationMode)&&ve.initialize(),ve.getImmediate({identifier:Y})}_removeServiceInstance(oe,Y=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(oe).clearInstance(Y)}_addComponent(oe){(0,O._addComponent)(this._delegate,oe)}_addOrOverwriteComponent(oe){(0,O._addOrOverwriteComponent)(this._delegate,oe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ee=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function le(){const Re=function(Re){const oe={},Y={__esModule:!0,initializeApp:function(Ue,Xe={}){const te=O.initializeApp(Ue,Xe);if((0,o.r3)(oe,te.name))return oe[te.name];const ce=new Re(te,Y);return oe[te.name]=ce,ce},app:ve,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function(Ue){const Xe=Ue.name,te=Xe.replace("-compat","");if(O._registerComponent(Ue)&&"PUBLIC"===Ue.type){const ce=(fe=ve())=>{if("function"!=typeof fe[te])throw ee.create("invalid-app-argument",{appName:Xe});return fe[te]()};void 0!==Ue.serviceProps&&(0,o.ZB)(ce,Ue.serviceProps),Y[te]=ce,Re.prototype[te]=function(...fe){return this._getService.bind(this,Xe).apply(this,Ue.multipleInstances?fe:[])}}return"PUBLIC"===Ue.type?Y[te]:null},removeApp:function(Ue){delete oe[Ue]},useAsService:function(Ue,Xe){return"serverAuth"===Xe?null:Xe},modularAPIs:O}};function ve(Ue){if(!(0,o.r3)(oe,Ue=Ue||O._DEFAULT_ENTRY_NAME))throw ee.create("no-app",{appName:Ue});return oe[Ue]}return Y.default=Y,Object.defineProperty(Y,"apps",{get:function(){return Object.keys(oe).map(Ue=>oe[Ue])}}),ve.App=Re,Y}(ie);return Re.INTERNAL=Object.assign(Object.assign({},Re.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function(Y){(0,o.ZB)(Re,Y)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),Re}(),U=new ae.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Re=self.firebase.SDK_VERSION;Re&&Re.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ke=$;(0,O.registerVersion)("@firebase/app-compat","0.1.12",undefined)},1572:(Ve,he,k)=>{"use strict";k.r(he),k.d(he,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Wo,_DEFAULT_ENTRY_NAME:()=>wn,_addComponent:()=>Zt,_addOrOverwriteComponent:()=>ii,_apps:()=>st,_clearComponents:()=>gn,_components:()=>pt,_getProvider:()=>zt,_registerComponent:()=>hi,_removeServiceInstance:()=>Go,deleteApp:()=>Vn,getApp:()=>cr,getApps:()=>Ee,initializeApp:()=>Gi,onLog:()=>Mt,registerVersion:()=>tt,setLogLevel:()=>Wi});var o=k(8239),K=k(1177),O=k(3855),ae=k(4213);class ie{constructor(nt){this.container=nt}getPlatformInfoString(){return this.container.getProviders().map(mt=>{if(function(Ke){const nt=Ke.getComponent();return"VERSION"===(null==nt?void 0:nt.type)}(mt)){const _t=mt.getImmediate();return`${_t.library}/${_t.version}`}return null}).filter(mt=>mt).join(" ")}}const ee="@firebase/app",le=new O.Yd("@firebase/app"),wn="[DEFAULT]",ct={[ee]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},st=new Map,pt=new Map;function Zt(Ke,nt){try{Ke.container.addComponent(nt)}catch(mt){le.debug(`Component ${nt.name} failed to register with FirebaseApp ${Ke.name}`,mt)}}function ii(Ke,nt){Ke.container.addOrOverwriteComponent(nt)}function hi(Ke){const nt=Ke.name;if(pt.has(nt))return le.debug(`There were multiple attempts to register component ${nt}.`),!1;pt.set(nt,Ke);for(const mt of st.values())Zt(mt,Ke);return!0}function zt(Ke,nt){return Ke.container.getProvider(nt)}function Go(Ke,nt,mt=wn){zt(Ke,nt).clearInstance(mt)}function gn(){pt.clear()}const Tt=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class hn{constructor(nt,mt,_t){this._isDeleted=!1,this._options=Object.assign({},nt),this._config=Object.assign({},mt),this._name=mt.name,this._automaticDataCollectionEnabled=mt.automaticDataCollectionEnabled,this._container=_t,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nt){this.checkDestroyed(),this._automaticDataCollectionEnabled=nt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(nt){this._isDeleted=nt}checkDestroyed(){if(this.isDeleted)throw Tt.create("app-deleted",{appName:this._name})}}const Wo="9.6.1";function Gi(Ke,nt={}){"object"!=typeof nt&&(nt={name:nt});const mt=Object.assign({name:wn,automaticDataCollectionEnabled:!1},nt),_t=mt.name;if("string"!=typeof _t||!_t)throw Tt.create("bad-app-name",{appName:String(_t)});const pi=st.get(_t);if(pi){if((0,ae.vZ)(Ke,pi.options)&&(0,ae.vZ)(mt,pi.config))return pi;throw Tt.create("duplicate-app",{appName:_t})}const kt=new K.H0(_t);for(const Qe of pt.values())kt.addComponent(Qe);const He=new hn(Ke,mt,kt);return st.set(_t,He),He}function cr(Ke=wn){const nt=st.get(Ke);if(!nt)throw Tt.create("no-app",{appName:Ke});return nt}function Ee(){return Array.from(st.values())}function Vn(Ke){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,o.Z)(function*(Ke){const nt=Ke.name;st.has(nt)&&(st.delete(nt),yield Promise.all(Ke.container.getProviders().map(mt=>mt.delete())),Ke.isDeleted=!0)})).apply(this,arguments)}function tt(Ke,nt,mt){var _t;let pi=null!==(_t=ct[Ke])&&void 0!==_t?_t:Ke;mt&&(pi+=`-${mt}`);const kt=pi.match(/\s|\//),He=nt.match(/\s|\//);if(kt||He){const Qe=[`Unable to register library "${pi}" with version "${nt}":`];return kt&&Qe.push(`library name "${pi}" contains illegal characters (whitespace or "/")`),kt&&He&&Qe.push("and"),He&&Qe.push(`version name "${nt}" contains illegal characters (whitespace or "/")`),void le.warn(Qe.join(" "))}hi(new K.wA(`${pi}-version`,()=>({library:pi,version:nt}),"VERSION"))}function Mt(Ke,nt){if(null!==Ke&&"function"!=typeof Ke)throw Tt.create("invalid-log-argument");(0,O.Am)(Ke,nt)}function Wi(Ke){(0,O.Ub)(Ke)}hi(new K.wA("platform-logger",nt=>new ie(nt),"PRIVATE")),tt(ee,"0.7.11",""),tt(ee,"0.7.11","esm2017"),tt("fire-js","")},1177:(Ve,he,k)=>{"use strict";k.d(he,{wA:()=>O,H0:()=>re,zt:()=>ie});var o=k(8239),K=k(4213);class O{constructor($,U,Q){this.name=$,this.instanceFactory=U,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const ae="[DEFAULT]";class ie{constructor($,U){this.name=$,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const U=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(U)){const Q=new K.BH;if(this.instancesDeferred.set(U,Q),this.isInitialized(U)||this.shouldAutoInitialize())try{const xe=this.getOrInitializeService({instanceIdentifier:U});xe&&Q.resolve(xe)}catch(xe){}}return this.instancesDeferred.get(U).promise}getImmediate($){var U;const Q=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),xe=null!==(U=null==$?void 0:$.optional)&&void 0!==U&&U;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(be){if(xe)return null;throw be}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if("EAGER"===$.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ae})}catch(U){}for(const[U,Q]of this.instancesDeferred.entries()){const xe=this.normalizeInstanceIdentifier(U);try{const be=this.getOrInitializeService({instanceIdentifier:xe});Q.resolve(be)}catch(be){}}}}clearInstance($=ae){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,o.Z)(function*(){const U=Array.from($.instances.values());yield Promise.all([...U.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...U.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=ae){return this.instances.has($)}getOptions($=ae){return this.instancesOptions.get($)||{}}initialize($={}){const{options:U={}}=$,Q=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const xe=this.getOrInitializeService({instanceIdentifier:Q,options:U});for(const[be,ke]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(be)&&ke.resolve(xe);return xe}onInit($,U){var Q;const xe=this.normalizeInstanceIdentifier(U),be=null!==(Q=this.onInitCallbacks.get(xe))&&void 0!==Q?Q:new Set;be.add($),this.onInitCallbacks.set(xe,be);const ke=this.instances.get(xe);return ke&&$(ke,xe),()=>{be.delete($)}}invokeOnInitCallbacks($,U){const Q=this.onInitCallbacks.get(U);if(Q)for(const xe of Q)try{xe($,U)}catch(be){}}getOrInitializeService({instanceIdentifier:$,options:U={}}){let Q=this.instances.get($);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(le=$,le===ae?void 0:le),options:U}),this.instances.set($,Q),this.instancesOptions.set($,U),this.invokeOnInitCallbacks(Q,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,Q)}catch(xe){}var le;return Q||null}normalizeInstanceIdentifier($=ae){return this.component?this.component.multipleInstances?$:ae:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class re{constructor($){this.name=$,this.providers=new Map}addComponent($){const U=this.getProvider($.name);if(U.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);U.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const U=new ie($,this);return this.providers.set($,U),U}getProviders(){return Array.from(this.providers.values())}}},3855:(Ve,he,k)=>{"use strict";k.d(he,{in:()=>K,Yd:()=>ee,Ub:()=>re,Am:()=>le});const o=[];var K=(()=>{return($=K||(K={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",K;var $})();const O={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},ae=K.INFO,ie={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},de=($,U,...Q)=>{if(U<$.logLevel)return;const xe=(new Date).toISOString(),be=ie[U];if(!be)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);console[be](`[${xe}]  ${$.name}:`,...Q)};class ee{constructor(U){this.name=U,this._logLevel=ae,this._logHandler=de,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in K))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"==typeof U?O[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(...U){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...U),this._logHandler(this,K.DEBUG,...U)}log(...U){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...U),this._logHandler(this,K.VERBOSE,...U)}info(...U){this._userLogHandler&&this._userLogHandler(this,K.INFO,...U),this._logHandler(this,K.INFO,...U)}warn(...U){this._userLogHandler&&this._userLogHandler(this,K.WARN,...U),this._logHandler(this,K.WARN,...U)}error(...U){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...U),this._logHandler(this,K.ERROR,...U)}}function re($){o.forEach(U=>{U.setLogLevel($)})}function le($,U){for(const Q of o){let xe=null;U&&U.level&&(xe=O[U.level]),Q.userLogHandler=null===$?null:(be,ke,...Re)=>{const oe=Re.map(Y=>{if(null==Y)return null;if("string"==typeof Y)return Y;if("number"==typeof Y||"boolean"==typeof Y)return Y.toString();if(Y instanceof Error)return Y.message;try{return JSON.stringify(Y)}catch(se){return null}}).filter(Y=>Y).join(" ");ke>=(null!=xe?xe:be.logLevel)&&$({level:K[ke].toLowerCase(),message:oe,args:Re,type:be.name})}}}},8239:(Ve,he,k)=>{"use strict";function o(O,ae,ie,de,ee,re,le){try{var $=O[re](le),U=$.value}catch(Q){return void ie(Q)}$.done?ae(U):Promise.resolve(U).then(de,ee)}function K(O){return function(){var ae=this,ie=arguments;return new Promise(function(de,ee){var re=O.apply(ae,ie);function le(U){o(re,de,ee,le,$,"next",U)}function $(U){o(re,de,ee,le,$,"throw",U)}le(void 0)})}}k.d(he,{Z:()=>K})}},Ve=>{Ve(Ve.s=6265)}]);